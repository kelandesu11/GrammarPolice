var wce=Object.defineProperty,Ece=Object.defineProperties,Cce=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertySymbols,Sce=Object.prototype.hasOwnProperty,Dce=Object.prototype.propertyIsEnumerable,WU=(Be,P,B)=>P in Be?wce(Be,P,{enumerable:!0,configurable:!0,writable:!0,value:B}):Be[P]=B,KU=(Be,P)=>{for(var B in P||(P={}))Sce.call(P,B)&&WU(Be,B,P[B]);if(GU)for(var B of GU(P))Dce.call(P,B)&&WU(Be,B,P[B]);return Be},QU=(Be,P)=>Ece(Be,Cce(P));(self.webpackChunkgrammark=self.webpackChunkgrammark||[]).push([[179],{255:Be=>{function P(B){return Promise.resolve().then(()=>{var de=new Error("Cannot find module '"+B+"'");throw de.code="MODULE_NOT_FOUND",de})}P.keys=()=>[],P.resolve=P,P.id=255,Be.exports=P},329:function(Be,P,B){"use strict";var se,de=this&&this.__extends||(se=function(le,J){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,$){V.__proto__=$}||function(V,$){for(var re in $)$.hasOwnProperty(re)&&(V[re]=$[re])})(le,J)},function(le,J){function V(){this.constructor=le}se(le,J),le.prototype=null===J?Object.create(J):(V.prototype=J.prototype,new V)});Object.defineProperty(P,"__esModule",{value:!0});var Ue=B(409),qe=B(639),me=function(se){function le(J){var V=se.call(this)||this;return V._value=J,V}return de(le,se),Object.defineProperty(le.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),le.prototype._subscribe=function(J){var V=se.prototype._subscribe.call(this,J);return V&&!V.closed&&J.next(this._value),V},le.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qe.ObjectUnsubscribedError;return this._value},le.prototype.next=function(J){se.prototype.next.call(this,this._value=J)},le}(Ue.Subject);P.BehaviorSubject=me},576:(Be,P,B)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var de=B(730),Ue=B(104),qe=B(232),me=B(915),se=B(273),le=function(){function V($){this._isScalar=!1,$&&(this._subscribe=$)}return V.prototype.lift=function($){var re=new V;return re.source=this,re.operator=$,re},V.prototype.subscribe=function($,re,L){var O=this.operator,I=Ue.toSubscriber($,re,L);if(I.add(O?O.call(I,this.source):this.source||se.config.useDeprecatedSynchronousErrorHandling&&!I.syncErrorThrowable?this._subscribe(I):this._trySubscribe(I)),se.config.useDeprecatedSynchronousErrorHandling&&I.syncErrorThrowable&&(I.syncErrorThrowable=!1,I.syncErrorThrown))throw I.syncErrorValue;return I},V.prototype._trySubscribe=function($){try{return this._subscribe($)}catch(re){se.config.useDeprecatedSynchronousErrorHandling&&($.syncErrorThrown=!0,$.syncErrorValue=re),de.canReportError($)?$.error(re):console.warn(re)}},V.prototype.forEach=function($,re){var L=this;return new(re=J(re))(function(O,I){var K;K=L.subscribe(function(q){try{$(q)}catch(Je){I(Je),K&&K.unsubscribe()}},I,O)})},V.prototype._subscribe=function($){var re=this.source;return re&&re.subscribe($)},V.prototype[qe.observable]=function(){return this},V.prototype.pipe=function(){for(var $=[],re=0;re<arguments.length;re++)$[re]=arguments[re];return 0===$.length?this:me.pipeFromArray($)(this)},V.prototype.toPromise=function($){var re=this;return new($=J($))(function(L,O){var I;re.subscribe(function(K){return I=K},function(K){return O(K)},function(){return L(I)})})},V.create=function($){return new V($)},V}();function J(V){if(V||(V=se.config.Promise||Promise),!V)throw new Error("no Promise impl found");return V}P.Observable=le},11:(Be,P,B)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var de=B(273),Ue=B(434);P.empty={closed:!0,next:function(qe){},error:function(qe){if(de.config.useDeprecatedSynchronousErrorHandling)throw qe;Ue.hostReportError(qe)},complete:function(){}}},409:function(Be,P,B){"use strict";var L,de=this&&this.__extends||(L=function(O,I){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,q){K.__proto__=q}||function(K,q){for(var Je in q)q.hasOwnProperty(Je)&&(K[Je]=q[Je])})(O,I)},function(O,I){function K(){this.constructor=O}L(O,I),O.prototype=null===I?Object.create(I):(K.prototype=I.prototype,new K)});Object.defineProperty(P,"__esModule",{value:!0});var Ue=B(576),qe=B(241),me=B(984),se=B(639),le=B(298),J=B(476),V=function(L){function O(I){var K=L.call(this,I)||this;return K.destination=I,K}return de(O,L),O}(qe.Subscriber);P.SubjectSubscriber=V;var $=function(L){function O(){var I=L.call(this)||this;return I.observers=[],I.closed=!1,I.isStopped=!1,I.hasError=!1,I.thrownError=null,I}return de(O,L),O.prototype[J.rxSubscriber]=function(){return new V(this)},O.prototype.lift=function(I){var K=new re(this,this);return K.operator=I,K},O.prototype.next=function(I){if(this.closed)throw new se.ObjectUnsubscribedError;if(!this.isStopped)for(var K=this.observers,q=K.length,Je=K.slice(),_n=0;_n<q;_n++)Je[_n].next(I)},O.prototype.error=function(I){if(this.closed)throw new se.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=I,this.isStopped=!0;for(var K=this.observers,q=K.length,Je=K.slice(),_n=0;_n<q;_n++)Je[_n].error(I);this.observers.length=0},O.prototype.complete=function(){if(this.closed)throw new se.ObjectUnsubscribedError;this.isStopped=!0;for(var I=this.observers,K=I.length,q=I.slice(),Je=0;Je<K;Je++)q[Je].complete();this.observers.length=0},O.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},O.prototype._trySubscribe=function(I){if(this.closed)throw new se.ObjectUnsubscribedError;return L.prototype._trySubscribe.call(this,I)},O.prototype._subscribe=function(I){if(this.closed)throw new se.ObjectUnsubscribedError;return this.hasError?(I.error(this.thrownError),me.Subscription.EMPTY):this.isStopped?(I.complete(),me.Subscription.EMPTY):(this.observers.push(I),new le.SubjectSubscription(this,I))},O.prototype.asObservable=function(){var I=new Ue.Observable;return I.source=this,I},O.create=function(I,K){return new re(I,K)},O}(Ue.Observable);P.Subject=$;var re=function(L){function O(I,K){var q=L.call(this)||this;return q.destination=I,q.source=K,q}return de(O,L),O.prototype.next=function(I){var K=this.destination;K&&K.next&&K.next(I)},O.prototype.error=function(I){var K=this.destination;K&&K.error&&this.destination.error(I)},O.prototype.complete=function(){var I=this.destination;I&&I.complete&&this.destination.complete()},O.prototype._subscribe=function(I){return this.source?this.source.subscribe(I):me.Subscription.EMPTY},O}($);P.AnonymousSubject=re},298:function(Be,P,B){"use strict";var me,de=this&&this.__extends||(me=function(se,le){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,V){J.__proto__=V}||function(J,V){for(var $ in V)V.hasOwnProperty($)&&(J[$]=V[$])})(se,le)},function(se,le){function J(){this.constructor=se}me(se,le),se.prototype=null===le?Object.create(le):(J.prototype=le.prototype,new J)});Object.defineProperty(P,"__esModule",{value:!0});var qe=function(me){function se(le,J){var V=me.call(this)||this;return V.subject=le,V.subscriber=J,V.closed=!1,V}return de(se,me),se.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var le=this.subject,J=le.observers;if(this.subject=null,J&&0!==J.length&&!le.isStopped&&!le.closed){var V=J.indexOf(this.subscriber);-1!==V&&J.splice(V,1)}}},se}(B(984).Subscription);P.SubjectSubscription=qe},241:function(Be,P,B){"use strict";var re,de=this&&this.__extends||(re=function(L,O){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,K){I.__proto__=K}||function(I,K){for(var q in K)K.hasOwnProperty(q)&&(I[q]=K[q])})(L,O)},function(L,O){function I(){this.constructor=L}re(L,O),L.prototype=null===O?Object.create(O):(I.prototype=O.prototype,new I)});Object.defineProperty(P,"__esModule",{value:!0});var Ue=B(382),qe=B(11),me=B(984),se=B(476),le=B(273),J=B(434),V=function(re){function L(O,I,K){var q=re.call(this)||this;switch(q.syncErrorValue=null,q.syncErrorThrown=!1,q.syncErrorThrowable=!1,q.isStopped=!1,arguments.length){case 0:q.destination=qe.empty;break;case 1:if(!O){q.destination=qe.empty;break}if("object"==typeof O){O instanceof L?(q.syncErrorThrowable=O.syncErrorThrowable,q.destination=O,O.add(q)):(q.syncErrorThrowable=!0,q.destination=new $(q,O));break}default:q.syncErrorThrowable=!0,q.destination=new $(q,O,I,K)}return q}return de(L,re),L.prototype[se.rxSubscriber]=function(){return this},L.create=function(O,I,K){var q=new L(O,I,K);return q.syncErrorThrowable=!1,q},L.prototype.next=function(O){this.isStopped||this._next(O)},L.prototype.error=function(O){this.isStopped||(this.isStopped=!0,this._error(O))},L.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},L.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,re.prototype.unsubscribe.call(this))},L.prototype._next=function(O){this.destination.next(O)},L.prototype._error=function(O){this.destination.error(O),this.unsubscribe()},L.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},L.prototype._unsubscribeAndRecycle=function(){var O=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=O,this},L}(me.Subscription);P.Subscriber=V;var $=function(re){function L(O,I,K,q){var Je=re.call(this)||this;Je._parentSubscriber=O;var _n,Pr=Je;return Ue.isFunction(I)?_n=I:I&&(_n=I.next,K=I.error,q=I.complete,I!==qe.empty&&(Pr=Object.create(I),Ue.isFunction(Pr.unsubscribe)&&Je.add(Pr.unsubscribe.bind(Pr)),Pr.unsubscribe=Je.unsubscribe.bind(Je))),Je._context=Pr,Je._next=_n,Je._error=K,Je._complete=q,Je}return de(L,re),L.prototype.next=function(O){if(!this.isStopped&&this._next){var I=this._parentSubscriber;le.config.useDeprecatedSynchronousErrorHandling&&I.syncErrorThrowable?this.__tryOrSetError(I,this._next,O)&&this.unsubscribe():this.__tryOrUnsub(this._next,O)}},L.prototype.error=function(O){if(!this.isStopped){var I=this._parentSubscriber,K=le.config.useDeprecatedSynchronousErrorHandling;if(this._error)K&&I.syncErrorThrowable?(this.__tryOrSetError(I,this._error,O),this.unsubscribe()):(this.__tryOrUnsub(this._error,O),this.unsubscribe());else if(I.syncErrorThrowable)K?(I.syncErrorValue=O,I.syncErrorThrown=!0):J.hostReportError(O),this.unsubscribe();else{if(this.unsubscribe(),K)throw O;J.hostReportError(O)}}},L.prototype.complete=function(){var O=this;if(!this.isStopped){var I=this._parentSubscriber;if(this._complete){var K=function(){return O._complete.call(O._context)};le.config.useDeprecatedSynchronousErrorHandling&&I.syncErrorThrowable?(this.__tryOrSetError(I,K),this.unsubscribe()):(this.__tryOrUnsub(K),this.unsubscribe())}else this.unsubscribe()}},L.prototype.__tryOrUnsub=function(O,I){try{O.call(this._context,I)}catch(K){if(this.unsubscribe(),le.config.useDeprecatedSynchronousErrorHandling)throw K;J.hostReportError(K)}},L.prototype.__tryOrSetError=function(O,I,K){if(!le.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{I.call(this._context,K)}catch(q){return le.config.useDeprecatedSynchronousErrorHandling?(O.syncErrorValue=q,O.syncErrorThrown=!0,!0):(J.hostReportError(q),!0)}return!1},L.prototype._unsubscribe=function(){var O=this._parentSubscriber;this._context=null,this._parentSubscriber=null,O.unsubscribe()},L}(V);P.SafeSubscriber=$},984:(Be,P,B)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var de=B(993),Ue=B(720),qe=B(382),me=B(574),se=function(){function J(V){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,V&&(this._unsubscribe=V)}return J.prototype.unsubscribe=function(){var V;if(!this.closed){var $=this,re=$._parentOrParents,L=$._unsubscribe,O=$._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,re instanceof J)re.remove(this);else if(null!==re)for(var I=0;I<re.length;++I)re[I].remove(this);if(qe.isFunction(L))try{L.call(this)}catch(_n){V=_n instanceof me.UnsubscriptionError?le(_n.errors):[_n]}if(de.isArray(O)){I=-1;for(var q=O.length;++I<q;){var Je=O[I];if(Ue.isObject(Je))try{Je.unsubscribe()}catch(Pr){V=V||[],Pr instanceof me.UnsubscriptionError?V=V.concat(le(Pr.errors)):V.push(Pr)}}}if(V)throw new me.UnsubscriptionError(V)}},J.prototype.add=function(V){var $=V;if(!V)return J.EMPTY;switch(typeof V){case"function":$=new J(V);case"object":if($===this||$.closed||"function"!=typeof $.unsubscribe)return $;if(this.closed)return $.unsubscribe(),$;if(!($ instanceof J)){var re=$;($=new J)._subscriptions=[re]}break;default:throw new Error("unrecognized teardown "+V+" added to Subscription.")}var L=$._parentOrParents;if(null===L)$._parentOrParents=this;else if(L instanceof J){if(L===this)return $;$._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return $;L.push(this)}var O=this._subscriptions;return null===O?this._subscriptions=[$]:O.push($),$},J.prototype.remove=function(V){var $=this._subscriptions;if($){var re=$.indexOf(V);-1!==re&&$.splice(re,1)}},J.EMPTY=((V=new J).closed=!0,V),J;var V}();function le(J){return J.reduce(function(V,$){return V.concat($ instanceof me.UnsubscriptionError?$.errors:$)},[])}P.Subscription=se},273:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var B=!1;P.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(de){if(de){var Ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ue.stack)}else B&&console.log("RxJS: Back to a better error behavior. Thank you. <3");B=de},get useDeprecatedSynchronousErrorHandling(){return B}}},232:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},476:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),P.$$rxSubscriber=P.rxSubscriber},639:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var B=function(){function de(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return de.prototype=Object.create(Error.prototype),de}();P.ObjectUnsubscribedError=B},574:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var B=function(){function de(Ue){return Error.call(this),this.message=Ue?Ue.length+" errors occurred during unsubscription:\n"+Ue.map(function(qe,me){return me+1+") "+qe.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=Ue,this}return de.prototype=Object.create(Error.prototype),de}();P.UnsubscriptionError=B},730:(Be,P,B)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var de=B(241);P.canReportError=function(qe){for(;qe;){var le=qe.destination;if(qe.closed||qe.isStopped)return!1;qe=le&&le instanceof de.Subscriber?le:null}return!0}},434:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.hostReportError=function(de){setTimeout(function(){throw de},0)}},516:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.identity=function(de){return de}},993:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.isArray=Array.isArray||function(B){return B&&"number"==typeof B.length}},382:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.isFunction=function(de){return"function"==typeof de}},720:(Be,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.isObject=function(de){return null!==de&&"object"==typeof de}},915:(Be,P,B)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var de=B(516);function qe(me){return 0===me.length?de.identity:1===me.length?me[0]:function(le){return me.reduce(function(J,V){return V(J)},le)}}P.pipe=function(){for(var me=[],se=0;se<arguments.length;se++)me[se]=arguments[se];return qe(me)},P.pipeFromArray=qe},104:(Be,P,B)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var de=B(241),Ue=B(476),qe=B(11);P.toSubscriber=function(se,le,J){if(se){if(se instanceof de.Subscriber)return se;if(se[Ue.rxSubscriber])return se[Ue.rxSubscriber]()}return se||le||J?new de.Subscriber(se,le,J):new de.Subscriber(qe.empty)}},271:(Be,P,B)=>{"use strict";var de={};function Ue(n){return"function"==typeof n}B.r(de),B.d(de,{FirebaseError:()=>ho,SDK_VERSION:()=>jg,_DEFAULT_ENTRY_NAME:()=>go,_addComponent:()=>Ug,_addOrOverwriteComponent:()=>DO,_apps:()=>mo,_clearComponents:()=>WJ,_components:()=>$d,_getProvider:()=>_E,_registerComponent:()=>ya,_removeServiceInstance:()=>GJ,deleteApp:()=>AO,getApp:()=>TO,getApps:()=>YJ,initializeApp:()=>$g,onLog:()=>xO,registerVersion:()=>_i,setLogLevel:()=>IO});let qe=!1;const me={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else qe&&console.log("RxJS: Back to a better error behavior. Thank you. <3");qe=n},get useDeprecatedSynchronousErrorHandling(){return qe}};function se(n){setTimeout(()=>{throw n},0)}const le={closed:!0,next(n){},error(n){if(me.useDeprecatedSynchronousErrorHandling)throw n;se(n)},complete(){}},J=Array.isArray||(n=>n&&"number"==typeof n.length);function V(n){return null!==n&&"object"==typeof n}const re=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class L{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_unsubscribe:r,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof L)t.remove(this);else if(null!==t)for(let s=0;s<t.length;++s)t[s].remove(this);if(Ue(r))try{r.call(this)}catch(s){e=s instanceof re?O(s.errors):[s]}if(J(i)){let s=-1,o=i.length;for(;++s<o;){const a=i[s];if(V(a))try{a.unsubscribe()}catch(l){e=e||[],l instanceof re?e=e.concat(O(l.errors)):e.push(l)}}}if(e)throw new re(e)}add(e){let t=e;if(!e)return L.EMPTY;switch(typeof e){case"function":t=new L(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof L)){const s=t;t=new L,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof L){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function O(n){return n.reduce((e,t)=>e.concat(t instanceof re?t.errors:t),[])}L.EMPTY=((n=new L).closed=!0,n);const I="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class q extends L{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=le;break;case 1:if(!e){this.destination=le;break}if("object"==typeof e){e instanceof q?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Je(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Je(this,e,t,r)}}[I](){return this}static create(e,t,r){const i=new q(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Je extends q{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,o=this;Ue(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==le&&(o=Object.create(t),Ue(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;me.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=me;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):se(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;se(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);me.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),me.useDeprecatedSynchronousErrorHandling)throw r;se(r)}}__tryOrSetError(e,t,r){if(!me.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return me.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(se(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const mu="function"==typeof Symbol&&Symbol.observable||"@@observable";function hf(n){return n}let wt=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof q)return n;if(n[I])return n[I]()}return n||e||t?new q(n,e,t):new q(le)}(t,r,i);if(o.add(s?s.call(o,this.source):this.source||me.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),me.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){me.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof q?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=RD(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[mu](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?hf:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=RD(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function RD(n){if(n||(n=me.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const fl=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class YU extends L{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class PD extends q{constructor(e){super(e),this.destination=e}}let gr=(()=>{class n extends wt{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[I](){return new PD(this)}lift(t){const r=new LD(this,this);return r.operator=t,r}next(t){if(this.closed)throw new fl;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(t)}}error(t){if(this.closed)throw new fl;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new fl;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new fl;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new fl;return this.hasError?(t.error(this.thrownError),L.EMPTY):this.isStopped?(t.complete(),L.EMPTY):(this.observers.push(t),new YU(this,t))}asObservable(){const t=new wt;return t.source=this,t}}return n.create=(e,t)=>new LD(e,t),n})();class LD extends gr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):L.EMPTY}}function ff(n){return n&&"function"==typeof n.schedule}class pf extends q{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const VD=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},gf="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",BD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function UD(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const jD=n=>{if(n&&"function"==typeof n[mu])return(n=>e=>{const t=n[mu]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(BD(n))return VD(n);if(UD(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,se),e))(n);if(n&&"function"==typeof n[gf])return(n=>e=>{const t=n[gf]();for(;;){const r=t.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${V(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function mf(n,e,t,r,i=new pf(n,t,r)){if(!i.closed)return e instanceof wt?e.subscribe(i):jD(e)(i)}class yf extends q{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function st(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new tj(n,e))}}class tj{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new nj(e,this.project,this.thisArg))}}class nj extends q{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}function Ky(n,e){return new wt(t=>{const r=new L;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function vn(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[mu]}(n))return function(n,e){return new wt(t=>{const r=new L;return r.add(e.schedule(()=>{const i=n[mu]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(UD(n))return function(n,e){return new wt(t=>{const r=new L;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(BD(n))return Ky(n,e);if(function(n){return n&&"function"==typeof n[gf]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new wt(t=>{const r=new L;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[gf](),r.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof wt?n:new wt(jD(n))}function wn(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(wn((i,s)=>vn(n(i,s)).pipe(st((o,a)=>e(i,o,s,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new cj(n,t)))}class cj{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new uj(e,this.project,this.concurrent))}}class uj extends yf{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,r)}_innerSub(e,t,r){const i=new pf(this,t,r),s=this.destination;s.add(i);const o=mf(this,e,void 0,void 0,i);o!==i&&s.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,r,i,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function yu(n=Number.POSITIVE_INFINITY){return wn(hf,n)}function Qy(n,e){return e?Ky(n,e):new wt(VD(n))}function Yy(){return function(e){return e.lift(new hj(e))}}class hj{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new fj(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class fj extends q{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class $D extends wt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new L,e.add(this.source.subscribe(new gj(this.getSubject(),this))),e.closed&&(this._connection=null,e=L.EMPTY)),e}refCount(){return Yy()(this)}}const pj=(()=>{const n=$D.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class gj extends PD{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function _j(){return new gr}function Ke(n){for(let e in n)if(n[e]===Ke)return e;throw Error("Could not find renamed property on target object.")}function Zy(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Jy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const wj=Ke({__forward_ref__:Ke});function ut(n){return n.__forward_ref__=ut,n.toString=function(){return Me(this())},n}function oe(n){return HD(n)?n():n}function HD(n){return"function"==typeof n&&n.hasOwnProperty(wj)&&n.__forward_ref__===ut}class Uo extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function Te(n){return"string"==typeof n?n:null==n?"":String(n)}function qn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Te(n)}function bf(n,e){const t=e?` in ${e}`:"";throw new Uo("201",`No provider for ${qn(n)} found${t}`)}function yr(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function ls(n){return zD(n,_f)||zD(n,GD)}function zD(n,e){return n.hasOwnProperty(e)?n[e]:null}function qD(n){return n&&(n.hasOwnProperty(eb)||n.hasOwnProperty(xj))?n[eb]:null}const _f=Ke({\u0275prov:Ke}),eb=Ke({\u0275inj:Ke}),GD=Ke({ngInjectableDef:Ke}),xj=Ke({ngInjectorDef:Ke});var ue=(()=>((ue=ue||{})[ue.Default=0]="Default",ue[ue.Host=1]="Host",ue[ue.Self=2]="Self",ue[ue.SkipSelf=4]="SkipSelf",ue[ue.Optional=8]="Optional",ue))();let tb;function Hs(n){const e=tb;return tb=n,e}function WD(n,e,t){const r=ls(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ue.Optional?null:void 0!==e?e:void bf(Me(n),"Injector")}function zs(n){return{toString:n}.toString()}var Lr=(()=>((Lr=Lr||{})[Lr.OnPush=0]="OnPush",Lr[Lr.Default=1]="Default",Lr))(),zt=(()=>((zt=zt||{})[zt.Emulated=0]="Emulated",zt[zt.None=2]="None",zt[zt.ShadowDom=3]="ShadowDom",zt))();const kj="undefined"!=typeof globalThis&&globalThis,Mj="undefined"!=typeof window&&window,Nj="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xe=kj||"undefined"!=typeof global&&global||Mj||Nj,pl={},rt=[],vf=Ke({\u0275cmp:Ke}),nb=Ke({\u0275dir:Ke}),rb=Ke({\u0275pipe:Ke}),KD=Ke({\u0275mod:Ke}),Fj=Ke({\u0275loc:Ke}),cs=Ke({\u0275fac:Ke}),bu=Ke({__NG_ELEMENT_ID__:Ke});let Oj=0;function yt(n){return zs(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Lr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||rt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||zt.Emulated,id:"c",styles:n.styles||rt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=Oj++,r.inputs=JD(n.inputs,t),r.outputs=JD(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(QD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(YD):null,r})}function QD(n){return Gn(n)||function(n){return n[nb]||null}(n)}function YD(n){return function(n){return n[rb]||null}(n)}const ZD={};function bt(n){return zs(()=>{const e={type:n.type,bootstrap:n.bootstrap||rt,declarations:n.declarations||rt,imports:n.imports||rt,exports:n.exports||rt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(ZD[n.id]=n.type),e})}function JD(n,e){if(null==n)return pl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const te=yt;function Gn(n){return n[vf]||null}function Vr(n,e){const t=n[KD]||null;if(!t&&!0===e)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return t}function Ci(n){return Array.isArray(n)&&"object"==typeof n[1]}function ni(n){return Array.isArray(n)&&!0===n[1]}function ob(n){return 0!=(8&n.flags)}function Sf(n){return 2==(2&n.flags)}function Df(n){return 1==(1&n.flags)}function ri(n){return null!==n.template}function jj(n){return 0!=(512&n[2])}function qo(n,e){return n.hasOwnProperty(cs)?n[cs]:null}class eT{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function En(){return tT}function tT(n){return n.type.prototype.ngOnChanges&&(n.setInput=qj),zj}function zj(){const n=rT(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===pl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function qj(n,e,t,r){const i=rT(n)||function(n,e){return n[nT]=e}(n,{previous:pl,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new eT(l&&l.currentValue,e,o===pl),n[r]=e}En.ngInherit=!0;const nT="__ngSimpleChanges__";function rT(n){return n[nT]||null}let cb;function It(n){return!!n.listen}const oT={createRenderer:(n,e)=>void 0!==cb?cb:"undefined"!=typeof document?document:void 0};function qt(n){for(;Array.isArray(n);)n=n[0];return n}function Tf(n,e){return qt(e[n])}function jr(n,e){return qt(e[n.index])}function db(n,e){return n.data[e]}function _r(n,e){const t=e[n];return Ci(t)?t:t[0]}function aT(n){return 4==(4&n[2])}function hb(n){return 128==(128&n[2])}function Gs(n,e){return null==e?null:n[e]}function lT(n){n[18]=0}function fb(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const be={lFrame:mT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function cT(){return be.bindingsEnabled}function N(){return be.lFrame.lView}function je(){return be.lFrame.tView}function Zt(){let n=uT();for(;null!==n&&64===n.type;)n=n.parent;return n}function uT(){return be.lFrame.currentTNode}function Si(n,e){const t=be.lFrame;t.currentTNode=n,t.isParent=e}function pb(){return be.lFrame.isParent}function gb(){be.lFrame.isParent=!1}function Af(){return be.isInCheckNoChangesMode}function xf(n){be.isInCheckNoChangesMode=n}function vl(){return be.lFrame.bindingIndex++}function us(n){const e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function a3(n,e){const t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,mb(e)}function mb(n){be.lFrame.currentDirectiveIndex=n}function fT(){return be.lFrame.currentQueryIndex}function bb(n){be.lFrame.currentQueryIndex=n}function c3(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function pT(n,e,t){if(t&ue.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ue.Host||(i=c3(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=be.lFrame=gT();return r.currentTNode=e,r.lView=n,!0}function If(n){const e=gT(),t=n[1];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gT(){const n=be.lFrame,e=null===n?null:n.child;return null===e?mT(n):e}function mT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function yT(){const n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const bT=yT;function kf(){const n=yT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kn(){return be.lFrame.selectedIndex}function Ws(n){be.lFrame.selectedIndex=n}function kt(){const n=be.lFrame;return db(n.tView,n.selectedIndex)}function Mf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Nf(n,e,t){_T(n,e,3,t)}function Ff(n,e,t,r){(3&n[2])===t&&_T(n,e,t,r)}function _b(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function _T(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(b3(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function b3(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Cu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Of(n,e,t){const r=It(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];wb(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function vT(n){return 3===n||4===n||6===n}function wb(n){return 64===n.charCodeAt(0)}function Rf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||wT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function wT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function ET(n){return-1!==n}function wl(n){return 32767&n}function El(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Eb=!0;function Pf(n){const e=Eb;return Eb=n,e}let S3=0;function Du(n,e){const t=Sb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Cb(r.data,n),Cb(e,null),Cb(r.blueprint,null));const i=Lf(n,e),s=n.injectorIndex;if(ET(i)){const o=wl(i),a=El(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Cb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Sb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Lf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Vf(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bu)&&(r=t[bu]),null==r&&(r=t[bu]=S3++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function DT(n,e,t){if(t&ue.Optional)return n;bf(e,"NodeInjector")}function TT(n,e,t,r){if(t&ue.Optional&&void 0===r&&(r=null),0==(t&(ue.Self|ue.Host))){const i=n[9],s=Hs(void 0);try{return i?i.get(e,r,t&ue.Optional):WD(e,r,t&ue.Optional)}finally{Hs(s)}}return DT(r,e,t)}function AT(n,e,t,r=ue.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bu)?n[bu]:void 0;return"number"==typeof e?e>=0?255&e:A3:e}(t);if("function"==typeof s){if(!pT(e,n,r))return r&ue.Host?DT(i,t,r):TT(e,t,r,i);try{const o=s(r);if(null!=o||r&ue.Optional)return o;bf(t)}finally{bT()}}else if("number"==typeof s){let o=null,a=Sb(n,e),l=-1,c=r&ue.Host?e[16][6]:null;for((-1===a||r&ue.SkipSelf)&&(l=-1===a?Lf(n,e):e[a+8],-1!==l&&kT(r,!1)?(o=e[1],a=wl(l),e=El(l,e)):a=-1);-1!==a;){const u=e[1];if(IT(s,a,u.data)){const d=x3(a,e,t,o,r,c);if(d!==xT)return d}l=e[a+8],-1!==l&&kT(r,e[1].data[a+8]===c)&&IT(s,a,e)?(o=u,a=wl(l),e=El(l,e)):a=-1}}}return TT(e,t,r,i)}const xT={};function A3(){return new Cl(Zt(),N())}function x3(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Bf(a,o,t,null==r?Sf(a)&&Eb:r!=o&&0!=(3&a.type),i&ue.Host&&s===a);return null!==u?Tu(e,o,u,a):xT}function Bf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let g=r?a:a+u;g<h;g++){const m=o[g];if(g<l&&t===m||g>=l&&m.type===t)return g}if(i){const g=o[l];if(g&&ri(g)&&g.type===t)return l}return null}function Tu(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof Cu}(i)){const o=i;o.resolving&&function(n,e){throw new Uo("200",`Circular dependency in DI detected for ${n}`)}(qn(s[t]));const a=Pf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Hs(o.injectImpl):null;pT(n,r,ue.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=tT(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Hs(l),Pf(a),o.resolving=!1,bT()}}return i}function IT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function kT(n,e){return!(n&ue.Self||n&ue.Host&&e)}class Cl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return AT(this._tNode,this._lView,e,r,t)}}function ar(n){return zs(()=>{const e=n.prototype.constructor,t=e[cs]||Db(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[cs]||Db(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Db(n){return HD(n)?()=>{const e=Db(oe(n));return e&&e()}:qo(n)}const Dl="__parameters__";function Go(n,e,t){return zs(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Dl)?l[Dl]:Object.defineProperty(l,Dl,{value:[]})[Dl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class fe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const N3=new fe("AnalyzeForEntryComponents"),Uf=Function;function $r(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),$r(r,e)):e!==n&&e.push(r)}return e}function Ti(n,e){n.forEach(t=>Array.isArray(t)?Ti(t,e):e(t))}function $f(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wo(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Qs(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function vr(n,e,t){let r=Al(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ab(n,e){const t=Al(n,e);if(t>=0)return n[1|t]}function Al(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Mu={},Ib="__NG_DI_FLAG__",xl="ngTempTokenPath",$3=/\n/gm,kb="__source",Mb=Ke({provide:String,useValue:Ke});let Nu;function Il(n){const e=Nu;return Nu=n,e}function z3(n,e=ue.Default){if(void 0===Nu)throw new Error("inject() must be called from an injection context");return null===Nu?WD(n,void 0,e):Nu.get(n,e&ue.Optional?null:void 0,e)}function T(n,e=ue.Default){return(tb||z3)(oe(n),e)}function Ko(n){const e=[];for(let t=0;t<n.length;t++){const r=oe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=ue.Default;for(let o=0;o<r.length;o++){const a=r[o],l=q3(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(T(i,s))}else e.push(T(r))}return e}function Fu(n,e){return n[Ib]=e,n.prototype[Ib]=e,n}function q3(n){return n[Ib]}function LT(n,e,t,r){const i=n[xl];throw e[kb]&&i.unshift(e[kb]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Me(e);if(Array.isArray(e))i=e.map(Me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace($3,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[xl]=null,n}const kl=Fu(Go("Inject",n=>({token:n})),-1),lr=Fu(Go("Optional"),8),Ys=Fu(Go("SkipSelf"),4);class Qo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function wr(n){return n instanceof Qo?n.changingThisBreaksApplicationSecurity:n}function Ai(n,e){const t=function(n){return n instanceof Qo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}const g$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,m$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var at=(()=>((at=at||{})[at.NONE=0]="NONE",at[at.HTML=1]="HTML",at[at.STYLE=2]="STYLE",at[at.SCRIPT=3]="SCRIPT",at[at.URL=4]="URL",at[at.RESOURCE_URL=5]="RESOURCE_URL",at))();function Bb(n){const e=function(){const n=N();return n&&n[12]}();return e?e.sanitize(at.URL,n)||"":Ai(n,"URL")?wr(n):function(n){return(n=String(n)).match(g$)||n.match(m$)?n:"unsafe:"+n}(Te(n))}const nA="__ngContext__";function Nn(n,e){n[nA]=e}function jb(n){const e=function(n){return n[nA]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Qf(n){return n.ngOriginalError}function V$(n,...e){n.error(...e)}class Yo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||V$}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(Qf(e)):null}_findOriginalError(e){let t=e&&Qf(e);for(;t&&Qf(t);)t=Qf(t);return t||null}}const dA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xe))();function Ii(n){return n instanceof Function?n():n}var Er=(()=>((Er=Er||{})[Er.Important=1]="Important",Er[Er.DashCase=2]="DashCase",Er))();function zb(n,e){return undefined(n,e)}function Bu(n){const e=n[3];return ni(e)?e[3]:e}function qb(n){return mA(n[13])}function Gb(n){return mA(n[4])}function mA(n){for(;null!==n&&!ni(n);)n=n[4];return n}function Ol(n,e,t,r,i){if(null!=r){let s,o=!1;ni(r)?s=r:Ci(r)&&(o=!0,r=r[0]);const a=qt(r);0===n&&null!==t?null==i?EA(e,t,a):Zo(e,t,a,i||null,!0):1===n&&null!==t?Zo(e,t,a,i||null,!0):2===n?function(n,e,t){const r=Zf(n,e);r&&function(n,e,t,r){It(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==qt(t)&&Ol(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Uu(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Kb(n,e,t){return It(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function bA(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,fb(i,-1)),t.splice(r,1)}function Qb(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&bA(i,r),e>0&&(n[t-1][4]=r[4]);const s=Wo(n,10+e);!function(n,e){Uu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function _A(n,e){if(!(256&e[2])){const t=e[11];It(t)&&t.destroyNode&&Uu(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Yb(n[1],n);for(;e;){let t=null;if(Ci(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ci(e)&&Yb(e[1],e),e=e[3];null===e&&(e=n),Ci(e)&&Yb(e[1],e),t=e&&e[4]}e=t}}(e)}}function Yb(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Cu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):qt(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&It(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&ni(e[3])){t!==e[3]&&bA(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function vA(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===zt.None||i===zt.Emulated)return null}return jr(r,t)}(n,e.parent,t)}function Zo(n,e,t,r,i){It(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function EA(n,e,t){It(n)?n.appendChild(e,t):e.appendChild(t)}function CA(n,e,t,r,i){null!==r?Zo(n,e,t,r,i):EA(n,e,t)}function Zf(n,e){return It(n)?n.parentNode(e):e.parentNode}function SA(n,e,t){return TA(n,e,t)}let TA=function(n,e,t){return 40&n.type?jr(n,t):null};function Jf(n,e,t,r){const i=vA(n,r,e),s=e[11],a=SA(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)CA(s,i,t[l],a,!1);else CA(s,i,t,a,!1)}function Xf(n,e){if(null!==e){const t=e.type;if(3&t)return jr(e,n);if(4&t)return Jb(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xf(n,r);{const i=n[e.index];return ni(i)?Jb(-1,i):qt(i)}}if(32&t)return zb(e,n)()||qt(n[e.index]);{const r=xA(n,e);return null!==r?Array.isArray(r)?r[0]:Xf(Bu(n[16]),r):Xf(n,e.next)}}return null}function xA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Jb(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Xf(r,i)}return e[7]}function Xb(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Nn(qt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Xb(n,e,t.child,r,i,s,!1),Ol(e,n,i,a,s);else if(32&l){const c=zb(t,r);let u;for(;u=c();)Ol(e,n,i,u,s);Ol(e,n,i,a,s)}else 16&l?kA(n,e,r,t,i,s):Ol(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Uu(n,e,t,r,i,s){Xb(t,r,n.firstChild,e,i,s,!1)}function kA(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ol(e,n,i,l[c],s);else Xb(n,e,l,o[3],i,s,!0)}function MA(n,e,t){It(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function e_(n,e,t){It(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function NA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const FA="ng-template";function uH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==NA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function OA(n){return 4===n.type&&n.value!==FA}function dH(n,e,t){return e===(4!==n.type||t?n.value:FA)}function hH(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(vT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!dH(n,l,t)||""===l&&1===e.length){if(ii(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!uH(n.attrs,c,t)){if(ii(r))return!1;o=!0}continue}const d=fH(8&r?"class":l,i,OA(n),t);if(-1===d){if(ii(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const g=8&r?h:null;if(g&&-1!==NA(g,c,0)||2&r&&c!==h){if(ii(r))return!1;o=!0}}}}else{if(!o&&!ii(r)&&!ii(l))return!1;if(o&&ii(l))continue;o=!1,r=l|1&r}}return ii(r)||o}function ii(n){return 0==(1&n)}function fH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function RA(n,e,t=!1){for(let r=0;r<e.length;r++)if(hH(n,e[r],t))return!0;return!1}function yH(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function PA(n,e){return n?":not("+e.trim()+")":e}function bH(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ii(o)&&(e+=PA(s,i),i=""),r=o,s=s||!ii(r);t++}return""!==i&&(e+=PA(s,i)),e}const we={};function k(n){LA(je(),N(),Kn()+n,Af())}function LA(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Nf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Ff(e,s,0,t)}Ws(t)}function ep(n,e){return n<<17|e<<2}function si(n){return n>>17&32767}function t_(n){return 2|n}function ds(n){return(131068&n)>>2}function n_(n,e){return-131069&n|e<<2}function r_(n){return 1|n}function WA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];bb(i),o.contentQueries(2,e[s],s)}}}function ju(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,lT(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Rl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=uT(),o=pb(),l=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),be.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Si(s,!0),s}function Pl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function $u(n,e,t){If(e);try{const r=n.viewQuery;null!==r&&__(1,r,t);const i=n.template;null!==i&&KA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&WA(n,e),n.staticViewQueries&&__(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)ZH(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,kf()}}function Ll(n,e,t,r){const i=e[2];if(256==(256&i))return;If(e);const s=Af();try{lT(e),function(n){be.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&KA(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Nf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ff(e,c,0,null),_b(e,0)}if(function(n){for(let e=qb(n);null!==e;e=Gb(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&fb(s,1),i[2]|=1024}}}(e),function(n){for(let e=qb(n);null!==e;e=Gb(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];hb(r)&&Ll(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&WA(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Nf(e,c)}else{const c=n.contentHooks;null!==c&&Ff(e,c,1),_b(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ws(~i);else{const s=i,o=t[++r],a=t[++r];a3(o,s),a(2,e[s])}}}finally{Ws(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)YH(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&__(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Nf(e,c)}else{const c=n.viewHooks;null!==c&&Ff(e,c,2),_b(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,fb(e[3],-1))}finally{kf()}}function MH(n,e,t,r){const i=e[10],s=!Af(),o=aT(e);try{s&&!o&&i.begin&&i.begin(),o&&$u(n,e,r),Ll(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function KA(n,e,t,r,i){const s=Kn(),o=2&r;try{Ws(-1),o&&e.length>20&&LA(n,e,20,Af()),t(r,i)}finally{Ws(s)}}function d_(n,e,t){!cT()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Du(t,e),Nn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=ri(l);c&&qH(e,t,l);const u=Tu(e,n,a,t);Nn(u,e),null!==o&&GH(0,a-i,u,l,0,o),c&&(_r(t.index,e)[8]=u)}}(n,e,t,jr(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=be.lFrame.currentDirectiveIndex;try{Ws(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];mb(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&r1(c,u)}}finally{Ws(-1),mb(a)}}(n,e,t))}function h_(n,e,t=jr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function YA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=rp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function rp(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:we);return t}(u,d),g="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1}}function XA(n,e,t,r){const i=c1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&u1(n).push(r,i.length-1))}function e1(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Cr(n,e,t,r,i,s,o,a){const l=jr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(f1(n,t,u,r,i),Sf(e)&&function(n,e){const t=_r(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(l,r,i):wb(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function f_(n,e,t,r){let i=!1;if(cT()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];RA(t,o.selectors,!1)&&(i||(i=[]),Vf(Du(t,e),n,o.type),ri(o)?(i1(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,s1(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Pl(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Rf(t.mergedAttrs,d.hostAttrs),o1(n,t,e,c,d),zH(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||OA(e)?null:WH(d,s);o.push(h),a=e1(d,c,a),l=e1(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Uo("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Rf(t.mergedAttrs,t.attrs),i}function n1(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function r1(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function i1(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function zH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ri(e)&&(t[""]=n)}}function s1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function o1(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=qo(i.type)),o=new Cu(s,ri(i),null);n.blueprint[r]=o,t[r]=o,n1(n,e,0,r,Pl(n,t,i.hostVars,we),i)}function qH(n,e,t){const r=jr(e,n),i=YA(t),s=n[10],o=ip(n,ju(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function ki(n,e,t,r,i,s){const o=jr(n,e);!function(n,e,t,r,i,s,o){if(null==s)It(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?Te(s):o(s,r||"",i);It(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function GH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function WH(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function a1(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function YH(n,e){const t=_r(e,n);if(hb(t)){const r=t[1];80&t[2]?Ll(r,t,r.template,t[8]):t[5]>0&&g_(t)}}function g_(n){for(let r=qb(n);null!==r;r=Gb(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ll(o,s,o.template,s[8])}else s[5]>0&&g_(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=_r(t[r],n);hb(i)&&i[5]>0&&g_(i)}}function ZH(n,e){const t=_r(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),$u(r,t,t[8])}function ip(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function m_(n){for(;n;){n[2]|=64;const e=Bu(n);if(jj(n)&&!e)return n;n=e}return null}function b_(n,e,t){const r=e[10];r.begin&&r.begin();try{Ll(n,e,n.template,t)}catch(i){throw h1(e,i),i}finally{r.end&&r.end()}}function l1(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=jb(t),i=r[1];MH(i,r,i.template,t)}}(n[8])}function __(n,e,t){bb(0),e(n,t)}const nz=(()=>Promise.resolve(null))();function c1(n){return n[7]||(n[7]=[])}function u1(n){return n.cleanup||(n.cleanup=[])}function h1(n,e){const t=n[9],r=t?t.get(Yo,null):null;r&&r.handleError(e)}function f1(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function fs(n,e,t){const r=Tf(e,n);!function(n,e,t){It(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function sp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Jy(i,a):2==s&&(r=Jy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Vl=new fe("INJECTOR",-1);class p1{get(e,t=Mu){if(t===Mu){const r=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw r.name="NullInjectorError",r}return t}}const Hu=new fe("Set Injector scope."),zu={},sz={};let v_;function g1(){return void 0===v_&&(v_=new p1),v_}function m1(n,e=null,t=null,r){return new az(n,t,e||g1(),r)}class az{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ti(t,a=>this.processProvider(a,e,t)),Ti([e],a=>this.processInjectorType(a,[],s)),this.records.set(Vl,Bl(void 0,this));const o=this.records.get(Hu);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Me(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Mu,r=ue.Default){this.assertNotDestroyed();const i=Il(this),s=Hs(void 0);try{if(!(r&ue.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof fe}(e)&&ls(e);a=l&&this.injectableDefInScope(l)?Bl(w_(e),zu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ue.Self?g1():this.parent).get(e,t=r&ue.Optional&&t===Mu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[xl]=o[xl]||[]).unshift(Me(e)),i)throw o;return LT(o,e,"R3InjectorError",this.source)}throw o}finally{Hs(s),Il(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Me(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=oe(e)))return!1;let i=qD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=qD(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Ti(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:g}=u[d];Ti(g,m=>this.processProvider(m,h,g||rt))}}this.injectorDefTypes.add(o);const l=qo(o)||(()=>new o);this.records.set(o,Bl(l,zu));const c=i.providers;if(null!=c&&!a){const u=e;Ti(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ul(e=oe(e))?e:oe(e&&e.provide);const s=function(n,e,t){return b1(n)?Bl(void 0,n.useValue):Bl(y1(n),zu)}(e);if(Ul(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Bl(void 0,zu,!0),o.factory=()=>Ko(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===zu&&(t.value=sz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=oe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function w_(n){const e=ls(n),t=null!==e?e.factory:qo(n);if(null!==t)return t;if(n instanceof fe)throw new Error(`Token ${Me(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=Qs(e,"?");throw new Error(`Can't resolve all parameters for ${Me(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[_f]||n[GD]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function y1(n,e,t){let r;if(Ul(n)){const i=oe(n);return qo(i)||w_(i)}if(b1(n))r=()=>oe(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ko(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>T(oe(n.useExisting));else{const i=oe(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return qo(i)||w_(i);r=()=>new i(...Ko(n.deps))}return r}function Bl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function b1(n){return null!==n&&"object"==typeof n&&Mb in n}function Ul(n){return"function"==typeof n}const _1=function(n,e,t){return function(n,e=null,t=null,r){const i=m1(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};let tt=(()=>{class n{static create(t,r){return Array.isArray(t)?_1(t,r,""):_1(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=Mu,n.NULL=new p1,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>T(Vl)}),n.__NG_ELEMENT_ID__=-1,n})();function xz(n,e){Mf(jb(n)[1],Zt())}function nt(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ri(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=A_(n.inputs),o.declaredInputs=A_(n.declaredInputs),o.outputs=A_(n.outputs);const a=i.hostBindings;a&&Nz(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&kz(n,l),c&&Mz(n,c),Zy(n.inputs,i.inputs),Zy(n.declaredInputs,i.declaredInputs),Zy(n.outputs,i.outputs),ri(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===nt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rf(i.hostAttrs,t=Rf(t,i.hostAttrs))}}(r)}function A_(n){return n===pl?{}:n===rt?[]:n}function kz(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Mz(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Nz(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let op=null;function jl(){if(!op){const n=Xe.Symbol;if(n&&n.iterator)op=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(op=r)}}}return op}function Gu(n){return!!x_(n)&&(Array.isArray(n)||!(n instanceof Map)&&jl()in n)}function x_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sr(n,e,t,r){const i=N();return Fn(i,vl(),e)&&(je(),ki(kt(),i,n,e,t,r)),Sr}function zl(n,e,t,r,i,s){const a=function(n,e,t,r){const i=Fn(n,e,t);return Fn(n,e+1,r)||i}(n,be.lFrame.bindingIndex,t,i);return us(2),a?e+Te(t)+r+Te(i)+s:we}function ht(n,e,t,r,i,s,o,a){const l=N(),c=je(),u=n+20,d=c.firstCreatePass?function(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Rl(e,n,4,o||null,Gs(c,a));f_(e,t,u,Gs(c,l)),Mf(e,u);const d=u.tViews=rp(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Si(d,!1);const h=l[11].createComment("");Jf(c,l,h,d),Nn(h,l),ip(l,l[u]=a1(h,l,h,d)),Df(d)&&d_(c,l,d),null!=o&&h_(l,d,a)}function v(n,e=ue.Default){const t=N();return null===t?T(n,e):AT(Zt(),t,oe(n),e)}function Qe(n,e,t){const r=N();return Fn(r,vl(),e)&&Cr(je(),kt(),r,n,e,r[11],t,!1),Qe}function F_(n,e,t,r,i){const o=i?"class":"style";f1(n,t,e.inputs[o],o,r)}function f(n,e,t,r){const i=N(),s=je(),o=20+n,a=i[11],l=i[o]=Kb(a,e,be.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=Rl(e,n,2,i,Gs(a,s));return f_(e,t,c,Gs(a,o)),null!==c.attrs&&sp(c,c.attrs,!1),null!==c.mergedAttrs&&sp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Si(c,!0);const u=c.mergedAttrs;null!==u&&Of(a,l,u);const d=c.classes;null!==d&&e_(a,l,d);const h=c.styles;null!==h&&MA(a,l,h),64!=(64&c.flags)&&Jf(s,i,l,c),0===be.lFrame.elementDepthCount&&Nn(l,i),be.lFrame.elementDepthCount++,Df(c)&&(d_(s,i,c),function(n,e,t){if(ob(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&h_(i,c)}function p(){let n=Zt();pb()?gb():(n=n.parent,Si(n,!1));const e=n;be.lFrame.elementDepthCount--;const t=je();t.firstCreatePass&&(Mf(t,n),ob(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&F_(t,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&F_(t,e,N(),e.stylesWithoutHost,!1)}function Cn(n,e,t,r){f(n,e,t,r),p()}function Ku(n){return!!n&&"function"==typeof n.then}const cp=function(n){return!!n&&"function"==typeof n.subscribe};function Ge(n,e,t,r){const i=N(),s=je(),o=Zt();return function(n,e,t,r,i,s,o,a){const l=Df(r),u=n.firstCreatePass&&u1(n),d=e[8],h=c1(e);let g=!0;if(3&r.type||a){const b=jr(r,e),E=a?a(b):b,w=h.length,x=a?R=>a(qt(R[r.index])):r.index;if(It(t)){let R=null;if(!a&&l&&(R=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,g=!1;else{s=O_(r,e,d,s,!1);const H=t.listen(E,i,s);h.push(s,H),u&&u.push(i,x,w,w+1)}}else s=O_(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),u&&u.push(i,x,w,o)}else s=O_(r,e,d,s,!1);const m=r.outputs;let _;if(g&&null!==m&&(_=m[i])){const b=_.length;if(b)for(let E=0;E<b;E+=2){const ee=e[_[E]][_[E+1]].subscribe(s),ve=h.length;h.push(s,ee),u&&u.push(i,r.index,ve,-(ve+1))}}}(s,i,i[11],o,n,e,!!t,r),Ge}function lx(n,e,t,r){try{return!1!==t(r)}catch(i){return h1(n,i),!1}}function O_(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?_r(n.index,e):e;0==(32&e[2])&&m_(a);let l=lx(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=lx(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function gq(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?RA(n,s,!0):yH(r,s))return i}else t=i}return t}function Jl(n,e=0,t){const r=N(),i=je(),s=Rl(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),gb(),64!=(64&s.flags)&&function(n,e,t){kA(e[11],0,e,t,vA(n,t,e),SA(t.parent||e[6],t,e))}(i,r,s)}function _x(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?si(s):ds(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];bq(n[a],e)&&(l=!0,n[a+1]=r?r_(u):t_(u)),a=r?si(u):ds(u)}l&&(n[t+1]=r?t_(s):r_(s))}function bq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Al(n,e)>=0}function on(n,e,t){return li(n,e,t,!1),on}function gs(n,e){return li(n,e,null,!0),gs}function li(n,e,t,r){const i=N(),s=je(),o=us(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Kn()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=function(n){const e=be.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Qu(t=P_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=P_(i,n,e,t,r),null===s){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ds(r))return n[si(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=P_(null,n,e,l[1],r),l=Qu(l,e.attrs,r),function(n,e,t,r){n[si(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Qu(r,n[s].hostAttrs,t);return Qu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=si(o),l=ds(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Al(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=si(n[a+1]);n[r+1]=ep(h,a),0!==h&&(n[h+1]=n_(n[h+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ep(a,0),0!==a&&(n[a+1]=n_(n[a+1],r)),a=r;else n[r+1]=ep(l,0),0===a?a=r:n[l+1]=n_(n[l+1],r),l=r;c&&(n[r+1]=t_(n[r+1])),_x(n,u,r,!0),_x(n,u,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Al(s,e)>=0&&(t[r+1]=r_(t[r+1]))}(e,u,n,r,s),o=ep(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==we&&Fn(i,o,e)&&function(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];dp(function(n){return 1==(1&n)}(c)?kx(l,e,t,i,ds(c),o):void 0)||(dp(s)||function(n){return 2==(2&n)}(c)&&(s=kx(l,null,t,i,a,o)),function(n,e,t,r,i){const s=It(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Er.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Er.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Tf(Kn(),t),i,s))}(s,s.data[Kn()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Me(wr(n)))),n}(e,t),r,o)}function P_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Qu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Qu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vr(n,o,!!t||e[++s]))}return void 0===n?null:n}function kx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===we&&(h=d?rt:void 0);let g=d?Ab(h,r):u===r?h:void 0;if(c&&!dp(g)&&(g=Ab(l,r)),dp(g)&&(a=g,o))return a;const m=n[i+1];i=o?si(m):ds(m)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Ab(l,r))}return a}function dp(n){return void 0!==n}function y(n,e=""){const t=N(),r=je(),i=n+20,s=r.firstCreatePass?Rl(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return It(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Jf(r,t,o,s),Si(s,!1)}function Ne(n){return Gt("",n,""),Ne}function Gt(n,e,t){const r=N(),i=function(n,e,t,r){return Fn(n,vl(),t)?e+Te(t)+r:we}(r,n,e,t);return i!==we&&fs(r,Kn(),i),Gt}function an(n,e,t,r,i){const s=N(),o=zl(s,n,e,t,r,i);return o!==we&&fs(s,Kn(),o),an}function hp(n,e,t){const r=N();return Fn(r,vl(),e)&&Cr(je(),kt(),r,n,e,r[11],t,!0),hp}const Xo=void 0;var Xq=["en",[["a","p"],["AM","PM"],Xo],[["AM","PM"],Xo,Xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xo,"{1} 'at' {0}",Xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let ec={};function Yx(n){return n in ec||(ec[n]=Xe.ng&&Xe.ng.common&&Xe.ng.common.locales&&Xe.ng.common.locales[n]),ec[n]}var G=(()=>((G=G||{})[G.LocaleId=0]="LocaleId",G[G.DayPeriodsFormat=1]="DayPeriodsFormat",G[G.DayPeriodsStandalone=2]="DayPeriodsStandalone",G[G.DaysFormat=3]="DaysFormat",G[G.DaysStandalone=4]="DaysStandalone",G[G.MonthsFormat=5]="MonthsFormat",G[G.MonthsStandalone=6]="MonthsStandalone",G[G.Eras=7]="Eras",G[G.FirstDayOfWeek=8]="FirstDayOfWeek",G[G.WeekendRange=9]="WeekendRange",G[G.DateFormat=10]="DateFormat",G[G.TimeFormat=11]="TimeFormat",G[G.DateTimeFormat=12]="DateTimeFormat",G[G.NumberSymbols=13]="NumberSymbols",G[G.NumberFormats=14]="NumberFormats",G[G.CurrencyCode=15]="CurrencyCode",G[G.CurrencySymbol=16]="CurrencySymbol",G[G.CurrencyName=17]="CurrencyName",G[G.Currencies=18]="Currencies",G[G.Directionality=19]="Directionality",G[G.PluralCase=20]="PluralCase",G[G.ExtraData=21]="ExtraData",G))();const fp="en-US";let Zx=fp;function L_(n){yr(n,"Expected localeId to be defined"),"string"==typeof n&&(Zx=n.toLowerCase().replace(/_/g,"-"))}function U_(n,e,t,r,i){if(n=oe(n),Array.isArray(n))for(let s=0;s<n.length;s++)U_(n[s],e,t,r,i);else{const s=je(),o=N();let a=Ul(n)?n:oe(n.provide),l=y1(n);const c=Zt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ul(n)||!n.multi){const g=new Cu(l,i,v),m=$_(a,e,i?u:u+h,d);-1===m?(Vf(Du(c,o),s,a),j_(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(g),o.push(g)):(t[m]=g,o[m]=g)}else{const g=$_(a,e,u+h,d),m=$_(a,e,u,u+h),_=g>=0&&t[g],b=m>=0&&t[m];if(i&&!b||!i&&!_){Vf(Du(c,o),s,a);const E=function(n,e,t,r,i){const s=new Cu(n,t,v);return s.multi=[],s.index=e,s.componentProviders=0,wI(s,i,r&&!t),s}(i?Y4:Q4,t.length,i,r,l);!i&&b&&(t[m].providerFactory=E),j_(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(E),o.push(E)}else j_(s,n,g>-1?g:m,wI(t[i?m:g],l,!i&&r));!i&&r&&b&&t[m].componentProviders++}}}function j_(n,e,t,r){const i=Ul(e);if(i||function(n){return!!n.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[r,o]):a[l+1].push(r,o)}else a.push(t,o)}}}function wI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Q4(n,e,t,r){return H_(this.multi,[])}function Y4(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Tu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),H_(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],H_(i,s);return s}function H_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ft(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=je();if(r.firstCreatePass){const i=ri(n);U_(t,r.data,r.blueprint,i,!0),U_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class EI{}const SI="ngComponent";class X4{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return e[SI]=n,e}(e)}}let ea=(()=>{class n{}return n.NULL=new X4,n})();function bp(...n){}function nc(n,e){return new lt(jr(n,e))}const n8=function(){return nc(Zt(),N())};let lt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=n8,n})();function DI(n){return n instanceof lt?n.nativeElement:n}class ta{}let ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>i8(),n})();const i8=function(){const n=N(),t=_r(Zt().index,n);return function(n){return n[11]}(Ci(t)?t:n)};let q_=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class Xs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const TI=new Xs("12.2.16");class AI{constructor(){}supports(e){return Gu(e)}create(e){return new l8(e)}}const a8=(n,e)=>e;class l8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<II(r,i,s)?t:r,a=II(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const g=h<s.length?s[h]:s[h]=0,m=g+h;u<=m&&m<c&&(s[h]=g+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Gu(e))throw new Error(`Error trying to diff '${Me(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[jl()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new c8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new xI),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class c8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class u8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class xI{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new u8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function II(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class kI{constructor(){}supports(e){return e instanceof Map||x_(e)}create(){return new d8}}class d8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||x_(e)))throw new Error(`Error trying to diff '${Me(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new h8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class h8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MI(){return new ed([new AI])}let ed=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||MI()),deps:[[n,new Ys,new lr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:MI}),n})();function NI(){return new rc([new kI])}let rc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||NI()),deps:[[n,new Ys,new lr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:NI}),n})();function _p(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(qt(s)),ni(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&_p(l[1],l,c,r)}const o=t.type;if(8&o)_p(n,e,t.child,r);else if(32&o){const a=zb(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=xA(e,t);if(Array.isArray(a))r.push(...a);else{const l=Bu(e[16]);_p(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class td{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return _p(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ni(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Qb(e,r),Wo(t,r))}this._attachedToViewContainer=!1}_A(this._lView[1],this._lView)}onDestroy(e){XA(this._lView[1],this._lView,null,e)}markForCheck(){m_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){b_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){xf(!0);try{b_(n,e,t)}finally{xf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){Uu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class p8 extends td{constructor(e){super(e),this._view=e}detectChanges(){l1(this._view)}checkNoChanges(){!function(n){xf(!0);try{l1(n)}finally{xf(!1)}}(this._view)}get context(){return null}}const m8=function(n){return function(n,e,t){if(Sf(n)&&!t){const r=_r(n.index,e);return new td(r,r)}return 47&n.type?new td(e[16],e):null}(Zt(),N(),16==(16&n))};let nd=(()=>{class n{}return n.__NG_ELEMENT_ID__=m8,n})();const _8=[new kI],w8=new ed([new AI]),E8=new rc(_8),S8=function(){return vp(Zt(),N())};let ys=(()=>{class n{}return n.__NG_ELEMENT_ID__=S8,n})();const D8=ys,T8=class extends D8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=ju(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),$u(t,r,e),new td(r)}};function vp(n,e){return 4&n.type?new T8(e,n,nc(n,e)):null}class Oi{}class FI{}const I8=function(){return PI(Zt(),N())};let ui=(()=>{class n{}return n.__NG_ELEMENT_ID__=I8,n})();const M8=ui,OI=class extends M8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new Cl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lf(this._hostTNode,this._hostLView);if(ET(e)){const t=El(e,this._hostLView),r=wl(e);return new Cl(t[1].data[r+8],t)}return new Cl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=RI(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(Oi,null);l&&(s=l)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,t),a}insert(e,t){const r=e._lView,i=r[1];if(function(n){return ni(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new OI(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],$f(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Jb(s,o),l=r[11],c=Zf(l,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Uu(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),$f(G_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=RI(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Qb(this._lContainer,t);r&&(Wo(G_(this._lContainer),t),_A(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Qb(this._lContainer,t);return r&&null!=Wo(G_(this._lContainer),t)?new td(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function RI(n){return n[8]}function G_(n){return n[8]||(n[8]=[])}function PI(n,e){let t;const r=e[n.index];if(ni(r))t=r;else{let i;if(8&n.type)i=qt(r);else{const s=e[11];i=s.createComment("");const o=jr(n,e);Zo(s,Zf(s,o),i,function(n,e){return It(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=a1(r,e,i,n),ip(e,t)}return new OI(t,n,e)}const ac={};class nk extends ea{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Gn(e);return new ik(t,this.ngModule)}}function rk(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const AG=new fe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dA});class ik extends EI{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(bH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return rk(this.componentDef.inputs)}get outputs(){return rk(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,ac,i);return s!==ac||r===ac?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(ta,oT),a=s.get(q_,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(n,e,t){if(It(n))return n.selectRootElement(e,t===zt.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Kb(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||dA,clean:nz,playerHandler:e||null,flags:0}}(),g=rp(0,null,null,1,0,null,null,null,null,null),m=ju(null,g,h,d,null,null,o,l,a,s);let _,b;If(m);try{const E=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=Rl(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(sp(l,c,!0),null!==n&&(Of(i,n,c),null!==l.classes&&e_(i,n,l.classes),null!==l.styles&&MA(i,n,l.styles)));const u=r.createRenderer(n,e),d=ju(t,YA(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(Vf(Du(l,t),o,e.type),i1(o,l),s1(l,t.length,1)),ip(t,d),t[20]=d}(u,this.componentDef,m,o,l);if(u)if(r)Of(l,u,["ng-version",TI.full]);else{const{attrs:w,classes:x}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ii(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);w&&Of(l,u,w),x&&x.length>0&&e_(l,u,x.join(" "))}if(b=db(g,20),void 0!==t){const w=b.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const R=t[x];w.push(null!=R?Array.from(R):null)}}_=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=Zt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),o1(n,r,e,Pl(n,e,1,null),t));const i=Tu(e,n,r.directiveStart,r);Nn(i,e);const s=jr(r,e);return s&&Nn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Zt();e.contentQueries(1,o,l.directiveStart)}const a=Zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ws(a.index),n1(t[1],a,0,a.directiveStart,a.directiveEnd,e),r1(e,o)),o}(E,this.componentDef,m,h,[xz]),$u(g,m,null)}finally{kf()}return new kG(this.componentType,_,nc(b,m),m,b)}}class kG extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new p8(i),this.componentType=e}get injector(){return new Cl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const lc=new Map;class FG extends Oi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nk(this);const r=Vr(e),i=function(n){return n[Fj]||null}(e);i&&L_(i),this._bootstrapComponents=Ii(r.bootstrap),this._r3Injector=m1(e,t,[{provide:Oi,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],Me(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=tt.THROW_IF_NOT_FOUND,r=ue.Default){return e===tt||e===Oi||e===Vl?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sv extends FI{constructor(e){super(),this.moduleType=e,null!==Vr(e)&&function(n){const e=new Set;!function t(r){const i=Vr(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Me(e)} vs ${Me(e.name)}`)}(s,lc.get(s),r),lc.set(s,r));const o=Ii(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new FG(this.moduleType,e)}}function ov(n){return e=>{setTimeout(n,void 0,e)}}const Ct=class extends gr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=ov(l),a&&(a=ov(a)),c&&(c=ov(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof L&&e.add(u),u}};function JG(){return this._results[jl()]()}class Dp{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=jl(),r=Dp.prototype;r[t]||(r[t]=JG)}get changes(){return this._changes||(this._changes=new Ct)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=$r(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class av{constructor(e){this.queryList=e,this.matches=null}clone(){return new av(this.queryList)}setDirty(){this.queryList.setDirty()}}class lv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new lv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==mk(e,t).matches&&this.queries[t].setDirty()}}class hk{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class cv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new cv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class uv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new uv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,t7(t,s)),this.matchTNodeWithReadOption(e,t,Bf(t,e,s,!1,!1))}else r===ys?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===lt||i===ui||i===ys&&4&t.type)this.addMatch(t.index,-2);else{const s=Bf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function t7(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function r7(n,e,t,r){return-1===t?function(n,e){return 11&n.type?nc(n,e):4&n.type?vp(n,e):null}(e,n):-2===t?function(n,e,t){return t===lt?nc(e,n):t===ys?vp(e,n):t===ui?PI(e,n):void 0}(n,e,r):Tu(n,n[1],t,e)}function fk(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:r7(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function dv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=fk(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&dv(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const g=d[h];dv(g[1],g,c,r)}}}}}return r}function Tp(n){const e=N(),t=je(),r=fT();bb(r+1);const i=mk(t,r);if(n.dirty&&aT(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?dv(t,e,r,[]):fk(t,e,i,r);n.reset(s,DI),n.notifyOnChanges()}return!0}return!1}function Ap(n,e,t,r){const i=je();if(i.firstCreatePass){const s=Zt();(function(n,e,t){null===n.queries&&(n.queries=new cv),n.queries.track(new uv(e,t))})(i,new hk(e,t,r),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function(n,e,t){const r=new Dp(4==(4&t));XA(n,e,r,r.destroy),null===e[19]&&(e[19]=new lv),e[19].queries.push(new av(r))}(i,N(),t)}function mk(n,e){return n.queries.getByIndex(e)}const pd=new fe("Application Initializer");let uc=(()=>{class n{constructor(t){this.appInits=t,this.resolve=bp,this.reject=bp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ku(s))t.push(s);else if(cp(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(T(pd,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const gd=new fe("AppId"),R7={provide:gd,useFactory:function(){return`${yv()}${yv()}${yv()}`},deps:[]};function yv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ok=new fe("Platform Initializer"),md=new fe("Platform ID"),Rk=new fe("appBootstrapListener");let Mp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ri=new fe("LocaleId"),Pk=new fe("DefaultCurrencyCode");class L7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const bv=function(n){return new sv(n)},V7=bv,B7=function(n){return Promise.resolve(bv(n))},Lk=function(n){const e=bv(n),r=Ii(Vr(n).declarations).reduce((i,s)=>{const o=Gn(s);return o&&i.push(new ik(o)),i},[]);return new L7(e,r)},U7=Lk,j7=function(n){return Promise.resolve(Lk(n))};let ia=(()=>{class n{constructor(){this.compileModuleSync=V7,this.compileModuleAsync=B7,this.compileModuleAndAllComponentsSync=U7,this.compileModuleAndAllComponentsAsync=j7}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const z7=(()=>Promise.resolve(0))();function _v(n){"undefined"==typeof Zone?z7.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ct(!1),this.onMicrotaskEmpty=new Ct(!1),this.onStable=new Ct(!1),this.onError=new Ct(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Xe.requestAnimationFrame,e=Xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wv(n),n.isCheckStableRunning=!0,vv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return Vk(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Bk(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return Vk(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Bk(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,wv(n),vv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ye.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ye.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,G7,bp,bp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const G7={};function vv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Vk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bk(n){n._nesting--,vv(n)}class Q7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ct,this.onMicrotaskEmpty=new Ct,this.onStable=new Ct,this.onError=new Ct}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Ev=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ye.assertNotInAngularZone(),_v(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_v(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(T(Ye))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Uk=(()=>{class n{constructor(){this._applications=new Map,Cv.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Cv.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Y7{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let Cv=new Y7,jk=!0,$k=!1;function Sv(){return $k=!0,jk}let fi;const Hk=new fe("AllowMultipleToken");class Dv{constructor(e,t){this.name=e,this.token=t}}function zk(n,e,t=[]){const r=`Platform: ${e}`,i=new fe(r);return(s=[])=>{let o=qk();if(!o||o.injector.get(Hk,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Hu,useValue:"platform"});!function(n){if(fi&&!fi.destroyed&&!fi.injector.get(Hk,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fi=n.get(Gk);const e=n.get(Ok,null);e&&e.forEach(t=>t())}(tt.create({providers:a,name:r}))}return function(n){const e=qk();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function qk(){return fi&&!fi.destroyed?fi:null}let Gk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new Q7:("zone.js"===n?void 0:n)||new Ye({enableLongStackTrace:Sv(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Ye,useValue:a}];return a.run(()=>{const c=tt.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(Yo,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:g=>{d.handleError(g)}});u.onDestroy(()=>{Tv(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const r=t();return Ku(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(uc);return h.runInitializers(),h.donePromise.then(()=>(L_(u.injector.get(Ri,fp)||fp),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=Wk({},r);return function(n,e,t){const r=new sv(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(dc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Me(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(T(tt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Wk(n,e){return Array.isArray(e)?e.reduce(Wk,n):Object.assign(Object.assign({},n),e)}let dc=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new wt(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new wt(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),_v(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=function(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return ff(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof wt?n[0]:yu(e)(Qy(n,t))}(a,l.pipe(n=>Yy()(function(n,e){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,pj);return s.source=r,s.subjectFactory=i,s}}(_j)(n))))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof EI?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Oi),a=i.create(tt.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(Ev,null),u=c&&a.injector.get(Uk);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Tv(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Tv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Rk,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(T(Ye),T(tt),T(Yo),T(ea),T(uc))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Tv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Fp{}class d6{}const h6={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let f6=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||h6}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),B(255)(r).then(s=>s[i]).then(s=>Zk(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[r,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),B(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>Zk(o,r,i))}}return n.\u0275fac=function(t){return new(t||n)(T(ia),T(d6,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Zk(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const C6=zk(null,"core",[{provide:md,useValue:"unknown"},{provide:Gk,deps:[tt]},{provide:Uk,deps:[]},{provide:Mp,deps:[]}]),x6=[{provide:dc,useClass:dc,deps:[Ye,tt,Yo,ea,uc]},{provide:AG,deps:[Ye],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:uc,useClass:uc,deps:[[new lr,pd]]},{provide:ia,useClass:ia,deps:[]},R7,{provide:ed,useFactory:function(){return w8},deps:[]},{provide:rc,useFactory:function(){return E8},deps:[]},{provide:Ri,useFactory:function(n){return L_(n=n||"undefined"!=typeof $localize&&$localize.locale||fp),n},deps:[[new kl(Ri),new lr,new Ys]]},{provide:Pk,useValue:"USD"}];let k6=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(T(dc))},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({providers:x6}),n})(),Hp=null;function Pi(){return Hp}const Ze=new fe("DocumentToken");let aa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({factory:I5,token:n,providedIn:"platform"}),n})();function I5(){return T(wM)}const k5=new fe("Location Initialized");let wM=(()=>{class n extends aa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){EM()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){EM()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(T(Ze))},n.\u0275prov=X({factory:M5,token:n,providedIn:"platform"}),n})();function EM(){return!!window.history.pushState}function M5(){return new wM(T(Ze))}function jv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function CM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _s(n){return n&&"?"!==n[0]?"?"+n:n}let pc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({factory:N5,token:n,providedIn:"root"}),n})();function N5(n){const e=T(Ze).location;return new SM(T(aa),e&&e.origin||"")}const $v=new fe("appBaseHref");let SM=(()=>{class n extends pc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_s(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+_s(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+_s(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(T(aa),T($v,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),F5=(()=>{class n extends pc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=jv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+_s(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+_s(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(T(aa),T($v,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),zp=(()=>{class n{constructor(t,r){this._subject=new Ct,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=CM(DM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_s(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,DM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_s(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_s(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(T(pc),T(aa))},n.normalizeQueryParams=_s,n.joinWithSlash=jv,n.stripTrailingSlash=CM,n.\u0275prov=X({factory:O5,token:n,providedIn:"root"}),n})();function O5(){return new zp(T(pc),T(aa))}function DM(n){return n.replace(/\/index.html$/,"")}var Wt=(()=>((Wt=Wt||{})[Wt.Zero=0]="Zero",Wt[Wt.One=1]="One",Wt[Wt.Two=2]="Two",Wt[Wt.Few=3]="Few",Wt[Wt.Many=4]="Many",Wt[Wt.Other=5]="Other",Wt))();const $5=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Yx(e);if(t)return t;const r=e.split("-")[0];if(t=Yx(r),t)return t;if("en"===r)return Xq;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[G.PluralCase]};class eg{}let yW=(()=>{class n extends eg{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch($5(r||this.locale)(t)){case Wt.Zero:return"zero";case Wt.One:return"one";case Wt.Two:return"two";case Wt.Few:return"few";case Wt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(T(Ri))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class wW{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new wW(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new OM(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new OM(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v(ui),v(ys),v(ed))},n.\u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class OM{constructor(e,t){this.record=e,this.view=t}}let BM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({providers:[{provide:eg,useClass:yW}]}),n})();const UM="browser";let jM=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new XW(T(Ze),window)}),n})();class XW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$M(this.window.history)||$M(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function $M(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class tw extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Hp||(Hp=n)}(new tw)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Cd=Cd||document.querySelector("base"),Cd?Cd.getAttribute("href"):null);return null==t?null:function(n){tg=tg||document.createElement("a"),tg.setAttribute("href",n);const e=tg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let tg,Cd=null;const HM=new fe("TRANSITION_ID"),oK=[{provide:pd,useFactory:function(n,e,t){return()=>{t.get(uc).donePromise.then(()=>{const r=Pi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[HM,Ze,tt],multi:!0}];class nw{static init(){!function(n){Cv=n}(new nw)}addToWindow(e){Xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xe.getAllAngularRootElements=()=>e.getAllRootElements(),Xe.frameworkStabilizers||(Xe.frameworkStabilizers=[]),Xe.frameworkStabilizers.push(r=>{const i=Xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Pi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let aK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Sd=new fe("EventManagerPlugins");let rg=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(T(Sd),T(Ye))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class rw{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let qM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Dd=(()=>{class n extends qM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(GM),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(GM))}}return n.\u0275fac=function(t){return new(t||n)(T(Ze))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function GM(n){Pi().remove(n)}const iw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sw=/%COMP%/g;function ig(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ig(n,i,t):(i=i.replace(sw,n),t.push(i))}return t}function QM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let sg=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ow(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case zt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new EK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case zt.ShadowDom:return new CK(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ig(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(T(rg),T(Dd),T(gd))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class ow{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(iw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=iw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=iw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(t,r,i&Er.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Er.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,QM(r)):this.eventManager.addEventListener(e,t,QM(r))}}class EK extends ow{constructor(e,t,r,i){super(e),this.component=r;const s=ig(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(sw,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(sw,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class CK extends ow{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ig(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let SK=(()=>{class n extends rw{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(T(Ze))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const JM=["alt","control","meta","shift"],MK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},NK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let FK=(()=>{class n extends rw{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(JM.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&XM.hasOwnProperty(e)&&(e=XM[e]))}return MK[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),JM.forEach(s=>{s!=i&&NK[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(T(Ze))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const jK=zk(C6,"browser",[{provide:md,useValue:UM},{provide:Ok,useValue:function(){tw.makeCurrent(),nw.init()},multi:!0},{provide:Ze,useFactory:function(){return function(n){cb=n}(document),document},deps:[]}]),$K=[[],{provide:Hu,useValue:"root"},{provide:Yo,useFactory:function(){return new Yo},deps:[]},{provide:Sd,useClass:SK,multi:!0,deps:[Ze,Ye,md]},{provide:Sd,useClass:FK,multi:!0,deps:[Ze]},[],{provide:sg,useClass:sg,deps:[rg,Dd,gd]},{provide:ta,useExisting:sg},{provide:qM,useExisting:Dd},{provide:Dd,useClass:Dd,deps:[Ze]},{provide:Ev,useClass:Ev,deps:[Ye]},{provide:rg,useClass:rg,deps:[Sd,Ye]},{provide:class{},useClass:aK,deps:[]},[]];let uw=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:gd,useValue:t.appId},{provide:HM,useExisting:gd},oK]}}}return n.\u0275fac=function(t){return new(t||n)(T(n,12))},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({providers:$K,imports:[BM,k6]}),n})();function og(n,e){return new wt(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=vn(n[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),i[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===r||!c)&&(o===r&&t.next(e?e.reduce((u,d,h)=>(u[d]=i[h],u),{}):i),t.complete())}}))}})}"undefined"!=typeof window&&window;let tN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(v(ms),v(lt))},n.\u0275dir=te({type:n}),n})(),la=(()=>{class n extends tN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}(),n.\u0275dir=te({type:n,features:[nt]}),n})();const Li=new fe("NgValueAccessor"),JK={provide:Li,useExisting:ut(()=>ag),multi:!0},e9=new fe("CompositionEventMode");let ag=(()=>{class n extends tN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Pi()?Pi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(v(ms),v(lt),v(e9,8))},n.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ge("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ft([JK]),nt]}),n})();const Pn=new fe("NgValidators"),io=new fe("NgAsyncValidators");function hN(n){return null!=n}function fN(n){const e=Ku(n)?vn(n):n;return cp(e),e}function pN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function gN(n,e){return e.map(t=>t(n))}function mN(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function hw(n){return null!=n?function(n){if(!n)return null;const e=n.filter(hN);return 0==e.length?null:function(t){return pN(gN(t,e))}}(mN(n)):null}function fw(n){return null!=n?function(n){if(!n)return null;const e=n.filter(hN);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(J(e))return og(e,null);if(V(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return og(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return og(n=1===n.length&&J(n[0])?n[0]:n,null).pipe(st(t=>e(...t)))}return og(n,null)}(gN(t,e).map(fN)).pipe(st(pN))}}(mN(n)):null}function _N(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pw(n){return n?Array.isArray(n)?n:[n]:[]}function lg(n,e){return Array.isArray(n)?n.includes(e):n===e}function EN(n,e){const t=pw(e);return pw(n).forEach(i=>{lg(t,i)||t.push(i)}),t}function CN(n,e){return pw(e).filter(t=>!lg(n,t))}let SN=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=hw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=te({type:n}),n})(),Xn=(()=>{class n extends SN{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ar(n)))(r||n)}}(),n.\u0275dir=te({type:n,features:[nt]}),n})();class oo extends SN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let TN=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(oo,2))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&gs("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[nt]}),n})();function Td(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(_N(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(_N(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();hg(e._rawValidators,i),hg(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&AN(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&AN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ad="VALID",gg="INVALID",gc="PENDING",xd="DISABLED";function vw(n){return(Ew(n)?n.validators:n)||null}function kN(n){return Array.isArray(n)?hw(n):n||null}function ww(n,e){return(Ew(e)?e.asyncValidators:n)||null}function MN(n){return Array.isArray(n)?fw(n):n||null}function Ew(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Cw{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=kN(this._rawValidators),this._composedAsyncValidatorFn=MN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ad}get invalid(){return this.status===gg}get pending(){return this.status==gc}get disabled(){return this.status===xd}get enabled(){return this.status!==xd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=kN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=MN(e)}addValidators(e){this.setValidators(EN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(EN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CN(e,this._rawAsyncValidators))}hasValidator(e){return lg(this._rawValidators,e)}hasAsyncValidator(e){return lg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ad||this.status===gc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xd:Ad}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gc,this._hasOwnPendingAsyncValidator=!0;const t=fN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof Sw?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof g9&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?xd:this.errors?gg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gc)?gc:this._anyControlsHaveStatus(gg)?gg:Ad}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ew(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mg extends Cw{constructor(e=null,t,r){super(vw(t),ww(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Sw extends Cw{constructor(e,t,r){super(vw(t),ww(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof mg?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class g9 extends Cw{constructor(e,t,r){super(vw(t),ww(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof mg?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const b9={provide:oo,useExisting:ut(()=>Tw)},ON=(()=>Promise.resolve(null))();let Tw=(()=>{class n extends oo{constructor(t,r,i,s){super(),this.control=new mg,this._registered=!1,this.update=new Ct,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ag?t=s:function(n){return Object.getPrototypeOf(n.constructor)===la}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Td(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ON.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;ON.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(v(Xn,9),v(Pn,10),v(io,10),v(Li,10))},n.\u0275dir=te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ft([b9]),nt,En]}),n})(),PN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({}),n})(),XN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({imports:[[PN]]}),n})(),H9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({imports:[XN]}),n})();function Ae(...n){let e=n[n.length-1];return ff(e)?(n.pop(),Ky(n,e)):Qy(n)}class bi extends gr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new fl;return this._value}next(e){super.next(this._value=e)}}const eF={};class q9{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new G9(e,this.resultSelector))}}class G9 extends yf{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(eF),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++){const i=e[r];this.add(mf(this,i,i,r))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r,i,s){const o=this.values,l=this.toRespond?o[r]===eF?--this.toRespond:this.toRespond:0;o[r]=t,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const yg=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Ow(...n){return yu(1)(Ae(...n))}const mc=new wt(n=>n.complete());function Rw(n){return n?function(n){return new wt(e=>n.schedule(()=>e.complete()))}(n):mc}function tF(n){return new wt(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?vn(t):Rw()).subscribe(e)})}function ao(n,e){return"function"==typeof e?t=>t.pipe(ao((r,i)=>vn(n(r,i)).pipe(st((s,o)=>e(r,s,i,o))))):t=>t.lift(new Q9(n))}class Q9{constructor(e){this.project=e}call(e,t){return t.subscribe(new Y9(e,this.project))}}class Y9 extends yf{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,r)}_innerSub(e,t,r){const i=this.innerSubscription;i&&i.unsubscribe();const s=new pf(this,t,r),o=this.destination;o.add(s),this.innerSubscription=mf(this,e,void 0,void 0,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,r,i,s){this.destination.next(t)}}const nF=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function bg(n){return e=>0===n?Rw():e.lift(new Z9(n))}class Z9{constructor(e){if(this.total=e,this.total<0)throw new nF}call(e,t){return t.subscribe(new J9(e,this.total))}}class J9 extends q{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function rF(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new eQ(n,e,t))}}class eQ{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new tQ(e,this.accumulator,this.seed,this.hasSeed))}}class tQ extends q{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function yc(n,e){return function(r){return r.lift(new nQ(n,e))}}class nQ{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new rQ(e,this.predicate,this.thisArg))}}class rQ extends q{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function ca(n){return function(t){const r=new iQ(n),i=t.lift(r);return r.caught=i}}class iQ{constructor(e){this.selector=e}call(e,t){return t.subscribe(new sQ(e,this.selector,this.caught))}}class sQ extends yf{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new pf(this,void 0,void 0);this.add(r);const i=mf(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}function kd(n,e){return wn(n,e,1)}function Pw(n){return function(t){return 0===n?Rw():t.lift(new oQ(n))}}class oQ{constructor(e){if(this.total=e,this.total<0)throw new nF}call(e,t){return t.subscribe(new aQ(e,this.total))}}class aQ extends q{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=t++%r;e.next(i[o])}}e.complete()}}function iF(n=uQ){return e=>e.lift(new lQ(n))}class lQ{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new cQ(e,this.errorFactory))}}class cQ extends q{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function uQ(){return new yg}function sF(n=null){return e=>e.lift(new dQ(n))}class dQ{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new hQ(e,this.defaultValue))}}class hQ extends q{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function bc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?yc((i,s)=>n(i,s,r)):hf,bg(1),t?sF(e):iF(()=>new yg))}function lo(){}function Tr(n,e,t){return function(i){return i.lift(new pQ(n,e,t))}}class pQ{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new gQ(e,this.nextOrObserver,this.error,this.complete))}}class gQ extends q{constructor(e,t,r,i){super(e),this._tapNext=lo,this._tapError=lo,this._tapComplete=lo,this._tapError=r||lo,this._tapComplete=i||lo,Ue(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||lo,this._tapError=t.error||lo,this._tapComplete=t.complete||lo)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class yQ{constructor(e){this.callback=e}call(e,t){return t.subscribe(new bQ(e,this.callback))}}class bQ extends q{constructor(e,t){super(e),this.add(new L(t))}}class ws{constructor(e,t){this.id=e,this.url=t}}class Lw extends ws{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Md extends ws{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oF extends ws{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _Q extends ws{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vQ extends ws{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wQ extends ws{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EQ extends ws{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class CQ extends ws{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SQ extends ws{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aF{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lF{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DQ{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TQ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AQ{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xQ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Oe="primary";class IQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _c(n){return new IQ(n)}const uF="ngNavigationCancelingError";function Vw(n){const e=Error("NavigationCancelingError: "+n);return e[uF]=!0,e}function MQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Vi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!dF(n[i],e[i]))return!1;return!0}function dF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function hF(n){return Array.prototype.concat.apply([],n)}function fF(n){return n.length>0?n[n.length-1]:null}function Sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Bi(n){return cp(n)?n:Ku(n)?vn(Promise.resolve(n)):Ae(n)}const OQ={exact:function mF(n,e,t){if(!da(n.segments,e.segments)||!_g(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!mF(n.children[r],e.children[r],t))return!1;return!0},subset:yF},pF={exact:function(n,e){return Vi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dF(n[t],e[t]))},ignored:()=>!0};function gF(n,e,t){return OQ[t.paths](n.root,e.root,t.matrixParams)&&pF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yF(n,e,t){return bF(n,e,e.segments,t)}function bF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!da(i,t)||e.hasChildren()||!_g(i,t,r))}if(n.segments.length===t.length){if(!da(n.segments,t)||!_g(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!yF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(da(n.segments,i)&&_g(n.segments,i,r)&&n.children[Oe])&&bF(n.children[Oe],e,s,r)}}function _g(n,e,t){return e.every((r,i)=>pF[t](n[i].parameters,r.parameters))}class ua{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_c(this.queryParams)),this._queryParamMap}toString(){return BQ.serialize(this)}}class Pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Sn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vg(this)}}class Nd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_c(this.parameters)),this._parameterMap}toString(){return EF(this)}}function da(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Bw{}class _F{parse(e){const t=new KQ(e);return new ua(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Fd(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wg(t)}=${wg(i)}`).join("&"):`${wg(t)}=${wg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const BQ=new _F;function vg(n){return n.segments.map(e=>EF(e)).join("/")}function Fd(n,e){if(!n.hasChildren())return vg(n);if(e){const t=n.children[Oe]?Fd(n.children[Oe],!1):"",r=[];return Sn(n.children,(i,s)=>{s!==Oe&&r.push(`${s}:${Fd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Sn(n.children,(r,i)=>{i===Oe&&(t=t.concat(e(r,i)))}),Sn(n.children,(r,i)=>{i!==Oe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Oe?[Fd(n.children[Oe],!1)]:[`${i}:${Fd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Oe]?`${vg(n)}/${t[0]}`:`${vg(n)}/(${t.join("//")})`}}function vF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wg(n){return vF(n).replace(/%3B/gi,";")}function Uw(n){return vF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eg(n){return decodeURIComponent(n)}function wF(n){return Eg(n.replace(/\+/g,"%20"))}function EF(n){return`${Uw(n.path)}${function(n){return Object.keys(n).map(e=>`;${Uw(e)}=${Uw(n[e])}`).join("")}(n.parameters)}`}const HQ=/^[^\/()?;=#]+/;function Cg(n){const e=n.match(HQ);return e?e[0]:""}const zQ=/^[^=?&#]+/,GQ=/^[^?&#]+/;class KQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Oe]=new Pe(e,t)),r}parseSegment(){const e=Cg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Nd(Eg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Cg(this.remaining);i&&(r=i,this.capture(r))}e[Eg(t)]=Eg(r)}parseQueryParam(e){const t=function(n){const e=n.match(zQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(GQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=wF(t),s=wF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Oe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Oe]:new Pe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class CF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=jw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$w(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $w(e,this._root).map(t=>t.value)}}function jw(n,e){if(n===e.value)return e;for(const t of e.children){const r=jw(n,t);if(r)return r}return null}function $w(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$w(n,t);if(r.length)return r.unshift(e),r}return[]}class Es{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Od(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class SF extends CF{constructor(e,t){super(e),this.snapshot=t,Hw(this,e)}toString(){return this.snapshot.toString()}}function DF(n,e){const t=function(n,e){const o=new Sg([],{},{},"",{},Oe,e,null,n.root,-1,{});return new AF("",new Es(o,[]))}(n,e),r=new bi([new Nd("",{})]),i=new bi({}),s=new bi({}),o=new bi({}),a=new bi(""),l=new vc(r,i,o,a,s,Oe,e,t.root);return l.snapshot=t.root,new SF(new Es(l,[]),t)}class vc{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(st(e=>_c(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(st(e=>_c(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Sg{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_c(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_c(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AF extends CF{constructor(e,t){super(t),this.url=e,Hw(this,t)}toString(){return xF(this._root)}}function Hw(n,e){e.value._routerState=n,e.children.forEach(t=>Hw(n,t))}function xF(n){const e=n.children.length>0?` { ${n.children.map(xF).join(", ")} } `:"";return`${n.value}${e}`}function zw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Vi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Vi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function qw(n,e){return Vi(n.params,e.params)&&function(n,e){return da(n,e)&&n.every((t,r)=>Vi(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||qw(n.parent,e.parent))}function Dg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Dg(n,r,i);return Dg(n,r)})}(n,e,t);return new Es(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return IF(e,o),o}}const r=function(n){return new vc(new bi(n.url),new bi(n.params),new bi(n.queryParams),new bi(n.fragment),new bi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Dg(n,s));return new Es(r,i)}}function IF(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)IF(n.children[t],e.children[t])}function Tg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rd(n){return"object"==typeof n&&null!=n&&n.outlets}function Gw(n,e,t,r,i){let s={};return r&&Sn(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new ua(t.root===n?e:kF(t.root,n,e),s,i)}function kF(n,e,t){const r={};return Sn(n.children,(i,s)=>{r[s]=i===e?t:kF(i,e,t)}),new Pe(n.segments,r)}class MF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Rd);if(i&&i!==fF(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ww{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function NF(n,e,t){if(n||(n=new Pe([],{})),0===n.segments.length&&n.hasChildren())return Ag(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Rd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!OF(l,c,o))return s;r+=2}else{if(!OF(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Pe(n.segments.slice(0,r.pathIndex),{});return s.children[Oe]=new Pe(n.segments.slice(r.pathIndex),n.children),Ag(s,0,i)}return r.match&&0===i.length?new Pe(n.segments,{}):r.match&&!n.hasChildren()?Kw(n,e,t):r.match?Ag(n,0,i):Kw(n,e,t)}function Ag(n,e,t){if(0===t.length)return new Pe(n.segments,{});{const r=function(n){return Rd(n[0])?n[0].outlets:{[Oe]:n}}(t),i={};return Sn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=NF(n.children[o],e,s))}),Sn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Pe(n.segments,i)}}function Kw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Rd(s)){const l=oY(s.outlets);return new Pe(r,l)}if(0===i&&Tg(t[0])){r.push(new Nd(n.segments[e].path,FF(t[0]))),i++;continue}const o=Rd(s)?s.outlets[Oe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Tg(a)?(r.push(new Nd(o,FF(a))),i+=2):(r.push(new Nd(o,{})),i++)}return new Pe(r,{})}function oY(n){const e={};return Sn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Kw(new Pe([],{}),0,t))}),e}function FF(n){const e={};return Sn(n,(t,r)=>e[r]=`${t}`),e}function OF(n,e,t){return n==t.path&&Vi(e,t.parameters)}class lY{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Od(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Sn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Od(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Od(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new TQ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(zw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),RF(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function RF(n){zw(n.value),n.children.forEach(RF)}class Qw{constructor(e,t){this.routes=e,this.module=t}}function co(n){return"function"==typeof n}function ha(n){return n instanceof ua}const Pd=Symbol("INITIAL_VALUE");function Ld(){return ao(n=>function(...n){let e=null,t=null;return ff(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&J(n[0])&&(n=n[0]),Qy(n,t).lift(new q9(e))}(n.map(e=>e.pipe(bg(1),function(...n){const e=n[n.length-1];return ff(e)?(n.pop(),t=>Ow(n,t,e)):t=>Ow(n,t)}(Pd)))).pipe(rF((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Pd?i:(s===Pd&&(r=!0),r||!1!==s&&o!==t.length-1&&!ha(s)?i:s),e)},Pd),yc(e=>e!==Pd),st(e=>ha(e)?e:!0===e),bg(1)))}let PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Cn(0,"router-outlet")},directives:function(){return[tE]},encapsulation:2}),n})();function LF(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];gY(r,mY(e,r))}}function gY(n,e){n.children&&LF(n.children,e)}function mY(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Yw(n){const e=n.children&&n.children.map(Yw),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Oe&&(t.component=PF),t}function Qr(n){return n.outlet||Oe}function VF(n,e){const t=n.filter(r=>Qr(r)===e);return t.push(...n.filter(r=>Qr(r)!==e)),t}const BF={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},BF):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||MQ)(t,n,e);if(!s)return Object.assign({},BF);const o={};Sn(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Ig(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>kg(n,e,r)&&Qr(r)!==Oe)}(n,t,r)){const o=new Pe(e,function(n,e,t,r){const i={};i[Oe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Qr(s)!==Oe){const o=new Pe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Qr(s)]=o}return i}(n,e,r,new Pe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>kg(n,e,r))}(n,t,r)){const o=new Pe(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(kg(n,t,a)&&!i[Qr(a)]){const l=new Pe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Qr(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Pe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function kg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function UF(n,e,t,r){return!!(Qr(n)===r||r!==Oe&&kg(e,t,n))&&("**"===n.path||xg(e,n,t).matched)}function jF(n,e,t){return 0===e.length&&!n.children[t]}class Vd{constructor(e){this.segmentGroup=e||null}}class $F{constructor(e){this.urlTree=e}}function Mg(n){return new wt(e=>e.error(new Vd(n)))}function HF(n){return new wt(e=>e.error(new $F(n)))}function wY(n){return new wt(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class SY{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Oi)}apply(){const e=Ig(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Oe).pipe(st(s=>this.createUrlTree(Zw(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ca(s=>{if(s instanceof $F)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Vd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Oe).pipe(st(i=>this.createUrlTree(Zw(i),e.queryParams,e.fragment))).pipe(ca(i=>{throw i instanceof Vd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Pe([],{[Oe]:e}):e;return new ua(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(st(s=>new Pe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return vn(i).pipe(kd(s=>{const o=r.children[s],a=VF(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(st(l=>({segment:l,outlet:s})))}),rF((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?yc((i,s)=>n(i,s,r)):hf,Pw(1),t?sF(e):iF(()=>new yg))}())}expandSegment(e,t,r,i,s,o){return vn(r).pipe(kd(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ca(c=>{if(c instanceof Vd)return Ae(null);throw c}))),bc(a=>!!a),ca((a,l)=>{if(a instanceof yg||"EmptyError"===a.name){if(jF(t,i,s))return Ae(new Pe([],{}));throw new Vd(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return UF(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Mg(t):Mg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?HF(s):this.lineralizeSegments(r,s).pipe(wn(o=>{const a=new Pe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=xg(t,i,s);if(!a)return Mg(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?HF(d):this.lineralizeSegments(i,d).pipe(wn(h=>this.expandSegment(e,t,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ae(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(st(h=>(r._loadedConfig=h,new Pe(i,{})))):Ae(new Pe(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=xg(t,r,i);if(!o)return Mg(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(wn(d=>{const h=d.module,g=d.routes,{segmentGroup:m,slicedSegments:_}=Ig(t,a,c,g),b=new Pe(m.segments,m.children);if(0===_.length&&b.hasChildren())return this.expandChildren(h,g,b).pipe(st(R=>new Pe(a,R)));if(0===g.length&&0===_.length)return Ae(new Pe(a,{}));const E=Qr(r)===s;return this.expandSegment(h,b,g,_,E?Oe:s,!0).pipe(st(x=>new Pe(a.concat(x.segments),x.children)))}))}getChildConfig(e,t,r){return t.children?Ae(new Qw(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ae(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(wn(i=>i?this.configLoader.load(e.injector,t).pipe(st(s=>(t._loadedConfig=s,s))):function(n){return new wt(e=>e.error(Vw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Ae(new Qw([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Ae(i.map(o=>{const a=e.get(o);let l;if(function(n){return n&&co(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!co(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Bi(l)})).pipe(Ld(),Tr(o=>{if(!ha(o))return;const a=Vw(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),st(o=>!0===o)):Ae(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ae(r);if(i.numberOfChildren>1||!i.children[Oe])return wY(e.redirectTo);i=i.children[Oe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ua(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Sn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Sn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Pe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Zw(n){const e={};for(const r of Object.keys(n.children)){const s=Zw(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Oe]){const e=n.children[Oe];return new Pe(n.segments.concat(e.segments),e.children)}return n}(new Pe(n.segments,e))}class zF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ng{constructor(e,t){this.component=e,this.route=t}}function AY(n,e,t){const r=n._root;return Bd(r,e?e._root:null,t,[r.value])}function Fg(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Bd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Od(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!da(n.url,e.url);case"pathParamsOrQueryParamsChange":return!da(n.url,e.url)||!Vi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qw(n,e)||!Vi(n.queryParams,e.queryParams);case"paramsChange":default:return!qw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new zF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Bd(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ng(a.outlet.component,o))}else o&&Ud(e,a,i),i.canActivateChecks.push(new zF(r)),Bd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Sn(s,(o,a)=>Ud(o,t.getContext(a),i)),i}function Ud(n,e,t){const r=Od(n),i=n.value;Sn(r,(s,o)=>{Ud(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Ng(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class UY{}function qF(n){return new wt(e=>e.error(n))}class $Y{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Ig(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Oe);if(null===t)return null;const r=new Sg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Es(r,t),s=new AF(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=TF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=VF(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=GF(r);return function(n){n.sort((e,t)=>e.value.outlet===Oe?-1:t.value.outlet===Oe?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return jF(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!UF(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const g=r.length>0?fF(r).parameters:{};s=new Sg(r,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,QF(e),Qr(e),e.component,e,WF(t),KF(t)+r.length,YF(e))}else{const g=xg(t,e,r);if(!g.matched)return null;o=g.consumedSegments,a=r.slice(g.lastChild),s=new Sg(o,g.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,QF(e),Qr(e),e.component,e,WF(t),KF(t)+o.length,YF(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Ig(t,o,a,l.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const g=this.processChildren(l,c);return null===g?null:[new Es(s,g)]}if(0===l.length&&0===u.length)return[new Es(s,[])];const d=Qr(e)===i,h=this.processSegment(l,c,u,d?Oe:i);return null===h?null:[new Es(s,h)]}}function qY(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function GF(n){const e=[],t=new Set;for(const r of n){if(!qY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=GF(r.children);e.push(new Es(r.value,i))}return e.filter(r=>!t.has(r))}function WF(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function KF(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function QF(n){return n.data||{}}function YF(n){return n.resolve||{}}function Jw(n){return ao(e=>{const t=n(e);return t?vn(t).pipe(st(()=>e)):Ae(e)})}class XY extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Xw=new fe("ROUTES");class ZF{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(st(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Qw(hF(o.injector.get(Xw,void 0,ue.Self|ue.Optional)).map(Yw),o)}),ca(s=>{throw t._loader$=void 0,s}));return t._loader$=new $D(i,()=>new gr).pipe(Yy()),t._loader$}loadModuleFactory(e){return"string"==typeof e?vn(this.loader.load(e)):Bi(e()).pipe(wn(t=>t instanceof FI?Ae(t):vn(this.compiler.compileModuleAsync(t))))}}class eZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wc,this.attachRef=null}}class wc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new eZ,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class nZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function rZ(n){throw n}function iZ(n,e,t){return e.parse("/")}function JF(n,e){return Ae(null)}const sZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ln=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gr,this.errorHandler=rZ,this.malformedUriErrorHandler=iZ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:JF,afterPreactivation:JF},this.urlHandlingStrategy=new nZ,this.routeReuseStrategy=new XY,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Oi),this.console=o.get(Mp);const h=o.get(Ye);this.isNgZoneEnabled=h instanceof Ye&&Ye.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new ua(new Pe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ZF(a,l,g=>this.triggerEvent(new aF(g)),g=>this.triggerEvent(new lF(g))),this.routerState=DF(this.currentUrlTree,this.rootComponentType),this.transitions=new bi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(yc(i=>0!==i.id),st(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ao(i=>{let s=!1,o=!1;return Ae(i).pipe(Tr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ao(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Og(a.source)&&(this.browserUrlTree=a.extractedUrl),Ae(a).pipe(ao(d=>{const h=this.transitions.getValue();return r.next(new Lw(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?mc:Promise.resolve(d)}),function(n,e,t,r){return ao(i=>function(n,e,t,r,i){return new SY(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(st(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Tr(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return wn(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new $Y(n,e,t,r,i,s).recognize();return null===o?qF(new UY):Ae(o)}catch(o){return qF(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(st(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Tr(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new vQ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:g,source:m,restoredState:_,extras:b}=a,E=new Lw(h,this.serializeUrl(g),m,_);r.next(E);const w=DF(g,this.rootComponentType).snapshot;return Ae(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:g,extras:Object.assign(Object.assign({},b),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),mc}),Jw(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:g}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!g})}),Tr(a=>{const l=new wQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),st(a=>Object.assign(Object.assign({},a),{guards:AY(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return wn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ae(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return vn(n).pipe(wn(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ae(s.map(a=>{const l=Fg(a,e,i);let c;if(function(n){return n&&co(n.canDeactivate)}(l))c=Bi(l.canDeactivate(n,e,t,r));else{if(!co(l))throw new Error("Invalid CanDeactivate guard");c=Bi(l(n,e,t,r))}return c.pipe(bc())})).pipe(Ld()):Ae(!0)}(i.component,i.route,t,e,r)),bc(i=>!0!==i,!0))}(o,r,i,n).pipe(wn(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return vn(e).pipe(kd(i=>Ow(function(n,e){return null!==n&&e&&e(new DQ(n)),Ae(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new AQ(n)),Ae(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>tF(()=>Ae(o.guards.map(l=>{const c=Fg(l,o.node,t);let u;if(function(n){return n&&co(n.canActivateChild)}(c))u=Bi(c.canActivateChild(r,n));else{if(!co(c))throw new Error("Invalid CanActivateChild guard");u=Bi(c(r,n))}return u.pipe(bc())})).pipe(Ld())));return Ae(s).pipe(Ld())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ae(r.map(s=>tF(()=>{const o=Fg(s,e,t);let a;if(function(n){return n&&co(n.canActivate)}(o))a=Bi(o.canActivate(e,n));else{if(!co(o))throw new Error("Invalid CanActivate guard");a=Bi(o(e,n))}return a.pipe(bc())}))).pipe(Ld()):Ae(!0)}(n,i.route,t))),bc(i=>!0!==i,!0))}(r,s,n,e):Ae(a)),st(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Tr(a=>{if(ha(a.guardsResult)){const c=Vw(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new EQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),yc(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Jw(a=>{if(a.guards.canActivateChecks.length)return Ae(a).pipe(Tr(l=>{const c=new CQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ao(l=>{let c=!1;return Ae(l).pipe(function(n,e){return wn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ae(t);let s=0;return vn(i).pipe(kd(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Ae({});const s={};return vn(i).pipe(wn(o=>function(n,e,t,r){const i=Fg(n,e,r);return Bi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Tr(a=>{s[o]=a}))),Pw(1),wn(()=>Object.keys(s).length===i.length?Ae(s):mc))}(n._resolve,n,e,r).pipe(st(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),TF(n,t).resolve),null)))}(o.route,r,n,e)),Tr(()=>s++),Pw(1),wn(o=>s===i.length?Ae(t):mc))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Tr({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Tr(l=>{const c=new SQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Jw(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:g}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!g})}),st(a=>{const l=function(n,e,t){const r=Dg(n,e._root,t?t._root:void 0);return new SF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Tr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>st(r=>(new lY(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Tr({next(){s=!0},complete(){s=!0}}),function(n){return e=>e.lift(new yQ(n))}(()=>{var a;if(!s&&!o){const l=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,l)):this.cancelNavigationTransition(i,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ca(a=>{if(o=!0,function(n){return n&&n[uF]}(a)){const l=ha(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new oF(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Og(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new _Q(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return mc}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){LF(t),this.config=t.map(Yw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,r,i){if(0===t.length)return Gw(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new MF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Sn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new MF(t,e,r)}(t);if(s.toRoot())return Gw(e.root,new Pe([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new Ww(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Ww(s,s===e.root,0)}const r=Tg(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ww(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Ag(o.segmentGroup,o.index,s.commands):NF(o.segmentGroup,o.index,s.commands);return Gw(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ha(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},sZ):!1===r?Object.assign({},oZ):r,ha(t))return gF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return gF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Md(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=Og(r)&&c&&!Og(c.source),g=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&g)return Promise.resolve(!0);let m,_,b;o?(m=o.resolve,_=o.reject,b=o.promise):b=new Promise((x,R)=>{m=x,_=R});const E=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),w=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):w=0,this.setTransition({id:E,targetPageId:w,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:m,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new oF(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(T(Uf),T(Bw),T(wc),T(zp),T(tt),T(Fp),T(ia),T(void 0))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Og(n){return"imperative"!==n}let un=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=[],this.onChanges=new gr,this.subscription=t.events.subscribe(s=>{s instanceof Md&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target)return!0;const a={skipLocationChange:Ec(this.skipLocationChange),replaceUrl:Ec(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ec(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(v(Ln),v(vc),v(pc))},n.\u0275dir=te({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Ge("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&(hp("href",r.href,Bb),Sr("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[En]}),n})();function Ec(n){return""===n||!!n}let tE=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ct,this.deactivateEvents=new Ct,this.name=s||Oe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new uZ(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(v(wc),v(ui),v(ea),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(vT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Zt(),n)}("name"),v(nd))},n.\u0275dir=te({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class uZ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vc?this.route:e===wc?this.childContexts:this.parent.get(e,t)}}class XF{}class eO{preload(e,t){return Ae(null)}}let tO=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new ZF(r,i,c=>t.triggerEvent(new aF(c)),c=>t.triggerEvent(new lF(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(yc(t=>t instanceof Md),kd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Oi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return vn(i).pipe(yu(),st(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ae(r._loadedConfig):this.loader.load(t.injector,r)).pipe(wn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(Fp),T(ia),T(tt),T(XF))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),nE=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Lw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Md&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new cF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(jM),T(void 0))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const fa=new fe("ROUTER_CONFIGURATION"),nO=new fe("ROUTER_FORROOT_GUARD"),hZ=[zp,{provide:Bw,useClass:_F},{provide:Ln,useFactory:function(n,e,t,r,i,s,o,a={},l,c){const u=new Ln(null,n,e,t,r,i,s,hF(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(d=>{var h,g;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(g=console.groupEnd)||void 0===g||g.call(console)}),u},deps:[Bw,wc,zp,tt,Fp,ia,Xw,fa,[class{},new lr],[class{},new lr]]},wc,{provide:vc,useFactory:function(n){return n.routerState.root},deps:[Ln]},{provide:Fp,useClass:f6},tO,eO,class{preload(e,t){return t().pipe(ca(()=>Ae(null)))}},{provide:fa,useValue:{enableTracing:!1}}];function fZ(){return new Dv("Router",Ln)}let rO=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[hZ,iO(t),{provide:nO,useFactory:mZ,deps:[[Ln,new lr,new Ys]]},{provide:fa,useValue:r||{}},{provide:pc,useFactory:gZ,deps:[aa,[new kl($v),new lr],fa]},{provide:nE,useFactory:pZ,deps:[Ln,jM,fa]},{provide:XF,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:eO},{provide:Dv,multi:!0,useFactory:fZ},[rE,{provide:pd,multi:!0,useFactory:vZ,deps:[rE]},{provide:sO,useFactory:wZ,deps:[rE]},{provide:Rk,multi:!0,useExisting:sO}]]}}static forChild(t){return{ngModule:n,providers:[iO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(T(nO,8),T(Ln,8))},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({}),n})();function pZ(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new nE(n,e,t)}function gZ(n,e,t={}){return t.useHash?new F5(n,e):new SM(n,e)}function mZ(n){return"guarded"}function iO(n){return[{provide:N3,multi:!0,useValue:n},{provide:Xw,multi:!0,useValue:n}]}let rE=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gr}appInitializer(){return this.injector.get(k5,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Ln),o=this.injector.get(fa);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Ae(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(fa),i=this.injector.get(tO),s=this.injector.get(nE),o=this.injector.get(Ln),a=this.injector.get(dc);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(T(tt))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function vZ(n){return n.appInitializer.bind(n)}function wZ(n){return n.bootstrapListener.bind(n)}const sO=new fe("Router Initializer");function uo(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}var ae=B(329);let Ui=(()=>{class n{constructor(){this.messageSource=new ae.BehaviorSubject(""),this.currentMessage=this.messageSource.asObservable(),this.gradeSource=new ae.BehaviorSubject(100),this.currentGrade=this.gradeSource.asObservable(),this.totalSentencesSource=new ae.BehaviorSubject(0),this.currentTotalSentences=this.totalSentencesSource.asObservable(),this.totalErrorsSource=new ae.BehaviorSubject(""),this.currentTotalErrors=this.totalErrorsSource.asObservable(),this.gradeAlertColorSource=new ae.BehaviorSubject(""),this.currentGradeAlertColor=this.gradeAlertColorSource.asObservable(),this.gradeFeedbackSource=new ae.BehaviorSubject(""),this.currentGradeFeedback=this.gradeFeedbackSource.asObservable()}changeMessage(t){this.messageSource.next(t)}changeGrade(t){this.gradeSource.next(t)}changeTotalSentences(t){this.totalSentencesSource.next(t)}changeTotalErrors(t){this.totalErrorsSource.next(t)}changeGradeAlertColor(t){this.gradeAlertColorSource.next(t)}changeGradeFeedback(t){this.gradeFeedbackSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cO(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function D(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){cO(s,r,i,o,a,"next",l)}function a(l){cO(s,r,i,o,a,"throw",l)}o(void 0)})}}const uO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},dO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,g=63&c;l||(g=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Pg=function(n){return function(n){const e=uO(n);return dO.encodeByteArray(e,!0)}(n).replace(/\./g,"")};function jd(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!IZ(t)||(n[t]=jd(n[t],e[t]));return n}function IZ(n){return"__proto__"!==n}function pa(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hO(){return"object"==typeof indexedDB}const aE=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&function(n){try{return dO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class fO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function pO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pg(JSON.stringify({alg:"none",type:"JWT"})),Pg(JSON.stringify(o)),""].join(".")}class ho extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lg.prototype.create)}}class Lg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(HZ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ho(i,`${this.serviceName}: ${o} (${i}).`,r)}}const HZ=/\{\$([^}]+)}/g;function mO(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function lE(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(yO(s)&&yO(o)){if(!lE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function yO(n){return null!==n&&"object"==typeof n}function zZ(n,e){const t=new qZ(n,e);return t.subscribe.bind(t)}class qZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=cE),void 0===i.error&&(i.error=cE),void 0===i.complete&&(i.complete=cE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cE(){}function Bt(n){return n&&n._delegate?n._delegate:n}class fo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class JZ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return D(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XZ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function XZ(n){return n===ga?void 0:n}class tJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JZ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const dE=[];var Le=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Le||(Le={})),Le))();const bO={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},nJ=Le.INFO,rJ={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},iJ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=rJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Bg{constructor(e){this.name=e,this._logLevel=nJ,this._logHandler=iJ,this._userLogHandler=null,dE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?bO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}let _O,vO;const wO=new WeakMap,hE=new WeakMap,EO=new WeakMap,fE=new WeakMap,pE=new WeakMap;let gE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return hE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||EO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return po(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function pJ(n){return"function"==typeof n?function(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vO||(vO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(mE(this),e),po(wO.get(this))}:function(...e){return po(n.apply(mE(this),e))}:function(e,...t){const r=n.call(mE(this),e,...t);return EO.set(r,e.sort?e.sort():[e]),po(r)}}(n):(n instanceof IDBTransaction&&function(n){if(hE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});hE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,_O||(_O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(n,gE):n)}function po(n){if(n instanceof IDBRequest)return function(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(po(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&wO.set(t,n)}).catch(()=>{}),pE.set(e,n),e}(n);if(fE.has(n))return fE.get(n);const e=pJ(n);return e!==n&&(fE.set(n,e),pE.set(e,n)),e}const mE=n=>pE.get(n),mJ=["get","getKey","getAll","getAllKeys","count"],yJ=["put","add","delete","clear"],yE=new Map;function CO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(yE.get(e))return yE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=yJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mJ.includes(t))return;const s=function(){var o=D(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return yE.set(e,s),s}gE=(n=>QU(KU({},n),{get:(e,t,r)=>CO(e,t)||n.get(e,t,r),has:(e,t)=>!!CO(e,t)||n.has(e,t)}))(gE);class bJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const bE="@firebase/app",ma=new Bg("@firebase/app"),go="[DEFAULT]",qJ={[bE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mo=new Map,$d=new Map;function Ug(n,e){try{n.container.addComponent(e)}catch(t){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function DO(n,e){n.container.addOrOverwriteComponent(e)}function ya(n){const e=n.name;if($d.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,n);for(const t of mo.values())Ug(t,n);return!0}function _E(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function GJ(n,e,t=go){_E(n,e).clearInstance(t)}function WJ(){$d.clear()}const Cs=new Lg("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class QJ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}const jg="9.12.1";function $g(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:go,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=aE())||void 0===n?void 0:n.config})()),!t)throw Cs.create("no-options");const s=mo.get(i);if(s){if(lE(t,s.options)&&lE(r,s.config))return s;throw Cs.create("duplicate-app",{appName:i})}const o=new tJ(i);for(const l of $d.values())o.addComponent(l);const a=new QJ(t,r,o);return mo.set(i,a),a}function TO(n=go){const e=mo.get(n);if(!e&&n===go)return $g();if(!e)throw Cs.create("no-app",{appName:n});return e}function YJ(){return Array.from(mo.values())}function AO(n){return vE.apply(this,arguments)}function vE(){return(vE=D(function*(n){const e=n.name;mo.has(e)&&(mo.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function _i(n,e,t){var r;let i=null!==(r=qJ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ma.warn(a.join(" "))}ya(new fo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function xO(n,e){if(null!==n&&"function"!=typeof n)throw Cs.create("invalid-log-argument");!function(n,e){for(const t of dE){let r=null;e&&e.level&&(r=bO[e.level]),t.userLogHandler=null===n?null:(i,s,...o)=>{const a=o.map(l=>{if(null==l)return null;if("string"==typeof l)return l;if("number"==typeof l||"boolean"==typeof l)return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch(c){return null}}).filter(l=>l).join(" ");s>=(null!=r?r:i.logLevel)&&n({level:Le[s].toLowerCase(),message:a,args:o,type:i.name})}}}(n,e)}function IO(n){!function(n){dE.forEach(e=>{e.setLogLevel(n)})}(n)}const Hd="firebase-heartbeat-store";let wE=null;function kO(){return wE||(wE=function(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=po(o);return r&&o.addEventListener("upgradeneeded",l=>{r(po(o.result),l.oldVersion,l.newVersion,po(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hd)}}}).catch(n=>{throw Cs.create("idb-open",{originalErrorMessage:n.message})})),wE}function EE(){return(EE=D(function*(n){var e;try{return(yield kO()).transaction(Hd).objectStore(Hd).get(NO(n))}catch(t){if(t instanceof ho)ma.warn(t.message);else{const r=Cs.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});ma.warn(r.message)}}})).apply(this,arguments)}function MO(n,e){return CE.apply(this,arguments)}function CE(){return(CE=D(function*(n,e){var t;try{const i=(yield kO()).transaction(Hd,"readwrite");return yield i.objectStore(Hd).put(e,NO(n)),i.done}catch(r){if(r instanceof ho)ma.warn(r.message);else{const i=Cs.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});ma.warn(i.message)}}})).apply(this,arguments)}function NO(n){return`${n.name}!${n.options.appId}`}class nX{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iX(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return D(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=FO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return D(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=FO(),{heartbeatsToSend:r,unsentEntries:i}=function(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),OO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),OO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Pg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function FO(){return(new Date).toISOString().substring(0,10)}class iX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(function*(){return!!hO()&&new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}}).then(()=>!0).catch(()=>!1)})()}read(){var e=this;return D(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(n){return EE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return MO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return MO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function OO(n){return Pg(JSON.stringify({version:2,heartbeats:n})).length}ya(new fo("platform-logger",e=>new bJ(e),"PRIVATE")),ya(new fo("heartbeat",e=>new nX(e),"PRIVATE")),_i(bE,"0.8.2",""),_i(bE,"0.8.2","esm2017"),_i("fire-js",""),_i("firebase","9.12.1","app");class ur{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");let Cc="9.12.1";const ba=new Bg("@firebase/firestore");function _a(n,...e){if(ba.logLevel<=Le.DEBUG){const t=e.map(SE);ba.debug(`Firestore (${Cc}): ${n}`,...t)}}function Hg(n,...e){if(ba.logLevel<=Le.ERROR){const t=e.map(SE);ba.error(`Firestore (${Cc}): ${n}`,...t)}}function RO(n,...e){if(ba.logLevel<=Le.WARN){const t=e.map(SE);ba.warn(`Firestore (${Cc}): ${n}`,...t)}}function SE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+n;throw Hg(e),new Error(e)}function Vn(n,e){n||ct()}function Sc(n,e){return n}const Dc="unknown",ie="invalid-argument",zg="unauthenticated",Ss="failed-precondition",xE="unimplemented";class W extends ho{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class HO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ur.UNAUTHENTICATED))}shutdown(){}}class dX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hX{constructor(e){this.auth=null,e.onInit(t=>{this.auth=t})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Vn("string"==typeof e.accessToken),new HO(e.accessToken,new ur(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class fX{constructor(e,t,r,i){this.t=e,this.i=t,this.o=r,this.u=i,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.h=new Map}l(){return this.u?this.u():(Vn(!("object"!=typeof this.t||null===this.t||!this.t.auth||!this.t.auth.getAuthHeaderValueForFirstParty)),this.t.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.h.set("X-Goog-AuthUser",this.i);const e=this.l();return e&&this.h.set("Authorization",e),this.o&&this.h.set("X-Goog-Iam-Authorization-Token",this.o),this.h}}class pX{constructor(e,t,r,i){this.t=e,this.i=t,this.o=r,this.u=i}getToken(){return Promise.resolve(new fX(this.t,this.i,this.o,this.u))}start(e,t){e.enqueueRetryable(()=>t(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mX{constructor(e){this.m=e,this.appCheck=null,e.onInit(t=>{this.appCheck=t})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(Vn("string"==typeof e.token),new gX(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class yX{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class zd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zd&&e.projectId===this.projectId&&e.database===this.database}}class qd{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ut extends qd{construct(e,t,r){return new Ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(ie,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ut(t)}static emptyPath(){return new Ut([])}}const bX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends qd{construct(e,t,r){return new Ar(e,t,r)}static isValidIdentifier(e){return bX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new W(ie,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new W(ie,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new W(ie,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(ie,"Unterminated ` in path: "+e);return new Ar(t)}static emptyPath(){return new Ar([])}}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Ut.fromString(e))}static fromName(e){return new Qt(Ut.fromString(e).popFirst(5))}static empty(){return new Qt(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Ut(e.slice()))}}function qO(n){if(Qt.isDocumentKey(n))throw new W(ie,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(ie,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}(n);throw new W(ie,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Gg(n){return 0===n&&1/n==-1/0}const _X={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var KO,$e;function QO(n){if(void 0===n)return Hg("RPC_ERROR","HTTP error has no status"),Dc;switch(n){case 200:return"ok";case 400:return Ss;case 401:return zg;case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 416:return"out-of-range";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return Dc;case 501:return xE;case 503:return"unavailable";case 504:return"deadline-exceeded";default:return n>=200&&n<300?"ok":n>=400&&n<500?Ss:n>=500&&n<600?"internal":Dc}}($e=KO||(KO={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";class vX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.p=(e.ssl?"https":"http")+"://"+e.host,this.g="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get v(){return!1}I(e,t,r,i,s){const o=this.T(e,t);_a("RestConnection","Sending: ",o,r);const a={};return this.A(a,i,s),this.R(e,o,a,r).then(l=>(_a("RestConnection","Received: ",l),l),l=>{throw RO("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}P(e,t,r,i,s,o){return this.I(e,t,r,i,s)}A(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}T(e,t){return`${this.p}/v1/${t}:${_X[e]}`}}{constructor(e,t){super(e),this.V=t}N(e,t){throw new Error("Not supported by FetchConnection")}R(e,t,r,i){var s=this;return D(function*(){const o=JSON.stringify(i);let a;try{a=yield s.V(t,{method:"POST",headers:r,body:o})}catch(l){throw new W(QO(l.status),"Request failed with error: "+l.statusText)}if(!a.ok)throw new W(QO(a.status),"Request failed with error: "+a.statusText);return a.json()})()}}function dn(n,e){return n<e?-1:n>e?1:0}class xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(ie,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(ie,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new W(ie,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(ie,"Timestamp seconds out of range: "+e)}static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new xr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dr(e)}static min(){return new dr(new xr(0,0))}static max(){return new dr(new xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function YO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Dn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Dn.RED,this.left=null!=i?i:Dn.EMPTY,this.right=null!=s?s:Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Dn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1,Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Dn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ds{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ds(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ds(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ds.EMPTY_BYTE_STRING=new Ds("");const CX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(n){if(Vn(!!n),"string"==typeof n){let e=0;const t=CX.exec(n);if(Vn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tn(n.seconds),nanos:tn(n.nanos)}}function tn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wd(n){return"string"==typeof n?Ds.fromBase64String(n):Ds.fromUint8Array(n)}function NE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function JO(n){const e=n.mapValue.fields.__previous_value__;return NE(e)?JO(e):e}function Kd(n){const e=wa(n.mapValue.fields.__local_write_time__.timestampValue);return new xr(e.seconds,e.nanos)}function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NE(n)?4:"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue?9007199254740991:10:ct()}function Tc(n,e){if(n===e)return!0;const t=Ea(n);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kd(n).isEqual(Kd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=wa(r.timestampValue),o=wa(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Wd(n.bytesValue).isEqual(Wd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return tn(r.geoPointValue.latitude)===tn(i.geoPointValue.latitude)&&tn(r.geoPointValue.longitude)===tn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tn(r.integerValue)===tn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tn(r.doubleValue),o=tn(i.doubleValue);return s===o?Gg(s)===Gg(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return function(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}(n.arrayValue.values||[],e.arrayValue.values||[],Tc);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(YO(s)!==YO(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Tc(s[a],o[a])))return!1;return!0}(n,e);default:return ct()}var i}function tR(n){return!!n&&"nullValue"in n}function nR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function FE(n){return!!n&&"mapValue"in n}function Yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!FE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yd(t)}setAll(e){let t=Ar.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Yd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());FE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];FE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Gd(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ir(Yd(this.value))}}class ji{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ji(e,0,dr.min(),dr.min(),Ir.empty(),0)}static newFoundDocument(e,t,r){return new ji(e,1,t,dr.min(),r,0)}static newNoDocument(e,t){return new ji(e,2,t,dr.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new ji(e,3,t,dr.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class SX{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.$=null}}function rR(n,e=null,t=[],r=[],i=null,s=null,o=null){return new SX(n,e,t,r,i,s,o)}class Xg{constructor(e,t){this.position=e,this.inclusive=t}}class Zd{constructor(e,t="asc"){this.field=e,this.dir=t}}class Ca{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.O=null,this.k=null}}function LE(n){const e=Sc(n);if(null===e.O){e.O=[];const t=function(n){for(const e of n.filters)if(e.q())return e.field;return null}(e),r=function(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.O.push(new Zd(t)),e.O.push(new Zd(Ar.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.O.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.O.push(new Zd(Ar.keyField(),s))}}}return e.O}function em(n){const e=Sc(n);if(!e.k)if("F"===e.limitType)e.k=rR(e.path,e.collectionGroup,LE(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of LE(e))t.push(new Zd(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Xg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xg(e.startAt.position,e.startAt.inclusive):null;e.k=rR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.k}const OX={asc:"ASCENDING",desc:"DESCENDING"},RX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class PX{constructor(e,t){this.databaseId=e,this.C=t}}function UE(n){return Vn(!!n),dr.fromTimestamp(function(e){const t=wa(e);return new xr(t.seconds,t.nanos)}(n))}function $E(n,e){const t=function(i){const s=Ut.fromString(i);return Vn(bR(s)),s}(e);if(t.get(1)!==n.databaseId.projectId)throw new W(ie,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(ie,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qt((Vn((r=t).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function pR(n,e){return function(n,e){return(t=n,new Ut(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function yR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=pR(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pR(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(nR(d.value))return{unaryFilter:{field:Ac(d.field),op:"IS_NAN"}};if(tR(d.value))return{unaryFilter:{field:Ac(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(nR(d.value))return{unaryFilter:{field:Ac(d.field),op:"IS_NOT_NAN"}};if(tR(d.value))return{unaryFilter:{field:Ac(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(d.field),op:$X(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Ac((u=c).field),direction:jX(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.C||function(n){return null==n}(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function jX(n){return OX[n]}function $X(n){return RX[n]}function Ac(n){return{fieldPath:n.canonicalString()}}function bR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class zX extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.tt=r,this.L=i,this.et=!1}nt(){if(this.et)throw new W(Ss,"The client has already been terminated.")}I(e,t,r){return this.nt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.tt.I(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===zg&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(Dc,i.toString())})}P(e,t,r,i){return this.nt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.tt.P(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===zg&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(Dc,s.toString())})}terminate(){this.et=!0}}function GE(){return(GE=D(function*(n,e){const t=Sc(n),r=yR(t.L,em(e));return(yield t.P("RunQuery",r.parent,{structuredQuery:r.structuredQuery})).filter(i=>!!i.document).map(i=>function(s,o,a){const l=$E(s,o.name),c=UE(o.updateTime),u=new Ir({mapValue:{fields:o.fields}});return ji.newFoundDocument(l,c,u)}(t.L,i.document))})).apply(this,arguments)}const Jd=new Map;function Ts(n){if(n._terminated)throw new W(Ss,"The client has already been terminated.");if(!Jd.has(n)){_a("ComponentProvider","Initializing Datastore");const s=(e=n._databaseId,t=n.app.options.appId||"",r=n._persistenceKey,i=n._freezeSettings(),l=new yX(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams),new vX(l,fetch.bind(null))),o=function(n){return new PX(n,!0)}(n._databaseId),a=function(l,c,u,d){return new zX(l,c,u,d)}(n._authCredentials,n._appCheckCredentials,s,o);Jd.set(n,a)}var l,e,t,r,i;return Jd.get(n)}class wR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new W(ie,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new W(ie,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(r,i,s,o){if(!0===i&&!0===o)throw new W(ie,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class As{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(Ss,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new W(Ss,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uX;switch(t.type){case"gapi":return new pX(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new W(ie,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jd.get(e);t&&(_a("ComponentProvider","Removing Datastore"),Jd.delete(e),t.terminate())}(this),Promise.resolve()}}function WX(n,e){const r="string"==typeof n?n:e||"(default)",i=_E("object"==typeof n?n:TO(),"firestore/lite").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=aE())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&function(n,e,t,r={}){var i;const s=(n=Yr(n,As))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&RO("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=ur.MOCK_USER;else{o=pO(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(ie,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ur(l)}n._authCredentials=new dX(new HO(o,a))}}(i,...s)}return i}class hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Zr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class vi extends Zr{constructor(e,t,r){super(e,t,new Ca(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Qt(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Sa(n,e,...t){if(n=Bt(n),function(n,e,t){if(!t)throw new W(ie,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof As){const r=Ut.fromString(e,...t);return qO(r),new vi(n,null,r)}{if(!(n instanceof hn||n instanceof vi))throw new W(ie,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return qO(r),new vi(n.firestore,null,r)}}class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(Ds.fromBase64String(e))}catch(t){throw new W(ie,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ic(Ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Da{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new W(ie,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(ie,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(ie,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}}const iee=new RegExp("[~\\*/\\[\\]]");function om(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new W(ie,a+n+l)}class MR extends class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new MR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(function(n,e){return"string"==typeof e?function(n,e,t){if(e.search(iee)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Da(...e.split("."))._internalPath}catch(r){throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof Da?e._internalPath:e._delegate._internalPath}("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}{data(){return super.data()}}class t0{constructor(e,t){this._docs=t,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return 0===this.docs.length}forEach(e,t){this._docs.forEach(e,t)}}function Ia(n,...e){for(const t of e)n=t._apply(n);return n}class lm extends class{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const r={};return Gd(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new KE(tn(e.latitude),tn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=JO(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kd(e));default:return null}}convertTimestamp(e){const t=wa(e);return new xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ut.fromString(e);Vn(bR(r));const i=new zd(r.get(1),r.get(3)),s=new Qt(r.popFirst(5));return i.isEqual(t)||Hg(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function ka(n){!function(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new W(xE,"limitToLast() queries require specifying at least one orderBy() clause")}((n=Yr(n,Zr))._query);const e=Ts(n.firestore),t=new lm(n.firestore);return function(n,e){return GE.apply(this,arguments)}(e,n._query).then(r=>{const i=r.map(s=>new MR(n.firestore,t,s.key,s,n.converter));return"L"===n._query.limitType&&i.reverse(),new t0(n,i)})}(function(n){Cc=n})(`${jg}_lite`),ya(new fo("firestore/lite",(n,{instanceIdentifier:e,options:t})=>{const r=n.getProvider("app").getImmediate(),i=new As(new hX(n.getProvider("auth-internal")),new mX(n.getProvider("app-check-internal")),function(s,o){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new W(ie,'"projectId" not provided in firebase.initializeApp.');return new zd(s.options.projectId,o)}(r,e),r);return t&&i._setSettings(t),i},"PUBLIC").setMultipleInstances(!0)),_i("firestore-lite","3.7.1",""),_i("firestore-lite","3.7.1","esm2017");class pee{constructor(e,t){this._delegate=e,this.firebase=t,Ug(e,new fo("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),AO(this._delegate)))}_getService(e,t=go){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=go){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ug(this._delegate,e)}_addOrOverwriteComponent(e){DO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const BR=new Lg("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),yee=function UR(){const n=function(n){const e={},t={__esModule:!0,initializeApp:function(c,u={}){const d=$g(c,u);if(mO(e,d.name))return e[d.name];const h=new n(d,t);return e[d.name]=h,h},app:i,registerVersion:_i,setLogLevel:IO,onLog:xO,apps:null,SDK_VERSION:jg,INTERNAL:{registerComponent:function(c){const u=c.name,d=u.replace("-compat","");if(ya(c)&&"PUBLIC"===c.type){const h=(g=i())=>{if("function"!=typeof g[d])throw BR.create("invalid-app-argument",{appName:u});return g[d]()};void 0!==c.serviceProps&&jd(h,c.serviceProps),t[d]=h,n.prototype[d]=function(...g){return this._getService.bind(this,u).apply(this,c.multipleInstances?g:[])}}return"PUBLIC"===c.type?t[d]:null},removeApp:function(c){delete e[c]},useAsService:function(c,u){return"serverAuth"===u?null:u},modularAPIs:de}};function i(c){if(!mO(e,c=c||go))throw BR.create("no-app",{appName:c});return e[c]}return t.default=t,Object.defineProperty(t,"apps",{get:function(){return Object.keys(e).map(c=>e[c])}}),i.App=n,t}(pee);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:UR,extendNamespace:function(t){jd(n,t)},createSubscribe:zZ,ErrorFactory:Lg,deepExtend:jd}),n}(),jR=new Bg("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){jR.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&jR.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const wee=yee;_i("@firebase/app-compat","0.1.37",void 0);var ne,Eee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xs={},s0=s0||{},Ce=Eee||self;function cm(){}function um(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function eh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var o0="closure_uid_"+(1e9*Math.random()>>>0),See=0;function Dee(n,e,t){return n.call.apply(n.bind,arguments)}function Tee(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Un(n,e,t){return(Un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dee:Tee).apply(null,arguments)}function dm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Tn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function yo(){this.s=this.s,this.o=this.o}var xee={};yo.prototype.s=!1,yo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,o0)&&n[o0]||(n[o0]=++See)}(this);delete xee[n]}},yo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $R=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function a0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function HR(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(um(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function jn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}jn.prototype.h=function(){this.defaultPrevented=!0};var Iee=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ce.addEventListener("test",cm,e),Ce.removeEventListener("test",cm,e)}catch(t){}return n}();function hm(n){return/^[\s\xa0]*$/.test(n)}var zR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function l0(n,e){return n<e?-1:n>e?1:0}function fm(){var n=Ce.navigator;return n&&(n=n.userAgent)?n:""}function $i(n){return-1!=fm().indexOf(n)}function c0(n){return c0[" "](n),n}c0[" "]=cm;var pm,Mee=$i("Opera"),kc=$i("Trident")||$i("MSIE"),qR=$i("Edge"),u0=qR||kc,GR=$i("Gecko")&&!(-1!=fm().toLowerCase().indexOf("webkit")&&!$i("Edge"))&&!($i("Trident")||$i("MSIE"))&&!$i("Edge"),Nee=-1!=fm().toLowerCase().indexOf("webkit")&&!$i("Edge");function WR(){var n=Ce.document;return n?n.documentMode:void 0}e:{var d0="",h0=function(){var n=fm();return GR?/rv:([^\);]+)(\)|;)/.exec(n):qR?/Edge\/([\d\.]+)/.exec(n):kc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Nee?/WebKit\/(\S+)/.exec(n):Mee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(h0&&(d0=h0?h0[1]:""),kc){var f0=WR();if(null!=f0&&f0>parseFloat(d0)){pm=String(f0);break e}}pm=d0}var Fee={};function Oee(){return e=Fee,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=zR(String(pm)).split("."),t=zR("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=l0(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||l0(0==i[2].length,0==s[2].length)||l0(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n}();var e}var Ree=Ce.document&&kc&&(WR()||parseInt(pm,10))||void 0;function th(n,e){if(jn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(GR){e:{try{c0(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&th.X.h.call(this)}}Tn(th,jn);var Pee={2:"touch",3:"pen",4:"mouse"};th.prototype.h=function(){th.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nh="closure_listenable_"+(1e6*Math.random()|0),Lee=0;function Vee(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Lee,this.ba=this.ea=!1}function gm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function g0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function QR(n){const e={};for(const t in n)e[t]=n[t];return e}const YR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZR(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<YR.length;s++)t=YR[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function mm(n){this.src=n,this.g={},this.h=0}function m0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=$R(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function y0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}mm.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=y0(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new Vee(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var b0="closure_lm_"+(1e6*Math.random()|0),_0={};function JR(n,e,t,r,i){if(r&&r.once)return eP(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)JR(n,e[s],t,r,i);return null}return t=C0(t),n&&n[nh]?n.N(e,t,eh(r)?!!r.capture:!!r,i):XR(n,e,t,!1,r,i)}function XR(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=eh(i)?!!i.capture:!!i,a=w0(n);if(a||(n[b0]=a=new mm(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function(){const e=Uee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Iee||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(nP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eP(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)eP(n,e[s],t,r,i);return null}return t=C0(t),n&&n[nh]?n.O(e,t,eh(r)?!!r.capture:!!r,i):XR(n,e,t,!0,r,i)}function tP(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)tP(n,e[s],t,r,i);else r=eh(r)?!!r.capture:!!r,t=C0(t),n&&n[nh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=y0(s=n.g[e],t,r,i))&&(gm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=w0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=y0(e,t,r,i)),(t=-1<n?e[n]:null)&&v0(t))}function v0(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[nh])m0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=w0(e))?(m0(t,n),0==t.h&&(t.src=null,e[b0]=null)):gm(n)}}}function nP(n){return n in _0?_0[n]:_0[n]="on"+n}function Uee(n,e){if(n.ba)n=!0;else{e=new th(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&v0(n),n=t.call(r,e)}return n}function w0(n){return(n=n[b0])instanceof mm?n:null}var E0="__closure_events_fn_"+(1e9*Math.random()>>>0);function C0(n){return"function"==typeof n?n:(n[E0]||(n[E0]=function(e){return n.handleEvent(e)}),n[E0])}function fn(){yo.call(this),this.i=new mm(this),this.P=this,this.I=null}function An(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new jn(e,n);else if(e instanceof jn)e.target=e.target||n;else{var i=e;ZR(e=new jn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=ym(o,r,!0,e)&&i}if(i=ym(o=e.g=n,r,!0,e)&&i,i=ym(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=ym(o=e.g=t[s],r,!1,e)&&i}function ym(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&m0(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Tn(fn,yo),fn.prototype[nh]=!0,fn.prototype.removeEventListener=function(n,e,t,r){tP(this,n,e,t,r)},fn.prototype.M=function(){if(fn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)gm(t[r]);delete n.g[e],n.h--}}this.I=null},fn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var S0=Ce.JSON.stringify;function jee(){var n=sP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var D0,rP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Hee,n=>n.reset());class Hee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zee(n){Ce.setTimeout(()=>{throw n},0)}function iP(n,e){D0||function(){var n=Ce.Promise.resolve(void 0);D0=function(){n.then(Gee)}}(),T0||(D0(),T0=!0),sP.add(n,e)}var T0=!1,sP=new class{constructor(){this.h=this.g=null}add(e,t){const r=rP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Gee(){for(var n;n=jee();){try{n.h.call(n.g)}catch(t){zee(t)}var e=rP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}T0=!1}function bm(n,e){fn.call(this),this.h=n||1,this.g=e||Ce,this.j=Un(this.lb,this),this.l=Date.now()}function A0(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function x0(n,e,t){if("function"==typeof n)t&&(n=Un(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Un(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ce.setTimeout(n,e||0)}function oP(n){n.g=x0(()=>{n.g=null,n.i&&(n.i=!1,oP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Tn(bm,fn),(ne=bm.prototype).ca=!1,ne.R=null,ne.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),An(this,"tick"),this.ca&&(A0(this),this.start()))}},ne.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.M=function(){bm.X.M.call(this),A0(this),delete this.g};class Wee extends yo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oP(this)}M(){super.M(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rh(n){yo.call(this),this.h=n,this.g={}}Tn(rh,yo);var aP=[];function lP(n,e,t,r){Array.isArray(t)||(t&&(aP[0]=t.toString()),t=aP);for(var i=0;i<t.length;i++){var s=JR(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function cP(n){g0(n.g,function(e,t){this.g.hasOwnProperty(t)&&v0(e)},n),n.g={}}function _m(){this.g=!0}function Mc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return S0(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}rh.prototype.M=function(){rh.X.M.call(this),cP(this)},rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_m.prototype.Aa=function(){this.g=!1},_m.prototype.info=function(){};var Na={},uP=null;function vm(){return uP=uP||new fn}function dP(n){jn.call(this,Na.Pa,n)}function ih(n){const e=vm();An(e,new dP(e,n))}function hP(n,e){jn.call(this,Na.STAT_EVENT,n),this.stat=e}function er(n){const e=vm();An(e,new hP(e,n))}function fP(n,e){jn.call(this,Na.Qa,n),this.size=e}function sh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){n()},e)}Na.Pa="serverreachability",Tn(dP,jn),Na.STAT_EVENT="statevent",Tn(hP,jn),Na.Qa="timingevent",Tn(fP,jn);var wm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},pP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function I0(){}function mP(){}I0.prototype.h=null;var N0,oh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function k0(){jn.call(this,"d")}function M0(){jn.call(this,"c")}function Em(){}function ah(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new rh(this),this.O=Jee,this.T=new bm(n=u0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yP}function yP(){this.i=null,this.g="",this.h=!1}Tn(k0,jn),Tn(M0,jn),Tn(Em,I0),Em.prototype.g=function(){return new XMLHttpRequest},Em.prototype.i=function(){return{}},N0=new Em;var Jee=45e3,F0={},Cm={};function O0(n,e,t){n.K=1,n.v=Am(Is(e)),n.s=t,n.P=!0,bP(n,null)}function bP(n,e){n.F=Date.now(),lh(n),n.A=Is(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),xP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new yP,n.g=JP(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Wee(Un(n.La,n,n.g),n.N)),lP(n.S,n.g,"readystatechange",n.ib),e=n.H?QR(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ih(1),function(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function _P(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function vP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Xee(n,t),i==Cm){4==e&&(n.o=4,er(14),r=!1),Mc(n.j,n.m,null,"[Incomplete Response]");break}if(i==F0){n.o=4,er(15),Mc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Mc(n.j,n.m,i,null),R0(n,i)}_P(n)&&i!=Cm&&i!=F0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,er(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),H0(e),e.K=!0,er(11))):(Mc(n.j,n.m,t,"[Invalid Chunked Response]"),Fa(n),ch(n))}function Xee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Cm:(t=Number(e.substring(t,r)),isNaN(t)?F0:(r+=1)+t>e.length?Cm:(e=e.substr(r,t),n.C=r+t,e))}function lh(n){n.V=Date.now()+n.O,wP(n,n.O)}function wP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sh(Un(n.gb,n),e)}function Sm(n){n.B&&(Ce.clearTimeout(n.B),n.B=null)}function ch(n){0==n.l.G||n.I||KP(n.l,n)}function Fa(n){Sm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,A0(n.T),cP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function R0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||P0(t.h,n)))if(!n.J&&P0(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=sh(Un(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Fm(t),Mm(t)}$0(t),er(18)}if(1>=MP(t.h)&&t.ja){try{t.ja()}catch(c){}t.ja=void 0}}else Ra(t,11)}else if((n.J||t.g==n)&&Fm(t),!hm(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const g=n.g;if(g){const m=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||-1==m.indexOf("spdy")&&-1==m.indexOf("quic")&&-1==m.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(L0(s,s.h),s.h=null))}if(r.D){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.za=_,St(r.F,r.D,_))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=ZP(r,r.H?r.ka:null,r.V),o.J){NP(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Sm(a),lh(a)),r.g=o}else GP(r);0<t.i.length&&Nm(t)}else"stop"!=c[0]&&"close"!=c[0]||Ra(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ra(t,7):j0(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}ih(4)}catch(c){}}function EP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(um(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(um(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(um(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(ne=ah.prototype).setTimeout=function(n){this.O=n},ne.ib=function(n){n=n.target;const e=this.L;e&&3==ks(n)?e.l():this.La(n)},ne.La=function(n){try{if(n==this.g)e:{const u=ks(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>u)&&(3!=u||u0||this.g&&(this.h.h||this.g.fa()||UP(this.g)))){this.I||4!=u||7==e||ih(8==e||0>=d?3:2),Sm(this);var t=this.g.aa();this.Y=t;t:if(_P(this)){var r=UP(this.g);n="";var i=r.length,s=4==ks(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fa(this),ch(this);var o="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hm(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,er(12),Fa(this),ch(this);break e}Mc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,R0(this,t)}this.P?(vP(this,u,o),u0&&this.i&&3==u&&(lP(this.S,this.T,"tick",this.hb),this.T.start())):(Mc(this.j,this.m,o,null),R0(this,o)),4==u&&Fa(this),this.i&&!this.I&&(4==u?KP(this.l,this):(this.i=!1,lh(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,er(12)):(this.o=0,er(13)),Fa(this),ch(this)}}}catch(u){}},ne.hb=function(){if(this.g){var n=ks(this.g),e=this.g.fa();this.C<e.length&&(Sm(this),vP(this,n,e),this.i&&4!=n&&lh(this))}},ne.cancel=function(){this.I=!0,Fa(this)},ne.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ih(3),er(17)),Fa(this),this.o=2,ch(this)):wP(this,this.V-n)};var CP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Oa){this.h=void 0!==e?e:n.h,Dm(this,n.j),this.s=n.s,this.g=n.g,Tm(this,n.m),this.l=n.l,e=n.i;var t=new hh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),SP(this,t),this.o=n.o}else n&&(t=String(n).match(CP))?(this.h=!!e,Dm(this,t[1]||"",!0),this.s=uh(t[2]||""),this.g=uh(t[3]||"",!0),Tm(this,t[4]),this.l=uh(t[5]||"",!0),SP(this,t[6]||"",!0),this.o=uh(t[7]||"")):(this.h=!!e,this.i=new hh(null,this.h))}function Is(n){return new Oa(n)}function Dm(n,e,t){n.j=t?uh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SP(n,e,t){e instanceof hh?(n.i=e,function(n,e){e&&!n.j&&(bo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(TP(this,r),xP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dh(e,ote)),n.i=new hh(e,n.h))}function St(n,e,t){n.i.set(e,t)}function Am(n){return St(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rte),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rte(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Oa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dh(e,DP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dh(e,DP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dh(t,"/"==t.charAt(0)?ste:ite,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dh(t,ate)),n.join("")};var DP=/[#\/\?@]/g,ite=/[#\?:]/g,ste=/[#\?]/g,ote=/[#\?@]/g,ate=/#/g;function hh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bo(n){n.g||(n.g=new Map,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TP(n,e){bo(n),e=Nc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function AP(n,e){return bo(n),e=Nc(n,e),n.g.has(e)}function xP(n,e,t){TP(n,e),0<t.length&&(n.i=null,n.g.set(Nc(n,e),a0(t)),n.h+=t.length)}function Nc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function IP(n){this.l=n||ute,n=Ce.PerformanceNavigationTiming?0<(n=Ce.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ga&&Ce.g.Ga()&&Ce.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=hh.prototype).add=function(n,e){bo(this),this.i=null,n=Nc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ne.forEach=function(n,e){bo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ne.oa=function(){bo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},ne.W=function(n){bo(this);let e=[];if("string"==typeof n)AP(this,n)&&(e=e.concat(this.g.get(Nc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ne.set=function(n,e){return bo(this),this.i=null,AP(this,n=Nc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ne.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var ute=10;function kP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MP(n){return n.h?1:n.g?n.g.size:0}function P0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function L0(n,e){n.g?n.g.add(e):n.h=e}function NP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return a0(n.i)}function V0(){}function dte(){this.g=new V0}function hte(n,e,t){const r=t||"";try{EP(n,function(i,s){let o=i;eh(i)&&(o=S0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function fh(n){this.l=n.ac||null,this.j=n.jb||!1}function Im(n,e){fn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=B0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}IP.prototype.cancel=function(){if(this.i=FP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},V0.prototype.stringify=function(n){return Ce.JSON.stringify(n,void 0)},V0.prototype.parse=function(n){return Ce.JSON.parse(n,void 0)},Tn(fh,I0),fh.prototype.g=function(){return new Im(this.l,this.j)},fh.prototype.i=function(n){return function(){return n}}({}),Tn(Im,fn);var B0=0;function OP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ph(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gh(n)}function gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ne=Im.prototype).open=function(n,e){if(this.readyState!=B0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gh(this)},ne.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ce).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=B0},ne.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Ce.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ne.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ph(this):gh(this),3==this.readyState&&OP(this)}},ne.Va=function(n){this.g&&(this.response=this.responseText=n,ph(this))},ne.Ua=function(n){this.g&&(this.response=n,ph(this))},ne.ga=function(){this.g&&ph(this)},ne.setRequestHeader=function(n,e){this.v.append(n,e)},ne.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Im.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pte=Ce.JSON.parse;function Nt(n){fn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=RP,this.K=this.L=!1}Tn(Nt,fn);var RP="",gte=/^https?$/i,mte=["POST","PUT"];function PP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LP(n),km(n)}function LP(n){n.D||(n.D=!0,An(n,"complete"),An(n,"error"))}function VP(n){if(n.h&&void 0!==s0&&(!n.C[1]||4!=ks(n)||2!=n.aa()))if(n.v&&4==ks(n))x0(n.Ha,0,n);else if(An(n,"readystatechange"),4==ks(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(CP)[1]||null;if(!i&&Ce.self&&Ce.self.location){var s=Ce.self.location.protocol;i=s.substr(0,s.length-1)}r=!gte.test(i?i.toLowerCase():"")}t=r}if(t)An(n,"complete"),An(n,"success");else{n.m=6;try{var o=2<ks(n)?n.g.statusText:""}catch(l){o=""}n.j=o+" ["+n.aa()+"]",LP(n)}}finally{km(n)}}}function km(n,e){if(n.g){BP(n);const t=n.g,r=n.C[0]?cm:null;n.g=null,n.C=null,e||An(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function BP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ce.clearTimeout(n.A),n.A=null)}function ks(n){return n.g?n.g.readyState:0}function UP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case RP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function jP(n){let e="";return g0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function U0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=jP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):St(n,e,t))}function mh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $P(n){this.Ca=0,this.i=[],this.j=new _m,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=mh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=mh("baseRetryDelayMs",5e3,n),this.bb=mh("retryDelaySeedMs",1e4,n),this.$a=mh("forwardChannelMaxRetries",2,n),this.ta=mh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new IP(n&&n.concurrentRequestLimit),this.Fa=new dte,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function j0(n){if(HP(n),3==n.G){var e=n.U++,t=Is(n.F);St(t,"SID",n.I),St(t,"RID",e),St(t,"TYPE","terminate"),yh(n,t),(e=new ah(n,n.j,e,void 0)).K=2,e.v=Am(Is(t)),t=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(t=Ce.navigator.sendBeacon(e.v.toString(),"")),!t&&Ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=JP(e.l,null),e.g.da(e.v)),e.F=Date.now(),lh(e)}YP(n)}function Mm(n){n.g&&(H0(n),n.g.cancel(),n.g=null)}function HP(n){Mm(n),n.u&&(Ce.clearTimeout(n.u),n.u=null),Fm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ce.clearTimeout(n.m),n.m=null)}function Nm(n){kP(n.h)||n.m||(n.m=!0,iP(n.Ja,n),n.C=0)}function zP(n,e){var t;t=e?e.m:n.U++;const r=Is(n.F);St(r,"SID",n.I),St(r,"RID",t),St(r,"AID",n.T),yh(n,r),n.o&&n.s&&U0(r,n.o,n.s),t=new ah(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=qP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),L0(n.h,t),O0(t,r,e)}function yh(n,e){n.ia&&g0(n.ia,function(t,r){St(e,r,t)}),n.l&&EP({},function(t,r){St(e,r,t)})}function qP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Un(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{hte(u,o,"req"+c+"_")}catch(d){r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function GP(n){n.g||n.u||(n.Z=1,iP(n.Ia,n),n.A=0)}function $0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=sh(Un(n.Ia,n),QP(n,n.A)),n.A++,0))}function H0(n){null!=n.B&&(Ce.clearTimeout(n.B),n.B=null)}function WP(n){n.g=new ah(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Is(n.sa);St(e,"RID","rpc"),St(e,"SID",n.I),St(e,"CI",n.L?"0":"1"),St(e,"AID",n.T),St(e,"TYPE","xmlhttp"),yh(n,e),n.o&&n.s&&U0(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Am(Is(e)),t.s=null,t.P=!0,bP(t,n)}function Fm(n){null!=n.v&&(Ce.clearTimeout(n.v),n.v=null)}function KP(n,e){var t=null;if(n.g==e){Fm(n),H0(n),n.g=null;var r=2}else{if(!P0(n.h,e))return;t=e.D,NP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;An(r=vm(),new fP(r,t,e,i)),Nm(n)}else GP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function(n,e){return!(MP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=sh(Un(n.Ja,n,e),QP(n,n.C)),n.C++,0)))}(n,e)||2==r&&$0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ra(n,5);break;case 4:Ra(n,10);break;case 3:Ra(n,6);break;default:Ra(n,2)}}function QP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ra(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Un(n.kb,n);t||(t=new Oa("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||Dm(t,"https"),Am(t)),function(n,e){const t=new _m;if(Ce.Image){const r=new Image;r.onload=dm(xm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dm(xm,t,r,"TestLoadImage: error",!1,e),r.onabort=dm(xm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dm(xm,t,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else er(2);n.G=0,n.l&&n.l.va(e),YP(n),HP(n)}function YP(n){if(n.G=0,n.la=[],n.l){const e=FP(n.h);(0!=e.length||0!=n.i.length)&&(HR(n.la,e),HR(n.la,n.i),n.h.i.length=0,a0(n.i),n.i.length=0),n.l.ua()}}function ZP(n,e,t){var r=t instanceof Oa?Is(t):new Oa(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Tm(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Oa(null,void 0);r&&Dm(s,r),e&&(s.g=e),i&&Tm(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&St(r,t,e),St(r,"VER",n.ma),yh(n,r),r}function JP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nt(t&&n.Da&&!n.ra?new fh({jb:!0}):n.ra)).Ka(n.H),e}function XP(){}function Om(){if(kc&&!(10<=Number(Ree)))throw Error("Environmental error: no available transport.")}function kr(n,e){fn.call(this),this.g=new $P(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!hm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fc(this)}function eL(n){k0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tL(){M0.call(this),this.status=1}function Fc(n){this.g=n}(ne=Nt.prototype).Ka=function(n){this.L=n},ne.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():N0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:N0),this.g.onreadystatechange=Un(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void PP(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ce.FormData&&n instanceof Ce.FormData,!(0<=$R(mte,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BP(this),0<this.B&&((this.K=function(n){return kc&&Oee()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.qa,this)):this.A=x0(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){PP(this,s)}},ne.qa=function(){void 0!==s0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,An(this,"timeout"),this.abort(8))},ne.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,An(this,"complete"),An(this,"abort"),km(this))},ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),km(this,!0)),Nt.X.M.call(this)},ne.Ha=function(){this.s||(this.F||this.v||this.l?VP(this):this.fb())},ne.fb=function(){VP(this)},ne.aa=function(){try{return 2<ks(this)?this.g.status:-1}catch(n){return-1}},ne.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ne.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pte(e)}},ne.Ea=function(){return this.m},ne.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=$P.prototype).ma=8,ne.G=1,ne.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new ah(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=QR(s),ZR(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qP(this,i,e),St(t=Is(this.F),"RID",n),St(t,"CVER",22),this.D&&St(t,"X-HTTP-Session-Id",this.D),yh(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(jP(s)))+"&"+e:this.o&&U0(t,this.o,s)),L0(this.h,i),this.Ya&&St(t,"TYPE","init"),this.O?(St(t,"$req",e),St(t,"SID","null"),i.Z=!0,O0(i,t,null)):O0(i,t,e),this.G=2}}else 3==this.G&&(n?zP(this,n):0==this.i.length||kP(this.h)||zP(this))},ne.Ia=function(){if(this.u=null,WP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=sh(Un(this.eb,this),n)}},ne.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,er(10),Mm(this),WP(this))},ne.cb=function(){null!=this.v&&(this.v=null,Mm(this),$0(this),er(19))},ne.kb=function(n){n?(this.j.info("Successfully pinged google.com"),er(2)):(this.j.info("Failed to ping google.com"),er(1))},(ne=XP.prototype).xa=function(){},ne.wa=function(){},ne.va=function(){},ne.ua=function(){},ne.Ra=function(){},Om.prototype.g=function(n,e){return new kr(n,e)},Tn(kr,fn),kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;er(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ZP(n,null,n.V),Nm(n)},kr.prototype.close=function(){j0(this.g)},kr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=S0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Nm(e)},kr.prototype.M=function(){this.g.l=null,delete this.j,j0(this.g),delete this.g,kr.X.M.call(this)},Tn(eL,k0),Tn(tL,M0),Tn(Fc,XP),Fc.prototype.xa=function(){An(this.g,"a")},Fc.prototype.wa=function(n){An(this.g,new eL(n))},Fc.prototype.va=function(n){An(this.g,new tL(n))},Fc.prototype.ua=function(){An(this.g,"b")},Om.prototype.createWebChannel=Om.prototype.g,kr.prototype.send=kr.prototype.u,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,wm.NO_ERROR=0,wm.TIMEOUT=8,wm.HTTP_ERROR=6,pP.COMPLETE="complete",mP.EventType=oh,oh.OPEN="a",oh.CLOSE="b",oh.ERROR="c",oh.MESSAGE="d",fn.prototype.listen=fn.prototype.N,Nt.prototype.listenOnce=Nt.prototype.O,Nt.prototype.getLastError=Nt.prototype.Oa,Nt.prototype.getLastErrorCode=Nt.prototype.Ea,Nt.prototype.getStatus=Nt.prototype.aa,Nt.prototype.getResponseJson=Nt.prototype.Sa,Nt.prototype.getResponseText=Nt.prototype.fa,Nt.prototype.send=Nt.prototype.da,Nt.prototype.setWithCredentials=Nt.prototype.Ka;var _te=xs.createWebChannelTransport=function(){return new Om},vte=xs.getStatEventTarget=function(){return vm()},z0=xs.ErrorCode=wm,wte=xs.EventType=pP,Ete=xs.Event=Na,nL=xs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Cte=xs.FetchXmlHttpFactory=fh,Rm=xs.WebChannel=mP,Ste=xs.XhrIo=Nt;const rL="@firebase/firestore";class pn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Oc="9.12.1";const _o=new Bg("@firebase/firestore");function q0(){return _o.logLevel}function F(n,...e){if(_o.logLevel<=Le.DEBUG){const t=e.map(G0);_o.debug(`Firestore (${Oc}): ${n}`,...t)}}function jt(n,...e){if(_o.logLevel<=Le.ERROR){const t=e.map(G0);_o.error(`Firestore (${Oc}): ${n}`,...t)}}function Pa(n,...e){if(_o.logLevel<=Le.WARN){const t=e.map(G0);_o.warn(`Firestore (${Oc}): ${n}`,...t)}}function G0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Y(n="Unexpected state"){const e=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: `+n;throw jt(e),new Error(e)}function pe(n,e){n||Y()}function j(n,e){return n}const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends ho{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ate{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class xte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ite{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(D(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe("string"==typeof r.accessToken),new iL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pe(null===e||"string"==typeof e),new pn(e)}}class kte{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(pe(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Mte{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new kte(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nte{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pe("string"==typeof t.token),this.A=t.token,new sL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fte(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Fte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(n,e){return n<e?-1:n>e?1:0}function Rc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function aL(n){return n+"\0"}class Dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Dt(0,0))}static max(){return new ge(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Y(),void 0===r?r=e.length-t:r>e.length-t&&Y(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===bh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class He extends bh{construct(e,t,r){return new He(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new He(t)}static emptyPath(){return new He([])}}const Ote=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends bh{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return Ote.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new M(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}class U{constructor(e){this.path=e}static fromPath(e){return new U(He.fromString(e))}static fromName(e){return new U(He.fromString(e).popFirst(5))}static empty(){return new U(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===He.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new He(e.slice()))}}class Pm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function W0(n){return n.fields.find(e=>2===e.kind)}function La(n){return n.fields.filter(e=>2!==e.kind)}Pm.UNKNOWN_ID=-1;class Lm{constructor(e,t){this.fieldPath=e,this.kind=t}}class _h{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _h(0,Mr.min())}}function lL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(1e9===r?new Dt(t+1,0):new Dt(t,r));return new Mr(i,U.empty(),e)}function cL(n){return new Mr(n.readTime,n.key,-1)}class Mr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mr(ge.min(),U.empty(),-1)}static max(){return new Mr(ge.max(),U.empty(),-1)}}function K0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=U.comparator(n.documentKey,e.documentKey),0!==t?t:Se(n.largestBatchId,e.largestBatchId))}const uL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vo(n){return Q0.apply(this,arguments)}function Q0(){return(Q0=D(function*(n){if(n.code!==S.FAILED_PRECONDITION||n.message!==uL)throw n;F("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):C.reject(t)}static resolve(e){return new C((t,r)=>{t(e)})}static reject(e){return new C((t,r)=>{r(e)})}static waitFor(e){return new C((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=C.resolve(!1);for(const r of e)t=t.next(i=>i?C.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new C((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Vm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new nn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new vh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Y0(r.target.error);this.P.reject(new vh(e,i))}}static open(e,t,r,i){try{return new Vm(t,e.transaction(i,r))}catch(s){throw new vh(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vte(t)}}class wi{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===wi.D(pa())&&jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Va(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!hO())return!1;if(wi.N())return!0;const e=pa(),t=wi.D(e),r=0<t&&t<10,i=wi.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return D(function*(){return t.db||(F("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new vh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new M(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new M(S.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new vh(e,a))},s.onupgradeneeded=o=>{F("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.S.$(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{F("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return D(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.F(e);const l=Vm.open(s.db,e,o?"readonly":"readwrite",r),c=i(l).next(u=>(l.V(),u)).catch(u=>(l.abort(u),C.reject(u))).toPromise();return c.catch(()=>{}),yield l.v,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(F("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),s.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lte{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Va(this.U.delete())}}class vh extends M{constructor(e,t){super(S.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wo(n){return"IndexedDbTransactionError"===n.name}class Vte{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(F("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Va(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Va(this.store.add(e))}get(e){return Va(this.store.get(e)).next(t=>(void 0===t&&(t=null),F("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Va(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Va(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new C((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new C((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,t){F("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new C((r,i)=>{t.onerror=s=>{const o=Y0(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,t){const r=[];return new C((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Lte(a),c=t(a.primaryKey,a.value,l);if(c instanceof C){const u=c.catch(d=>(l.done(),C.reject(d)));r.push(u)}l.isDone?i():null===l.G?a.continue():a.continue(l.G)}}).next(()=>C.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Va(n){return new C((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Y0(r.target.error);t(i)}})}let hL=!1;function Y0(n){const e=wi.D(pa());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hL||(hL=!0,setTimeout(()=>{throw r},0)),r}}return n}class Bte{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;F("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,D(function*(){t.task=null;try{F("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){wo(r)?F("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield vo(r)}yield t.nt(6e4)}))}}class Ute{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return D(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,s=!0;return C.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return F("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(F("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=cL(s);K0(o,r)>0&&(r=o)}),new Mr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class hr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function fL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}hr.at=-1;class Ot{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bm(this.root,e,this.comparator,!0)}}class Bm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:xn.RED,this.left=null!=i?i:xn.EMPTY,this.right=null!=s?s:xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new xn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1,xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(n,e,t,r,i){return this}insert(n,e,t){return new xn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gL(this.data.getIterator())}getIteratorFrom(e){return new gL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class gL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pc(n){return n.hasNext()?n.getNext():void 0}class Nr{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new it(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new rn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const $te=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(n){if(pe(!!n),"string"==typeof n){let e=0;const t=$te.exec(n);if(pe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ua(n){return"string"==typeof n?rn.fromBase64String(n):rn.fromUint8Array(n)}function Z0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mL(n){const e=n.mapValue.fields.__previous_value__;return Z0(e)?mL(e):e}function wh(n){const e=Eo(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}class Hte{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Co{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Co("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}function Eh(n){return null==n}function Ch(n){return 0===n&&1/n==-1/0}function yL(n){return"number"==typeof n&&Number.isInteger(n)&&!Ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const So={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Um={nullValue:"NULL_VALUE"};function ja(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Z0(n)?4:wL(n)?9007199254740991:10:Y()}function Hi(n,e){if(n===e)return!0;const t=ja(n);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wh(n).isEqual(wh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Eo(r.timestampValue),o=Eo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ua(n.bytesValue).isEqual(Ua(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Rt(r.geoPointValue.latitude)===Rt(i.geoPointValue.latitude)&&Rt(r.geoPointValue.longitude)===Rt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Rt(r.integerValue)===Rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Rt(r.doubleValue),o=Rt(i.doubleValue);return s===o?Ch(s)===Ch(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Rc(n.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(fL(s)!==fL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Hi(s[a],o[a])))return!1;return!0}(n,e);default:return Y()}var i}function Sh(n,e){return void 0!==(n.values||[]).find(t=>Hi(t,e))}function Do(n,e){if(n===e)return 0;const t=ja(n),r=ja(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Rt(i.integerValue||i.doubleValue),a=Rt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return bL(n.timestampValue,e.timestampValue);case 4:return bL(wh(n),wh(e));case 5:return Se(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ua(i),a=Ua(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Se(o[l],a[l]);if(0!==c)return c}return Se(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Se(Rt(i.latitude),Rt(s.latitude));return 0!==o?o:Se(Rt(i.longitude),Rt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Do(o[l],a[l]);if(c)return c}return Se(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===So.mapValue&&s===So.mapValue)return 0;if(i===So.mapValue)return 1;if(s===So.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Se(a[u],c[u]);if(0!==d)return d;const h=Do(o[a[u]],l[c[u]]);if(0!==h)return h}return Se(a.length,c.length)}(n.mapValue,e.mapValue);default:throw Y()}}function bL(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Se(n,e);const t=Eo(n),r=Eo(e),i=Se(t.seconds,r.seconds);return 0!==i?i:Se(t.nanos,r.nanos)}function Lc(n){return J0(n)}function J0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Eo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ua(n.bytesValue).toBase64():"referenceValue"in n?U.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=J0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${J0(r.fields[a])}`;return s+"}"}(n.mapValue):Y();var e}function $a(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function X0(n){return!!n&&"integerValue"in n}function Dh(n){return!!n&&"arrayValue"in n}function _L(n){return!!n&&"nullValue"in n}function vL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jm(n){return!!n&&"mapValue"in n}function Th(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ba(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Th(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Th(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function zte(n){return"nullValue"in n?Um:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$a(Co.empty(),U.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Y()}function qte(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$a(Co.empty(),U.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?So:Y()}function EL(n,e){const t=Do(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function CL(n,e){const t=Do(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Th(t)}setAll(e){let t=Ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Th(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ba(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new In(Th(this.value))}}function SL(n){const e=[];return Ba(n.fields,(t,r)=>{const i=new Ft([t]);if(jm(r)){const s=SL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nr(e)}class gt{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new gt(e,0,ge.min(),ge.min(),In.empty(),0)}static newFoundDocument(e,t,r){return new gt(e,1,t,ge.min(),r,0)}static newNoDocument(e,t){return new gt(e,2,t,ge.min(),In.empty(),0)}static newUnknownDocument(e,t){return new gt(e,3,t,ge.min(),In.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gte{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function DL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Gte(n,e,t,r,i,s,o)}function Ha(n){const e=j(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Lc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Lc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Lc(r)).join(",")),e.ht=t}return e.ht}function Ah(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!tne(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Hi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kL(n.startAt,e.startAt)&&kL(n.endAt,e.endAt)}function $m(n){return U.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Hm(n,e){return n.filters.filter(t=>t instanceof kn&&t.field.isEqual(e))}function TL(n,e,t){let r=Um,i=!0;for(const s of Hm(n,e)){let o=Um,a=!0;switch(s.op){case"<":case"<=":o=zte(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Um}EL({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];EL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function AL(n,e,t){let r=So,i=!0;for(const s of Hm(n,e)){let o=So,a=!0;switch(s.op){case">=":case">":o=qte(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=So}CL({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];CL({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class kn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Kte(e,t,r):"array-contains"===t?new Zte(e,r):"in"===t?new Jte(e,r):"not-in"===t?new Xte(e,r):"array-contains-any"===t?new ene(e,r):new kn(e,t,r)}static lt(e,t,r){return"in"===t?new Qte(e,r):new Yte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Do(t,this.value)):null!==t&&ja(this.value)===ja(t)&&this.ft(Do(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Y()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Kte extends kn{constructor(e,t,r){super(e,t,r),this.key=U.fromName(r.referenceValue)}matches(e){const t=U.comparator(e.key,this.key);return this.ft(t)}}class Qte extends kn{constructor(e,t){super(e,"in",t),this.keys=xL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yte extends kn{constructor(e,t){super(e,"not-in",t),this.keys=xL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>U.fromName(r.referenceValue))}class Zte extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dh(t)&&Sh(t.arrayValue,this.value)}}class Jte extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sh(this.value.arrayValue,t)}}class Xte extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sh(this.value.arrayValue,t)}}class ene extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sh(this.value.arrayValue,r))}}class To{constructor(e,t){this.position=e,this.inclusive=t}}class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function tne(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function IL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?U.comparator(U.fromName(o.referenceValue),t.key):Do(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function kL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hi(n.position[t],e.position[t]))return!1;return!0}class Ms{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null}}function ML(n,e,t,r,i,s,o,a){return new Ms(n,e,t,r,i,s,o,a)}function Bc(n){return new Ms(n)}function NL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function eC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tC(n){for(const e of n.filters)if(e.dt())return e.field;return null}function nC(n){return null!==n.collectionGroup}function Uc(n){const e=j(n);if(null===e._t){e._t=[];const t=tC(e),r=eC(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Vc(t)),e._t.push(new Vc(Ft.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Vc(Ft.keyField(),s))}}}return e._t}function tr(n){const e=j(n);if(!e.wt)if("F"===e.limitType)e.wt=DL(e.path,e.collectionGroup,Uc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Uc(e))t.push(new Vc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new To(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new To(e.startAt.position,e.startAt.inclusive):null;e.wt=DL(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function zm(n,e,t){return new Ms(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xh(n,e){return Ah(tr(n),tr(e))&&n.limitType===e.limitType}function FL(n){return`${Ha(tr(n))}|lt:${n.limitType}`}function rC(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Lc(r.value)}`;var r}).join(", ")}]`),Eh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Lc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Lc(t)).join(",")),`Target(${e})`}(tr(n))}; limitType=${n.limitType})`}function iC(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):U.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=IL(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Uc(t),r)||t.endAt&&!function(i,s,o){const a=IL(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Uc(t),r)));var t,r}function OL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RL(n){return(e,t)=>{let r=!1;for(const i of Uc(n)){const s=nne(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function nne(n,e,t){const r=n.field.isKeyField()?U.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Do(a,l):Y()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}function PL(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function LL(n){return{integerValue:""+n}}function VL(n,e){return yL(e)?LL(e):PL(n,e)}class qm{constructor(){this._=void 0}}function rne(n,e,t){return n instanceof jc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof za?UL(n,e):n instanceof qa?jL(n,e):function(r,i){const s=BL(r,i),o=$L(s)+$L(r.yt);return X0(s)&&X0(r.yt)?LL(o):PL(r.It,o)}(n,e)}function ine(n,e,t){return n instanceof za?UL(n,e):n instanceof qa?jL(n,e):t}function BL(n,e){return n instanceof $c?X0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class jc extends qm{}class za extends qm{constructor(e){super(),this.elements=e}}function UL(n,e){const t=HL(e);for(const r of n.elements)t.some(i=>Hi(i,r))||t.push(r);return{arrayValue:{values:t}}}class qa extends qm{constructor(e){super(),this.elements=e}}function jL(n,e){let t=HL(e);for(const r of n.elements)t=t.filter(i=>!Hi(i,r));return{arrayValue:{values:t}}}class $c extends qm{constructor(e,t){super(),this.It=e,this.yt=t}}function $L(n){return Rt(n.integerValue||n.doubleValue)}function HL(n){return Dh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ih{constructor(e,t){this.field=e,this.transform=t}}class one{constructor(e,t){this.version=e,this.transformResults=t}}class Tt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tt}static exists(e){return new Tt(void 0,e)}static updateTime(e){return new Tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Wm{}function zL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new zc(n.key,Tt.none()):new Hc(n.key,n.data,Tt.none());{const t=n.data,r=In.empty();let i=new it(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ns(n.key,r,new Nr(i.toArray()),Tt.none())}}function ane(n,e,t){n instanceof Hc?function(r,i,s){const o=r.value.clone(),a=WL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ns?function(r,i,s){if(!Gm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=WL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(GL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function kh(n,e,t,r){return n instanceof Hc?function(i,s,o,a){if(!Gm(i.precondition,s))return o;const l=i.value.clone(),c=KL(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ns?function(i,s,o,a){if(!Gm(i.precondition,s))return o;const l=KL(i.fieldTransforms,a,s),c=s.data;return c.setAll(GL(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Gm(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function lne(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=BL(r.transform,i||null);null!=s&&(null===t&&(t=In.empty()),t.set(r.field,s))}return t||null}function qL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rc(t,r,(i,s)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof za&&r instanceof za||t instanceof qa&&r instanceof qa?Rc(t.elements,r.elements,Hi):t instanceof $c&&r instanceof $c?Hi(t.yt,r.yt):t instanceof jc&&r instanceof jc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Hc extends Wm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends Wm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function WL(n,e,t){const r=new Map;pe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ine(o,a,t[i]))}return r}function KL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,rne(s,o,e))}return r}class zc extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sC extends Wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cne{constructor(e){this.count=e}}var Yt,ze;function QL(n){switch(n){default:return Y();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function YL(n){if(void 0===n)return jt("GRPC error has no .code"),S.UNKNOWN;switch(n){case Yt.OK:return S.OK;case Yt.CANCELLED:return S.CANCELLED;case Yt.UNKNOWN:return S.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return S.INTERNAL;case Yt.UNAVAILABLE:return S.UNAVAILABLE;case Yt.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Yt.NOT_FOUND:return S.NOT_FOUND;case Yt.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Yt.ABORTED:return S.ABORTED;case Yt.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Yt.DATA_LOSS:return S.DATA_LOSS;default:return Y()}}(ze=Yt||(Yt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}const une=new Ot(U.comparator);function fr(){return une}const ZL=new Ot(U.comparator);function Mh(...n){let e=ZL;for(const t of n)e=e.insert(t.key,t);return e}function JL(n){let e=ZL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zi(){return Nh()}function XL(){return Nh()}function Nh(){return new Ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const dne=new Ot(U.comparator),hne=new it(U.comparator);function xe(...n){let e=hne;for(const t of n)e=e.add(t);return e}const fne=new it(Se);function Km(){return fne}class Fh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fh(ge.min(),i,Km(),fr(),xe())}}class Oh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Oh(r,t,xe(),xe(),xe())}}class Qm{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class eV{constructor(e,t){this.targetId=e,this.At=t}}class tV{constructor(e,t,r=rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class nV{constructor(){this.Rt=0,this.bt=iV(),this.Pt=rn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=xe(),t=xe(),r=xe();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Oh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=iV()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class pne{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=fr(),this.qt=rV(),this.Kt=new it(Se)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const s=i.target;if($m(s))if(0===r){const o=new U(s.path);this.jt(t,o,gt.newNoDocument(o,ge.min()))}else pe(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&$m(a.target)){const l=new U(a.target.path);null!==this.Ut.get(l)||this.ee(o,l)||this.jt(o,l,gt.newNoDocument(l,e))}s.Dt&&(t.set(o,s.xt()),s.Nt())}});let r=xe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Fh(e,t,this.Kt,this.Ut,r);return this.Ut=fr(),this.qt=rV(),this.Kt=new it(Se),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new nV,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new it(Se),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||F("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new nV),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function rV(){return new Ot(U.comparator)}function iV(){return new Ot(U.comparator)}const gne={asc:"ASCENDING",desc:"DESCENDING"},mne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class yne{constructor(e,t){this.databaseId=e,this.gt=t}}function Rh(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sV(n,e){return n.gt?e.toBase64():e.toUint8Array()}function bne(n,e){return Rh(n,e.toTimestamp())}function gn(n){return pe(!!n),ge.fromTimestamp(function(e){const t=Eo(e);return new Dt(t.seconds,t.nanos)}(n))}function oC(n,e){return(t=n,new He(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function oV(n){const e=He.fromString(n);return pe(pV(e)),e}function Ph(n,e){return oC(n.databaseId,e.path)}function qi(n,e){const t=oV(e);if(t.get(1)!==n.databaseId.projectId)throw new M(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new U(lV(t))}function aC(n,e){return oC(n.databaseId,e)}function aV(n){const e=oV(n);return 4===e.length?He.emptyPath():lV(e)}function Lh(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lV(n){return pe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cV(n,e,t){return{name:Ph(n,e),fields:t.value.mapValue.fields}}function uV(n,e,t){const r=qi(n,e.name),i=gn(e.updateTime),s=new In({mapValue:{fields:e.fields}}),o=gt.newFoundDocument(r,i,s);return t&&o.setHasCommittedMutations(),t?o.setHasCommittedMutations():o}function Vh(n,e){let t;if(e instanceof Hc)t={update:cV(n,e.key,e.value)};else if(e instanceof zc)t={delete:Ph(n,e.key)};else if(e instanceof Ns)t={update:cV(n,e.key,e.data),updateMask:Ane(e.fieldMask)};else{if(!(e instanceof sC))return Y();t={verify:Ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof jc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof za)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $c)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw Y()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bne(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Y()),t;var i}function lC(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Tt.updateTime(gn(i.updateTime)):void 0!==i.exists?Tt.exists(i.exists):Tt.none():Tt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;"setToServerValue"in o?(pe("REQUEST_TIME"===o.setToServerValue),a=new jc):"appendMissingElements"in o?a=new za(o.appendMissingElements.values||[]):"removeAllFromArray"in o?a=new qa(o.removeAllFromArray.values||[]):"increment"in o?a=new $c(s,o.increment):Y();const l=Ft.fromServerFormat(o.fieldPath);return new Ih(l,a)}(n,i)):[];var i;if(e.update){const i=qi(n,e.update.name),s=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Nr((e.updateMask.fieldPaths||[]).map(c=>Ft.fromServerFormat(c)));return new Ns(i,s,o,t,r)}return new Hc(i,s,t,r)}if(e.delete){const i=qi(n,e.delete);return new zc(i,t)}if(e.verify){const i=qi(n,e.verify);return new sC(i,t)}return Y()}function dV(n,e){return{documents:[aC(n,e.path)]}}function cC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=aC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=aC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(vL(d.value))return{unaryFilter:{field:qc(d.field),op:"IS_NAN"}};if(_L(d.value))return{unaryFilter:{field:qc(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(vL(d.value))return{unaryFilter:{field:qc(d.field),op:"IS_NOT_NAN"}};if(_L(d.value))return{unaryFilter:{field:qc(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(d.field),op:Sne(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:qc((u=c).field),direction:Cne(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.gt||Eh(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function hV(n){let e=aV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pe(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=fV(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Vc(Gc((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Eh(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new To((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new To(u.values||[],!u.before)}(t.endAt)),ML(e,i,o,s,a,"F",l,c)}function fV(n){return n?void 0!==n.unaryFilter?[Tne(n)]:void 0!==n.fieldFilter?[Dne(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fV(e)).reduce((e,t)=>e.concat(t)):Y():[]}function Cne(n){return gne[n]}function Sne(n){return mne[n]}function qc(n){return{fieldPath:n.canonicalString()}}function Gc(n){return Ft.fromServerFormat(n.fieldPath)}function Dne(n){return kn.create(Gc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}function Tne(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Gc(n.unaryFilter.field);return kn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Gc(n.unaryFilter.field);return kn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gc(n.unaryFilter.field);return kn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gc(n.unaryFilter.field);return kn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}function Ane(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function nr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gV(e)),e=xne(n.get(t),e);return gV(e)}function xne(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function gV(n){return n+"\x01\x01"}function Gi(n){const e=n.length;if(pe(e>=2),2===e)return pe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),He.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Y(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Y()}s=o+2}return new He(r)}const mV=["userId","batchId"];function Ym(n,e){return[n,nr(e)]}function yV(n,e,t){return[n,nr(e),t]}const Ine={},kne=["prefixPath","collectionGroup","readTime","documentId"],Mne=["prefixPath","collectionGroup","documentId"],Nne=["collectionGroup","readTime","prefixPath","documentId"],Fne=["canonicalId","targetId"],One=["targetId","path"],Rne=["path","targetId"],Pne=["collectionId","parent"],Lne=["indexId","uid"],Vne=["uid","sequenceNumber"],Bne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Une=["indexId","uid","orderedDocumentKey"],jne=["userId","collectionPath","documentId"],$ne=["userId","collectionPath","largestBatchId"],Hne=["userId","collectionGroup","largestBatchId"],bV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zne=[...bV,"documentOverlays"],_V=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vV=_V,qne=[...vV,"indexConfiguration","indexState","indexEntries"];class uC extends dL{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function mn(n,e){const t=j(n);return wi.M(t.ie,e)}class dC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ane(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=zL(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Rc(this.mutations,e.mutations,(t,r)=>qL(t,r))&&Rc(this.baseMutations,e.baseMutations,(t,r)=>qL(t,r))}}class hC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pe(e.mutations.length===r.length);let i=dne;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hC(e,t,r,i)}}class fC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xo{constructor(e,t,r,i,s=ge.min(),o=ge.min(),a=rn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wV{constructor(e){this.re=e}}function EV(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Zm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ph(i=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Rh(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ga(e.version)};else{if(!e.isUnknownDocument())return Y();r.unknownDocument={path:t.path.toArray(),version:Ga(e.version)}}var i,s;return r}function Zm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ga(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wa(n){const e=new Dt(n.seconds,n.nanoseconds);return ge.fromTimestamp(e)}function Ka(n,e){const t=(e.baseMutations||[]).map(s=>lC(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(o.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>lC(n.re,s)),i=Dt.fromMillis(e.localWriteTimeMs);return new dC(e.batchId,i,t,r)}function Bh(n){const e=Wa(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wa(n.lastLimboFreeSnapshotVersion):ge.min();let r;var i;return void 0!==n.query.documents?(pe(1===(i=n.query).documents.length),r=tr(Bc(aV(i.documents[0])))):r=tr(hV(n.query)),new xo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,rn.fromBase64String(n.resumeToken))}function CV(n,e){const t=Ga(e.snapshotVersion),r=Ga(e.lastLimboFreeSnapshotVersion);let i;i=$m(e.target)?dV(n.re,e.target):cC(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ha(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pC(n){const e=hV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zm(e,e.limit,"L"):e}function gC(n,e){return new fC(e.largestBatchId,lC(n.re,e.overlayMutation))}function SV(n,e){const t=e.path.lastSegment();return[n,nr(e.path.popLast()),t]}function DV(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ga(r.readTime),documentKey:nr(r.documentKey.path),largestBatchId:r.largestBatchId}}class Wne{getBundleMetadata(e,t){return TV(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Wa(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return TV(e).put({bundleId:(r=t).id,createTime:Ga(gn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return AV(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:pC(i.bundledQuery),readTime:Wa(i.readTime)};var i})}saveNamedQuery(e,t){return AV(e).put({name:(r=t).name,readTime:Ga(gn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function TV(n){return mn(n,"bundles")}function AV(n){return mn(n,"namedQueries")}class Jm{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Jm(e,t.uid||"")}getOverlay(e,t){return Uh(e).get(SV(this.userId,t)).next(r=>r?gC(this.It,r):null)}getOverlays(e,t){const r=zi();return C.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new fC(t,o);i.push(this.ue(e,a))}),C.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(nr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Uh(e).Y("collectionPathOverlayIndex",a))}),C.waitFor(s)}getOverlaysForCollection(e,t,r){const i=zi(),s=nr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Uh(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=gC(this.It,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=zi();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Uh(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=gC(this.It,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ue(e,t){return Uh(e).put(function(r,i,s){const[o,a,l]=SV(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Vh(r.re,s.mutation)}}(this.It,this.userId,t))}}function Uh(n){return mn(n,"documentOverlays")}class Qa{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Ch(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ua(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?wL(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Y()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),U.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Kne(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function xV(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=Kne(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Qa.Te=new Qa;class Qne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=xV(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=xV(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Yne{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Zne{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class jh{constructor(){this.Be=new Qne,this.Le=new Yne(this.Be),this.Ue=new Zne(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ya{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ya(this.indexId,this.documentKey,this.arrayValue,r)}}function Za(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=IV(n.arrayValue,e.arrayValue),0!==t?t:(t=IV(n.directionalValue,e.directionalValue),0!==t?t:U.comparator(n.documentKey,e.documentKey)))}function IV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Jne{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=W0(e);if(void 0!==t&&!this.ze(t))return!1;const r=La(e);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const o=r[i];if(!this.He(this.je,o)||!this.Je(this.Ge[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ge.length||!this.Je(this.Ge[s++],o))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Xne{constructor(){this.Ye=new mC}addToCollectionParentIndex(e,t){return this.Ye.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(Mr.min())}updateCollectionGroup(e,t,r){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class mC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(He.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(He.comparator)).toArray()}}const Xm=new Uint8Array(0);class ere{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new mC,this.Ze=new Ao(r=>Ha(r),(r,i)=>Ah(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:r,parent:nr(i)};return kV(e).put(s)}return C.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[aL(t),""],!1,!0);return kV(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Gi(o.parent))}return r})}addFieldIndex(e,t){const r=ey(e),i={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var o;delete i.indexId;const s=r.add(i);if(t.indexState){const o=Hh(e);return s.next(a=>{o.put(DV(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=ey(e),i=Hh(e),s=$h(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=$h(e);let i=!0;const s=new Map;return C.forEach(this.tn(t),o=>this.en(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=xe();const a=[];return C.forEach(s,(l,c)=>{var u;F("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`} to execute ${Ha(t)}`);const d=function(x,R){const H=W0(R);if(void 0===H)return null;for(const ee of Hm(x,H.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null}(c,l),h=function(x,R){const H=new Map;for(const ee of La(R))for(const ve of Hm(x,ee.fieldPath))switch(ve.op){case"==":case"in":H.set(ee.fieldPath.canonicalString(),ve.value);break;case"not-in":case"!=":return H.set(ee.fieldPath.canonicalString(),ve.value),Array.from(H.values())}return null}(c,l),g=function(x,R){const H=[];let ee=!0;for(const ve of La(R)){const Ht=0===ve.kind?TL(x,ve.fieldPath,x.startAt):AL(x,ve.fieldPath,x.startAt);H.push(Ht.value),ee&&(ee=Ht.inclusive)}return new To(H,ee)}(c,l),m=function(x,R){const H=[];let ee=!0;for(const ve of La(R)){const Ht=0===ve.kind?AL(x,ve.fieldPath,x.endAt):TL(x,ve.fieldPath,x.endAt);H.push(Ht.value),ee&&(ee=Ht.inclusive)}return new To(H,ee)}(c,l),_=this.nn(l,c,g),b=this.nn(l,c,m),E=this.sn(l,c,h),w=this.rn(l.indexId,d,_,g.inclusive,b,m.inclusive,E);return C.forEach(w,x=>r.J(x,t.limit).next(R=>{R.forEach(H=>{const ee=U.fromSegments(H.documentKey);o.has(ee)||(o=o.add(ee),a.push(ee))})}))}).next(()=>a)}return C.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,s,o,a){const l=(null!=t?t.length:1)*Math.max(r.length,s.length),c=l/(null!=t?t.length:1),u=[];for(let d=0;d<l;++d){const h=t?this.on(t[d/c]):Xm,g=this.un(e,h,r[d%c],i),m=this.cn(e,h,s[d%c],o),_=a.map(b=>this.un(e,h,b,!0));u.push(...this.createRange(g,m,_))}return u}un(e,t,r,i){const s=new Ya(e,U.empty(),t,r);return i?s:s.Ke()}cn(e,t,r,i){const s=new Ya(e,U.empty(),t,r);return i?s.Ke():s}en(e,t){const r=new Jne(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.We(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;return C.forEach(this.tn(t),i=>this.en(e,i).next(s=>{s?0!==r&&s.fields.length<function(o){let a=new it(Ft.comparator),l=!1;for(const c of o.filters){const u=c;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?l=!0:a=a.add(u.field))}for(const c of o.orderBy)c.field.isKeyField()||(a=a.add(c.field));return a.size+(l?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new jh;for(const i of La(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.qe(i.kind);Qa.Te.ce(s,o)}return r.$e()}on(e){const t=new jh;return Qa.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new jh;return Qa.Te.ce($a(this.databaseId,t),r.qe(function(i){const s=La(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new jh);let s=0;for(const o of La(e)){const a=r[s++];for(const l of i)if(this.ln(t,o.fieldPath)&&Dh(a))i=this.fn(i,o,a);else{const c=l.qe(o.kind);Qa.Te.ce(a,c)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new jh;l.seed(a.$e()),Qa.Te.ce(o,l.qe(t.kind)),s.push(l)}return s}ln(e,t){return!!e.filters.find(r=>r instanceof kn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ey(e),i=Hh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return C.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,u){const d=u?new _h(u.sequenceNumber,new Mr(Wa(u.readTime),new U(Gi(u.documentKey)),u.largestBatchId)):_h.empty(),h=c.fields.map(([g,m])=>new Lm(Ft.fromServerFormat(g),m));return new Pm(c.indexId,c.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Se(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ey(e),s=Hh(e);return this._n(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>C.forEach(a,l=>s.put(DV(l.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return C.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?C.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),C.forEach(a,l=>this.wn(e,i,l).next(c=>{const u=this.mn(s,l);return c.isEqual(u)?C.resolve():this.gn(e,s,l,c,u)}))))})}yn(e,t,r,i){return $h(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return $h(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=$h(e);let s=new it(Za);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(o,a)=>{s=s.add(new Ya(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}mn(e,t){let r=new it(Za);const i=this.an(t,e);if(null==i)return r;const s=W0(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Dh(o))for(const a of o.arrayValue.values||[])r=r.add(new Ya(t.indexId,e.key,this.on(a),i))}else r=r.add(new Ya(t.indexId,e.key,Xm,i));return r}gn(e,t,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(a,l,c,u,d){const h=a.getIterator(),g=l.getIterator();let m=Pc(h),_=Pc(g);for(;m||_;){let b=!1,E=!1;if(m&&_){const w=c(m,_);w<0?E=!0:w>0&&(b=!0)}else null!=m?E=!0:b=!0;b?(u(_),_=Pc(g)):E?(d(m),m=Pc(h)):(m=Pc(h),_=Pc(g))}}(i,s,Za,a=>{o.push(this.yn(e,t,r,a))},a=>{o.push(this.pn(e,t,r,a))}),C.waitFor(o)}_n(e){let t=1;return Hh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Za(o,a)).filter((o,a,l)=>!a||0!==Za(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=Za(o,e),l=Za(o,t);if(0===a)i[0]=e.Ke();else if(a>0&&l<0)i.push(o),i.push(o.Ke());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Xm,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Xm,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(MV)}getMinOffset(e,t){return C.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Y())).next(MV)}}function kV(n){return mn(n,"collectionParents")}function $h(n){return mn(n,"indexEntries")}function ey(n){return mn(n,"indexConfiguration")}function Hh(n){return mn(n,"indexState")}function MV(n){pe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;K0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Mr(e.readTime,e.documentKey,t)}const NV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function FV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.Z({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{pe(1===a)}));const c=[];for(const u of t.mutations){const d=yV(e,u.key.path,t.batchId);s.push(i.delete(d)),c.push(u.key)}return C.waitFor(s).next(()=>c)}function ty(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Y();e=n.noDocument}return JSON.stringify(e).length}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class ny{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){pe(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new ny(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Io(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Wc(e),o=Io(e);return o.add({}).next(a=>{pe("number"==typeof a);const l=new dC(a,t,r,i),c=function(h,g,m){const _=m.baseMutations.map(E=>Vh(h.re,E)),b=m.mutations.map(E=>Vh(h.re,E));return{userId:g,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:_,mutations:b}}(this.It,this.userId,l),u=[];let d=new it((h,g)=>Se(h.canonicalString(),g.canonicalString()));for(const h of i){const g=yV(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(g,Ine))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.In[a]=l.keys()}),C.waitFor(u).next(()=>l)})}lookupMutationBatch(e,t){return Io(e).get(t).next(r=>r?(pe(r.userId===this.userId),Ka(this.It,r)):null)}Tn(e,t){return this.In[t]?C.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Io(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(pe(a.batchId>=r),s=Ka(this.It,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Io(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Io(e).W("userMutationsIndex",t).next(r=>r.map(i=>Ka(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ym(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Wc(e).Z({range:i},(o,a,l)=>{const[c,u,d]=o,h=Gi(u);if(c===this.userId&&t.path.isEqual(h))return Io(e).get(d).next(g=>{if(!g)throw Y();pe(g.userId===this.userId),s.push(Ka(this.It,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(Se);const i=[];return t.forEach(s=>{const o=Ym(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Wc(e).Z({range:a},(c,u,d)=>{const[h,g,m]=c,_=Gi(g);h===this.userId&&s.path.isEqual(_)?r=r.add(m):d.done()});i.push(l)}),C.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Ym(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new it(Se);return Wc(e).Z({range:o},(l,c,u)=>{const[d,h,g]=l,m=Gi(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(g)):u.done()}).next(()=>this.En(e,a))}En(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Io(e).get(s).next(o=>{if(null===o)throw Y();pe(o.userId===this.userId),r.push(Ka(this.It,o))}))}),C.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return FV(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),C.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return C.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Wc(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Gi(s[1]);i.push(l)}else a.done()}).next(()=>{pe(0===i.length)})})}containsKey(e,t){return OV(e,this.userId,t)}Rn(e){return RV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OV(n,e,t){const r=Ym(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Wc(n).Z({range:s,X:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Io(n){return mn(n,"mutations")}function Wc(n){return mn(n,"documentMutations")}function RV(n){return mn(n,"mutationQueues")}class Ja{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ja(0)}static vn(){return new Ja(-1)}}class tre{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Ja(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ge.fromTimestamp(new Dt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Kc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(pe(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Kc(e).Z((o,a)=>{const l=Bh(a);l.sequenceNumber<=t&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>C.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Kc(e).Z((r,i)=>{const s=Bh(i);t(s)})}Vn(e){return PV(e).get("targetGlobalKey").next(t=>(pe(null!==t),t))}Sn(e,t){return PV(e).put("targetGlobalKey",t)}Dn(e,t){return Kc(e).put(CV(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ha(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Kc(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Bh(a);Ah(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=ko(e);return t.forEach(o=>{const a=nr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),C.waitFor(i)}removeMatchingKeys(e,t,r){const i=ko(e);return C.forEach(t,s=>{const o=nr(s.path);return C.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=ko(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ko(e);let s=xe();return i.Z({range:r,X:!0},(o,a,l)=>{const c=Gi(o[1]),u=new U(c);s=s.add(u)}).next(()=>s)}containsKey(e,t){const r=nr(t.path),i=IDBKeyRange.bound([r],[aL(r)],!1,!0);let s=0;return ko(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}se(e,t){return Kc(e).get(t).next(r=>r?Bh(r):null)}}function Kc(n){return mn(n,"targets")}function PV(n){return mn(n,"targetGlobal")}function ko(n){return mn(n,"targetDocuments")}function LV([n,e],[t,r]){const i=Se(n,t);return 0===i?Se(e,r):i}class nre{constructor(e){this.xn=e,this.buffer=new it(LV),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();LV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rre{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,D(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){wo(r)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield vo(r)}yield t.Fn(3e5)}))}}class ire{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return C.resolve(hr.at);const r=new nre(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector","Garbage collection skipped; disabled"),C.resolve(NV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NV):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),q0()<=Le.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${d} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),C.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}class sre{constructor(e,t){this.db=e,this.garbageCollector=new ire(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return ry(e,r)}removeReference(e,t,r){return ry(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ry(e,t)}Gn(e,t){return function(r,i){let s=!1;return RV(r).tt(o=>OV(r,o,i).next(a=>(a&&(s=!0),C.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=t){const l=this.Gn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ge.min()),ko(e).delete([0,nr(o.path)])))});i.push(l)}}).next(()=>C.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ry(e,t)}Kn(e,t){const r=ko(e);let i,s=hr.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==hr.at&&t(new U(Gi(i)),s),s=c,i=l):s=hr.at}).next(()=>{s!==hr.at&&t(new U(Gi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ry(n,e){return ko(n).put((r=n.currentSequenceNumber,{targetId:0,path:nr(e.path),sequenceNumber:r}));var r}class VV{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?C.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ore{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xa(e).put(r)}removeEntry(e,t,r){return Xa(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Zm(s),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=gt.newInvalidDocument(t);return Xa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zh(t))},(i,s)=>{r=this.jn(t,s)}).next(()=>r)}Wn(e,t){let r={size:0,document:gt.newInvalidDocument(t)};return Xa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zh(t))},(i,s)=>{r={document:this.jn(t,s),size:ty(s)}}).next(()=>r)}getEntries(e,t){let r=fr();return this.zn(e,t,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,t){let r=fr(),i=new Ot(U.comparator);return this.zn(e,t,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,ty(o))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return C.resolve();let i=new it($V);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(zh(i.first()),zh(i.last())),o=i.getIterator();let a=o.getNext();return Xa(e).Z({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=U.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&$V(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.j(zh(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Zm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xa(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=fr();for(const l of o){const c=this.jn(U.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(c.key,c)}return a})}getAllFromCollectionGroup(e,t,r,i){let s=fr();const o=jV(t,r),a=jV(t,Mr.max());return Xa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.jn(U.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new are(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return UV(e).get("remoteDocumentGlobalKey").next(t=>(pe(!!t),t))}Qn(e,t){return UV(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function(n,e){let t;if(e.document)t=uV(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=U.fromSegments(e.noDocument.path),i=Wa(e.noDocument.readTime);t=gt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Y();{const r=U.fromSegments(e.unknownDocument.path),i=Wa(e.unknownDocument.version);t=gt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Dt(r[0],r[1]);return ge.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(ge.min()))return r}return gt.newInvalidDocument(e)}}function BV(n){return new ore(n)}class are extends VV{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ao(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new it((s,o)=>Se(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=EV(this.Yn.It,o);i=i.add(s.path.popLast()),r+=ty(l)-a.size,t.push(this.Yn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=EV(this.Yn.It,o.convertToNoDocument(ge.min()));t.push(this.Yn.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,r)),C.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function UV(n){return mn(n,"remoteDocumentGlobal")}function Xa(n){return mn(n,"remoteDocumentsV14")}function zh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jV(n,e){const t=e.documentKey.path.toArray();return[n,Zm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $V(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Se(t[s],r[s]),i)return i;return i=Se(t.length,r.length),i||(i=Se(t[t.length-2],r[r.length-2]),i||Se(t[t.length-1],r[r.length-1]))}class lre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&kh(r.mutation,i,Nr.empty(),Dt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xe()){const i=zi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Mh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=fr();const o=Nh(),a=Nh();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Ns)?s=s.insert(c.key,c):void 0!==u&&(o.set(c.key,u.mutation.getFieldMask()),kh(u.mutation,c,u.mutation.getFieldMask(),Dt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new lre(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Nh();let i=new Ot((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Nr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=XL();u.forEach(h=>{if(!s.has(h)){const g=zL(t.get(h),r.get(h));null!==g&&d.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return U.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):nC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):C.resolve(zi());let a=-1,l=s;return o.next(c=>C.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.getBaseDocument(e,u,d).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,xe())).next(u=>({batchId:a,changes:JL(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next(r=>{let i=Mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Mh();return this.indexManager.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const l=(c=t,u=a.child(i),new Ms(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const c=l.getKey();null===i.get(c)&&(i=i.insert(c,gt.newInvalidDocument(c)))});let o=Mh();return i.forEach((a,l)=>{const c=s.get(a);void 0!==c&&kh(c.mutation,l,Nr.empty(),Dt.now()),iC(t,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):C.resolve(gt.newInvalidDocument(t))}}class cre{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return C.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:gn(r.createTime)}),C.resolve()}getNamedQuery(e,t){return C.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:pC(r.bundledQuery),readTime:gn(r.readTime)}),C.resolve();var r}}class ure{constructor(){this.overlays=new Ot(U.comparator),this.es=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zi();return C.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ue(e,t,s)}),C.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),C.resolve()}getOverlaysForCollection(e,t,r){const i=zi(),s=t.length+1,o=new U(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return C.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ot((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=zi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=zi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return C.resolve(a)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fC(t,r));let s=this.es.get(t);void 0===s&&(s=xe(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class yC{constructor(){this.ns=new it(yn.ss),this.rs=new it(yn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new yn(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new yn(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new U(new He([])),r=new yn(t,e),i=new yn(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new U(new He([])),r=new yn(t,e),i=new yn(t,e+1);let s=xe();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new yn(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class yn{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return U.comparator(e.key,t.key)||Se(e._s,t._s)}static os(e,t){return Se(e._s,t._s)||U.comparator(e.key,t.key)}}class dre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new it(yn.ss)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new dC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new yn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,t){return C.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yn(t,0),i=new yn(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(Se);return t.forEach(i=>{const s=new yn(i,0),o=new yn(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),C.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new yn(new U(s),0);let a=new it(Se);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),C.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){pe(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return C.forEach(t.mutations,i=>{const s=new yn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new yn(t,0),i=this.gs.firstAfterOrEqual(r);return C.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hre{constructor(e){this.Es=e,this.docs=new Ot(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return C.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(t))}getEntries(e,t){let r=fr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gt.newInvalidDocument(i))}),C.resolve(r)}getAllFromCollection(e,t,r){let i=fr();const s=new U(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||K0(cL(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return C.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Y()}As(e,t){return C.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fre(this)}getSize(e){return C.resolve(this.size)}}class fre extends VV{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),C.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class pre{constructor(e){this.persistence=e,this.Rs=new Ao(t=>Ha(t),Ah),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.bs=0,this.Ps=new yC,this.targetCount=0,this.vs=Ja.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),C.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ja(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.Dn(t),C.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return C.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),C.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),C.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return C.resolve(r)}containsKey(e,t){return C.resolve(this.Ps.containsKey(t))}}class zV{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new hr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new pre(this),this.indexManager=new Xne,this.remoteDocumentCache=new hre(r=>this.referenceDelegate.xs(r)),this.It=new wV(t),this.Ns=new cre(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ure,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new dre(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);const i=new gre(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return C.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class gre extends dL{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Fs=new yC,this.$s=null}static Bs(e){return new iy(e)}get Ls(){if(this.$s)return this.$s;throw Y()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),C.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),C.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ls,r=>{const i=U.fromPath(r);return this.Us(e,i).next(s=>{s||t.removeEntry(i,ge.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return C.or([()=>C.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class mre{constructor(e){this.It=e}$(e,t,r,i){const s=new Vm("createOrUpgrade",t);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mV,{unique:!0}),a.createObjectStore("documentMutations"),qV(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=C.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),qV(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ge.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(a,l){return l.store("mutations").W().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mV,{unique:!0});const u=l.store("mutations"),d=c.map(h=>u.put(h));return C.waitFor(d)})}(e,s))),o=o.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(a){const l=a.createObjectStore("documentOverlays",{keyPath:jne});l.createIndex("collectionPathOverlayIndex",$ne,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Hne,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:kne});l.createIndex("documentKeyIndex",Mne),l.createIndex("collectionGroupIndex",Nne)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Lne}).createIndex("sequenceNumberIndex",Vne,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:Bne}).createIndex("documentKeyIndex",Une,{unique:!1})}(e))),o}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=ty(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>C.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>C.forEach(a,l=>{pe(l.userId===s.userId);const c=Ka(this.It,l);return FV(e,s.userId,c).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new He(o),c=[0,nr(l)];s.push(t.get(c).next(u=>u?C.resolve():t.put({targetId:0,path:nr(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>C.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Pne});const r=t.store("collectionParents"),i=new mC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:nr(l)})}};return t.store("remoteDocuments").Z({X:!0},(o,a)=>{const l=new He(o);return s(l.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([o,a,l],c)=>{const u=Gi(a);return s(u.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const s=Bh(i),o=CV(this.It,s);return t.put(o)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(c=o,c.document?new U(He.fromString(c.document.name).popFirst(5)):c.noDocument?U.fromSegments(c.noDocument.path):c.unknownDocument?U.fromSegments(c.unknownDocument.path):Y()).path.toArray();var c;const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>C.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=BV(this.It),s=new zV(iy.Bs,this.It.re);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:xe();Ka(this.It,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),C.forEach(a,(l,c)=>{const u=new pn(c),d=Jm.oe(this.It,u),h=s.getIndexManager(u),g=ny.oe(u,this.It,h,s.referenceDelegate);return new HV(i,g,d,h).recalculateAndSaveOverlaysForDocumentKeys(new uC(t,hr.at),l).next()})})}}function qV(n){n.createObjectStore("targetDocuments",{keyPath:One}).createIndex("documentTargetsIndex",Rne,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fne,{unique:!0}),n.createObjectStore("targetGlobal")}const bC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _C{constructor(e,t,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=c,this.Ys=u,this.Xs=d,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=h=>Promise.resolve(),!_C.C())throw new M(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sre(this,i),this.ii=t+"main",this.It=new wV(l),this.ri=new wi(this.ii,this.Xs,new mre(this.It)),this.Cs=new tre(this.referenceDelegate,this.It),this.remoteDocumentCache=BV(this.It),this.Ns=new Wne,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===u&&jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(S.FAILED_PRECONDITION,bC);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new hr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=D(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=D(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(D(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(wo(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return qh(e).get("owner").next(t=>C.resolve(this.mi(t)))}gi(e){return sy(e).delete(this.clientId)}yi(){var e=this;return D(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=mn(r,"clientMetadata");return i.W().next(s=>{const o=e.Ii(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return C.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?C.resolve(!0):qh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new M(S.FAILED_PRECONDITION,bC);return!1}}return!(!this.networkEnabled||!this.inForeground)||sy(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&a)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&F("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return D(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new uC(t,hr.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>sy(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ny.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ere(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Jm.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){F("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(o=this.Xs)?qne:14===o?vV:13===o?_V:12===o?zne:11===o?bV:void Y();var o;let a;return this.ri.runTransaction(e,i,s,l=>(a=new uC(l,this.Ss?this.Ss.next():hr.at),"readwrite-primary"===t?this.fi(a).next(c=>!!c||this.di(a)).next(c=>{if(!c)throw jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new M(S.FAILED_PRECONDITION,uL);return r(a)}).next(c=>this.wi(a).next(()=>c)):this.Vi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Vi(e){return qh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new M(S.FAILED_PRECONDITION,bC)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qh(e).put("owner",t)}static C(){return wi.C()}_i(e){const t=qh(e);return t.get("owner").next(r=>this.mi(r)?(F("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):C.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(jt(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){jt("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qh(n){return mn(n,"owner")}function sy(n){return mn(n,"clientMetadata")}function vC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class wC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=xe(),i=xe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wC(e,t.fromCache,r,i)}}class GV{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(NL(t))return C.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=zm(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,zm(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return NL(t)||i.isEqual(ge.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(q0()<=Le.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rC(t)),this.Bi(e,o,t,lL(i,-1)))})}Fi(e,t){let r=new it(RL(e));return t.forEach((i,s)=>{iC(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return q0()<=Le.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",rC(t)),this.Ni.getDocumentsMatchingQuery(e,t,Mr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class yre{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Ot(Se),this.qi=new Ao(s=>Ha(s),Ah),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function WV(n,e,t,r){return new yre(n,e,t,r)}function KV(n,e){return EC.apply(this,arguments)}function EC(){return(EC=D(function*(n,e){const t=j(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=xe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function bre(n,e){const t=j(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=C.resolve();return d.forEach(g=>{h=h.next(()=>c.getEntry(a,g)).next(m=>{const _=l.docVersions.get(g);pe(null!==_),m.version.compareTo(_)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=xe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function QV(n){const e=j(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function _re(n,e){const t=j(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let g=h.withSequenceNumber(s.currentSequenceNumber);var m,_,b;e.targetMismatches.has(d)?g=g.withResumeToken(rn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(d,g),_=g,b=u,(0===(m=h).resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,g))});let l=fr(),c=xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(YV(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(ge.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ui=i,s))}function YV(n,e,t){let r=xe(),i=xe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=fr();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function vre(n,e){const t=j(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qc(n,e){const t=j(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new xo(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Yc(n,e,t){return CC.apply(this,arguments)}function CC(){return(CC=D(function*(n,e,t){const r=j(n),i=r.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!wo(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)})).apply(this,arguments)}function oy(n,e,t){const r=j(n);let i=ge.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=j(a),d=u.qi.get(c);return void 0!==d?C.resolve(u.Ui.get(d)):u.Cs.getTargetData(l,c)}(r,o,tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:ge.min(),t?s:xe())).next(a=>(XV(r,OL(e),a),{documents:a,Hi:s})))}function ZV(n,e){const t=j(n),r=j(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.se(s,e).next(o=>o?o.target:null))}function JV(n,e){const t=j(n),r=t.Ki.get(e)||ge.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,lL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(XV(t,e,i),i))}function XV(n,e,t){let r=n.Ki.get(e)||ge.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}function SC(){return(SC=D(function*(n,e,t,r){const i=j(n);let s=xe(),o=fr();for(const c of t){const u=e.Ji(c.metadata.name);c.document&&(s=s.add(u));const d=e.Yi(c);d.setReadTime(e.Xi(c.metadata.readTime)),o=o.insert(u,d)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),l=yield Qc(i,(c=r,tr(Bc(He.fromString(`__bundle__/docs/${c}`)))));var c;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>YV(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.Cs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Cs.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.Wi,u.zi)).next(()=>u.Wi)))})).apply(this,arguments)}function Ere(n,e){return DC.apply(this,arguments)}function DC(){return(DC=D(function*(n,e,t=xe()){const r=yield Qc(n,tr(pC(e.bundledQuery))),i=j(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=gn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(rn.EMPTY_BYTE_STRING,o);return i.Ui=i.Ui.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})})).apply(this,arguments)}function e2(n,e){return`firestore_clients_${n}_${e}`}function t2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TC(n,e){return`firestore_targets_${n}_${e}`}class ay{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new M(i.error.code,i.error.message))),o?new ay(e,t,i.state,s):(jt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new M(r.error.code,r.error.message))),s?new Gh(e,r.state,i):(jt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ly{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Km();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=yL(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new ly(e,s):(jt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AC{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AC(t.clientId,t.onlineState):(jt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xC{constructor(){this.activeTargetIds=Km()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IC{constructor(e,t,r,i,s){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ot(Se),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=e2(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new xC),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return D(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const s=e.getItem(e2(e.persistenceKey,i));if(s){const o=ly.Zi(i,s);o&&(e.ur=e.ur.insert(o.clientId,o))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(TC(this.persistenceKey,e));if(r){const i=Gh.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TC(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return F("SharedClientState","READ",e,t),t}setItem(e,t){F("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(F("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(D(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(s){let o=hr.at;if(null!=s)try{const a=JSON.parse(s);pe("number"==typeof a),o=a}catch(a){jt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(r.newValue);i!==hr.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new ay(this.currentUser,e,t,r),s=t2(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const t=t2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=TC(this.persistenceKey,e),s=new Gh(e,t,r);this.setItem(i,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return ly.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return ay.Zi(new pn(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Gh.Zi(i,t)}yr(e){return AC.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return D(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Km();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class n2{constructor(){this.Lr=new xC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new xC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cre{qr(e){}shutdown(){}}class r2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Sre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dre{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Tre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);F("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(F("RestConnection","Received: ",l),l),l=>{throw Pa("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Sre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new Ste;a.setWithCredentials(!0),a.listenOnce(wte.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case z0.NO_ERROR:const c=a.getResponseJson();F("Connection","XHR received:",JSON.stringify(c)),s(c);break;case z0.TIMEOUT:F("Connection",'RPC "'+e+'" timed out'),o(new M(S.DEADLINE_EXCEEDED,"Request time out"));break;case z0.HTTP_ERROR:const u=a.getStatus();if(F("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(m)>=0?m:S.UNKNOWN}(d.status);o(new M(h,d.message))}else o(new M(S.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new M(S.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{F("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_te(),o=vte(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Cte({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");F("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new Dre({Hr:m=>{d?F("Connection","Not sending because WebChannel is closed:",m):(u||(F("Connection","Opening WebChannel transport."),c.open(),u=!0),F("Connection","WebChannel sending:",m),c.send(m))},Jr:()=>c.close()}),g=(m,_,b)=>{m.listen(_,E=>{try{b(E)}catch(w){setTimeout(()=>{throw w},0)}})};return g(c,Rm.EventType.OPEN,()=>{d||F("Connection","WebChannel transport opened.")}),g(c,Rm.EventType.CLOSE,()=>{d||(d=!0,F("Connection","WebChannel transport closed"),h.io())}),g(c,Rm.EventType.ERROR,m=>{d||(d=!0,Pa("Connection","WebChannel transport errored:",m),h.io(new M(S.UNAVAILABLE,"The operation could not be completed")))}),g(c,Rm.EventType.MESSAGE,m=>{var _;if(!d){const b=m.data[0];pe(!!b);const E=b,w=E.error||(null===(_=E[0])||void 0===_?void 0:_.error);if(w){F("Connection","WebChannel received error:",w);const x=w.status;let R=function(ee){const ve=Yt[ee];if(void 0!==ve)return YL(ve)}(x),H=w.message;void 0===R&&(R=S.INTERNAL,H="Unknown error status: "+x+" with message "+w.message),d=!0,h.io(new M(R,H)),c.close()}else F("Connection","WebChannel received:",b),h.ro(b)}}),g(o,Ete.STAT_EVENT,m=>{m.stat===nL.PROXY?F("Connection","Detected buffering proxy"):m.stat===nL.NOPROXY&&F("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function i2(){return"undefined"!=typeof window?window:null}function cy(){return"undefined"!=typeof document?document:null}function Wh(n){return new yne(n,!0)}class kC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class s2{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new kC(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return D(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return D(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return D(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(jt(t.toString()),jt("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===S.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new M(S.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro(D(function*(){e.state=0,e.start()}))}jo(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Are extends s2{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.It=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Y(),i=e.targetChange.targetIds||[],s=function(l,c){return l.gt?(pe(void 0===c||"string"==typeof c),rn.fromBase64String(c||"")):(pe(void 0===c||c instanceof Uint8Array),rn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?S.UNKNOWN:YL(l.code);return new M(c,l.message||"")}(o);t=new tV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=qi(n,r.document.name),s=gn(r.document.updateTime),o=new In({mapValue:{fields:r.document.fields}}),a=gt.newFoundDocument(i,s,o);t=new Qm(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=qi(n,r.document),s=r.readTime?gn(r.readTime):ge.min(),o=gt.newNoDocument(i,s);t=new Qm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=qi(n,r.document);t=new Qm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Y();{const r=e.filter,s=new cne(r.count||0);t=new eV(r.targetId,s)}}var l;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return ge.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ge.min():s.readTime?gn(s.readTime):ge.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Lh(this.It),t.addTarget=function(i,s){let o;const a=s.target;return o=$m(a)?{documents:dV(i,a)}:{query:cC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=sV(i,s.resumeToken):s.snapshotVersion.compareTo(ge.min())>0&&(o.readTime=Rh(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Lh(this.It),t.removeTarget=e,this.Lo(t)}}class xre extends s2{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.It=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function(n,e){return n&&n.length>0?(pe(void 0!==e),n.map(t=>function(r,i){let s=gn(r.updateTime?r.updateTime:i);return s.isEqual(ge.min())&&(s=gn(i)),new one(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.tu(r,t)}return pe(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Lh(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Vh(this.It,r))};this.Lo(t)}}class Ire extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new M(S.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(S.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.So._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(S.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class Mre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(jt(t),this.uu=!1):F("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Nre{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(a=>{r.enqueueAndForget(D(function*(){var l;Fs(o)&&(F("RemoteStore","Restarting streams for network reachability change."),yield(l=D(function*(c){const u=j(c);u.wu.add(4),yield Zc(u),u.yu.set("Unknown"),u.wu.delete(4),yield Kh(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.yu=new Mre(r,i)}}function Kh(n){return NC.apply(this,arguments)}function NC(){return(NC=D(function*(n){if(Fs(n))for(const e of n.mu)yield e(!0)})).apply(this,arguments)}function Zc(n){return FC.apply(this,arguments)}function FC(){return(FC=D(function*(n){for(const e of n.mu)yield e(!1)})).apply(this,arguments)}function uy(n,e){const t=j(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),PC(t)?RC(t):Xc(t).Oo()&&OC(t,e))}function Qh(n,e){const t=j(n),r=Xc(t);t._u.delete(e),r.Oo()&&o2(t,e),0===t._u.size&&(r.Oo()?r.$o():Fs(t)&&t.yu.set("Unknown"))}function OC(n,e){n.pu.Mt(e.targetId),Xc(n).Ho(e)}function o2(n,e){n.pu.Mt(e),Xc(n).Jo(e)}function RC(n){n.pu=new pne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),Xc(n).start(),n.yu.cu()}function PC(n){return Fs(n)&&!Xc(n).ko()&&n._u.size>0}function Fs(n){return 0===j(n).wu.size}function a2(n){n.pu=void 0}function Fre(n){return LC.apply(this,arguments)}function LC(){return(LC=D(function*(n){n._u.forEach((e,t)=>{OC(n,e)})})).apply(this,arguments)}function Ore(n,e){return VC.apply(this,arguments)}function VC(){return(VC=D(function*(n,e){a2(n),PC(n)?(n.yu.lu(e),RC(n)):n.yu.set("Unknown")})).apply(this,arguments)}function Rre(n,e,t){return BC.apply(this,arguments)}function BC(){return(BC=D(function*(n,e,t){if(n.yu.set("Online"),e instanceof tV&&2===e.state&&e.cause)try{yield(r=D(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dy(n,r)}else if(e instanceof Qm?n.pu.Gt(e):e instanceof eV?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(ge.min()))try{const r=yield QV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i._u.get(l);c&&i._u.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i._u.get(a);if(!l)return;i._u.set(a,l.withResumeToken(rn.EMPTY_BYTE_STRING,l.snapshotVersion)),o2(i,a);const c=new xo(l.target,a,1,l.sequenceNumber);OC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield dy(n,r)}var r})).apply(this,arguments)}function dy(n,e,t){return UC.apply(this,arguments)}function UC(){return(UC=D(function*(n,e,t){if(!wo(e))throw e;n.wu.add(1),yield Zc(n),n.yu.set("Offline"),t||(t=()=>QV(n.localStore)),n.asyncQueue.enqueueRetryable(D(function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Kh(n)}))})).apply(this,arguments)}function l2(n,e){return e().catch(t=>dy(n,t,e))}function Jc(n){return jC.apply(this,arguments)}function jC(){return(jC=D(function*(n){const e=j(n),t=Mo(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Pre(e);)try{const i=yield vre(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,Lre(e,i)}catch(i){yield dy(e,i)}c2(e)&&u2(e)})).apply(this,arguments)}function Pre(n){return Fs(n)&&n.du.length<10}function Lre(n,e){n.du.push(e);const t=Mo(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function c2(n){return Fs(n)&&!Mo(n).ko()&&n.du.length>0}function u2(n){Mo(n).start()}function Vre(n){return $C.apply(this,arguments)}function $C(){return($C=D(function*(n){Mo(n).nu()})).apply(this,arguments)}function Bre(n){return HC.apply(this,arguments)}function HC(){return(HC=D(function*(n){const e=Mo(n);for(const t of n.du)e.Zo(t.mutations)})).apply(this,arguments)}function Ure(n,e,t){return zC.apply(this,arguments)}function zC(){return(zC=D(function*(n,e,t){const r=n.du.shift(),i=hC.from(r,e,t);yield l2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jc(n)})).apply(this,arguments)}function jre(n,e){return qC.apply(this,arguments)}function qC(){return(qC=D(function*(n,e){var t;e&&Mo(n).Xo&&(yield(t=D(function*(r,i){if(QL(s=i.code)&&s!==S.ABORTED){const o=r.du.shift();Mo(r).Fo(),yield l2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Jc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),c2(n)&&u2(n)})).apply(this,arguments)}function d2(n,e){return GC.apply(this,arguments)}function GC(){return(GC=D(function*(n,e){const t=j(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=Fs(t);t.wu.add(3),yield Zc(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Kh(t)})).apply(this,arguments)}function WC(n,e){return KC.apply(this,arguments)}function KC(){return(KC=D(function*(n,e){const t=j(n);e?(t.wu.delete(2),yield Kh(t)):e||(t.wu.add(2),yield Zc(t),t.yu.set("Unknown"))})).apply(this,arguments)}function Xc(n){return n.Iu||(n.Iu=function(e,t,r){const i=j(e);return i.iu(),new Are(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Fre.bind(null,n),Zr:Ore.bind(null,n),zo:Rre.bind(null,n)}),n.mu.push(function(){var e=D(function*(t){t?(n.Iu.Fo(),PC(n)?RC(n):n.yu.set("Unknown")):(yield n.Iu.stop(),a2(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Mo(n){return n.Tu||(n.Tu=function(e,t,r){const i=j(e);return i.iu(),new xre(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Vre.bind(null,n),Zr:jre.bind(null,n),eu:Bre.bind(null,n),tu:Ure.bind(null,n)}),n.mu.push(function(){var e=D(function*(t){t?(n.Tu.Fo(),yield Jc(n)):(yield n.Tu.stop(),n.du.length>0&&(F("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class QC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new QC(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eu(n,e){if(jt("AsyncQueue",`${e}: ${n}`),wo(n))return new M(S.UNAVAILABLE,`${e}: ${n}`);throw n}class tu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||U.comparator(t.key,r.key):(t,r)=>U.comparator(t.key,r.key),this.keyedMap=Mh(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class h2{constructor(){this.Eu=new Ot(U.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Y():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class nu{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new nu(e,t,tu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class $re{constructor(){this.Ru=void 0,this.listeners=[]}}class Hre{constructor(){this.queries=new Ao(e=>FL(e),xh),this.onlineState="Unknown",this.bu=new Set}}function YC(n,e){return ZC.apply(this,arguments)}function ZC(){return(ZC=D(function*(n,e){const t=j(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new $re),i)try{s.Ru=yield t.onListen(r)}catch(o){const a=eu(o,`Initialization of query '${rC(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.vu(s.Ru)&&eS(t)})).apply(this,arguments)}function JC(n,e){return XC.apply(this,arguments)}function XC(){return(XC=D(function*(n,e){const t=j(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function zre(n,e){const t=j(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Ru=i}}r&&eS(t)}function qre(n,e,t){const r=j(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function eS(n){n.bu.forEach(e=>{e.next()})}class tS{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class Gre{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class f2{constructor(e){this.It=e}Ji(e){return qi(this.It,e)}Yi(e){return e.metadata.exists?uV(this.It,e.document,!1):gt.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return gn(e)}}class Wre{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=p2(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=He.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new f2(this.It);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||xe()).add(s);t.set(o,a)}}return t}complete(){var e=this;return D(function*(){const t=yield function(n,e,t,r){return SC.apply(this,arguments)}(e.localStore,new f2(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield Ere(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function p2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class g2{constructor(e){this.key=e}}class m2{constructor(e){this.key=e}}class y2{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=xe(),this.mutatedKeys=xe(),this.Gu=RL(e),this.Qu=new tu(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new h2,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),g=iC(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;h&&g?h.data.isEqual(g.data)?m!==_&&(r.track({type:3,doc:g}),b=!0):this.Hu(h,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Gu(g,l)>0||c&&this.Gu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),b=!0):h&&!g&&(r.track({type:1,doc:h}),b=!0,(l||c)&&(a=!0)),b&&(g?(o=o.add(g),s=_?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((c,u)=>function(d,h){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return g(d)-g(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.qu;return this.qu=a,0!==s.length||l?{snapshot:new nu(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new h2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new m2(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new g2(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=xe();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return nu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Kre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Qre{constructor(e){this.key=e,this.nc=!1}}class Yre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ao(a=>FL(a),xh),this.rc=new Map,this.oc=new Set,this.uc=new Ot(U.comparator),this.cc=new Map,this.ac=new yC,this.hc={},this.lc=new Map,this.fc=Ja.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Zre(n,e){return nS.apply(this,arguments)}function nS(){return(nS=D(function*(n,e){const t=DS(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Qc(t.localStore,tr(e));t.isPrimaryClient&&uy(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield rS(t,e,r,"current"===a,o.resumeToken)}return i})).apply(this,arguments)}function rS(n,e,t,r,i){return iS.apply(this,arguments)}function iS(){return(iS=D(function*(n,e,t,r,i){n._c=(d,h,g)=>{return(m=D(function*(_,b,E,w){let x=b.view.Wu(E);x.$i&&(x=yield oy(_.localStore,b.query,!1).then(({documents:ee})=>b.view.Wu(ee,x)));const R=w&&w.targetChanges.get(b.targetId),H=b.view.applyChanges(x,_.isPrimaryClient,R);return pS(_,b.targetId,H.Xu),H.snapshot}),function(_,b,E,w){return m.apply(this,arguments)})(n,d,h,g);var m};const s=yield oy(n.localStore,e,!0),o=new y2(e,s.Hi),a=o.Wu(s.documents),l=Oh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);pS(n,t,c.Xu);const u=new Kre(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot})).apply(this,arguments)}function Jre(n,e){return sS.apply(this,arguments)}function sS(){return(sS=D(function*(n,e){const t=j(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!xh(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Qh(t.remoteStore,r.targetId),ru(t,r.targetId)}).catch(vo))):(ru(t,r.targetId),yield Yc(t.localStore,r.targetId,!0))})).apply(this,arguments)}function oS(){return(oS=D(function*(n,e,t){const r=TS(n);try{const i=yield function(s,o){const a=j(s),l=Dt.now(),c=o.reduce((h,g)=>h.add(g.key),xe());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=fr(),m=xe();return a.Gi.getEntries(h,c).next(_=>{g=_,g.forEach((b,E)=>{E.isValidDocument()||(m=m.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,g)).next(_=>{u=_;const b=[];for(const E of o){const w=lne(E,u.get(E.key).overlayedDocument);null!=w&&b.push(new Ns(E.key,w,SL(w.value.mapValue),Tt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,b,o)}).next(_=>{d=_;const b=_.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(h,_.batchId,b)})}).then(()=>({batchId:d.batchId,changes:JL(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Ot(Se)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Os(r,i.changes),yield Jc(r.remoteStore)}catch(i){const s=eu(i,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function b2(n,e){return aS.apply(this,arguments)}function aS(){return(aS=D(function*(n,e){const t=j(n);try{const r=yield _re(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?pe(o.nc):i.removedDocuments.size>0&&(pe(o.nc),o.nc=!1))}),yield Os(t,r,e)}catch(r){yield vo(r)}})).apply(this,arguments)}function _2(n,e,t){const r=j(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=j(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Pu(o)&&(l=!0)}),l&&eS(a)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eie(n,e,t){return lS.apply(this,arguments)}function lS(){return(lS=D(function*(n,e,t){const r=j(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Ot(U.comparator);o=o.insert(s,gt.newNoDocument(s,ge.min()));const a=xe().add(s),l=new Fh(ge.min(),new Map,new it(Se),o,a);yield b2(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),gS(r)}else yield Yc(r.localStore,e,!1).then(()=>ru(r,e,t)).catch(vo)})).apply(this,arguments)}function tie(n,e){return cS.apply(this,arguments)}function cS(){return(cS=D(function*(n,e){const t=j(n),r=e.batch.batchId;try{const i=yield bre(t.localStore,e);fS(t,r,null),hS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Os(t,i)}catch(i){yield vo(i)}})).apply(this,arguments)}function nie(n,e,t){return uS.apply(this,arguments)}function uS(){return(uS=D(function*(n,e,t){const r=j(n);try{const i=yield function(s,o){const a=j(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(pe(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);fS(r,e,t),hS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Os(r,i)}catch(i){yield vo(i)}})).apply(this,arguments)}function dS(){return(dS=D(function*(n,e){const t=j(n);Fs(t.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=j(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=eu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function hS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function fS(n,e,t){const r=j(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ru(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||v2(n,r)})}function v2(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Qh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),gS(n))}function pS(n,e,t){for(const r of t)r instanceof g2?(n.ac.addReference(r.key,e),iie(n,r)):r instanceof m2?(F("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||v2(n,r.key)):Y()}function iie(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(F("SyncEngine","New document in limbo: "+t),n.oc.add(r),gS(n))}function gS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new U(He.fromString(e)),r=n.fc.next();n.cc.set(r,new Qre(t)),n.uc=n.uc.insert(t,r),uy(n.remoteStore,new xo(tr(Bc(t.path)),r,2,hr.at))}}function Os(n,e,t){return mS.apply(this,arguments)}function mS(){return(mS=D(function*(n,e,t){const r=j(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const u=wC.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sc.zo(i),yield(a=D(function*(l,c){const u=j(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.Si,g=>u.persistence.referenceDelegate.addReference(d,h.targetId,g)).next(()=>C.forEach(h.Di,g=>u.persistence.referenceDelegate.removeReference(d,h.targetId,g)))))}catch(d){if(!wo(d))throw d;F("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const g=u.Ui.get(h),_=g.withLastLimboFreeSnapshotVersion(g.snapshotVersion);u.Ui=u.Ui.insert(h,_)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function sie(n,e){return yS.apply(this,arguments)}function yS(){return(yS=D(function*(n,e){const t=j(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=yield KV(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new M(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Os(t,r.ji)}var i})).apply(this,arguments)}function oie(n,e){const t=j(n),r=t.cc.get(e);if(r&&r.nc)return xe().add(r.key);{let i=xe();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function aie(n,e){return bS.apply(this,arguments)}function bS(){return(bS=D(function*(n,e){const t=j(n),r=yield oy(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&pS(t,e.targetId,i.Xu),i})).apply(this,arguments)}function lie(n,e){return _S.apply(this,arguments)}function _S(){return(_S=D(function*(n,e){const t=j(n);return JV(t.localStore,e).then(r=>Os(t,r))})).apply(this,arguments)}function cie(n,e,t,r){return vS.apply(this,arguments)}function vS(){return(vS=D(function*(n,e,t,r){const i=j(n),s=yield function(o,a){const l=j(o),c=j(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.Tn(u,a).next(d=>d?l.localDocuments.getDocuments(u,d):C.resolve(null)))}(i.localStore,e);var a;null!==s?("pending"===t?yield Jc(i.remoteStore):"acknowledged"===t||"rejected"===t?(fS(i,e,r||null),hS(i,e),a=e,j(j(i.localStore).mutationQueue).An(a)):Y(),yield Os(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function wS(){return(wS=D(function*(n,e){const t=j(n);if(DS(t),TS(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield w2(t,r.toArray());t.dc=!0,yield WC(t.remoteStore,!0);for(const s of i)uy(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ru(t,o),Yc(t.localStore,o,!0))),Qh(t.remoteStore,o)}),yield i,yield w2(t,r),function(s){const o=j(s);o.cc.forEach((a,l)=>{Qh(o.remoteStore,l)}),o.ac.fs(),o.cc=new Map,o.uc=new Ot(U.comparator)}(t),t.dc=!1,yield WC(t.remoteStore,!1)}})).apply(this,arguments)}function w2(n,e,t){return ES.apply(this,arguments)}function ES(){return(ES=D(function*(n,e,t){const r=j(n),i=[],s=[];for(const o of e){let a;const l=r.rc.get(o);if(l&&0!==l.length){a=yield Qc(r.localStore,tr(l[0]));for(const c of l){const u=r.ic.get(c),d=yield aie(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=yield ZV(r.localStore,o);a=yield Qc(r.localStore,c),yield rS(r,E2(c),o,!1,a.resumeToken)}i.push(a)}return r.sc.zo(s),i})).apply(this,arguments)}function E2(n){return ML(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function die(n){const e=j(n);return j(j(e.localStore).persistence).vi()}function hie(n,e,t,r){return CS.apply(this,arguments)}function CS(){return(CS=D(function*(n,e,t,r){const i=j(n);if(i.dc)return void F("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield JV(i.localStore,OL(s[0])),a=Fh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,rn.EMPTY_BYTE_STRING);yield Os(i,o,a);break}case"rejected":yield Yc(i.localStore,e,!0),ru(i,e,r);break;default:Y()}})).apply(this,arguments)}function fie(n,e,t){return SS.apply(this,arguments)}function SS(){return(SS=D(function*(n,e,t){const r=DS(n);if(r.dc){for(const i of e){if(r.rc.has(i)){F("SyncEngine","Adding an already active target "+i);continue}const s=yield ZV(r.localStore,i),o=yield Qc(r.localStore,s);yield rS(r,E2(s),o.targetId,!1,o.resumeToken),uy(r.remoteStore,o)}for(const i of t)r.rc.has(i)&&(yield Yc(r.localStore,i,!1).then(()=>{Qh(r.remoteStore,i),ru(r,i)}).catch(vo))}})).apply(this,arguments)}function DS(n){const e=j(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=b2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eie.bind(null,e),e.sc.zo=zre.bind(null,e.eventManager),e.sc.wc=qre.bind(null,e.eventManager),e}function TS(n){const e=j(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nie.bind(null,e),e}class C2{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return D(function*(){t.It=Wh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return WV(this.persistence,new GV,e.initialUser,this.It)}yc(e){return new zV(iy.Bs,this.It)}gc(e){return new n2}terminate(){var e=this;return D(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class S2 extends C2{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return D(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield TS(r.Ac.syncEngine),yield Jc(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return WV(this.persistence,new GV,e.initialUser,this.It)}Tc(e,t){return new rre(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new Ute(t,this.persistence);return new Bte(e.asyncQueue,r)}yc(e){const t=vC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new _C(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,i2(),cy(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new n2}}class gie extends S2{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return D(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof IC&&(r.sharedClientState.syncEngine={Fr:cie.bind(null,i),$r:hie.bind(null,i),Br:fie.bind(null,i),vi:die.bind(null,i),Mr:lie.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var s=D(function*(o){yield function(n,e){return wS.apply(this,arguments)}(r.Ac.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}gc(e){const t=i2();if(!IC.C(t))throw new M(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class AS{initialize(e,t){var r=this;return D(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=sie.bind(null,r.syncEngine),yield WC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hre}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),r=new Tre(e.databaseInfo);return new Ire(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>_2(this.syncEngine,a,0),o=r2.C()?new r2:new Cre,new Nre(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new Yre(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=D(function*(t){const r=j(t);F("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Zc(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xS(n,e,t){if(!t)throw new M(S.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D2(n,e,t,r){if(!0===e&&!0===r)throw new M(S.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function T2(n){if(!U.isDocumentKey(n))throw new M(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function A2(n){if(U.isDocumentKey(n))throw new M(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Y()}function Ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hy(n);throw new M(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function x2(n,e){if(e<=0)throw new M(S.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const I2=new Map;class k2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new M(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,D2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ate;switch(t.type){case"gapi":return new Mte(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=I2.get(e);t&&(F("ComponentProvider","Removing Datastore"),I2.delete(e),t.terminate())}(this),Promise.resolve()}}class _t{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class $n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $n(this.firestore,e,this._query)}}class Wi extends $n{constructor(e,t,r){super(e,t,Bc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new U(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function N2(n,e,...t){if(n=Bt(n),xS("collection","path",e),n instanceof Yh){const r=He.fromString(e,...t);return A2(r),new Wi(n,null,r)}{if(!(n instanceof _t||n instanceof Wi))throw new M(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return A2(r),new Wi(n.firestore,null,r)}}function fy(n,e,...t){if(n=Bt(n),1===arguments.length&&(e=oL.R()),xS("doc","path",e),n instanceof Yh){const r=He.fromString(e,...t);return T2(r),new _t(n,null,new U(r))}{if(!(n instanceof _t||n instanceof Wi))throw new M(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return T2(r),new _t(n.firestore,n instanceof Wi?n.converter:null,new U(r))}}function F2(n,e){return n=Bt(n),e=Bt(e),(n instanceof _t||n instanceof Wi)&&(e instanceof _t||e instanceof Wi)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function IS(n,e){return n=Bt(n),e=Bt(e),n instanceof $n&&e instanceof $n&&n.firestore===e.firestore&&xh(n._query,e._query)&&n.converter===e.converter}function O2(n,e=10240){let t=0;return{read:()=>D(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>D(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class py{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):jt("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yie{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new nn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return D(function*(){return e.metadata.promise})()}mc(){var e=this;return D(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return D(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const s=yield e.Cc(i);return new Gre(JSON.parse(s),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return D(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return D(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return D(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class vie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return D(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new M(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=D(function*(s,o){const a=j(s),l=Lh(a.It)+"/documents",c={documents:o.map(g=>Ph(a.It,g))},u=yield a._o("BatchGetDocuments",l,c,o.length),d=new Map;u.forEach(g=>{const m=function(n,e){return"found"in e?function(t,r){pe(!!r.found);const i=qi(t,r.found.name),s=gn(r.found.updateTime),o=new In({mapValue:{fields:r.found.fields}});return gt.newFoundDocument(i,s,o)}(n,e):"missing"in e?function(t,r){pe(!!r.missing),pe(!!r.readTime);const i=qi(t,r.missing),s=gn(r.readTime);return gt.newNoDocument(i,s)}(n,e):Y()}(a.It,g);d.set(m.key.toString(),m)});const h=[];return o.forEach(g=>{const m=d.get(g.toString());pe(!!m),h.push(m)}),h}),function(s,o){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return D(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=U.fromPath(i);e.mutations.push(new sC(s,e.precondition(s)))}),yield(r=D(function*(i,s){const o=j(i),a=Lh(o.It)+"/documents",l={writes:s.map(c=>Vh(o.It,c))};yield o.ao("Commit",a,l)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Y();t=ge.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new M(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ge.min())?Tt.exists(!1):Tt.updateTime(t):Tt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ge.min()))throw new M(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tt.updateTime(t)}return Tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wie{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.No=new kC(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro(D(function*(){const t=new vie(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Fc(s)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Eh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!QL(t)}return!1}}class Eie{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=oL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=D(function*(a){F("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return D(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=eu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function R2(n,e){return kS.apply(this,arguments)}function kS(){return(kS=D(function*(n,e){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=D(function*(s){r.isEqual(s)||(yield KV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function P2(n,e){return MS.apply(this,arguments)}function MS(){return(MS=D(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NS(n);F("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>d2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>d2(e.remoteStore,s)),n.onlineComponents=e})).apply(this,arguments)}function NS(n){return FS.apply(this,arguments)}function FS(){return(FS=D(function*(n){return n.offlineComponents||(F("FirestoreClient","Using default OfflineComponentProvider"),yield R2(n,new C2)),n.offlineComponents})).apply(this,arguments)}function gy(n){return OS.apply(this,arguments)}function OS(){return(OS=D(function*(n){return n.onlineComponents||(F("FirestoreClient","Using default OnlineComponentProvider"),yield P2(n,new AS)),n.onlineComponents})).apply(this,arguments)}function L2(n){return NS(n).then(e=>e.persistence)}function my(n){return NS(n).then(e=>e.localStore)}function RS(n){return gy(n).then(e=>e.remoteStore)}function PS(n){return gy(n).then(e=>e.syncEngine)}function iu(n){return LS.apply(this,arguments)}function LS(){return(LS=D(function*(n){const e=yield gy(n),t=e.eventManager;return t.onListen=Zre.bind(null,e.syncEngine),t.onUnlisten=Jre.bind(null,e.syncEngine),t})).apply(this,arguments)}function B2(n,e,t={}){const r=new nn;return n.asyncQueue.enqueueAndForget(D(function*(){return function(i,s,o,a,l){const c=new py({next:d=>{s.enqueueAndForget(()=>JC(i,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new M(S.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new M(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new tS(Bc(o.path),c,{includeMetadataChanges:!0,ku:!0});return YC(i,u)}(yield iu(n),n.asyncQueue,e,t,r)})),r.promise}function U2(n,e,t={}){const r=new nn;return n.asyncQueue.enqueueAndForget(D(function*(){return function(i,s,o,a,l){const c=new py({next:d=>{s.enqueueAndForget(()=>JC(i,u)),d.fromCache&&"server"===a.source?l.reject(new M(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new tS(o,c,{includeMetadataChanges:!0,ku:!0});return YC(i,u)}(yield iu(n),n.asyncQueue,e,t,r)})),r.promise}class kie{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new kC(this,"async_queue_retry"),this.Wc=()=>{const t=cy();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=cy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=cy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new nn;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return D(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!wo(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,jt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=QC.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&Y()}verifyOperationInProgress(){}Xc(){var e=this;return D(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function VS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Mie{constructor(){this._progressObserver={},this._taskCompletionResolver=new nn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vt extends Yh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kie,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||j2(this),this._firestoreClient.terminate()}}function $t(n){return n._firestoreClient||j2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function j2(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hte(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Eie(n._authCredentials,n._appCheckCredentials,n._queue,r)}function $2(n,e,t){const r=new nn;return n.asyncQueue.enqueue(D(function*(){try{yield R2(n,t),yield P2(n,e),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(o=s).name?o.code===S.FAILED_PRECONDITION||o.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;Pa("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var o})).then(()=>r.promise)}function H2(n){if(n._initialized||n._terminated)throw new M(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ki(rn.fromBase64String(e))}catch(t){throw new M(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ki(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rs{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class el{constructor(e){this._methodName=e}}class yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}const jie=/^__.*__$/;class $ie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hc(e,this.data,t,this.fieldTransforms)}}class z2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class by{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return wy(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(q2(this.sa)&&jie.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Hie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Wh(e)}da(e,t,r,i=!1){return new by({sa:e,methodName:t,fa:r,path:Ft.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function tl(n){const e=n._freezeSettings(),t=Wh(n._databaseId);return new Hie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _y(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);$S("Data must be an object, but it was:",o,r);const a=K2(r,o);let l,c;if(s.merge)l=new Nr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=HS(e,d,t);if(!o.contains(h))throw new M(S.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Y2(u,h)||u.push(h)}l=new Nr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new $ie(new In(a),l,c)}class Zh extends el{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function G2(n,e,t){return new by({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class BS extends el{_toFieldTransform(e){return new Ih(e.path,new jc)}isEqual(e){return e instanceof BS}}class zie extends el{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=G2(this,e,!0),r=this._a.map(s=>nl(s,t)),i=new za(r);return new Ih(e.path,i)}isEqual(e){return this===e}}class qie extends el{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=G2(this,e,!0),r=this._a.map(s=>nl(s,t)),i=new qa(r);return new Ih(e.path,i)}isEqual(e){return this===e}}class Gie extends el{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new $c(e.It,VL(e.It,this.wa));return new Ih(e.path,t)}isEqual(e){return this===e}}function US(n,e,t,r){const i=n.da(1,e,t);$S("Data must be an object, but it was:",i,r);const s=[],o=In.empty();Ba(r,(l,c)=>{const u=vy(e,l,t);c=Bt(c);const d=i.ca(u);if(c instanceof Zh)s.push(u);else{const h=nl(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Nr(s);return new z2(o,a,i.fieldTransforms)}function jS(n,e,t,r,i,s){const o=n.da(1,e,t),a=[HS(e,r,t)],l=[i];if(s.length%2!=0)throw new M(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(HS(e,s[h])),l.push(s[h+1]);const c=[],u=In.empty();for(let h=a.length-1;h>=0;--h)if(!Y2(c,a[h])){const g=a[h];let m=l[h];m=Bt(m);const _=o.ca(g);if(m instanceof Zh)c.push(g);else{const b=nl(m,_);null!=b&&(c.push(g),u.set(g,b))}}const d=new Nr(c);return new z2(u,d,o.fieldTransforms)}function W2(n,e,t,r=!1){return nl(t,n.da(r?4:3,e))}function nl(n,e){if(Q2(n=Bt(n)))return $S("Unsupported field value:",e,n),K2(n,e);if(n instanceof el)return function(t,r){if(!q2(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=nl(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Bt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return VL(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Dt.fromDate(t);return{timestampValue:Rh(r.It,i)}}if(t instanceof Dt){const i=new Dt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rh(r.It,i)}}if(t instanceof yy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ki)return{bytesValue:sV(r.It,t._byteString)};if(t instanceof _t){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:oC(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${hy(t)}`)}(n,e)}function K2(n,e){const t={};return pL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(n,(r,i)=>{const s=nl(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Q2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof yy||n instanceof Ki||n instanceof _t||n instanceof el)}function $S(n,e,t){if(!Q2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hy(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function HS(n,e,t){if((e=Bt(e))instanceof Rs)return e._internalPath;if("string"==typeof e)return vy(n,e);throw wy("Field path arguments must be of type string or ",n,!1,void 0,t)}const Wie=new RegExp("[~\\*/\\[\\]]");function vy(n,e,t){if(e.search(Wie)>=0)throw wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rs(...e.split("."))._internalPath}catch(r){throw wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wy(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new M(S.INVALID_ARGUMENT,a+n+l)}function Y2(n,e){return n.some(t=>t.isEqual(e))}class Jh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ey("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kie extends Jh{data(){return super.data()}}function Ey(n,e){return"string"==typeof e?vy(n,e):e instanceof Rs?e._internalPath:e._delegate._internalPath}function Z2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xh{}function No(n,...e){for(const t of e)n=t._apply(n);return n}class Qie extends Xh{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=tl(e.firestore),r=function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new M(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){rB(u,c);const g=[];for(const m of u)g.push(nB(a,i,m));d={arrayValue:{values:g}}}else d=nB(a,i,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||rB(u,c),d=W2(o,"where",u,"in"===c||"not-in"===c);const h=kn.create(l,c,d);return function(g,m){if(m.dt()){const b=tC(g);if(null!==b&&!b.isEqual(m.field))throw new M(S.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${b.toString()}' and '${m.field.toString()}'`);const E=eC(g);null!==E&&iB(0,m.field,E)}const _=function(b,E){for(const w of b.filters)if(E.indexOf(w.op)>=0)return w.op;return null}(g,function(b){switch(b){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(null!==_)throw new M(S.INVALID_ARGUMENT,_===m.op?`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`:`Invalid query. You cannot use '${m.op.toString()}' filters with '${_.toString()}' filters.`)}(i,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new $n(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Ms(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Zie extends Xh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new M(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new M(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Vc(i,s);return function(a,l){if(null===eC(a)){const c=tC(a);null!==c&&iB(0,c,l.field)}}(r,o),o}(e._query,this.ma,this.pa);return new $n(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ms(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class J2 extends Xh{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new $n(e.firestore,e.converter,zm(e._query,this.Ia,this.Ta))}}class X2 extends Xh{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=tB(e,this.type,this.Ea,this.Aa);return new $n(e.firestore,e.converter,(i=t,new Ms((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class eB extends Xh{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=tB(e,this.type,this.Ea,this.Aa);return new $n(e.firestore,e.converter,(i=t,new Ms((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function tB(n,e,t,r){if(t[0]=Bt(t[0]),t[0]instanceof Jh)return function(i,s,o,a,l){if(!a)throw new M(S.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of Uc(i))if(u.field.isKeyField())c.push($a(s,a.key));else{const d=a.data.field(u.field);if(Z0(d))throw new M(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=u.field.canonicalString();throw new M(S.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new To(c,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=tl(n.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new M(S.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let g=0;g<c.length;g++){const m=c[g];if(d[g].field.isKeyField()){if("string"!=typeof m)throw new M(S.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof m}`);if(!nC(s)&&-1!==m.indexOf("/"))throw new M(S.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${m}' contains a slash.`);const _=s.path.child(He.fromString(m));if(!U.isDocumentKey(_))throw new M(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const b=new U(_);h.push($a(o,b))}else{const _=W2(a,l,m);h.push(_)}}return new To(h,u)}(n._query,n.firestore._databaseId,i,e,t,r)}}function nB(n,e,t){if("string"==typeof(t=Bt(t))){if(""===t)throw new M(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nC(e)&&-1!==t.indexOf("/"))throw new M(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(He.fromString(t));if(!U.isDocumentKey(r))throw new M(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $a(n,new U(r))}if(t instanceof _t)return $a(n,t._key);throw new M(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hy(t)}.`)}function rB(n,e){if(!Array.isArray(n)||0===n.length)throw new M(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new M(S.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function iB(n,e,t){if(!t.isEqual(e))throw new M(S.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class zS{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Y()}}convertObject(e,t){const r={};return Ba(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new yy(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mL(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const t=Eo(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=He.fromString(e);pe(pV(r));const i=new Co(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(t)||jt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Cy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sse extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}class rl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends Jh{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ey("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ef extends Ps{data(e={}){return super.data(e)}}class Fo{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ef(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ef(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ef(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:ose(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ose(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function sB(n,e){return n instanceof Ps&&e instanceof Ps?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fo&&e instanceof Fo&&n._firestore===e._firestore&&IS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Oo extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function oB(n,e,t){n=Ve(n,_t);const r=Ve(n.firestore,vt),i=Cy(n.converter,e,t);return su(r,[_y(tl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Tt.none())])}function aB(n,e,t,...r){n=Ve(n,_t);const i=Ve(n.firestore,vt),s=tl(i);let o;return o="string"==typeof(e=Bt(e))||e instanceof Rs?jS(s,"updateDoc",n._key,e,t,r):US(s,"updateDoc",n._key,e),su(i,[o.toMutation(n._key,Tt.exists(!0))])}function lB(n,...e){var t,r,i;n=Bt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||VS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(VS(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof _t)c=Ve(n.firestore,vt),u=Bc(n._key.path),l={next:d=>{e[o]&&e[o](qS(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Ve(n,$n);c=Ve(d.firestore,vt),u=d._query;const h=new Oo(c);l={next:g=>{e[o]&&e[o](new Fo(c,h,d,g))},error:e[o+1],complete:e[o+2]},Z2(n._query)}return function(d,h,g,m){const _=new py(m),b=new tS(h,_,g);return d.asyncQueue.enqueueAndForget(D(function*(){return YC(yield iu(d),b)})),()=>{_.bc(),d.asyncQueue.enqueueAndForget(D(function*(){return JC(yield iu(d),b)}))}}($t(c),u,a,l)}function su(n,e){return function(t,r){const i=new nn;return t.asyncQueue.enqueueAndForget(D(function*(){return function(n,e,t){return oS.apply(this,arguments)}(yield PS(t),r,i)})),i.promise}($t(n),e)}function qS(n,e,t){const r=t.docs.get(e._key),i=new Oo(n);return new Ps(n,i,e._key,r,new rl(t.hasPendingWrites,t.fromCache),e.converter)}const mse={maxAttempts:5};class cB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tl(e)}set(e,t,r){this._verifyNotCommitted();const i=Ro(e,this._firestore),s=Cy(i.converter,t,r),o=_y(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Tt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Ro(e,this._firestore);let o;return o="string"==typeof(t=Bt(t))||t instanceof Rs?jS(this._dataReader,"WriteBatch.update",s._key,t,r,i):US(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ro(e,this._firestore);return this._mutations=this._mutations.concat(new zc(t._key,Tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ro(n,e){if((n=Bt(n)).firestore!==e)throw new M(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yse extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=tl(e)}get(e){const t=Ro(e,this._firestore),r=new sse(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Y();const s=i[0];if(s.isFoundDocument())return new Jh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Jh(this._firestore,r,t._key,null,t.converter);throw Y()})}set(e,t,r){const i=Ro(e,this._firestore),s=Cy(i.converter,t,r),o=_y(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=Ro(e,this._firestore);let o;return o="string"==typeof(t=Bt(t))||t instanceof Rs?jS(this._dataReader,"Transaction.update",s._key,t,r,i):US(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=Ro(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ro(e,this._firestore),r=new Oo(this._firestore);return super.get(e).then(i=>new Ps(this._firestore,r,t._key,i._document,new rl(!1,!1),t.converter))}}function GS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new M("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dB(){if("undefined"==typeof Uint8Array)throw new M("unimplemented","Uint8Arrays are not available in this environment.")}function hB(){if("undefined"==typeof atob)throw new M("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Oc=jg,ya(new fo("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new vt(new Ite(t.getProvider("auth-internal")),new Nte(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),_i(rL,"3.7.1",n),_i(rL,"3.7.1","esm2017")}();class tf{constructor(e){this._delegate=e}static fromBase64String(e){return hB(),new tf(Ki.fromBase64String(e))}static fromUint8Array(e){return dB(),new tf(Ki.fromUint8Array(e))}toBase64(){return hB(),this._delegate.toBase64()}toUint8Array(){return dB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WS(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class Ase{enableIndexedDbPersistence(e,t){return function(n,e){H2(n=Ve(n,vt));const t=$t(n),r=n._freezeSettings(),i=new AS;return $2(t,i,new S2(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){H2(n=Ve(n,vt));const e=$t(n),t=n._freezeSettings(),r=new AS;return $2(e,r,new gie(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new M(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new nn;return n._queue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{yield(t=D(function*(r){if(!wi.C())return Promise.resolve();const i=r+"main";yield wi.delete(i)}),function(r){return t.apply(this,arguments)})(vC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class fB{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Co||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const s=(n=Ve(n,Yh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Pa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=pn.MOCK_USER;else{o=pO(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new M(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new pn(l)}n._authCredentials=new xte(new iL(o,a))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue(D(function*(){const e=yield L2(n),t=yield RS(n);return e.setNetworkEnabled(!0),function(r){const i=j(r);return i.wu.delete(0),Kh(i)}(t)}))}($t(n=Ve(n,vt)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue(D(function*(){const e=yield L2(n),t=yield RS(n);return e.setNetworkEnabled(!1),(r=D(function*(i){const s=j(i);s.wu.add(0),yield Zc(s),s.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}($t(n=Ve(n,vt)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,D2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new nn;return e.asyncQueue.enqueueAndForget(D(function*(){return function(n,e){return dS.apply(this,arguments)}(yield PS(e),t)})),t.promise}($t(n=Ve(n,vt)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new py(e);return n.asyncQueue.enqueueAndForget(D(function*(){return r=yield iu(n),i=t,j(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget(D(function*(){return r=yield iu(n),i=t,void j(r).bu.delete(i);var r,i}))}}($t(n=Ve(n,vt)),VS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new M("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ou(this,N2(this._delegate,e))}catch(t){throw rr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Jr(this,fy(this._delegate,e))}catch(t){throw rr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ir(this,function(n,e){if(n=Ve(n,Yh),xS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new M(S.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $n(n,null,(t=e,new Ms(He.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw rr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e,t){n=Ve(n,vt);const r=Object.assign(Object.assign({},mse),void 0);return function(i){if(i.maxAttempts<1)throw new M(S.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new nn;return i.asyncQueue.enqueueAndForget(D(function*(){const l=yield function(n){return gy(n).then(e=>e.datastore)}(i);new wie(i.asyncQueue,l,o,s,a).run()})),a.promise}($t(n),i=>e(new yse(n,i)),r)}(this._delegate,t=>e(new pB(this,t)))}batch(){return $t(this._delegate),new gB(new cB(this._delegate,e=>su(this._delegate,e)))}loadBundle(e){return function(n,e){const t=$t(n=Ve(n,vt)),r=new Mie;return function(n,e,t,r){const i=function(s,o){let a;return a="string"==typeof s?(new TextEncoder).encode(s):s,l=function(l,c){if(l instanceof Uint8Array)return O2(l,c);if(l instanceof ArrayBuffer)return O2(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),new yie(l,o);var l}(t,Wh(e));n.asyncQueue.enqueueAndForget(D(function*(){!function(n,e,t){const r=j(n);var i;(i=D(function*(s,o,a){try{const l=yield o.getMetadata();if(yield function(h,g){const m=j(h),_=gn(g.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",b=>m.Ns.getBundleMetadata(b,g.id)).then(b=>!!b&&b.createTime.compareTo(_)>=0)}(s.localStore,l))return yield o.close(),a._completeWith({taskState:"Success",documentsLoaded:(h=l).totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}),Promise.resolve(new Set);a._updateProgress(p2(l));const c=new Wre(l,s.localStore,o.It);let u=yield o.mc();for(;u;){const h=yield c.Fu(u);h&&a._updateProgress(h),u=yield o.mc()}const d=yield c.complete();return yield Os(s,d.Lu,void 0),yield function(h,g){const m=j(h);return m.persistence.runTransaction("Save bundle","readwrite",_=>m.Ns.saveBundleMetadata(_,g))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.Bu)}catch(l){return Pa("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}var h}),function(s,o,a){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield PS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue(D(function*(){return function(t,r){const i=j(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(yield my(n),e)}))}($t(n=Ve(n,vt)),e).then(t=>t?new $n(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ir(this,t):null)}}class Sy extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new tf(new Ki(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Jr.forKey(t,this.firestore,null)}}class pB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}get(e){const t=sl(e);return this._delegate.get(t).then(r=>new nf(this._firestore,new Ps(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sl(e);return r?(GS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=sl(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}}class gB{constructor(e){this._delegate=e}set(e,t,r){const i=sl(e);return r?(GS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=sl(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class il{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ef(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rf(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=il.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new il(e,new Sy(e),t),i.set(t,s)),s}}il.INSTANCES=new WeakMap;class Jr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new M("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jr(t,new _t(t._delegate,r,new U(e)))}static forKey(e,t,r){return new Jr(t,new _t(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ou(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ou(this.firestore,N2(this._delegate,e))}catch(t){throw rr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Bt(e))instanceof _t&&F2(this._delegate,e)}set(e,t){t=GS("DocumentReference.set",t);try{return t?oB(this._delegate,e,t):oB(this._delegate,e)}catch(r){throw rr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?aB(this._delegate,e):aB(this._delegate,e,t,...r)}catch(i){throw rr(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return su(Ve(n.firestore,vt),[new zc(n._key,Tt.none())])}(this._delegate)}onSnapshot(...e){const t=mB(e),r=yB(e,i=>new nf(this.firestore,new Ps(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return lB(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ve(n,_t);const e=Ve(n.firestore,vt),t=$t(e),r=new Oo(e);return function(n,e){const t=new nn;return n.asyncQueue.enqueueAndForget(D(function*(){return(r=D(function*(i,s,o){try{const a=yield function(l,c){const u=j(l);return u.persistence.runTransaction("read document","readonly",d=>u.localDocuments.getDocument(d,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new M(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=eu(a,`Failed to get document '${s} from cache`);o.reject(l)}}),function(i,s,o){return r.apply(this,arguments)})(yield my(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ps(e,r,n._key,i,new rl(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ve(n,_t);const e=Ve(n.firestore,vt);return B2($t(e),n._key,{source:"server"}).then(t=>qS(e,n,t))}(this._delegate):function(n){n=Ve(n,_t);const e=Ve(n.firestore,vt);return B2($t(e),n._key).then(t=>qS(e,n,t))}(this._delegate),t.then(r=>new nf(this.firestore,new Ps(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Jr(this.firestore,this._delegate.withConverter(e?il.getInstance(this.firestore,e):null))}}function rr(n,e,t){return n.message=n.message.replace(e,t),n}function mB(n){for(const e of n)if("object"==typeof e&&!WS(e))return e;return{}}function yB(n,e){var t,r;let i;return i=WS(n[0])?n[0]:WS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class nf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Jr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sB(this._delegate,e._delegate)}}class rf extends nf{data(e){const t=this._delegate.data(e);return function(n,e){n||Y()}(void 0!==t),t}}class ir{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}where(e,t,r){try{return new ir(this.firestore,No(this._delegate,function(n,e,t){const r=e,i=Ey("where",n);return new Qie(i,r,t)}(e,t,r)))}catch(i){throw rr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ir(this.firestore,No(this._delegate,function(n,e="asc"){const t=e,r=Ey("orderBy",n);return new Zie(r,t)}(e,t)))}catch(r){throw rr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ir(this.firestore,No(this._delegate,function(n){return x2("limit",n),new J2("limit",n,"F")}(e)))}catch(t){throw rr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ir(this.firestore,No(this._delegate,function(n){return x2("limitToLast",n),new J2("limitToLast",n,"L")}(e)))}catch(t){throw rr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ir(this.firestore,No(this._delegate,function(...n){return new X2("startAt",n,!0)}(...e)))}catch(t){throw rr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ir(this.firestore,No(this._delegate,function(...n){return new X2("startAfter",n,!1)}(...e)))}catch(t){throw rr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ir(this.firestore,No(this._delegate,function(...n){return new eB("endBefore",n,!1)}(...e)))}catch(t){throw rr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ir(this.firestore,No(this._delegate,function(...n){return new eB("endAt",n,!0)}(...e)))}catch(t){throw rr(t,"endAt()","Query.endAt()")}}isEqual(e){return IS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Ve(n,$n);const e=Ve(n.firestore,vt),t=$t(e),r=new Oo(e);return function(n,e){const t=new nn;return n.asyncQueue.enqueueAndForget(D(function*(){return(r=D(function*(i,s,o){try{const a=yield oy(i,s,!0),l=new y2(s,a.Hi),c=l.Wu(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=eu(a,`Failed to execute query '${s} against cache`);o.reject(l)}}),function(i,s,o){return r.apply(this,arguments)})(yield my(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Fo(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Ve(n,$n);const e=Ve(n.firestore,vt),t=$t(e),r=new Oo(e);return U2(t,n._query,{source:"server"}).then(i=>new Fo(e,r,n,i))}(this._delegate):function(n){n=Ve(n,$n);const e=Ve(n.firestore,vt),t=$t(e),r=new Oo(e);return Z2(n._query),U2(t,n._query).then(i=>new Fo(e,r,n,i))}(this._delegate),t.then(r=>new KS(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=mB(e),r=yB(e,i=>new KS(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return lB(this._delegate,t,r)}withConverter(e){return new ir(this.firestore,this._delegate.withConverter(e?il.getInstance(this.firestore,e):null))}}class Ise{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ir(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ise(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rf(this._firestore,r))})}isEqual(e){return sB(this._delegate,e._delegate)}}class ou extends ir{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jr(this.firestore,e):null}doc(e){try{return new Jr(this.firestore,void 0===e?fy(this._delegate):fy(this._delegate,e))}catch(t){throw rr(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Ve(n.firestore,vt),r=fy(n),i=Cy(n.converter,e);return su(t,[_y(tl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Tt.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Jr(this.firestore,t))}isEqual(e){return F2(this._delegate,e._delegate)}withConverter(e){return new ou(this.firestore,this._delegate.withConverter(e?il.getInstance(this.firestore,e):null))}}function sl(n){return Ve(n,_t)}class QS{constructor(...e){this._delegate=new Rs(...e)}static documentId(){return new QS(Ft.keyField().canonicalString())}isEqual(e){return(e=Bt(e))instanceof Rs&&this._delegate._internalPath.isEqual(e._internalPath)}}class ol{constructor(e){this._delegate=e}static serverTimestamp(){const e=new BS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ol(e)}static delete(){const e=new Zh("deleteField");return e._methodName="FieldValue.delete",new ol(e)}static arrayUnion(...e){const t=function(...n){return new zie("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ol(t)}static arrayRemove(...e){const t=function(...n){return new qie("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ol(t)}static increment(e){const t=function(n){return new Gie("increment",n)}(e);return t._methodName="FieldValue.increment",new ol(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kse={Firestore:fB,GeoPoint:yy,Timestamp:Dt,Blob:tf,Transaction:pB,WriteBatch:gB,DocumentReference:Jr,DocumentSnapshot:nf,Query:ir,QueryDocumentSnapshot:rf,QuerySnapshot:KS,CollectionReference:ou,FieldPath:QS,FieldValue:ol,setLogLevel:function(n){!function(n){_o.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new fo("firestore-compat",t=>((e,t)=>new fB(e,t,new Ase))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},kse)))})(n),n.registerVersion("@firebase/firestore-compat","0.2.1")}(wee);let sf=(()=>{class n{constructor(){this.firebaseConfig={apiKey:"AIzaSyCSYHn4OMZfXeoW0TEFTqnwgwuS_I0FqCI",authDomain:"gramulardatabase.firebaseapp.com",databaseURL:"https://gramulardatabase-default-rtdb.firebaseio.com",projectId:"gramulardatabase",storageBucket:"gramulardatabase.appspot.com",messagingSenderId:"765198495430",appId:"1:765198495430:web:c54cd6006c9b84307031c7",measurementId:"G-KGM1GEWG1T"},this.app=$g(this.firebaseConfig),this.db=WX(this.app)}static getAcademicStyles(){throw new Error("Method not implemented.")}getAcademicStyles(){return uo(this,void 0,void 0,function*(){let t={};const r=Ia(Sa(this.db,"academicstyle"));return(yield ka(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}getEggcorns(){return uo(this,void 0,void 0,function*(){let t={};const r=Ia(Sa(this.db,"eggcorns"));return(yield ka(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}getGrammar(){return uo(this,void 0,void 0,function*(){const t=Ia(Sa(this.db,"grammar"));(yield ka(t)).forEach(i=>{console.log(i.id," => ",i.data())})})}getNorminlizations(){return uo(this,void 0,void 0,function*(){const t=Ia(Sa(this.db,"norminlizations"));(yield ka(t)).forEach(i=>{console.log(i.id," => ",i.data())})})}getPassiveVoice(){return uo(this,void 0,void 0,function*(){const t=Ia(Sa(this.db,"passivevoice"));(yield ka(t)).forEach(i=>{console.log(i.id," => ",i.data())})})}getTransitions(){return uo(this,void 0,void 0,function*(){let t={};const r=Ia(Sa(this.db,"transitions"));return(yield ka(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}getWordiness(){return uo(this,void 0,void 0,function*(){let t={};const r=Ia(Sa(this.db,"wordiness"));return(yield ka(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qi=(()=>{class n{constructor(){this.passiveVoiceAlertColorSource=new ae.BehaviorSubject(" "),this.currentPassiveVoiceAlertColor=this.passiveVoiceAlertColorSource.asObservable(),this.passiveVoiceFeedbackSource=new ae.BehaviorSubject(" "),this.currentPassiveVoiceFeedback=this.passiveVoiceFeedbackSource.asObservable(),this.passiveVoiceScoreSource=new ae.BehaviorSubject(0),this.currentPassiveVoiceScore=this.passiveVoiceScoreSource.asObservable(),this.passiveVoiceNumberSource=new ae.BehaviorSubject(0),this.currentPassiveVoiceNumber=this.passiveVoiceNumberSource.asObservable(),this.passiveVoiceTableSource=new ae.BehaviorSubject({" abode":""," arisen":""," awoken":""," alit":""," babysat":""," been":""," borne":""," beaten":""," become":""," befallen":""," bent":""," begun":""," bereft":""," besought":""," beheld":""," bet":""," bound":""," bidden":""," bitten":""," bled":""," blown":""," broken":""," bred":""," brought":""," broadcast":""," built":""," burnt":""," burst":""," bust":""," bought":""," cast":""," caught":""," chosen":""," cloven":""," cleft":""," clung":""," clad":""," come":""," crept":""," cost":""," cut":""," dealt":""," dug":""," done":""," drawn":""," dreamt":""," drunk":""," dwelt":""," driven":""," eaten":""," fallen":""," fed":""," felt":""," fought":""," found":""," fit":""," fled":""," flung":""," flown":""," forbidden":""," forgotten":""," forecast":""," foretold":""," forsaken":""," forgiven":""," frozen":""," gotten":""," got":""," gainsaid":""," given":""," gone":""," ground":""," grown":""," hung":""," had":""," heard":""," hove":""," hewn":""," hidden":""," hit":""," held":""," hurt":""," kept":""," knit":""," knelt":""," laden":""," known":""," lain":""," led":""," left":""," lent":""," leant":""," learnt":""," let":""," lit":""," lost":""," leapt":""," made":""," meant":""," mistaken":""," mown":""," met":""," offset":""," overtaken":""," paid":""," put":""," quit":""," read":""," ridden":""," redone":""," recast":""," rent":""," rebuilt":""," rung":""," risen":""," rid":""," run":""," said":""," sawn":""," seen":""," sewn":""," sold":""," sent":""," set":""," shaken":""," shit":""," shone":""," shed":""," shot":""," shown":""," shut":""," sung":""," sunk":""," sat":""," slept":""," shaven":""," slid":""," slit":""," spoken":""," spent":""," slain":""," spelt":""," spilt":""," spat":""," sprung":""," spoilt":""," spun":""," sped":""," spread":""," stood":""," slunk":""," smitten":""," stolen":""," slung":""," stuck":""," stung":""," struck":""," strung":""," strewn":""," sworn":""," smelt":""," swept":""," shrunk":""," stridden":""," striven":""," swum":""," sought":""," sweat":""," shorn":""," swung":""," swollen":""," taken":""," taught":""," torn":""," told":""," thought":""," thriven":""," thrown":""," thrust":""," understood":""," undone":""," upset":""," woken":""," worn":""," won":""," withdrawn":""," written":""," trodden":""," waylaid":""," woven":""," wed":""," wept":""," went":""," wet":""," wound":""," wrung":""," abashed":""," abated":""," absorbed":""," accepted":""," accompanied":""," ached":""," achieved":""," acquired":""," acted":""," added":""," addressed":""," adjusted":""," admired":""," admitted":""," advised":""," afforded":""," agreed":""," allowed":""," animated":""," announced":""," answered":""," apologized":""," appeared":""," applauded":""," applied":""," approeached":""," approved":""," argued":""," arranged":""," arrested":""," asked":""," asserted":""," assorted":""," astonished":""," attacked":""," attended":""," attracted":""," audited":""," avoided":""," banged":""," banished":""," bashed":""," batted":""," beautified":""," begged":""," behaved":""," believed":""," belonged":""," betrayed":""," blessed":""," blossomed":""," blurred":""," blushed":""," boarded":""," boasted":""," boiled":""," bowed":""," boxed":""," brayed":""," breathed":""," brushed":""," buried":""," buzzed":""," calculated":""," called":""," canvassed":""," captured":""," caressed":""," carried":""," carved":""," cashed":""," caused":""," ceased":""," celebrated":""," challenged":""," changed":""," charged":""," chased":""," chatted":""," checked":""," cheered":""," chewed":""," chipped":""," choked":""," classified":""," cleaned":""," clicked":""," climbed":""," closed":""," clutched":""," collapsed":""," collected":""," coloured":""," commented":""," compared":""," compelled":""," competed":""," complained":""," completed":""," concluded":""," conducted":""," confessed":""," confined":""," confiscated":""," confused":""," congratulated":""," connected":""," connoted":""," conquered":""," consecrated":""," consented":""," conserved":""," considered":""," consigned":""," consisted":""," consoled":""," consorted":""," conspired":""," constitued":""," constrained":""," constructed":""," construed":""," consulted":""," contained":""," contemned":""," contended":""," contested":""," continued":""," contracted":""," contradicted":""," contrasted":""," contributed":""," contrived":""," controlled":""," convened":""," converged":""," conversed":""," converted":""," conveyed":""," convicted":""," convinced":""," cooed":""," cooked":""," cooled":""," co-operated":""," copied":""," corrected":""," corresponded":""," corroded":""," corrupted":""," coughed":""," counselled":""," counted":""," coursed":""," covered":""," cowered":""," cracked":""," crackled":""," crashed":""," craved":""," created":""," cribbed":""," crossed":""," crowded":""," crushed":""," cried":""," curbed":""," cured":""," curved":""," cycled":""," damaged":""," damped":""," danced":""," dared":""," dashed":""," dazzled":""," decayed":""," decided":""," declared":""," decorated":""," decreased":""," dedicated":""," delayed":""," deleted":""," denied":""," depended":""," deprived":""," derived":""," described":""," desired":""," destroyed":""," detached":""," detected":""," determined":""," developed":""," died":""," differed":""," digested":""," dimmed":""," diminished":""," dined":""," dipped":""," directed":""," disappeared":""," discovered":""," discussed":""," disobeyed":""," distributed":""," disturbed":""," disused":""," dived":""," divided":""," donated":""," downloaded":""," dragged":""," dressed":""," drilled":""," dropped":""," dried":""," dumped":""," dyed":""," earned":""," educated":""," empowered":""," emptied":""," encircled":""," encouraged":""," encroached":""," endangered":""," endorsed":""," endured":""," engraved":""," enjoyed":""," enlarged":""," enlightened":""," entered":""," envied":""," erased":""," escaped":""," evaporated":""," exchanged":""," exclaimed":""," excluded":""," existed":""," expanded":""," expected":""," explained":""," explored":""," expressed":""," extended":""," eyed":""," faced":""," failed":""," fainted":""," fanned":""," fancied":""," favoured":""," faxed":""," ferried":""," fetched":""," filled":""," finished":""," fished":""," fitted":""," fixed":""," fizzed":""," flapped":""," flashed":""," floated":""," flopped":""," folded":""," followed":""," forced":""," formed":""," founded":""," framed":""," freed":""," frightened":""," fried":""," fulfilled":""," gagged":""," gained":""," gashed":""," gazed":""," glanced":""," glittered":""," glowed":""," googled":""," governed":""," grabbed":""," graded":""," granted":""," greeted":""," gripped":""," guarded":""," guessed":""," guided":""," handled":""," happened":""," harmed":""," hatched":""," hated":""," healed":""," helped":""," hindered":""," hissed":""," hoaxed":""," hopped":""," hoped":""," horrified":""," hugged":""," hummedd":""," humiliated":""," hunted":""," hurled":""," hurried":""," hushed":""," hustled":""," hypnotized":""," idealized":""," identified":""," idolized":""," ignited":""," ignored":""," ill-treated":""," illuminated":""," illumined":""," illustrated":""," imagined":""," imbibed":""," imitated":""," immersed":""," immolated":""," immmured":""," impaired":""," imparted":""," impeached":""," impeded":""," impelled":""," impended":""," imperilled":""," impinged":""," implanted":""," implicated":""," imploded":""," implored":""," implied":""," imported":""," imposed":""," impressed":""," imprinted":""," imprisoned":""," improved":""," inaugurated":""," incised":""," included":""," increased":""," inculcaded":""," indented":""," indicated":""," induced":""," indulged":""," infected":""," infested":""," inflamed":""," inflated":""," inflected":""," informed":""," infringed":""," infused":""," ingested":""," inhabited":""," inhaled":""," inherited":""," initialed":""," injected":""," injured":""," inlaid":""," innovated":""," inquired":""," inscribed":""," inserted":""," inspected":""," inspired":""," installed":""," insulted":""," insured":""," integrated":""," introduced":""," invented":""," invited":""," joined":""," jumped":""," justified":""," kicked":""," kidded":""," killed":""," kissed":""," knocked":""," landed":""," lasted":""," latched":""," laughed":""," laid":""," leaked":""," leered":""," licked":""," lied":""," lifted":""," liked":""," limped":""," listened":""," lived":""," looked":""," loved":""," magnified":""," maintained":""," managed":""," marched":""," marked":""," married":""," mashed":""," matched":""," mattered":""," measured":""," melted":""," merged":""," mewed":""," migrated":""," milked":""," minded":""," misled":""," missed":""," misused":""," mixed":""," moaned":""," modified":""," mooed":""," motivated":""," moulded":""," moulted":""," moved":""," multiplied":""," murmured":""," nailed":""," napped":""," needed":""," neglected":""," nipped":""," nodded":""," noted":""," noticed":""," notified":""," nourished":""," nursed":""," obeyed":""," obliged":""," observed":""," obstructed":""," obtained":""," occupied":""," ocurred":""," offered":""," omitted":""," oozed":""," opened":""," operated":""," opined":""," oppressed":""," opted":""," optimized":""," ordered":""," organized":""," originated":""," overflowed":""," owed":""," owned":""," pacified":""," painted":""," pardoned":""," parted":""," partaken":""," participated":""," passed":""," pasted":""," patted":""," patched":""," paused":""," peeped":""," perished":""," permitted":""," persuaded":""," phoned":""," placed":""," planned":""," played":""," pled":""," pleased":""," plodded":""," plotted":""," plucked":""," plied":""," pointed":""," polished":""," polluted":""," pondered":""," poured":""," pouted":""," practised":""," praised":""," prayed":""," preached":""," preferred":""," prepared":""," prescribed":""," presented":""," preserved":""," presided":""," pressed":""," pretended":""," prevented":""," printed":""," proceeded":""," produced":""," progressed":""," prohibited":""," promised":""," proposed":""," prosecuted":""," protected":""," proved":""," provided":""," pulled":""," punished":""," purified":""," pushed":""," qualified":""," quarrelled":""," questioned":""," raced":""," rained":""," rattled":""," reached":""," realized":""," recalled":""," received":""," recited":""," recognized":""," recollected":""," recurred":""," reduced":""," referred":""," reflected":""," refused":""," regarded":""," regretted":""," related":""," relaxed":""," relied":""," remained":""," remade":""," removed":""," renewed":""," renounced":""," repaired":""," repeated":""," replaced":""," replied":""," reported":""," requested":""," resold":""," resembled":""," reset":""," resisted":""," resolved":""," respected":""," rested":""," restrained":""," retained":""," retched":""," retired":""," returned":""," reused":""," reviewed":""," rewound":""," roared":""," robbed":""," rolled":""," rotted":""," rubbed":""," ruled":""," rushed":""," sabotaged":""," sacked":""," sacrificed":""," saddened":""," saddled":""," sagged":""," sailed":""," sallied":""," saluted":""," salvaged":""," salved":""," sampled":""," sanctioned":""," sanctified":""," sapped":""," saponified":""," sashed":""," sashayed":""," sassed":""," sated":""," satiated":""," satirised":""," satisfied":""," saturated":""," sauntered":""," saved":""," savored":""," savvied":""," scabbed":""," scabbled":""," scalded":""," scaled":""," scammed":""," scanned":""," scanted":""," scarred":""," scared":""," scarified":""," scarped":""," scatted":""," scattered":""," scolded":""," scorched":""," scowled":""," scrawled":""," screamed":""," screwed":""," scrubbed":""," searched":""," seated":""," secured":""," seemed":""," seized":""," selected":""," sentenced":""," separated":""," severed":""," shaped":""," shared":""," shattered":""," shirked":""," shipped":""," shivered":""," shocked":""," shortened":""," shouted":""," shunned":""," sighted":""," signalled":""," signified":""," sipped":""," skied":""," skidded":""," slammed":""," slimmed":""," slipped":""," smashed":""," smiled":""," smoothed":""," snapped":""," snatched":""," sneaked":""," sneezed":""," sniffed":""," soared":""," sobbed":""," solicited":""," solved":""," soothed":""," sorted":""," sowed":""," sparkled":""," sprayed":""," sprouted":""," squeezed":""," stared":""," started":""," stated":""," stayed":""," steeped":""," stemmed":""," stepped":""," sterilized":""," stimulated":""," stirred":""," stitched":""," stooped":""," stopped":""," stored":""," strained":""," strayed":""," stressed":""," stretched":""," studied":""," submitted":""," subscribed":""," subtracted":""," succeeded":""," sucked":""," suffered":""," suggested":""," summoned":""," supplied":""," supported":""," supposed":""," surged":""," surmised":""," surpassed":""," surrounded":""," surveyed":""," survived":""," swallowed":""," swayed":""," swotted":""," talked":""," tapped":""," tasted":""," taxed":""," teed":""," tempted":""," tended":""," terminated":""," terrified":""," tested":""," thanked":""," thumped":""," tied":""," tired":""," tossed":""," touched":""," trained":""," trampled":""," transferred":""," transformed":""," translated":""," trapped":""," travelled":""," treasured":""," treated":""," treed":""," trembled":""," triumphed":""," trusted":""," tried":""," turned":""," typed":""," uprooted":""," urged":""," used":""," uttered":""," valued":""," vanished":""," varied":""," verified":""," vexed":""," vied":""," viewed":""," violated":""," vomited":""," walked":""," wandered":""," wanted":""," warned":""," wasted":""," watched":""," watered":""," waved":""," waxed":""," weighed":""," welcomed":""," whipped":""," whispered":""," wished":""," worked":""," worried":""," worshipped":""," yawned":""," yelled":""," yielded":""," zincked":""," zoomed":""}),this.currentPassiveVoiceTable=this.passiveVoiceTableSource.asObservable(),this.passiveVoiceHelperTableSource=new ae.BehaviorSubject({" is":""," isn't":""," is not":""," 's":""," 's not":""," are":""," aren't":""," are not":""," 're":""," 're not":""," was":""," wasn't":""," was not":""," were":""," weren't":""," were not":""," be":""," being":""," having":""," been":""}),this.currentPassiveVoiceHelperTable=this.passiveVoiceHelperTableSource.asObservable(),this.passiveVoiceUserTableSource=new ae.BehaviorSubject({}),this.currentPassiveVoiceUserTable=this.passiveVoiceUserTableSource.asObservable()}changePassiveVoiceAlertColor(t){this.passiveVoiceAlertColorSource.next(t)}changePassiveVoiceFeedback(t){this.passiveVoiceFeedbackSource.next(t)}changePassiveVoiceScore(t){this.passiveVoiceScoreSource.next(t)}changePassiveVoiceNumber(t){this.passiveVoiceNumberSource.next(t)}changePassiveVoiceTable(t){this.passiveVoiceTableSource.next(t)}changePassiveVoiceHelperTable(t){this.passiveVoiceHelperTableSource.next(t)}changePassiveVoiceUserTable(t){this.passiveVoiceUserTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yi=(()=>{class n{constructor(t){this.testFireBase=t,this.wordinessAlertColorSource=new ae.BehaviorSubject(" "),this.currentWordinessAlertColor=this.wordinessAlertColorSource.asObservable(),this.wordinessFeedbackSource=new ae.BehaviorSubject(" "),this.currentWordinessFeedback=this.wordinessFeedbackSource.asObservable(),this.wordinessScoreSource=new ae.BehaviorSubject(0),this.currentWordinessScore=this.wordinessScoreSource.asObservable(),this.wordinessNumberSource=new ae.BehaviorSubject(0),this.currentWordinessNumber=this.wordinessNumberSource.asObservable(),this.wordinessTableSource=new ae.BehaviorSubject(this.testFireBase.getWordiness()),this.currentWordinessTable=this.wordinessTableSource.asObservable(),this.wordinessUserTableSource=new ae.BehaviorSubject({}),this.currentWordinessUserTable=this.wordinessUserTableSource.asObservable()}changeWordinessAlertColor(t){this.wordinessAlertColorSource.next(t)}changeWordinessFeedback(t){this.wordinessFeedbackSource.next(t)}changeWordinessScore(t){this.wordinessScoreSource.next(t)}changeWordinessNumber(t){this.wordinessNumberSource.next(t)}changeWordinessTable(t){this.wordinessTableSource.next(t)}changeWordinessUserTable(t){this.wordinessUserTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(sf))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zi=(()=>{class n{constructor(t){this.testFireBase=t,this.transitionsAlertColor=new ae.BehaviorSubject(" "),this.currentTransitionsAlertColor=this.transitionsAlertColor.asObservable(),this.transitionsFeedback=new ae.BehaviorSubject(" "),this.currentTransitionsFeedback=this.transitionsFeedback.asObservable(),this.transitionsScore=new ae.BehaviorSubject(0),this.currentTransitionsScore=this.transitionsScore.asObservable(),this.totalTransitions=new ae.BehaviorSubject(0),this.currentTotalTransitions=this.totalTransitions.asObservable(),this.transitionsTable=new ae.BehaviorSubject(this.testFireBase.getTransitions()),this.currentTransitionsTable=this.transitionsTable.asObservable(),this.transitionsUserTable=new ae.BehaviorSubject({}),this.currentTransitionsUserTable=this.transitionsUserTable.asObservable()}changeTransitionsScore(t){this.transitionsScore.next(t)}changeTotalTransitions(t){this.totalTransitions.next(t)}changeTable(t){this.transitionsTable.next(t)}changeTransitionsUserTable(t){this.transitionsUserTable.next(t)}changeTransitionsFeedback(t){this.transitionsFeedback.next(t)}changeTransitionsAlertColor(t){this.transitionsAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(sf))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ji=(()=>{class n{constructor(t){this.testFireBase=t,this.grammarAlertColor=new ae.BehaviorSubject(" "),this.currentGrammarAlertColor=this.grammarAlertColor.asObservable(),this.grammarFeedback=new ae.BehaviorSubject(" "),this.currentGrammarFeedback=this.grammarFeedback.asObservable(),this.grammarScore=new ae.BehaviorSubject(0),this.currentGrammarScore=this.grammarScore.asObservable(),this.totalGrammar=new ae.BehaviorSubject(0),this.currentTotalGrammar=this.totalGrammar.asObservable(),this.grammarTable=new ae.BehaviorSubject({"a 100":"100, a hundred, one hundred","a 1000":"1000, a thousand, one thousand","a 11":"an 11","a 11th":"an 11th","a 18":"an 18","a 18th":"an 18th","a 8":"an 8","a 80":"an 80","a 8th":"an 8th","a absolute":"an absolute","a accident":"an accident","a acoustic":"an acoustic","a acronym":"an acronym","a action":"an action","a actual":"an actual","a additional":"an additional","a affair":"an affair","a African":"an African","a album":"an album","a Algerian":"an Algerian","a alien":"an alien","a alternative":"an alternative","a AM":"an AM","a amateur":"an amateur","a American":"an American","a amount":"an amount","Although,":"However,","a analog":"an analog","a analogue":"an analogue","a angle":"an angle","a Angolan":"an Angolan","a annual":"an annual","a another":"another","a antenna":"an antenna","a anti":"an anti","a Arabian":"an Arabian","a Arabic":"an Arabic","a Argentine":"an Argentine","a Armenian":"an Armenian","a Asian":"an Asian","a assistant":"an assistant","a associate":"an associate","a Australian":"an Australian","a Austrian":"an Austrian","a average":"an average","a back up":"a back-up, a backup","a bacteria":"a bacterium [singular], bacteria [plural]","a batsmen":"a batsman [singular]","a businessmen":"a businessman [singular]","a businesswomen":"a businesswoman","a consortia":"a consortium [singular]","a criteria":"a criterion [singular]","a dominate":"a dominant","a early":"an early","a effective":"an effective","a Egyptian":"an Egyptian","a eight":"an eight","a eighth":"an eighth","a eighteen":"an eighteen","a eighteenth":"an eighteenth","a eighty":"an eighty","a electric":"an electric","a electronic":"an electronic","a eleven":"an eleven","a eleventh":"an eleventh","a elite":"an elite","a embedded":"an embedded","a English":"an English","a entire":"an entire","a EP":"an EP","a epic":"an epic","a episode":"an episode","a equal":"an equal","a estimate":"an estimate","a Ethiopian":"an Ethiopian","a ethnic":"an ethnic","a example":"an example","a extra":"an extra","a falling out":"a falling-out [though Wiktionary has both]","a firemen":"a fireman [singular]","a flagella":"a flagellum [singular]","a FM":"an FM","a freshmen":"a freshman [singular]","a fungi":"a fungus [singular]","a gunmen":"a gunman [singular]","a impact":"an impact","a independent":"an independent","a Indian":"an Indian","a individual":"an individual","a Indonesian":"an Indonesian","a indoor":"an indoor","a information":"an information","a initiative":"an initiative","a intelligent":"an intelligent","a interesting":"an interesting","a interim":"an interim","a interior":"an interior","a intermediate":"an intermediate","a international":"an international","a Internet":"an Internet","a intersection":"an intersection","a interview":"an interview","a introduction":"an introduction","a Iranian":"an Iranian","a Iraqi":"an Iraqi","a Irish":"an Irish","a iron":"an iron","a island":"an island","a Israeli":"an Israeli","a issue":"an issue","a Italian":"an Italian","a larvae":"a larva [singular]","a line up":"a line-up, a lineup","a lock out":"a lockout","a lose":"a loss","a match up":"a match-up, a matchup","a media for":"a medium for","a nuclei":"a nucleus [singular]","a ocean":"an ocean","a official":"an official","a Ohio":"an Ohio","a oil":"an oil","a old":"an old","a one of the":"one of the","a online":"an online","a only":"an only, only a","a only a":"only a","a opinion":"an opinion","a organization":"an organization","a original":"an original","a other":"an other","a outbreak":"an outbreak","a outdoor":"an outdoor","a outside":"an outside","a overtime":"an overtime","a owner":"an owner","a paparazzi":"a paparazzo [singular], paparazzi [plural]","a parentheses":"a parenthesis [singular]","a phenomena":"a phenomenon [singular], phenomena [plural]","a protozoa":"a protozoon [singular], protozoa [plural]","a pupae":"a pupa [singular]","a radii":"a radius [singular]","a run in":"a run-in","a set back":"a set-back, a setback","a set up":"a setup","a simple as":"as simple as","a spermatozoa":"a spermatozoon [singular]","a statesmen":"a statesman [singular]","a taxa":"a taxon [singular]","a toss up":"a toss-up, a tossup","a two months":"a two-month","a ultimate":"an ultimate","a undercover":"an undercover","a underground":"an underground","a unfortunate":"an unfortunate","a unusual":"an unusual","a upper":"an upper","a urban":"an urban","a vertebrae":"a vertebra [singular]","a women":"a woman [singular]","a work out":"a workout","Aboriginal decent":"Aboriginal descent","about it's":" about its [possessive]","about they're":" about their [possessive]","about who to":"about whom to","about who's":" about whose [possessive]","above it's":" above its [possessive]","AC current":"AC, alternating current","ACL ligament":"ACL, anterior cruciate ligament","across it's":" across its [possessive]","affect on":"effect on","affect upon":"effect upon","affects of":"effects of","African decent":"African descent","after along time":"after a long time","after awhile":"after a while [noun]","after been":"after being","after it's":" after its [possessive]","after quite awhile":"after quite a while","against it's":" against its [possessive]","against who":"against whom","ago since":"since","agree in principal":"agree in principle","agreement in principal":"agreement in principle","Air Canada Center":"Air Canada Centre","airplane hanger":"airplane hangar","Albanian decent":"Albanian descent","all for not":"all for naught","all it's":" all its","all though":"although","all tolled":"all told","allot of":"a lot of","alma matter":"alma mater","along it's":" along its [possessive]","along side":"alongside","along time":"a long time","alongside it's":" alongside its [possessive]","alongside with":"along with, alongside","also know as":"also known as","also know by":"also known by","also know for":"also known for","alter boy":"altar boy","alter server":"altar server","AM in the morning":"AM, in the morning","am loathe to":"am loath to [adjective]","American decent":"American descent","amid it's":" amid its [possessive]","amidst it's":" amidst its [possessive]","among it's":" among its [possessive]","among others things":"among other things","amongst it's":" amongst its [possessive]","an affect":"an effect","an alumnae of":"an alumna of [singular]","an alumni of":"an alumnus of [singular]","an another":"another","an antennae":"an antenna [singular]","an British":"a British","an Canadian":"a Canadian","an European":"a European","an head":"a head","an hero":"a hero","an new":"a new","an nine":"a nine","an number":"a number","an other":"another","an Scottish":"a Scottish","an seven":"a seven","an six":"a six","an ten":"a ten","an unit":"a unit","an Unix":"a Unix","an USB":"a USB","and etc":"etc","and so fourth":"and so forth","another criteria":"another criterion [singular]","another wise":"an otherwise","another words":"in other words, other words","any where":"anywhere",anyways:"anyway","apart form":"apart from","apart of":"a part of, apart from","are aloud to":"are allowed to","are been":"are being, have been","are build":"are built","are can":"can","are have":"have","are it's":" are its [possessive]","are know as":"are known as","are know by":"are known by","are know for":"are known for","are know to":"are known to","are lain":"are laid","are lead by":"are led by","are loathe to":"are loath to [adjective]","are ran by":"are run by","are renown":"are renowned","are set-up":"are set up","are setup":"are set up","are shutdown":"are shut down","are shutout":"are shut out","are suppose to":"are supposed to","are the dominate":"are the dominant","are use to":"are used to","are were":"are, are where, were","Armenian decent":"Armenian descent","around it's":" around its [possessive]","as a resulted":"as a result","as apposed to":"as opposed to","as back up":"as backup"," as been":"as being, has been","as followed":"as follows","as it's":" as its [possessive]","as oppose to":"as opposed to","Asian decent":"Asian descent","aside it's":" aside its [possessive]","assume the reigns":"assume the reins","assume the roll":"assume the role","at it's":" at its [possessive]","at the alter":"at the altar","at the reigns":"at the reins","ATM machine":"ATM, automated teller machine","away form":"away from","back and fourth":"back and forth","back drop":"backdrop","back fire":"backfire [verb]","back in forth":"back and forth","back peddle":"backpedal","back round":"background","badly effected":"badly affected","baited breath":"bated breath","baled out":"bailed out [though Wiktionary and the COD allow both spellings]","baling out":"bailing out [ditto]","barb wire":"barbed wire","bare in mind":"bear in mind","based off":"based on","based out of":"based in","basic principal":"basic principle","be build":"be built","be cause":"because","be drew":"be drawn","be it's":" be its","be know as":"be known as","be lain":"be laid","be lead by":"be led by","be loathe to":"be loath to","be ran":"be run","be rode":"be ridden","be set-up":"be set up","be setup":"be set up","be use to":"be used to","be ware":"beware","became know":"became known","became to be":"became, came to be","because of it's":" because of its","because of the fact that":"because","been a while":"been awhile","been build":"been built","been it's":" been its","been know":"been known","been lain":"been laid","been lead by":"been led by","been loathe to":"been loath to","been ran":"been run","been rode":"been ridden","been set-up":"been set up [verb]","been setup":"been set up","been show on":"been shown on","been use to":"been used to","before hand":"beforehand","before it's":" before its","behind it's":" behind its","being build":"being built","being giving":"been giving, being given","being it's":" being its","being lain":"being laid","being lead by":"being led by","being loathe to":"being loath to","being ran":"being run","being rode":"being ridden","being set-up":"being set up","being setup":"being set up","being show on":"being shown on","being taking":"been taking, being taken","below it's":" below its","beneath it's":" beneath its","beside it's":" beside its","besides it's":" besides its","better know as":"better known as","better know for":"better known for","better that":"better than","better then":"better than","between he and":"between him and","between I and":"between me and","between it's":" between its","between she and":"between her and","between they and":"between them and","beyond it's":" beyond its","Bogota, Columbia ":"Bogot","both it's":" both its","both of it's":" both of its","both of them is":"both of them are","brake away":"break away","breath fire":"breathe fire","breathe a sign of relief":"breathe a sigh of relief","brew haha":"brouhaha","Brinsley Schwartz":"Brinsley Schwarz","by fisherman":"by fishermen","by it's":" by its","by who's":" by whose","can backup":"can back up","can been":"can be","can blackout":"can black out","can breath":"can breathe","can checkout":"can check out","can playback":"can play back","can setup":"can set up","can tryout":"can try out","can workout":"can work out","can't breath":" can't breathe","card shark":"card sharp","chalk full":"chock-full","chocked full":"chock-full","chomping at the bit":"champing at the bit","close proximity":"closeness, proximity","commonly know as":"commonly known as","commonly know for":"commonly known for","comprise of":"comprise, consist of","comprised almost entirely of":"composed almost entirely of, consisting almost entirely of","comprised chiefly of":"composed chiefly of, comprised chiefly, consisting chiefly of","comprised entirely of":"composed entirely of, consisting entirely of","comprised exclusively of":"composed exclusively of, consisting exclusively of","comprised generally of":"composed generally of, comprised generally, consisting generally of","comprised largely of":"composed largely of, consisting largely of","comprised mainly of":"composed mainly of, comprised mainly, consisting mainly of","comprised mostly of":"composed mostly of, consisting mostly of","comprised of":"composed of, comprised, consisting of","comprised only of":"composed only of, comprised only, consisting only of","comprised primarily of":"composed primarily of","comprised principally of":"composed principally of","comprised totally of":"composed totally of, comprised totally, consisting totally of","comprised wholly of":"composed wholly of, consisting wholly of","comprises entirely of":"comprises entirely, consists entirely of","comprises exclusively of":"comprises exclusively, composed exclusively of","comprises mainly of":"comprises mainly, consists mainly of","comprises mostly of":"comprises mostly, consists mostly of","comprises of":"comprises, consists of","comprises only of":"comprises only, composed only of, consists only of","comprising chiefly of":"comprising chiefly, consisting chiefly of","comprising entirely of":"comprising entirely, consisting entirely of","comprising exclusively of":"comprising exclusively, consisting exclusively of","comprising generally of":"comprising generally, consisting generally of","comprising largely of":"comprising largely, consisting largely of","comprising mainly of":"comprising mainly, consisting mainly of","comprising mostly of":"comprising mostly, consisting mostly of","comprising of":"comprising, consisting of","comprising only of":"comprising only, consisting only of","comprising primarily of":"comprising primarily, consisting primarily of","comprising principally of":"comprising principally, consisting principally of","comprising totally of":"comprising totally, consisting totally of","comprising wholly of":"comprising wholly, consisting wholly of","constellation prize":"consolation prize","constitutes of":"consists of, constitutes","construction sight":"construction site","contains of":"consists of, contains","could backup":"could back up","could breath":"could breathe","could care less":" couldn't care less","could of":"could have","couldn't breath":" couldn't breathe","daily regiment":"daily regimen","DC current":"DC, direct current","de factor":"de facto","different tact":"different tack","diffuse the situation":"defuse the situation","diffuse the tension":"defuse the tension","disc break":"disc brake","dominate player":"dominant player","dominate role":"dominant role}","door jam":"door jamb","down side":"downside","drum breaks":"drum brakes","due to the fact":"because","during in":"during","during it's":" during its","during they're":" during their","each alumni":"each alumnus [singular]","each are":"each is","each criteria":"each criterion [singular]","each has their":"each has its","each phenomena":"each phenomenon [singular]","each vertebrae":"each vertebra [singular]","easier then":"easier than","egg yoke":"egg yolk","either criteria":"either criterion","either phenomena":"either phenomenon","electrical current":"electric current","eluded to":"alluded to","en mass":"en masse","even thought":"even though","even tough":"even though","eye brow":"eyebrow","eye lash":"eyelash","eye lid":"eyelid","eye sight":"eyesight","eye sore":"eyesore","faired as well":"fared as well","faired badly":"fared badly","faired better":"fared better","faired far":"fared far","faired less":"fared less","faired little":"fared little","faired much":"fared much","faired no better":"fared no better","faired poorly":"fared poorly","faired quite":"fared quite","faired rather":"fared rather","faired slightly":"fared slightly","faired somewhat":"fared somewhat","faired well":"fared well","faired worse":"fared worse","farther then":"farther than","faster then":"faster than","figure head":"figurehead","first and foremost":"first, foremost","First Word War":"First World War","flag ship":"flagship","flow of current":"current, flow of charge","flow of electric current":"electric current, flow of electric charge","follow suite":"follow suit","for all intensive purposes":"for all intents and purposes","for along time":"for a long time","for awhile":"for a while","for it's":" for its","for quite awhile":"for quite a while","forgone conclusion":"foregone conclusion","formally know as":"formerly known as - but only if the change can be verified","formerly know as":"formerly known as","forth place":"fourth place","free reign":"free rein","freshman are":"freshman is, freshmen are","full compliment of":"full complement of","get pass":"get past","get setup":"get set up","get use to":"get used to","getting use to":"getting used to","going threw":"going through","got ran":"got run","got setup":"got set up","got shutdown":"got shut down","got shutout":"got shut out","ground work":"groundwork","guest stared":"guest-starred","had arose":"had arisen","had aroke":"had awoken","had became":"had become","had began":"had begun","had being":"had been","had bore":"had borne","had broke":"had broken","had brung":"had brought","had came":"had come","had chose":"had chosen","had comeback":"had come back","had did":"had done","had drank":"had drunk","had drew":"had drawn","had drove":"had driven","had fell":"had fallen","had flew":"had flown","had forbad":"had forbidden","had forbade":"had forbidden","had gave":"had given","had grew":"had grown","had it's":" had its","had lead to":"had led to","had overtook":"had overtaken","had plead":"had pleaded, had pled","had ran":"had run","had rang":"had rung","had rode":"had ridden","had rose":"had risen","had sang":"had sung","had saw":"had seen","had set-up":"had set up","had setup":"had set up","had shook":"had shaken","had sowed":"had sown","had spoke":"had spoken","had sprang":"had sprung","had swam":"had swum","had threw":"had thrown","had throve":"had thriven, had thrived","had thunk":"had thought","had took":"had taken","had trod":"had trodden","had undertook":"had undertaken","had underwent":"had undergone","had went":"had gone","had woke":"had woken","had wrote":"had written","hand the reigns":"hand the reins","has arose":"has arisen","has became":"has become","has began":"began, has begun","has build":"has built","has drank":"has drunk","has it's":" has its","has lead to":"has led to","has ran":"has run","has sang":"has sung","has setup":"has set up","has shook":"has shaken","has spoke":"has spoken","has sprang":"has sprung","has swam":"has swum","has threw":"has thrown","has throve":"has thriven, has thrived","has thunk":"has thought","has took":"has taken","has trod":"has trodden","has undertook":"has undertaken","has underwent":"has undergone","has was":"he was, was","has went":"has gone","has woke":"has woken","has wrote":"has written","have drank":"have drunken","have it's":" have its","have lead to":"have led to","have ran":"have run","have sang":"have sung","have setup":"have set up","have sprang":"have sprung","have swam":"have swum","have took":"have taken","have underwent":"have undergone","have went":"have gone","having being":"having been","having ran":"having run","having sang":"having sung","having setup":"having set up","having swam":"having swum","having took":"having taken","having went":"having gone","hay day":"heyday","he begun":"he began","he garnished":"he garnered","he let's":" he lets","he plead":"he pleaded, he pled","he seen":"he saw","he use to":"he used to","he's drank":" he's drunk","head gear":"headgear","head quarters":"headquarters","head stone":"headstone","head wear":"headwear","held the reigns":"held the reins","help and make":"help to make","higher then":"higher than","hit the breaks":"hit the brakes","hold onto":"hold on to","hold the reigns":"hold the reins","holding the reigns":"holding the reins","holds the reigns":"holds the reins","hone in on":"home in on","how ever":"however","imminent domain":"eminent domain","in affect":"in effect","in along time":"in a long time","in anyway":"in any way","in awhile":"in a while","in close proximity to":"close to, in proximity to","in edition to":"in addition to","in it's":" in its","in January 1":"on January 1, etc.","in masse":"en masse, in massam","in parenthesis":"in parentheses","in placed":"in place","in principal":"in principle","in quite awhile":"in quite a while","in stead of":"instead of","in tact":"intact","in the long-term":"in the long term","in the short-term":"in the short term","in titled":"entitled","in vein":"in vain","incase of":"in case of","inorder to":"in order to","into affect":"into effect","is also know":"is also known","is be ":"is, is to be","is been":"has been, is being","is comprised from":"comprises","is comprised with":"comprises","is contained of":"contains","is front of":"in front of, is in front of","is has":"has, it has","is know to be":"is known to be","is lead by":"is led by","is loathe to":"is loath to","is ran by":"is run by","is renown for":"is renowned for","is setup":"is set up","is use to":"is used to","it begun":"it began","it comprises of":"it comprises","it lead to":"it led to","it lied":"it lay","it self":"itself","it setup":"it set up","it use to":"it used to","it's 10th":" its 10th","it's 4th":" its 4th","it's 5th":" its 5th","it's advantage":" its advantage","it's aim":" its aim","it's annual":" its annual","it's best":" its best","it's class":" its class","it's color":" its color [Amer]","it's colour":" its colour [Brit]","it's contents":" its contents","it's course":" its course","it's current":" its current","it's debut":" its debut","it's doors":" its doors","it's eastern":" its eastern","it's end":" its end","it's entire":" its entire","it's final":" its final","it's first":" its first","it's former":" its former","it's fourth":" its fourth","it's goal":" its goal","it's highest":" its highest","it's history":" its history","it's home":" its home","it's inception":" its inception","it's initial":" its initial","it's junction":" its junction","it's kind":" its kind","it's lack":" its lack","it's last":" its last","it's latest":" its latest","it's lead":" its lead","it's leader":" its leader","it's length":" its length","it's lowest":" its lowest","it's maximum":" its maximum","it's minimum":" its minimum","it's money":" its money","it's name":" its name","it's north":" its north","it's northern":" its northern","it's original":" its original","it's own":" its own","it's peak":" its peak","it's period":" its period","it's previous":" its previous","it's price":" its price","it's primary":" its primary","it's prime":" its prime","it's purpose":" its purpose","it's release":" its release","it's rival":" its rival","it's second":" its second","it's south":" its south","it's southern":" its southern","it's successor":" its successor","it's tail":" its tail","it's target":" its target","it's tenth":" its tenth","it's theme":" its theme","it's third":" its third","it's timeslot":" its timeslot","it's toll":" its toll","it's total":" its total","it's type":" its type","it's way":" its way","it's western":" its western","it's worst":" its worst","its is":"it is","Jimmy Buffet":"Jimmy Buffett","Jimmy Hendrix":"Jimi Hendrix","jive with":"jibe with","key note":"keynote","lack there of":"lack thereof","laid ahead":"lay ahead","laid dormant":"lay dormant","laid empty":"lay empty","laid fallow":"lay fallow","laid in state":"lay in state","larger that":"larger than","larger then":"larger than","laughing stock":"laughingstock","law suite":"lawsuit","lay around":"lie around","lay low":"lie low","laying around":"lying around","laying awake":"lying awake","laying low":"lying low","lays atop":"lies atop","lays beside":"lies beside","lays in":"lies in","lays low":"lies low","lays near":"lies near","lays on":"lies on","lead by":"led by","lead roll":"lead role","leading roll":"leading role","less dominate":"less dominant","less that":"less than","less then":"less than","lesser then":"less than","life time":"lifetime","lighter then":"lighter than","lions share":" lion's share","loose to":"lose to","loosing effort":"losing effort","loosing record":"losing record","loosing season":"losing season","loosing streak":"losing streak","loosing team":"losing team","loosing the":"losing the","loosing to":"losing to","lot's of":"lots of, many, much","lower that":"lower than","lower then":"lower than","made it's":" made its","mainly know as":"mainly known as","mainly know for":"mainly known for","major roll":"major role","make it's":" make its","managerial reigns":"managerial reins","mash potatoes":"mashed potatoes","may been":"may be, may have been","maybe be":"may be","MCL ligament":"MCL, medial collateral ligament","mean while":"meanwhile","might of":"might have","Milwaukee, Oregon ":"Milwaukie, Oregon","minor roll":"minor role","more dominate":"more dominant","more often then":"more often than [comparative]","more optimal":"better","more that":"more than","more then":"more than [comparative]","most dominate":"most dominant","most optimal":"best, optimal","most populace":"most populous","most well-known":"best-known","mostly know as":"mostly known as","mostly know for":"mostly known for","must of":"must have","mute point":"moot point","nation wide":"nationwide","near by":"nearby","neither criteria":"neither criterion","neither phenomena":"neither phenomenon","Netherland Antilles":"Netherlands Antilles","new comer":"newcomer","next store":"next-door","no where to":"nowhere to","note worthy":"noteworthy","now a days":"nowadays","of been":"have been, of being","of it's own":" of its own","of who to":"of whom to","oil barron":"oil baron","on going":"ongoing","on it's own":" on its own","on-going":"ongoing","one in the same":"one and the same","one criteria":"one criterion","one phenomena":"one phenomenon","originally born in":"born in","originally know as":"originally known as","other then":"other than","out grow":"outgrow","out of sink":"out of sync","out side":"outside","over a 100":"over 100, over a hundred, over one hundred","over a 1000":"over 1000, over a thousand, over one thousand","over hear":"overhear","over heard":"overheard","over look":"overlook","over looked":"overlooked","over looking":"overlooking","over rated":"overrated","over seas":"overseas","over see":"oversee","over who to":"over whom to","parent's house":" parents' house","past away":"passed away, died","past down":"passed down","peak his interest":"pique his interest","per say":"per se","Phillips Arena":"Philips Arena","player's union":" players' union","playoff birth":"playoff berth","Portland Trailblazers":"Portland Trail Blazers","premier episode":"premiere episode","principle action":"principal action","principle activity":"principal activity","principle actor":"principal actor","principle advantage":"principal advantage","principle advocate":"principal advocate","principle agent":"principal agent","principle aim":"principal aim","principle area":"principal area","principle artist":"principal artist","principle assistant":"principal assistant","principle attraction":"principal attraction","principle author":"principal author","principle branch":"principal branch","principle cast":"principal cast","principle caste":"principal caste","principle cause":"principal cause","principle character":"principal character","principle church":"principal church","principle city":"principal city","principle component":"principal component","principle composer":"principal composer","principle goal":"principal goal","principle group":"principal group","principle method":"principal method","principle office":"principal office","principle officer":"principal officer","principle owner":"principal owner","principle photography":"principal photography","principle source":"principal source","principle student":"principal student","principle town":"principal town","put fourth":"put forth","rather then":"rather than","reek havoc":"wreak havoc","reign in":"rein in","reigned in":"reined in","reigns of power":"reins of power","reticence to":"reluctance to","reticent to":"reluctant to","role call":"roll call","roll player":"role player","runner up":"runner-up","saddle up to":"sidle up to","Second Word War":"Second World War","set backs":"setbacks","she begun":"she began","she let's":" she lets","she seen":"she saw","she weighted":"she waited, she weighed","short coming":"shortcoming","shorter then":"shorter than","shortly there after":"shortly thereafter","should backup":"should back up","should been":"should be, should have been","should not of":"should not have","should of":"should have","should've went":" should have gone","side affect":"side effect","side kick":"sidekick [person]","simply know as":"simply known as","since it's":" since its","since many years":"for many years","since years":"for years","single handily":"single-handedly","site lines":"sight lines","slight of hand":"sleight of hand","slue of":"slew of","smaller then":"smaller than","smarter then":"smarter than","sneak peak":"sneak peek","some how":"somehow","some one":"someone","some what":"somewhat","some where":"somewhere","sometimes know as":"sometimes known as","soon there after":"soon thereafter","sooner then":"sooner than","sophomore album":"second album","sophomore single":"second single","spilt among":"split among","spilt between":"split between","spilt into":"split into","spilt up":"split up","spinal chord":"spinal cord","spitting image":"spit and image","split in to":"split into","sq ft":"ft","sq in":"in","sq km":"km","sq mi":"mi","squared feet":"square feet","squared inches":"square inches","squared kilometers":"square kilometers","squared meters":"square meters","squared miles":"square miles","stale mate":"stalemate","staring role":"starring role","starring roll":"starring role","stay a while":"stay awhile","Stevie Ray Vaughn":"Stevie Ray Vaughan","Straight of":"Strait of [geography]","strike outs":"strikeouts","stronger then":"stronger than","suppose to":"supposed to","take affect":"take effect","take over the reigns":"take over the reins","take the reigns":"take the reins","taken the reigns":"taken the reins","taking the reigns":"taking the reins","teacher's union":" teachers' union","ten times less than":"one tenth as much as","than it's":" than its","that maybe":"that may be","the 1st of January":"1 January etc","the are":"they are","the break down":"the breakdown","the break up":"the breakup","the clamp down":"the clampdown","the follow up":"they follow-up","the had":"they had","the much of the":"much of the","the one of the":"one of the","the were":"they were","their are":"there are","their had":"there had","their has":"there has","their have":"there have","their is":"there is","their was":"there was","their were":"there were","their would":"there would","them selves":"themselves","there after":"thereafter","there by":"thereby","there maybe":"there may be","there of":"thereof","there own":"their own","there where":"there were","these maybe":"these may be","these where":"these were","they garnished":"they garnered","they maybe":"they may be","they way":"the way","they where":"they were","this criteria":"these criteria [plural], this criterion [singular]","this lead to":"this led to","this maybe":"this may be","this phenomena":"this phenomenon [singular]","those maybe":"those may be","through it's":" through its","through out":"threw out, throughout","through the ringer":"through the wringer","throughout it's":" throughout its","time outs":"timeouts","to back fire":"to backfire","to back-off":"to back off","to back-up":"to back up [verb]","to backoff":"to back off","to backout":"to back out","to backup":"to back up [verb]","to bailout":"to bail out","to bath":"to bathe","to be build":"to be built","to be setup":"to be set up","to blackout":"to black out","to blastoff":"to blast off [verb]","to blowout":"to blow out [verb]","to blowup":"to blow up [verb]","to breakdown":"to break down [verb]","to breath":"to breathe","to buildup":"to build up","to built":"to build","to buyout":"to buy out [verb]","to chose":"to choose","to comeback":"to come back [verb]","to crackdown":"to crack down [verb]","to cutback":"to cut back [verb]","to dropout":"to drop out [verb]","to forego":"to forgo","to grown":"to grow","to have lead to":"to have led to","to holdout":"to hold out [verb]","to kickoff":"to kick off [verb]","to lit":"to light","to loath":"to loathe [verb]","to lockout":"to lock out [verb]","to markup":"to mark up [verb]","to pickup":"to pick up [verb]","to playback":"to play back [verb]","to rollback":"to roll back [verb]","to runaway":"to run away [verb]","to setup":"to set up [verb]","to shut-down":"to shut down","to shutdown":"to shut down","to spin-off":"to spin off","to spinoff":"to spin off","to takeover":"to take over [verb]","to that affect":"to that effect","to they're":" to their","to together":"together","to try and":"to try to","to tryout":"to try out [verb]","to turnaround":"to turn around","to turnoff":"to turn off","to turnout":"to turn out","to turnover":"to turn over","to wakeup":"to wake up","to walkout":"to walk out","to workaround":"to work around","to workout":"to work out","too also":"also, to also, too","too be":"to be","took affect":"took effect","took and interest":"took an interest","took over the reigns":"took over the reins","took the reigns":"took the reins","tot he":"to the","tried to used":"tried to use","try and achieve":"try to achieve","try and add":"try to add","try and answer":"try to answer","try and attract":"try to attract","try and avoid":"try to avoid","try and be":"try to be","try and beat":"try to beat","try and become":"try to become","try and bring":"try to bring","try and build":"try to build","try and catch":"try to catch","try and change":"try to change","try and come":"try to come","try and decide":"try to decide","try and do":"try to do","try and eat":"try to eat","try and escape":"try to escape","try and figure":"try to figure","try and find":"try to find","try and fix":"try to fix","try and gain":"try to gain","try and get":"try to get","try and give":"try to give","try and go":"try to go","try and help":"try to help","try and hide":"try to hide","try and hit":"try to hit","try and hold":"try to hold","try and keep":"try to keep","try and locate":"try to locate","try and make":"try to make","try and move":"try to move","try and obtain":"try to obtain","try and play":"try to play","try and prevent":"try to prevent","try and protect":"try to prove","try and prove":"try to prove","try and see":"try to see","try and show":"try to show","try and slow":"try to slow","try and solve":"try to solve","try and spare":"try to spare","try and start":"try to start","try and stay":"try to stay","try and stop":"try to stop","try and support":"try to support","try and take":"try to take","try and talk":"try to talk","try and tell":"try to tell","try and understand":"try to understand","try and use":"try to use","try and win":"try to win","turn for the worst":"turn for the worse","twice as much than":"twice as much as","two in a half":"two and a half","two times less than":"half as much as","under go":"undergo","under going":"undergoing","under gone":"undergone","under it's":" under its","under rated":"underrated","under take":"undertake","under wear":"underwear","under went":"underwent","underneath it's":" underneath its","United State's":" United States'","United Stats":"United States","Unites States":"United States","unlike it's":" unlike its","until it's":" until its","up field":"upfield","up it's":" up its","up side":"upside","up until":"until","upon it's":" upon its","USD dollars":"US dollars, USD",USD$:"US dollars, US$","use to":"used to, commonly","use to be":"used to be","use to have":"used to have","usually know as":"usually known as","usually know by":"usually known by","usually know for":"usually known for","very minimal":"minimal, very little, very small","very optimal":"optimal, very good","very unique":"unique, very unusual","via it's":" via its","VIN number":"vehicle identification number, VIN","vise versa":"vice versa","vocal chords":"vocal cords, vocal folds","waived off":"waved off","warn out":"worn out","was aloud":"was allowed","was be ":"was, was being, was to be","was been":"has been, was being","was began":"was begun","was build":"was built","was comprised from":"comprised, was composed from","was comprised with":"comprised","was do to":"was due to","was drew":"was drawn","was knew":"was known","was lain":"was laid","was laying on":"was lying on","was lead by":"was led by","was loathe to":"was loath to","was meet by":"was met by","was meet with":"was met with","was ran":"was run","was release":"was released","was reran":"was rerun","was rode":"was ridden","was sang":"was sung","was setup":"was set up","was shook":"was shaken","was show on":"was shown on","was showed":"was shown","was shutdown":"was shut down","was shutout":"was shut out","was sold-out":"was sold out","was suppose to":"was supposed to","was though that":"was thought that","was took":"was taken","was tore":"was torn","was wrote":"was written","was use to":"was used to","way side":"wayside","weather or not":"whether or not","went threw":"went through","were aloud":"were allowed","were been":"have been, were being","were began":"were begun","were build":"were built","were comprised with":"comprised","were drew":"were drawn","were lain":"were laid","were lead by":"were led by","were loathe to":"were loath to","were meet by":"were met by","were meet with":"were met with","were ran":"were run","were rode":"were ridden","were sang":"were sung","were setup":"were set up","were showed":"were shown","were shutdown":"were shut down","were shutout":"were shut out","were suppose to":"were supposed to","were took":"were taken","were tore":"were torn","were use to":"were used to","were wrote":"were written","wether or not":"whether or not","when into":"went into","when on to":"went on to","where abouts":"whereabouts","where as":"whereas","where being":"were being","where by":"whereby","where made":"were made","where taken":"were taken","where upon":"whereupon","which breakdown":"which break down","which had lead":"which had led","which has lead":"which has led","which have lead":"which have led","which maybe":"which may be","which where":"which were","who had lead":"who had led","who has lead":"who has led","who have lead":"who have led","who he led":"whom he led","who he married":"whom he married","who he met":"whom he met","who he took":"whom he took","who lead":"who led","who maybe":"who may be","who setup":"who set up","who to believe":"whom to believe","who to blame":"whom to blame","who to call":"whom to call","who to invite":"whom to invite","who to send":"whom to send","who use to":"who used to","who where":"who were","who's actual":" whose actual","who's brother":" whose brother","who's father":" whose father","who's first":" whose first","who's last":" whose last","who's mother":" whose mother","who's name":" whose name","who's own":" whose own","who's previous":" whose previous","whom also":"who also","whom is":"who is","whom was":"who was","will backup":"will back up","will comprise of":"will be composed of, will comprise, will consist of","will likely":"will probably","will workout":"will work out","with he":"with him, with the","with in":"within","with it's":" with its","with out":"without","with who":"with whom","within it's":" within its","within site of":"within sight of","without it's":" without its","Word War I":"World War I","Word War II":"World War II","working progress":"work in progress","world wide":"worldwide","worse that":"worse than","worse then":"worse than","worse-case scenario":"worst-case scenario","worst comes to worst":"worse comes to worst","worst than":"worse than","worth while":"worthwhile","would been":"would be, would have been","would comeback":"would come back","would comprise of":"would comprise, would consist of","would of":"would have","would workout":"would work out","wreck havoc":"wreak havoc","younger that":"younger than","younger then":"younger than","%er then":"than","base on":"based on ('base on' may be acceptable, depending on context)","its an":"it's an"}),this.currentGrammarTable=this.grammarTable.asObservable(),this.grammarUserTable=new ae.BehaviorSubject({}),this.currentGrammarUserTable=this.grammarUserTable.asObservable()}changeTotalGrammar(t){this.totalGrammar.next(t)}changeGrammarTable(t){this.grammarTable.next(t)}changeGrammarUserTable(t){this.grammarUserTable.next(t)}changeGrammarFeedback(t){this.grammarFeedback.next(t)}changeGrammarAlertColor(t){this.grammarAlertColor.next(t)}changeGrammarScore(t){this.grammarScore.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(sf))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xi=(()=>{class n{constructor(){this.eggcornsAlertColor=new ae.BehaviorSubject(" "),this.currentEggcornsAlertColor=this.eggcornsAlertColor.asObservable(),this.eggcornsFeedback=new ae.BehaviorSubject(" "),this.currentEggcornsFeedback=this.eggcornsFeedback.asObservable(),this.eggcornsScore=new ae.BehaviorSubject(0),this.currentEggcornsScore=this.eggcornsScore.asObservable(),this.totalEggcorns=new ae.BehaviorSubject(0),this.currentTotalEggcorns=this.totalEggcorns.asObservable(),this.eggcornsTable=new ae.BehaviorSubject({"all intensive purposes":"all intents and purposes","per say":"per se","another thing coming":"another think coming",ascared:"afraid","as dust fell":"as dusk fell","biting my time":"biding my time","biting your time":"biding your time","best thing since life's bread":"best thing since sliced bread",bondfire:"bonfire",callapitter:"caterpillar",chesterdraws:"chest of drawers",civilware:"silverware",consinct:"concise","curly roads":"curvy roads","daring-do":"derring-do","doggy-dog-world":"dog-eat-dog","duck tape":"duct tape","escape goat":"scape goat",expresso:"espresso",eyebulbs:"eyeballs",facetube:"youtube","flush out":"flesh out",flustrated:"frustrated",flutterby:"butterfly","free examples":"free samples","genetic brands":"generic brands","growth sprout":"growth spurt","guilt trap":"guilt trip","handy-downs":"hand-me-downs","handy downs":"hand-me-downs","happy as a clown":"happy as a clam",hearbuds:"earbuds","hell in a handbag":"hell in a handbasket","ice tea":"iced tea","illicit a response":"elicit a response","in other worlds":"in other words","junk start":"jump start","just deserves":"just deserts",labtop:"laptop",lapkin:"napkin","last stitch effort":"last ditch effort","lesser of two equals":"lesser of two evils",magnaphone:"megaphone","mist of things":"midst of things","mute point":"moot point","nerve-wrecking":"nerve-wracking","nerve wrecking":"nerve-wracking","nip it in the butt":"nip it in the bud","nip in the butt":"nip in the bud","nip this in the butt":"nip this in the bud","old timers disease":"Alzheimer's disease","old-timers disease":"Alzheimer's disease","old wise tale":"old wives tale","on the lamb":"on the lam","optical delusion":"optical illusion","out of bounce":"out of bounds",overfloating:"overflowing","pass mustard":"pass muster",platemats:"placemats","rebel rouser":"rabble rouser","real goal-getter":"real go-getter","rot iron fences":"wrought-iron fences","scandally clad":"scantily clad","self of steam":"self esteem",skyscratcher:"skyscraper","stand at a tension":"stand at attention","take it for granite":"take it for granted","took it for granite":"took it for granted","takes two to tangle":"takes two to tango","towing the line":"toeing the line",tremblor:"temblor","very close veins":"Varicose veins","vim and vinegar":"vim and vigor","wet your appetite":"whet your appetite","wet my appetite":"whet my appetite","wet the appetite":"whet the appetite",wheelbarrel:"wheelbarrow","wild variety":"wide variety","wind charms":"wind chimes","windshield factor":"windchill factor",wonderlust:"wanderlust","world wind romance":"whirlwind romance","world wind tour":"whirlwind tour","worth ethic":"work ethic"}),this.currentEggcornsTable=this.eggcornsTable.asObservable(),this.eggcornsUserTable=new ae.BehaviorSubject({}),this.currentEggcornsUserTable=this.eggcornsUserTable.asObservable()}changeEggcornsScore(t){this.eggcornsScore.next(t)}changeTotalEggcorns(t){this.totalEggcorns.next(t)}changeTable(t){this.eggcornsTable.next(t)}changeEggcornsUserTable(t){this.eggcornsUserTable.next(t)}changeEggcornsFeedback(t){this.eggcornsFeedback.next(t)}changeEggcornsAlertColor(t){this.eggcornsAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),es=(()=>{class n{constructor(t){this.testFireBase=t,this.academicStyleAlertColor=new ae.BehaviorSubject(" "),this.currentAcademicStyleAlertColor=this.academicStyleAlertColor.asObservable(),this.academicStyleFeedback=new ae.BehaviorSubject(" "),this.currentAcademicStyleFeedback=this.academicStyleFeedback.asObservable(),this.academicStyleScore=new ae.BehaviorSubject(0),this.currentAcademicStyleScore=this.academicStyleScore.asObservable(),this.totalNonAcademic=new ae.BehaviorSubject(0),this.currentTotalNonAcademic=this.totalNonAcademic.asObservable(),this.academicStyleTableSource=new ae.BehaviorSubject(this.testFireBase.getAcademicStyles()),this.currentAcademicStyleTable=this.academicStyleTableSource.asObservable(),this.academicStyleUserTableSource=new ae.BehaviorSubject({}),this.currentAcademicStyleUserTable=this.academicStyleUserTableSource.asObservable()}changeAcademicStyleScore(t){this.academicStyleScore.next(t)}changeTotalNonAcademic(t){this.totalNonAcademic.next(t)}changeAcademicStyleTable(t){this.academicStyleTableSource.next(t)}changeAcademicStyleUserTable(t){this.academicStyleUserTableSource.next(t)}changeAcademicStyleFeedback(t){this.academicStyleFeedback.next(t)}changeAcademicStyleAlertColor(t){this.academicStyleAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(sf))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ts=(()=>{class n{constructor(){this.nominalizationsAlertColorSource=new ae.BehaviorSubject(""),this.currentNominalizationsAlertColor=this.nominalizationsAlertColorSource.asObservable(),this.nominalizationsFeedbackSource=new ae.BehaviorSubject(""),this.currentNominalizationsFeedback=this.nominalizationsFeedbackSource.asObservable(),this.nominalizationsScoreSource=new ae.BehaviorSubject(0),this.currentNominalizationsScore=this.nominalizationsScoreSource.asObservable(),this.nominalizationsNumberSource=new ae.BehaviorSubject(0),this.currentNominalizationsNumber=this.nominalizationsNumberSource.asObservable(),this.nominalizationsUserTableSource=new ae.BehaviorSubject({}),this.currentNominalizationsUserTable=this.nominalizationsUserTableSource.asObservable(),this.nominalizationsTableSource=new ae.BehaviorSubject({ization:7,izations:8,ing:3,ings:4,ism:3,isms:4,ation:5,ations:6,ition:5,itions:6,ment:4,ments:5,ability:7,abilities:9,ness:4,nesses:6,ity:3,ities:5,ence:4,ences:5}),this.currentNominalizationsTable=this.nominalizationsTableSource.asObservable()}changeNominalizationsAlertColor(t){this.nominalizationsAlertColorSource.next(t)}changeNominalizationsFeedback(t){this.nominalizationsFeedbackSource.next(t)}changeNominalizationsScore(t){this.nominalizationsScoreSource.next(t)}changeNominalizationsNumber(t){this.nominalizationsNumberSource.next(t)}changeNominalizationsUserTable(t){this.nominalizationsUserTableSource.next(t)}changeNominalizationsTable(t){this.nominalizationsTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ns=(()=>{class n{constructor(){this.sentencesAlertColorSource=new ae.BehaviorSubject(""),this.currentSentencesAlertColor=this.sentencesAlertColorSource.asObservable(),this.sentencesFeedbackSource=new ae.BehaviorSubject(""),this.currentSentencesFeedback=this.sentencesFeedbackSource.asObservable(),this.sentencesScoreSource=new ae.BehaviorSubject(0),this.currentSentencesScore=this.sentencesScoreSource.asObservable(),this.sentencesNumberSource=new ae.BehaviorSubject(0),this.currentSentencesNumber=this.sentencesNumberSource.asObservable(),this.sentencesUserTableSource=new ae.BehaviorSubject({}),this.currentSentencesUserTable=this.sentencesUserTableSource.asObservable(),this.sentencesTableSource=new ae.BehaviorSubject({And:"",But:"",Or:""}),this.currentSentencesTable=this.sentencesTableSource.asObservable()}changeSentencesAlertColor(t){this.sentencesAlertColorSource.next(t)}changeSentencesFeedback(t){this.sentencesFeedbackSource.next(t)}changeSentencesScore(t){this.sentencesScoreSource.next(t)}changeSentencesNumber(t){this.sentencesNumberSource.next(t)}changeSentencesUserTable(t){this.sentencesUserTableSource.next(t)}changeSentencesTable(t){this.sentencesTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fse=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.router=t,this.data=r,this.testFireBase=i,this.passivevoice=s,this.wordiness=o,this.transitions=a,this.grammar=l,this.eggcorns=c,this.academic=u,this.nominalizations=d,this.sentences=h,this.title="OverView",this.wordinessFeedback=" ",this.wordinessAlertColor=" ",this.academicStyleFeedback=" ",this.transitionsFeedback=" ",this.grammarFeedback=" ",this.eggcornsFeedback=" ",this.sentencesFeedback=" "}submitClick(){return uo(this,void 0,void 0,function*(){this.data.changeTotalSentences(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.passiveVoiceUserTable={find:[],suggestion:[]},this.wordinessUserTable={find:[],suggestion:[]},this.transitionsUserTable={find:[],suggestion:[]},this.grammarUserTable={find:[],suggestion:[]},this.eggcornsUserTable={find:[],suggestion:[]},this.academicStyleUserTable={find:[],suggestion:[]},this.nominalizationsUserTable={find:[],suggestion:[]},this.sentencesUserTable={find:[],suggestion:[]};var t=document.getElementById("userinput").value;let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t),this.router.navigate(["/home/overview"]);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);console.log("Fixes"),this.passiveVoiceFix(t),this.wordinessFix(t),this.transitionsFix(t),this.grammarFix(t),this.eggcornsFix(t),this.academicStyleFix(t),this.nominalizationsFix(t),this.sentencesFix(t),this.calculateGrade(),this.calculateErrors()}})}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentGrade.subscribe(t=>this.grade=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalErrors.subscribe(t=>this.totalErrors=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.passiveVoiceService(),this.wordinessService(),this.transitionsService(),this.academicStyleService(),this.grammarService(),this.eggcornsService(),this.nominalizationsService(),this.sentencesService()}calculateErrors(){let t=0;t=this.passiveVoiceNumber+this.wordinessNumber+this.totalNonAcademic+this.totalGrammar+this.nominalizationsNumber+this.sentencesNumber+this.totalEggcorns+this.totalTransitions,this.totalErrors=t>0?"Potential Problems: "+t:"Nice! This Writing Looks Pretty Snazzy.",this.data.changeTotalErrors(this.totalErrors)}calculateGrade(){let t=0;t=this.transitionsScore>=10?0:10-this.transitionsScore,this.grade=100-(Math.round(this.passiveVoiceScore/10*10)/10+Math.round(this.wordinessScore/2*10)/10+Math.round(this.academicStyleScore/1*10)/10+Math.round(this.grammarScore/1*10)/10+Math.round(this.nominalizationsScore/6*10)/10+Math.round(this.sentencesScore/2*10)/10+Math.round(this.eggcornsScore/1*10)/10+Math.round(10*t)/10),this.totalSentences<=4?(this.grade=0,this.gradeFeedback="You must enter at least 5 sentences to get a grade",this.gradeAlertColor="red"):this.grade<70?(this.gradeFeedback="Your writing seems to have many grammar errors",this.gradeAlertColor="red"):this.grade<80?(this.gradeFeedback="Your writing seems to have a lot of grammar errors",this.gradeAlertColor="orange"):this.grade<90?(this.gradeFeedback="Good Job! The number of grammar errors seems low",this.gradeAlertColor="orange"):(this.gradeFeedback="Great Job!",this.gradeAlertColor="green"),this.data.changeGrade(this.grade),this.data.changeGradeAlertColor(this.gradeAlertColor),this.data.changeGradeFeedback(this.gradeFeedback)}wordinessFix(t){for(const r in this.wordinessTable)t.includes(r)&&(this.wordiness.changeWordinessNumber(this.wordinessNumber+1),this.wordinessUserTable.find.push("\u2022 "+r+" \u27f6 "+this.wordinessTable[r]),this.wordiness.changeWordinessUserTable(this.wordinessUserTable));this.wordinessScore=this.wordinessNumber/this.totalSentences*100,(isNaN(this.wordinessScore)||this.wordinessScore===1/0)&&(this.wordinessScore=0);try{if(this.wordinessScore>2?(this.wordinessFeedback="Your writing seems too wordy. Why use 3 words when you can say it with 1?",this.wordinessAlertColor="red"):(this.wordinessFeedback="Woohoo! Your writing seems concise, precise, and snappy. George Orwell would be proud.",this.wordinessAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.wordinessFeedback="Make sure you enter at least one sentence.",this.wordinessAlertColor="orange",this.wordinessScore=0}this.wordiness.changeWordinessFeedback(this.wordinessFeedback),this.wordiness.changeWordinessScore(Math.round(10*this.wordinessScore)/10),this.wordiness.changeWordinessAlertColor(this.wordinessAlertColor)}wordinessService(){this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessTable.subscribe(t=>this.wordinessTable=t),this.wordiness.currentWordinessUserTable.subscribe(t=>this.wordinessUserTable=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.wordiness.currentWordinessFeedback.subscribe(t=>this.wordinessFeedback=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t)}passiveVoiceFix(t){for(const r in this.passiveVoiceTable)for(const i in this.passiveVoiceHelperTable){const s=i+r;t.includes(s)&&(this.passivevoice.changePassiveVoiceNumber(this.passiveVoiceNumber+1),this.passiveVoiceUserTable.find.push("\u2022 "+s+" \u27f6 "+this.passiveVoiceTable[r]),this.passivevoice.changePassiveVoiceUserTable(this.passiveVoiceUserTable))}this.passiveVoiceScore=this.passiveVoiceNumber/this.totalSentences*100,(isNaN(this.passiveVoiceScore)||this.passiveVoiceScore===1/0)&&(this.passiveVoiceScore=0);try{if(this.passiveVoiceScore>10?(this.passiveVoiceFeedback="Generally, writing is clearer in active voice.",this.passiveVoiceAlertColor="red"):(this.passiveVoiceFeedback="Your writing passed the criterion for passive sentences. Congrats!",this.passiveVoiceAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.passiveVoiceFeedback="Make sure you enter at least one sentence.",this.passiveVoiceAlertColor="orange",this.passiveVoiceScore=0}this.passivevoice.changePassiveVoiceFeedback(this.passiveVoiceFeedback),this.passivevoice.changePassiveVoiceScore(Math.round(10*this.passiveVoiceScore)/10),this.passivevoice.changePassiveVoiceAlertColor(this.passiveVoiceAlertColor)}passiveVoiceService(){this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceTable.subscribe(t=>this.passiveVoiceTable=t),this.passivevoice.currentPassiveVoiceHelperTable.subscribe(t=>this.passiveVoiceHelperTable=t),this.passivevoice.currentPassiveVoiceUserTable.subscribe(t=>this.passiveVoiceUserTable=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.passivevoice.currentPassiveVoiceFeedback.subscribe(t=>this.passiveVoiceFeedback=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t)}transitionsFix(t){for(const r in this.transitionsTable)t.toLocaleLowerCase().includes(r)&&(this.transitions.changeTotalTransitions(this.totalTransitions+1),this.transitionsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.transitionsTable[r]),this.transitions.changeTransitionsUserTable(this.transitionsUserTable));this.transitionsScore=this.totalTransitions/this.totalSentences*100,(isNaN(this.transitionsScore)||this.transitionsScore===1/0)&&(this.transitionsScore=0);try{if(0==this.transitionsScore?(this.transitionsAlertColor="red",this.transitionsFeedback="Your writing seems to have no transition word"):this.transitionsScore<=10?(this.transitionsFeedback="The number of transition words in your writing seems low",this.transitionsAlertColor="orange"):this.transitionsScore<=80?(this.transitionsFeedback="Woot! Your writing seems to have a good proportion of transitions",this.transitionsAlertColor="green"):(this.transitionsFeedback="Woot! Your writing seems to have a lot of transitions. Make sure you're not overusing transition words",this.transitionsAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.transitionsFeedback="Make sure you enter at least one sentence.",this.transitionsAlertColor="orange",this.transitionsScore=0}this.transitions.changeTransitionsScore(Math.round(10*this.transitionsScore)/10),this.transitions.changeTransitionsFeedback(this.transitionsFeedback),this.transitions.changeTransitionsAlertColor(this.transitionsAlertColor)}transitionsService(){this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.transitions.currentTransitionsFeedback.subscribe(t=>this.transitionsFeedback=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsTable.subscribe(t=>this.transitionsTable=t),console.log(),this.transitions.currentTransitionsUserTable.subscribe(t=>{this.transitionsUserTable=t.__zone_symbol__value,console.log("[transition fix] Arrived"+t)})}academicStyleFix(t){for(const s in this.academicStyleTable)t.includes(s)&&(this.academic.changeTotalNonAcademic(this.totalNonAcademic+1),this.academicStyleUserTable.find.push("\u2022 "+s+" \u27f6 "+this.academicStyleTable[s]),this.academic.changeAcademicStyleUserTable(this.academicStyleUserTable));let r;r="";var i=0;for(let s=0;s<t.length;s++)/[a-zA-Z]/.test(t[s])||"\u2019"===t[s]||"'"===t[s]?r+=t[s]:(r="",i++);this.academicStyleScore=this.totalNonAcademic/i*100,(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0);try{if(this.academicStyleScore>1?(this.academicStyleAlertColor="red",this.academicStyleFeedback="Your writing may contain language that is either too casual or too extreme for academic discourse."):(this.academicStyleAlertColor="green",this.academicStyleFeedback="Your writing has a low percentage of casual and/or extreme language. This makes it more acceptable for academic style."),0===this.totalSentences)throw new Error("")}catch(s){this.academicStyleFeedback="Make sure you enter at least one sentence.",this.academicStyleAlertColor="orange",this.academicStyleScore=0}(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0),this.academic.changeAcademicStyleScore(Math.round(10*this.academicStyleScore)/10),this.academic.changeAcademicStyleFeedback(this.academicStyleFeedback),this.academic.changeAcademicStyleAlertColor(this.academicStyleAlertColor)}academicStyleService(){this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.academic.currentAcademicStyleFeedback.subscribe(t=>this.academicStyleFeedback=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleTable.subscribe(t=>{this.academicStyleTable=t.__zone_symbol__value,console.log("[academicStyle fix] Arrived")})}grammarFix(t){for(const r in this.grammarTable)t.toLocaleLowerCase().includes(r)&&(this.grammar.changeTotalGrammar(this.totalGrammar+1),this.grammarUserTable.find.push("\u2022 "+r+" \u27f6 "+this.grammarTable[r]),this.grammar.changeGrammarUserTable(this.grammarUserTable));this.grammarScore=this.totalGrammar/this.totalSentences*100,(isNaN(this.grammarScore)||this.grammarScore===1/0)&&(this.grammarScore=0);try{if(0==this.grammarScore?(this.grammarAlertColor="green",this.grammarFeedback="Woohoo! We didn't find any obvious grammark errors. However, beware: Grammark does not check for fragments, comma splices, subject-verb errors, number and pronoun problems. What's the best way to find grammar errors? Read your writing aloud."):this.grammarScore>0&&(this.grammarAlertColor="red",this.grammarFeedback="Your writing includes words or phrases usually considered to be grammar errors"),0===this.totalSentences)throw new Error("")}catch(r){this.grammarFeedback="Make sure you enter at least one sentence.",this.grammarAlertColor="orange",this.grammarScore=0}this.grammar.changeGrammarScore(Math.round(10*this.grammarScore)/10),this.grammar.changeGrammarFeedback(this.grammarFeedback),this.grammar.changeGrammarAlertColor(this.grammarAlertColor)}grammarService(){this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.grammar.currentGrammarFeedback.subscribe(t=>this.grammarFeedback=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarTable.subscribe(t=>this.grammarTable=t),this.grammar.currentGrammarUserTable.subscribe(t=>this.grammarUserTable=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t)}eggcornsFix(t){for(const r in this.eggcornsTable)t.toLocaleLowerCase().includes(r)&&(this.eggcorns.changeTotalEggcorns(this.totalEggcorns+1),this.eggcornsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.eggcornsTable[r]),this.eggcorns.changeEggcornsUserTable(this.eggcornsUserTable));this.eggcornsScore=this.totalEggcorns/this.totalSentences*100,(isNaN(this.eggcornsScore)||this.eggcornsScore===1/0)&&(this.eggcornsScore=0);try{if(0==this.eggcornsScore?(this.eggcornsAlertColor="green",this.eggcornsFeedback="Great job Your writing seems to have no Eggcorns."):this.eggcornsScore<=5?(this.eggcornsFeedback=" Good job the number of Eggcorns words in your writing seems low.",this.eggcornsAlertColor="orange"):this.eggcornsScore<=10?(this.eggcornsFeedback="Your writing seems to have a lot of eggcorns.",this.eggcornsAlertColor="red"):(this.eggcornsFeedback="Your writing seems to have many eggcorns. Make sure you're not using eggcorns.",this.eggcornsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(r){this.eggcornsFeedback="Make sure you enter at least one sentence.",this.eggcornsAlertColor="orange",this.eggcornsScore=0}this.eggcorns.changeEggcornsScore(Math.round(10*this.eggcornsScore)/10),this.eggcorns.changeEggcornsFeedback(this.eggcornsFeedback),this.eggcorns.changeEggcornsAlertColor(this.eggcornsAlertColor)}eggcornsService(){this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.eggcorns.currentEggcornsFeedback.subscribe(t=>this.eggcornsFeedback=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsTable.subscribe(t=>this.eggcornsTable=t),this.eggcorns.currentEggcornsUserTable.subscribe(t=>this.eggcornsUserTable=t)}nominalizationsFix(t){let r;r="";let i=0;for(let s=0;s<t.length;s++)if(/[a-zA-Z]/.test(t[s])||"\u2019"===t[s]||"'"===t[s])r+=t[s];else{for(const o in this.nominalizationsTable)r.length>7&&r.includes(o)&&(this.nominalizationsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.nominalizationsTable[o]),this.nominalizations.changeNominalizationsNumber(this.nominalizationsNumber+1),this.nominalizations.changeNominalizationsUserTable(this.nominalizationsUserTable));r="",i++}this.nominalizationsScore=this.nominalizationsNumber/i*100,(isNaN(this.nominalizationsScore)||this.nominalizationsScore===1/0)&&(this.nominalizationsScore=0);try{if(this.nominalizationsScore<=6?(this.nominalizationsFeedback='Rock on. Your writing has a reasonable number of "nominalized" word forms, highlighted below. You probably don\'t need to reduce these any further.',this.nominalizationsAlertColor="green"):(this.nominalizationsFeedback='Most of the words below are perfectly acceptable. However, you use many of these "nominalized" (non root-form) words. They bog down writing and decrease readability.',this.nominalizationsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(s){this.nominalizationsFeedback="Make sure you enter at least one sentence.",this.nominalizationsAlertColor="orange",this.nominalizationsScore=0}this.nominalizations.changeNominalizationsFeedback(this.nominalizationsFeedback),this.nominalizations.changeNominalizationsScore(Math.round(10*this.nominalizationsScore)/10),this.nominalizations.changeNominalizationsAlertColor(this.nominalizationsAlertColor)}nominalizationsService(){this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.nominalizations.currentNominalizationsFeedback.subscribe(t=>this.nominalizationsFeedback=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsUserTable.subscribe(t=>this.nominalizationsUserTable=t),this.nominalizations.currentNominalizationsTable.subscribe(t=>this.nominalizationsTable=t)}sentencesFix(t){let r,i,s;r="",i="",s="";let o=!1,a=0;for(let l=0;l<t.length;l++){if(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l])r+=t[l];else{for(const c in this.sentencesTable)r.includes(c)&&(i+=r,o=!0);r="",a++}!0===o&&(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l]||" "===t[l]?i+=t[l]:(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Potential Fragment \u2192 "'+i+'..."'),this.sentences.changeSentencesUserTable(this.sentencesUserTable),o=!1,i="")),"!"===t[l]||"?"===t[l]||"."===t[l]?(a>50&&(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Long Sentence \u2192 "'+s+'..."'),this.sentences.changeSentencesUserTable(this.sentencesUserTable)),s="",a=0):s+=t[l]}this.sentencesScore=this.sentencesNumber/this.totalSentences*100,(NaN===this.sentencesScore||this.sentencesScore===1/0)&&(this.sentencesScore=0);try{if(this.sentencesScore>2?(this.sentencesFeedback="Hmmm. Your writing may have some sentence-level issues. Check the list below for potential fragments or run-ons.",this.sentencesAlertColor="red"):(this.sentencesFeedback="Bueno! Your sentences don't show any glaring errors.",this.sentencesAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(l){this.sentencesFeedback="Make sure you enter at least one sentence.",this.sentencesAlertColor="orange",this.sentencesScore=0}this.sentences.changeSentencesFeedback(this.sentencesFeedback),this.sentences.changeSentencesScore(Math.round(10*this.sentencesScore)/10),this.sentences.changeSentencesAlertColor(this.sentencesAlertColor)}sentencesService(){this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesTable.subscribe(t=>this.sentencesTable=t),this.sentences.currentSentencesUserTable.subscribe(t=>this.sentencesUserTable=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t),this.sentences.currentSentencesFeedback.subscribe(t=>this.sentencesFeedback=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t)}}return n.\u0275fac=function(t){return new(t||n)(v(Ln),v(Ui),v(sf),v(Qi),v(Yi),v(Zi),v(Ji),v(Xi),v(es),v(ts),v(ns))},n.\u0275cmp=yt({type:n,selectors:[["app-home"]],decls:28,vars:2,consts:[["id","textboxBackground"],[1,"column"],["id","grammarChecker"],["id","grammarDescription"],["id","userinput","name","userinput","placeholder","Type or paste your writing here. It will not be stored or reused in any way.",3,"ngModel","ngModelChange"],["id","submitbutton",3,"click"],["id","attentionGrabber"],[1,"column1"],[1,"homedescription"]],template:function(t,r){1&t&&(f(0,"body"),f(1,"div",0),f(2,"div",1),f(3,"h1",2),y(4,"Grammar Checker"),p(),f(5,"h3",3),y(6,"Check your text for any potential errors"),p(),f(7,"textarea",4),Ge("ngModelChange",function(s){return r.message=s}),y(8),p(),Cn(9,"br"),Cn(10,"br"),f(11,"button",5),Ge("click",function(){return r.submitClick()}),y(12,"SUBMIT"),p(),p(),Cn(13,"br"),f(14,"h1",6),y(15,"HOW IS GRAMMARK HELPFUL?"),p(),f(16,"div",7),f(17,"div",8),f(18,"h3"),y(19,"It takes a teacher "),f(20,"b"),y(21,"15-30 minutes"),p(),y(22," to correct 1 paper"),p(),f(23,"h3"),y(24,"It takes Grammark "),f(25,"b"),y(26,"0.14 seconds"),p(),y(27," to locate 6,239 errors"),p(),p(),p(),p(),p()),2&t&&(k(7),Qe("ngModel",r.message),k(1),Ne(r.message))},directives:[ag,TN,Tw],styles:['@import"https://fonts.googleapis.com/css2?family=Work+Sans&display=swap";body[_ngcontent-%COMP%]{background-image:linear-gradient(#F3FFF6,#2F6E4D);font-family:"Work Sans",sans-serif}.column[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto}#grammarChecker[_ngcontent-%COMP%]{text-align:center;line-height:.1;color:#2f6e4d;font-family:Futura,Trebuchet MS,Arial,sans-serif}#grammarDescription[_ngcontent-%COMP%]{text-align:center;line-height:1;color:#6e8c7c;font-family:Futura,Trebuchet MS,Arial,sans-serif}#textboxBackground[_ngcontent-%COMP%]{width:100%;background:url(backgroundgradient.a4580cc227270dfe53a9.jpg);margin-top:0%;background-position:center;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;padding-top:35px;padding-bottom:50px}#attentionGrabber[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#2f6e4d;-webkit-text-stroke-width:.25px;text-align:left;margin-bottom:10px;padding-left:7px;font-family:Futura,Trebuchet MS,Arial,sans-serif}.column2[_ngcontent-%COMP%]{float:left;width:300px;padding-right:20px}.c2[_ngcontent-%COMP%]{background-color:#b1b1bd;border-color:#000;border:groove;padding-left:20px;margin-bottom:19px}.c2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:5px}.c2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-bottom:10px}.c2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:5px}.homecolumns[_ngcontent-%COMP%]{padding:20px}.homedescription[_ngcontent-%COMP%]{color:#2f6e4d;text-align:left;font-family:Futura,Trebuchet MS,Arial,sans-serif}.homedescription[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;line-height:.5;padding-left:7px;font-family:Futura,Trebuchet MS,Arial,sans-serif}#userinput[_ngcontent-%COMP%]{height:400px;min-height:100px;width:95%;resize:none;border-width:1.5px;padding:15px;font-size:14px;border-color:#c6dbd0;border-radius:23px;font-family:Futura,Trebuchet MS,Arial,sans-serif}[_ngcontent-%COMP%]::placeholder{color:#adadad}#submitbutton[_ngcontent-%COMP%]{background-color:#2f6e4d;color:#fff;width:250px;height:60px;font-size:25px;font-family:Futura,Trebuchet MS,Arial,sans-serif;margin-left:35%;display:table-cell;vertical-align:middle;border-radius:23px;border:none}#submitbutton[_ngcontent-%COMP%]:hover{background-color:#adadad;color:#2f6e4d;cursor:pointer}ul[_ngcontent-%COMP%]{padding-left:20px;font-size:20px}.selfimage[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}']}),n})(),Ose=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-about"]],decls:79,vars:0,consts:[[1,"aboutcolumn"],[1,"column1"],[1,"title"],[1,"column2"],[1,"c"],["href","https://markfullmer.com/"],["href","https://github.com/ngatrann"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"div",0),f(2,"div",1),f(3,"div"),f(4,"h1",2),f(5,"b"),y(6,"About"),p(),p(),f(7,"p"),f(8,"b"),y(9,"Grammark Version 3.0 CLAWS (Concise Language and Academic Writing Suggestions)"),p(),y(10," is a writing tool intended to assist students with their academic writing\u2014specifically persuasive essays common to first-year writing courses and introductory courses in other subject areas. The system points out potential problems with wording, style, grammar, et cetera, and provides suggestions for improvement. By evaluating each specific suggestion generated by Grammark, students can improve their writing by implementing those suggestions they find to be accurate and helpful. "),p(),f(11,"p"),y(12,"Due to the nature of both written language and language checking software tools, the Grammark system cannot always differentiate between proper and improper uses of certain words and phrases, resulting in \u201cfalse positive\u201d flags for words and phrases that may be used correctly. However, instead of viewing these false positives as a shortcoming of the Grammark system, writers should simply view these checks as opportunities to further evaluate their language choices and move forward with confidence when a suggestion does not apply. "),Cn(13,"br"),y(14," These are the basic premises the program follows, in plain language:"),p(),f(15,"ol"),f(16,"li"),f(17,"b"),f(18,"mark"),y(19,"Passive voice"),p(),p(),y(20," is harder to read and sometimes obscures meaning. Active voice is clearer and punchier. Grammark highlights all instances of passive voice and suggests how to rewrite them actively."),p(),f(21,"li"),f(22,"b"),f(23,"mark"),y(24,"Wordiness."),p(),p(),y(25," Don't use 3 words when you can say the same thing with 1. Grammark has a database of 973 wordy phrases, like with respect to, a considerable amount of, and as a matter of fact. It finds these and offers concise alternatives (concerning, many, in fact)."),p(),f(26,"li"),f(27,"b"),f(28,"mark"),y(29,"Sentence length"),p(),p(),y(30," correlates with sophistication of thought. Writing with many short sentences is usually simplistic, while preponderantly long sentences suggest convoluted thought, and if sentences are all about the same length, writing sounds soporific. Grammark provides a sentence variety score (using standard deviation) and average words per sentence."),p(),f(31,"li"),f(32,"b"),f(33,"mark"),y(34,"Transitions"),p(),p(),y(35," help organize ideas. Text with few transitions is hard to follow. Based on analysis, writing that has less than 1 transition per every 4 sentences may be confusing. Grammark checks your document for 188 common transition words."),p(),f(36,"li"),f(37,"b"),f(38,"mark"),y(39,"Academic Style."),p(),p(),y(40,' As a college writing teacher, I often find myself scribbling "be more specific" or "be more tentative" on student essays. Grammark checks your document against for casual or extreme language.'),p(),f(41,"li"),f(42,"b"),f(43,"mark"),y(44,"Nominalizations."),p(),p(),y(45,' Non-root form words (e.g., improvement or improving instead of improve), when overused, can bog down writing. Grammark highlights words with common nominalized endings ("-ization", "-ability", etc.) so you can pinpoint unnecessarily dense sentences.'),p(),f(46,"li"),f(47,"b"),f(48,"mark"),y(49,"Grammar"),p(),p(),y(50," is, quite simply, a bunch of rules writers follow. As a teacher, I've spent many a Saturday correcting grammar. Grammark searches for 6,239 errors in about 0.144 seconds."),p(),p(),f(51,"p"),y(52,"There are many more rules of grammar thumb: prepositions at the ends of phrases should be dealt with, to usually avoid split infinitives, and following parallel structure. But many of these have exceptions, and I felt including checks for them would make the tool less efficient and consequently less useful."),p(),f(53,"h2"),y(54,"Make the Project Better"),p(),f(55,"p"),y(56,"The grammark database has 7,060 grammar rules currently, not including algorithms for identifying passive voice and analyzing sentences. Help improve the comprehensiveness of this tool by adding more grammar rules. Go to the submission form and enter a grammar error. If it doesn't yet exist, it will be added to the database after approval."),p(),p(),p(),f(57,"div",3),f(58,"div",4),f(59,"p"),y(60,"The original Grammark open-source web application was created by software developer and former English teacher "),f(61,"a",5),y(62,"Mark Fullmer"),p(),y(63,". This original version can still be found at grammark.org."),p(),f(64,"p"),y(65,"In the fall of 2021 Jason Palmer (English Instructor, Georgia Gwinnett College) sought to adapt and add to the Grammark tool for his composition students. He and a team of software development students at GGC, were able to add dozens of specific checks to the system and update the user interface, creating Grammark Version 2.0. They also updated the tool from Angular1 to Angular 10. In the spring of 2022, Palmer and a new team of GGC students created the current version of the tool, adding more checks, refining the identification of existing checks, and further improving both aesthetics and user experience."),p(),p(),f(66,"div",4),f(67,"p"),y(68,"Team CtrlAltSpri4ng(Fawhn Hanlon, Francisco Pomaya Ramos, "),f(69,"a",6),y(70,"Nga Tran"),p(),y(71,", Josue Mayorga)."),p(),f(72,"p"),y(73,"They updated Grammark from Angular1 to Angular10, and add additional Academic Style Checks."),p(),p(),f(74,"div",4),f(75,"p"),y(76,"Team Gramular(Jawwad Quereshi, Wilmer Batista, Joseph Ongchangco, Chris Hernandez, Sydney Harrell)."),p(),f(77,"p"),y(78,"They updated Grammark by changing the design of the page and updating the 'Dictionary' by adding more checks."),p(),p(),p(),p(),p())},styles:["html[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{cursor:default}div[_ngcontent-%COMP%]{font-family:Futura,Trebuchet MS,Arial,sans-serif}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-family:Futura,Trebuchet MS,Arial,sans-serif}mark[_ngcontent-%COMP%]{background-color:#fdff9f}.title[_ngcontent-%COMP%]{font-size:40px;padding:10px 0;margin-right:-55px}.aboutcolumn[_ngcontent-%COMP%]{padding-left:5%;padding-top:20px;background-color:#f3fff6;display:flex;justify-content:center;cursor:default}.column1[_ngcontent-%COMP%]{float:left;width:60%;padding:20px;max-width:750px;border:1.5px solid #C6DBD0;border-radius:23px;background-color:#fbfbfb}.column2[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.c[_ngcontent-%COMP%]{background-color:#fbfbfb;border-radius:23px;border:1.5px dashed #C6DBD0;padding:20px;margin-bottom:19px}ol[_ngcontent-%COMP%]{padding:10px 30px 20px 20px}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:17px;line-height:1.5}h2[_ngcontent-%COMP%]{font-size:35px;padding:10px 0}a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}"]}),n})(),Rse=(()=>{class n{constructor(){this.fileName="downloadabletext"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-download"]],decls:89,vars:0,consts:[[1,"downloadinformation"],[1,"row"],[1,"large-12","small-6","columns"],[1,"panel"],["href","https://github.com/markfullmer/grammark/archive/angular.zip",1,"button","right"],[1,"shell-wrap"],[1,"shell-top-bar"],[1,"shell-body"],["href","https://github.com/markfullmer/grammark/archive/master.zip",1,"button","right"],["href","https://github.com/markfullmer/grammark/archive/Version-2.zip",1,"button","right"]],template:function(t,r){1&t&&(f(0,"div",0),f(1,"h1"),y(2,"Download"),p(),f(3,"p"),y(4,"I advocate open-source philosophy: things (tools, art, knowledge) should be available for other people to adapt and improve. This includes educational web-tools like grammar checkers. So this website is both free to use and to modify, so long as you allow others to do the same with whatever you create."),p(),f(5,"p"),y(6,'Grammark comes in a variety of flavors. The angularJS version is "real-time" and requires nothing more than a web browser to run. There is also a SQL-based PHP version and a No-SQL version.'),p(),f(7,"div",1),f(8,"div",2),f(9,"div",3),f(10,"a",4),y(11,"Download as zip"),p(),f(12,"h3"),y(13,"AngularJS (Version 4)"),p(),f(14,"ul"),f(15,"li"),f(16,"b"),y(17,"Language:"),p(),y(18," Javascript"),p(),f(19,"li"),f(20,"b"),y(21,"Dependencies:"),p(),y(22," none (angular libraries bundled)"),p(),f(23,"li"),f(24,"b"),y(25,"Features:"),p(),y(26,' "Real-time" monitoring & scoring'),p(),p(),f(27,"div",5),f(28,"p",6),y(29,"Clone from github"),p(),f(30,"ul",7),f(31,"li"),y(32,"git clone https://github.com/markfullmer/grammark.git"),p(),f(33,"li"),y(34,"get fetch && git checkout angular"),p(),p(),p(),p(),p(),f(35,"div",2),f(36,"div",3),f(37,"a",8),y(38,"Download as zip"),p(),f(39,"h3"),y(40,"PHP, No-SQL (Version 3)"),p(),f(41,"ul"),f(42,"li"),f(43,"b"),y(44,"Language:"),p(),y(45," PHP, Twig"),p(),f(46,"li"),f(47,"b"),y(48,"Dependencies:"),p(),y(49," PHP 5.3+"),p(),f(50,"li"),f(51,"b"),y(52,"Features:"),p(),y(53,' Data in file storage; no need for a database connection. Uses "Twig" templating engine'),p(),p(),f(54,"div",5),f(55,"p",6),y(56,"Clone from github"),p(),f(57,"ul",7),f(58,"li"),y(59,"git clone https://github.com/markfullmer/grammark.git"),p(),f(60,"li"),y(61,"get fetch && git checkout Version-3"),p(),p(),p(),p(),p(),f(62,"div",2),f(63,"div",3),f(64,"a",9),y(65,"Download as zip"),p(),f(66,"h3"),y(67,"PHP, with SQL storage (Version 2)"),p(),f(68,"ul"),f(69,"li"),f(70,"b"),y(71,"Language:"),p(),y(72," PHP, SQL, Twig"),p(),f(73,"li"),f(74,"b"),y(75,"Dependencies:"),p(),y(76," PHP 5.3+, MySQL 5.0+ "),p(),f(77,"li"),f(78,"b"),y(79,"Features:"),p(),y(80,' Custom ORM SQL mapping for easy database manipulation; uses "Twig" templating engine'),p(),p(),f(81,"div",5),f(82,"p",6),y(83,"Clone from github"),p(),f(84,"ul",7),f(85,"li"),y(86,"git clone https://github.com/markfullmer/grammark.git"),p(),f(87,"li"),y(88,"get fetch && git checkout Version-2"),p(),p(),p(),p(),p(),p(),p())},styles:[".downloadinformation[_ngcontent-%COMP%]{padding:40px;font-size:large;background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}h1[_ngcontent-%COMP%]{font-family:Futura,Trebuchet MS,Arial,sans-serif}"]}),n})(),Pse=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-resources"]],decls:22,vars:0,consts:[[1,"resources"],[1,"description"],["routerLink","wordiness",1,"linkedpages"],["routerLink","transitions",1,"linkedpages"],["routerLink","grammar",1,"linkedpages"],["routerLink","eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div",0),f(1,"h1"),f(2,"b"),y(3,"Resources"),p(),p(),f(4,"p",1),y(5,"View existing database records for wordiness, grammar errors, and transitions."),p(),f(6,"p"),f(7,"a",2),y(8,"Wordiness"),p(),y(9," (987 records)"),p(),f(10,"p"),f(11,"a",3),y(12,"Transitions"),p(),y(13," (134 records)"),p(),f(14,"p"),f(15,"a",4),y(16,"Grammar"),p(),y(17," (1,323 records)"),p(),f(18,"p"),f(19,"a",5),y(20,"Eggcorns"),p(),y(21," (100 records)"),p(),p())},directives:[un],styles:[".resources[_ngcontent-%COMP%]{padding-left:22%;padding-top:30px}h1[_ngcontent-%COMP%]{font-size:40px}.description[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{padding:10px 0;font-size:30px}.linkedpages[_ngcontent-%COMP%]{text-decoration:none;color:#00f}"]}),n})();function Lse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function Vse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}let Bse=(()=>{class n{constructor(){this.title="Wordiness",this.values={"absolutely essential":"essential",aforementioned:"DELETE","a bigger degree of":"more","a greater degree of":"more","a higher degree of":"more","a larger degree of":"more","a considerable amount of":"DELETE OR BE SPECIFIC","a decreased number of":"fewer","a distance of":"just state the distance","a lesser degree of":"less","a smaller degree of":"fewer","a lot of":"many, much","a majority of":"most, much of, many","a person who is":"a xxx person","a total of":"just state the number","added bonus":"bonus","advance notice":"notice","advance reservations":"reservations","advance warning":"warning","advance planning":"planning","after all is said and done":"DELETE","all across":"across","all of":"all","all of a sudden":"suddenly","all of these":"these","all-time record":"record","almost never":"seldom","along the lines of":"like","any and all":"all","are such that":"DELETE","is such that":"DELETE","are able to":"can, OR DELETE","was able to":'could, OR remove and change the verb after "to" into past tense',"were able to":'could, OR remove and change the verb after "to" into past tense',"armed gunman":"gunman","assemble together":"assemble","attach together":"attach","as a matter of fact":"in fact OR DELETE","as a means to":"to","as a result of":"because of","as a whole":"DELETE","as a way to":"to","as being a":"as OR DELETE","as it truly is":"DELETE","as of the moment":"DELETE","as the case may be":"DELETE","at a later date":"later","at the conclusion of":"after","at all times":"always OR DELETE","at first glance":"DELETE","at the present time":"currently, now","at the same time that":"while","at this point in time":"now OR DELETE","autobiography of his [or her] life":"autobiography","bald-headed":"bald","based in large part on":"based on","based on the fact that":"since/because","basic necessity":"necessity","basic fundamentals":"basics OR fundamentals","because of the fact of":"because of",being:"DELETE","being that":"because","best ever":"best","beyond a shadow of a doubt":"DELETE","blend together":"blend","both of these":"both","both of them":"both","both of the":"both","brings to mind":"recalls/suggests","brief moment":"moment","brief summary":"summary","but yet":"but OR yet","burning embers":"embers","by and large":"DELETE","by definition":"DELETE","by leaps and bounds":"DELETE","by means of":"by","by the same token":"DELETE OR similarly/likewise","by the use of":"using","came to a realization":"realized/recognized","came to an abrupt end":"end[ed] abruptly","careful scrutiny":"scrutiny","can be seen as":"is OR DELETE","classify into groups":"classify","clearly articulate":"articulate","close scrutiny":"scrutiny","close down":"close","close up":"close","collaborate together":"collaborate","combine together":"combine","come to the understanding":"understand","common similarities":"similarities","comparatively larger than":"larger than/smaller than","comparatatively smaller than":"smaller than","compare and contrast":"compare","compete with each other":"compete","complete stranger":"stranger",completely:"DELETE","concerning the matter of":"about/regarding","conduct an investigation into":"investigate","connected together":"connected","continue into the future":"continue OR DELETE","continue on":"continue","consensus of opinion":"consensus","consider to be":"DELETE","considered to be":"DELETE","core essence":"DELETE","correctional facility":"jail","crisis situation":"crisis","dates back to":"dates to","depreciate in value":"depreciate","great pleasure from":"enjoy, appreciate, etc.","despite the fact that":"although","did not succeed":"failed","disappear from sight":"disappear","doomed to perish":"doomed","due to the effects":"because","due to the fact that":"because","dull in appearance":"dull","during the course of":"during, while","each and every":"each, every","each individual":"DELETE OR everyone","each of":"each","early on in the":"early in the","each separate incident":"each incident","economically deprived":"poor","eliminate altogether":"eliminate","emergency situation":"emergency","enclosed herewith":"enclosed","end result":"result","engaged in":"DELETE","enter into":"enter OR DELETE","epic quest":"quest OR epic","equal to one another":"equal","equally as good":"equally good OR equal","erode away":"erode","every single one":"each one, all, each","exactly identical":"identical","exactly the same":"the same   For Jack, every well was exactly the same","fair amount":"DELETE [or be specific]","fall down":"fall","few and far between":"rare, unusual OR DELETE","few in number":"few","filled to capacity":"filled [full]","final outcome":"final OR DELETE","first priority":"priority","first and foremost":"first","fly through the air":"fly","foreign imports":"imports","for all intents and purposes":"DELETE","for that which is":"for the","for the manner in which":"the way","for the purpose of":"to, for","foreseeable future":"[when exactly?]","free gift":"gift","frozen ice":"ice","future plans":"plans OR prospects","gain entry into":"enter","general consensus":"consensus","general public":"public","give an indication of":"indicate","give consideration to":"consider","grave crisis":"crisis","grow in size":"grow","hand in hand":"together","has the ability to":"can","a tendency to":"often OR DELETE","been found to be":"is/was/are","the ability to":"can/could","the capacity for":"can/could","the effect of":"DELETE","the opportunity to":"can/could","an effect upon":"influenced","hear the sound of":"hear","heat up":"heat","I myself":"I","clear and concise":"[concisely] concise","a situation in which":"eperienced","in a very real sense":"DELETE","in a way that is clear":"clearly OR clear way","in actuality":"DELETE","in all probability":"probably/likely","in close proximity":"near","in light of the fact that":"because","in itself":"DELETE","in nature":"DELETE","in order to":"to","in reality":"DELETE","in reference to":"about/regarding","in the event that":"if","in the neighborhood of":"about","in the vicinity of":"near","in today's society":"today","in spite of":"despite","in spite of the fact that":"although","in such a way":"in a way","in terms of":"DELETE","in the area of":"in OR around","in the course of":"during, while","in the final analysis":"finally OR DELETE","in light of":"considering OR DELETE","in a majority of instances":"usually","in the midst of":"during, amid","the nature of":"DELETE","in the near future":"soon OR DELETE","in the not too distant future":"soon OR DELETE","in their own right":"DELETE","in this day and age":"currently, now, today","in view of the fact that":"because","in which":"DELETE","inadvertent error":"error","inner feelings":"feelings","interestingly enough":"DELETE","intertwined together":"intertwined","intertwine together":"intertwine",irregardless:"DELETE","is a reflection of":"reflects","is able to":"can OR DELETE","is an important factor in":"DELETE","is aware of the fact that":"knows","is described as being":"is OR is described as","is found to be":"is","is going to":"will","is helpful in understanding":"clarifies","is in conflict with":"conflicts with/is against","is in contrast to":"contrasts with","is of significant importance":"is significant OR is important","is scared of":"fears","is seen as":"is","is something that is":"is","is well aware that":"understands","is when":"is OR DELETE","is where":"DELETE","appears as though":"appears OR DELETE","seems as though":"seems","can be seen that":"DELETE","could happen that":"could/may/might","goes to show that":"DELETE","clear that":"DELETE","evident that":"DELETE","apparent that":"DELETE","it is crucial that":"must/should OR DELETE","it is important that":"must/should OR DELETE",interesting:"BE MORE SPECIFIC","necessary that":"must/should OR DELETE","it is possible that":"DELETE","it is rarely the case that":"[X] rarely happens","should be noted that":"DELETE OR note that","should be pointed out that":"note that","would seem that":"DELETE","would appear that":"DELETE","gather together":"join/gather","join together":"gather/join","joint collaboration":"collaboration","joyous celebration":"celebration","kind of":"DELETE","kneel down":"kneel","lag behind":"lag","last but not least":"finally","last but not the least":"finally","later on":"later","lift up":"lift","local residents":"residents","longer/shorter in length":"longer/shorter","look ahead to the future":"look ahead, plan OR DELETE","made out of":"made from, made of","mainly focuses on":"focuses on","major breakthrough":"breakthrough","make a decision":"decide","make a determination":"decide","make an assumption":"assume","make an effort":"try","made an effort":"try","make contact with":"contact","with reference to":"about","manner in which":"way","many different kinds of":"many","many different ways":"many ways","meet together":"meet","mental attitude":"attitude","merge together":"merge","mix together":"mix","more or less":"be specific","more preferable":"preferable","mutual agreement":"agreement","mutual respect for":"respect","nape of the neck":"nape","native habitat":"habitat","natural instinct":"instinct","necessary prerequisite":"prerequisite","never before":"never","new invention":"invention/innovation","new innovation":"innovation/invention","new record":"record","new recruit":"recruit","none at all":"none","nostalgia for the past":"nostalgia","not the least of them being":"AVOID","of great importance":"DELETE OR is important","off of":"off OR from","old custom":"custom/adage","on a daily basis":"daily","on account of the fact that":"because","on the basis of":"because, based on","the grounds that":"because","the occasion of":"on/preparing for","the situation of":"about","the subject of":"about OR DELETE","surface level":"surface","on the whole":"DELETE","on top of this":"moreover OR DELETE","on top of that":"moreover","one of the more":"DELETE","one of the most":"DELETE","only serves to":"DELETE","open up":"open","over again":"repeatedly","over exaggerate":"exaggerate","overall goal":"goal","overall structure":"structure",overexaggerate:"exaggerate","owing to the fact that":"because","particular type of":"DELETE","past experience":"experience","past history":"history","past memories":"memories","the amount of":"DELETE","penetrate into":"penetrate","period of time":"period, time, or DELETE","personal friend":"friend","personal opinion":"opinion",personally:"DELETE","pick and choose":"choose","plan ahead":"plan","plan in advance":"plan","play an important role":"DELETE [be specific]","plays an important role":"DELETE [be specific]","polar opposites":"opposites","possible course of action":"choice","possible courses of action":"choices","previous/prior to":"before","proceed ahead":"proceed","prior to":"before","protest against":"protest","providing that":"provided","put to use":"use","puzzling in nature":"puzzling","quite clearly":"DELETE","readily apparent":"apparent","real life":"TRUE","reconsider again":"reconsider","refer back":"refer","reply back":"reply","reflect back":"reflect","regardless of the fact that":"although",respective:"DELETE",respectively:"DELETE","right up to the":"to the","rise up":"rise","in shape":"DELETE","safe haven":"haven","exactly the same thing":"repeat","scrutinize carefully":"scrutinize","prefer to have":"prefer","serious danger":"danger","serve the purpose of":"DELETE","serves to show":"shows","serve to show":"show","set a new record":"set a record","shout loudly":"shout","in size":"DELETE","some kind of":"DELETE","sort of":"DELETE","spell out in detail":"spell out OR DELETE","state of affairs":"DELETE [vague]   Their accident was a terrible state","still has yet":"has yet","study in depth":"study","subsequent to":"after","subsequent to the use of":"after using","sudden impulse":"impulse","sum total":"total OR sum","summarize briefly":"summarize","surrounded on all sides":"surrounded","sworn affidavit":"affidavit","symbolically represents":"represents OR symbolizes","take action":"act","take into account":"consider","taken the time":"DELETE","in height":"DELETE","terrible tragedy":"tragedy","this being said":"DELETE","that being said":"DELETE","that exists":"DELETE","that exists between":"between/with/among","that exists among":"between/with/among","that exists with":"between/with/among","that is":"DELETE when possible","that are":"DELETE when possible","that were":"DELETE when possible","that is to say":"DELETE","the color":"just state the name of the color","complete opposite of":"the opposite of","final result":"result","human race":"humanity OR people","the fact that":"that OR DELETE","the fact remains":"DELETE","final conclusion":"conclusion","majority of":"most/many","means by which":"how","manner by which":"how","the month of":"DELETE","overall plan":"plan","possibility exists":"may/might/could","is to illustrate":"wordy","is to show":"wordy","is to determine":"wordy","is to demonstrate":"wordy","the reason is because":"the reason/because","the reason why":"the reason, why, because","type of":"DELETE","a tendency":"DELETE OR BE SPECIFIC","there is":"DELETE","there are":"DELETE","there was":"DELETE","there were":"DELETE","total destruction":"destruction","to a certain extent":"DELETE OR BE SPECIFIC","to be in a position to":"to","to make a plan":"to plan","to make a decision":"to decide","to make an acquisition":"to acquire","to make an arrangement":"to arrange","true fact":"fact","in the afternoon":"p.m.","in the morning":"a.m.","ultimate fate":"fate","ultimate objective OR goal":"objective OR goal","unexpected emergency":"emergency","unexpected surprise":"surprise","unintentional mistake":"mistake","unique in his own way":"DELETE","united as one":"united","until such time as":"until","useless in function":"useless","utmost perfection":"perfection","vacillate back and forth":"vacillate","valuable asset":"asset","various different":"various","very unique":"unique","violent explosion":"explosion",virtually:"DELETE","visible to the eye":"visible","warn in advance":"warn","of the opinion that":"believe","as a society":"society","can see that":"AVOID","we were found to be in agreement":"we agreed","well aware of":"aware","in attendance":"attend[ed]","what is important is":"DELETE","when all is said and done":"DELETE","whether or not":"whether/if OR DELETE","which have been found to be":"are OR DELETE","which is":"DELETE when possible","which are":"DELETE when possible","which were":"DELETE when possible","will come in the future":"will come","will have an effect on":"will effect","with the possible exception of":"except for","who are":"DELETE","who was":"DELETE","who were":"DELETE","the way it does":"that way","with regard to":"about/regarding","with the exception of":"except for","witnessed first hand":"witnessed","young in age":"young","at the risk of":"risking","at / by one":"near","at / for a fraction of":"discounted","at / from the outset":"initially","at / in the end":"finally","at / on sight":"immediately","at / on the double":"quickly","at one time":"once","at a disadvantage":"disadvantaged","at a discount":"discounted","at a distance":"far","at a glance":"immediately","at a guess":"estimate","at a loss":"unable","at a moment":"instantly","at a price":"costing","at a rate of":"at","at a speed of":"travelling","at a standstill":"stopped","at all events":"regardless","at an advantage":"advantaged","at breakfast":"breakfasting/ed","at ease with":"peaceful","at fault":"responsible","at hand":"near","at home with":"accepting","at issue":"disputing","at large":"roaming","at length":"eventually","at liberty":"free","at odds with":"disputing","at once":"immediately","at peace with":"accept","at play":"playing","at present":"now","at random":"randomly","in front of":"before","at the age of":"X years old","at the beginning":"initially","at the expense of":"costing","at the foot of":"beneath","at the hands of":"subservient to","at the height of":"peaking","at the latest":"most recent","at the peak of":"cresting","at the same time":"simultaneously","at the thought of":"thinking","at the time of":"during","at the top of":"topping","at this juncture":"now","at times":"sometimes","at war with":"fighting","at work":"working","behind the scenes":"incognito","by chance":"possibly","by the name of":"named","with luck":"luckily","by accident":"accidentally","by all means":"certainly","by coincidence":"coincidentally","by courtesy of":"thanks to","by degrees":"gradually","by design":"intentional","by far":"clearly","by force":"forcefully","by hand":"manually","by heart":"memorized","by mistake":"mistakenly","by nature":"innately","by rights":"deserve(d)","by sight":"immediately","by surprise":"surprised","by the side of":"aside","by virtue of":"by","by way of":"via","for a good cause":"philathropically","for the benefit":"for","for a good reason":"justly","for certain":"certainly","for fear of":"fearing","for good":"completely","for granted":"assume(d)","for lack of":"lacking","for my part":"DELETE","for his part":"DELETE","for her part":"DELETE","for real":"truly","for the good of":"benefitting","for the sake of":"for","for want of":"lacking","in no time":"quickly","at the forefront of":"leading","in the forefront of":"leading","in demand":"demanded/wanted","on demand":"demanded/wanted","out of focus":"unclear","in focus":"clear","in one's element":"familiar","out of season":"not current","in season":"current","in stock":"available","out of touch with":"unfamiliar with","in touch with":"familiar with","out of use":"obsolete/unused/old","in use":"current/used/relevant","with difficulty":"not easily","in difficulty":"challenged","within sight of":"near","in sight of":"near","in a deep sleep":"slumbering/sleeping","in a flash":"quickly","in a heap":"heaped","in a hurry":"rushing","in a mess":"scattered/messy","in a pile":"piled","in a sense":"somewhat","in a temper":"angry","in abeyance":"receding/abeying/waning","in abundance":"frequent/abundant","in accordance with":"DELETE","in action":"active","in addition to":"and","in advance":"before/previous","in agony":"agonizing","in agreement with":"agreeing","in aid of":"helping","in all likelihood":"likely","in an instant":"instantly","in an uproar":"furious/upset/crazed","in answer to":"answering","in anticipation of":"anticipating","in arrears":"late","in awe of":"awed by","in blossom":"blooming","in brief":"briefly","in character":"DELETE","in charge of":"leading","in collaboration with":"with","in combination with":"with","in command of":"controlling/commanding","in common":"sharing","in comparison with":"and","in compensation for":"for","in conclusion":"DELETE","in confidence":"confidentially","in confinement":"confined","in confusion":"confused","in conjunction with":"with","in connection with":"with","in consequence of":"resulting in","in contact with":"known/knowing","in contrast to":"and/unlike/or","in contrast with":"and/unlike/or","in control of":"controlling/leading","in debt":"owing","in decline":"declining","in defense of":"defending","in detail":"specifically/detailed","in disgrace":"disgracefully","in disguise":"disguised","in disorder":"disordered","in dispute":"disputing","in distress":"distressed","in doubt":"doubting","in due course":"DELETE or eventually","in duplicate":"twice/repeated/doubled","in earnest":"earnestly","in effect":"DELETE","in error":"wrong","in essence":"essentially","in excess of":"exceeding","in exchange for":"for","in existence":"existing/exists","in fact":"DELETE","in fairness to":"acknowledging","in favor of":"favoring","in fear of":"fearing","in flames":"flaming/burning","in flower":"blooming","in full":"fully","in the future":"next/soon/ahead","in gear":"moving","in general":"generally","in good condition":"pristine/well-maintained","in bad condition":"wrecked/worn down","in good faith":"sincere(ly)","in hand":"holding","in harmony with":"agreeing/harmonizing with","in haste":"quickly","in hiding":"secretly/incognito","in high spirits":"upbeat","in honor of":"honoring","in horror of":"abhorring","in isolation":"isolated","in its infancy":"beginning/inception","in jeopardy":"risking","in keeping with":"maintaining","in labor":"laboring/giving birth","in league with":"allied","in length":"DELETE","in line with":"follows","in love with":"loves","in memory of":"remembering/honoring","in mid-air":"mid-air","in mind":"thinking","in moderation":"moderately","in mourning":"mourning","in name only":"artificial/sinecure","in office":"elected/representing","in operation":"using/used","in opposition to":"opposing","in origin":"originally","in other words":"basically","in pain":"hurting","in particular":"specifically","in person":"DELETE","in pieces":"broken","in place of":"replacing","in possession of":"owning/possessing","in poverty":"impoverished","in practice":"traditionally","in preference to":"preferring","in preparation for":"for/preparing for","in principle":"theoretically","in private":"privately","in progress":"progressing","in proportion to":"proportionally/proportionately","in proportion with":"proportionately/proportionally","in public":"publically","in pursuit of":"pursuing","in quantity":"amount","in question":"DELETE","in recognition of":"recognizing","in relation to":"relates/relating (to)","in reply to":"replying","in reserve":"reserved","in residence":"residing","in respect of":"respecting","in response to":"responding to","in revenge for":"to avenge","in reverse":"backwards/reverse","in ruins":"ruined","in safety":"safe","best interest":"DELETE","her opinion":"DELETE or thinks","my opinion":"DELETE or think","his opinion":"DELETE or thinks","in search of":"searching for","in secret":"secretly/incognito","in self-defense":"defensively","in settlement of":"DELETE","in silence":"silently","in store":"expecting/imminent","in succession":"succeeding","in support of":"supporting","in sympathy with":"sympathizing with","in tears":"crying","in terror":"terrified","in the absence of":"lacking/without","in the aftermath":"resulting in","in the balance":"DELETE","in the case of":"for","in the distance":"distantly","in the event of":"if","in the extreme":"extremely","in the eyes of":"according to","in the flesh":"DELETE","in the form of":"DELETE","in the habit of":"usually","in the interests of":"for","in the lead":"leading","in the long run":"eventually","in the making":"forming OR REWRITE","in the meantime":"meanwhile/simultaneously","in the mood for":"desiring/wanting","in the name of":"for","in the night":"at night","in the open":"openly","in the process of":"beginning to/starting to","in the right":"correct","in the seclusion of":"secluded by","in the shade":"shaded","in the space of":"within","in the wake of":"after","in the way of":"like","in the wrong":"wrong","in theory":"theoretically","in times of":"during","in town":"here/there","in trouble":"troubled/embattled","in tune with":"agreeing with","in turmoil":"disagreeing","in turn":"DELETE","in unison":"together","in vain":"vainly","in view of":"considering","in vogue":"hip/fashionable/chic","of the opinion":"thinks or DELETE","on duty":"working","off duty":"off","off their rocker":"crazy","on the watch for":"waiting for/expecting",behind:"late","on schedule":"punctual","off the record":"private(ly)","on the record":"public(ly)","on the road":"travelling","under oath":"sworn","under pain of":"DELETE","on the air":"playing","off the air":"discontinued","off balance":"unbalanced","on a diet":"dieting","on a large scale":"generally","on a small scale":"specifically","on a regular basis":"regularly","on account of":"due to/because of","on average":"generally","on behalf of":"for","on condition that":"assuming/if","on credit":"borrowing/lending","on display":"displayed","on edge":"worried","on end":"DELETE","on file":"recorded","on fire":"burning","on foot":"walking","on good terms":"amicable/friendly","on guard":"guarding","on hand":"DELETE","on horseback":"horseriding","on impulse":"impulsively","on leave":"absent/vacationing/travelling","on no account":"never","on occasion":"occasionally","own terms":"DELETE","on your own":"individually","on her own":"individually","on his own":"individually","on their own":"individually","on one":"individually","on paper":"recorded","on patrol":"patroling","on purpose":"intentionally","upon reflection":"DELETE","on reflection":"DELETE","on sale":"discounted","on second thought":"however","on show":"displayed","on strike":"striking","on suspicion of":"suspecting","on the agenda":"planned","on the assumption":"assuming/if","on the brink of":"nearly/almost","on the dot":"exactly","on the edge of":"nearly/almost","on the eve of":"near","on the grounds of":"because of","on the horizon":"near/soon","on the hour":"prompt","on the increase":"increasing","on the job":"working","on the move":"moving","on the off-chance":"if","on the outskirts":"nearby/near","on the part of":"for","on the phone":"talking","on the point of":"near/close to","on the run":"running","on the strength of":"based on","on the stroke of":"DELETE","on the tip of":"near to","on the top of":"leading","on the understanding that":"given/assuming","on the verge of":"almost","on the way to":"heading to/toward","on time":"prompt","on vacation":"vacationing","in fashion":"fashionable","out of fashion":"unfashionable","in print":"current","out of print":"discontinued","in step":"following","out of step":"not following","out of breath":"winded/exhausted/tired","out of control":"uncontrollable","out of curiosity":"DELETE","out of date":"outdated","out of doors":"outside","out of order":"broken","out of pity":"sympathizing/pitying","out of place":"improper","out of reach":"unreachable","out of respect for":"honoring","out of sight":"unattainable","out of spite":"spiteing","out of stock":"unavailable","out of the ordinary":"unusual","out of the question":"impossible","out of work":"unemployed","through no fault of":"innocently","on the contrary":"instead","to an extent":"DELETE","to date":"DELETE","to excess":"excessively","to one":"surprisingly","to his face":"directly","to her face":"directly","to my face":"directly","to this day":"until now","to the best of":"DELETE","to the detriment of":"harming","to the exclusion of":"excluding","to the full":"fully","under age":"a minor","under arrest":"arrested","under consideration":"X is considering","under construction":"X is constructing","under discussion":"discussing","under lock and key":"protected/safeguarded","under pressure":"pressured","under regulations":"expected","under repair":"X is repairing","under strain":"straining to","under stress":"stressed","under suspicion":"suspected of","under the command of":"commanded by","under the impression that":"thinking/believing that","under the influence":"intoxicated/high/drunk","under the misapprehension":"assuming","without success":"unsuccessfully","with success":"successfully","with a view to":"DELETE or to","with an eye to":"DELETE or to","with regret":"regretfully","with respect to":"regarding","with the aid of":"with","with the compliments of":"thanks to","with the help of":"thanks to","with the intention of":"intending to","within reason":"reasonably","within grasp":"near","within reach of":"attainable/can attain","within walking distance":"nearby/near","without a doubt":"undoubtedly","without doubt":"undoubtedly","without a break":"unceasingly","without a hitch":"easily","without delay":"directly","without exception":"universally","without fail":"dependably","without foundation":"baseless","without precedent":"unprecedented","without question":"unquestionably","without warning":"unexpected","whole different":"different","do not like":"dislike"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-wordiness"]],decls:37,vars:3,consts:[[1,"wordinessTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ht(14,Lse,2,1,"tr",1),p(),f(15,"td"),ht(16,Vse,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(k(2),Ne(r.title),k(12),Qe("ngForOf",r.table.find),k(2),Qe("ngForOf",r.table.suggestion))},directives:[Dr,un],styles:[".wordinessTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function Use(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function jse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}let $se=(()=>{class n{constructor(){this.title="Transitions",this.values={"above all":"",accordingly:"",additionally:"","after all":"",afterward:"",albeit:"","all in all":"","all of a sudden":"","all things considered":"",also:"",although:"",altogether:"","another key point":"","as a matter of fact":"","as a result":"","as an illustration":"","as can be seen":"","as has been noted":"","as shown above":"","as soon as":"","as well as":"","at the present time":"","at the same time":"","at this instant":"",basically:"","be that as it may":"","because of":"",besides:"","by all means":"","by and large":"","by the same token":"",certainly:"",chiefly:"",comparatively:"",consequently:"",conversely:"",correspondingly:"",despite:"","different from":"","due to":"",equally:"","equally important":"",especially:"","even so":"",eventually:"",expressively:"",finally:"",firstly:"","first thing to remember":"",following:"","for example":"","for fear that":"","for instance":"","for one thing":"","for the most part":"","for the purpose of":"","for this reason":"",formerly:"",forthwith:"",frequently:"","from time to time":"",further:"",furthermore:"","generally speaking":"","given that":"","given these points":"",hence:"",henceforth:"",however:"",identically:"",immediately:"","important to realize":"","in a moment":"","in a word":"","in addition":"","in any event":"","in brief":"","in case":"","in conclusion":"","in contrast":"","in detail":"","in due time":"","in either case":"","in essence":"","in fact":"","in general":"","in light of":"","in like manner":"","in order to":"","in other words":"","in particular":"","in reality":"","in short":"","in spite of":"","in summary":"","in that case":"","in the event that":"","in the final analysis":"","in the first place":"","in the hope that":"","in the long run":"","in the meantime":"","in the same way":"","in this case":"","in time":"","in view of":"","inasmuch as":"",indeed:""," lest ":"",likewise:"",markedly:"",meanwhile:"",moreover:"","most compelling evidence":"","must be remembered":"",namely:"",nevertheless:"",next:"","not only":"","not to mention":"",notably:"",notwithstanding:"","of course":"","on balance":"","on the condition that":"","on the contrary":"","on the other hand":"","on the positive / negative side":"","on the whole":"",ordinarily:"",otherwise:"",overall:"","owing to":"","point often overlooked":"","prior to":"","provided that":"",quickly:"",rather:"",regardless:"",secondly:"",significantly:"",similarly:"",since:"","so as to":"","so long as":"","so that":"","sooner or later":"",specifically:"",straightaway:"",subsequently:"","such as":"",surely:"",surprisingly:"","that is to say":"","then again":"",therefore:"",thereupon:"",thirdly:"",thus:"","to be sure":"","to begin with":"","to clarify":"","to demonstrate":"","to emphasize":"","to enumerate":"","to explain":"","to point out":"","to put it another way":"","to put it differently":"","to repeat":"","to say nothing of":"","to sum up":"","to summarize":"","to the end that":"","together with":"",truly:"","under those circumstances":"",uniquely:"",unless:"","until now":"","up to the present time":"",usually:"",whenever:"",whereas:"","with attention to":"","with this in mind":"","with this intention":"","without delay":""},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-transitions"]],decls:37,vars:3,consts:[[1,"transitionsTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ht(14,Use,2,1,"tr",1),p(),f(15,"td"),ht(16,jse,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(k(2),Ne(r.title),k(12),Qe("ngForOf",r.table.find),k(2),Qe("ngForOf",r.table.suggestion))},directives:[Dr,un],styles:[".transitionsTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function Hse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function zse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}let qse=(()=>{class n{constructor(){this.title="Grammar",this.values={"a 100":"100, a hundred, one hundred","a 1000":"1000, a thousand, one thousand","a 11":"an 11","a 11th":"an 11th","a 18":"an 18","a 18th":"an 18th","a 8":"an 8","a 80":"an 80","a 8th":"an 8th","a absolute":"an absolute","a accident":"an accident","a acoustic":"an acoustic","a acronym":"an acronym","a action":"an action","a actual":"an actual","a additional":"an additional","a affair":"an affair","a African":"an African","a album":"an album","a Algerian":"an Algerian","a alien":"an alien","a alternative":"an alternative","a AM":"an AM","a amateur":"an amateur","a American":"an American","a amount":"an amount","Although,":"However,","a analog":"an analog","a analogue":"an analogue","a angle":"an angle","a Angolan":"an Angolan","a annual":"an annual","a another":"another","a antenna":"an antenna","a anti":"an anti","a Arabian":"an Arabian","a Arabic":"an Arabic","a Argentine":"an Argentine","a Armenian":"an Armenian","a Asian":"an Asian","a assistant":"an assistant","a associate":"an associate","a Australian":"an Australian","a Austrian":"an Austrian","a average":"an average","a back up":"a back-up, a backup","a bacteria":"a bacterium [singular], bacteria [plural]","a batsmen":"a batsman [singular]","a businessmen":"a businessman [singular]","a businesswomen":"a businesswoman","a consortia":"a consortium [singular]","a criteria":"a criterion [singular]","a dominate":"a dominant","a early":"an early","a effective":"an effective","a Egyptian":"an Egyptian","a eight":"an eight","a eighth":"an eighth","a eighteen":"an eighteen","a eighteenth":"an eighteenth","a eighty":"an eighty","a electric":"an electric","a electronic":"an electronic","a eleven":"an eleven","a eleventh":"an eleventh","a elite":"an elite","a embedded":"an embedded","a English":"an English","a entire":"an entire","a EP":"an EP","a epic":"an epic","a episode":"an episode","a equal":"an equal","a estimate":"an estimate","a Ethiopian":"an Ethiopian","a ethnic":"an ethnic","a example":"an example","a extra":"an extra","a falling out":"a falling-out [though Wiktionary has both]","a firemen":"a fireman [singular]","a flagella":"a flagellum [singular]","a FM":"an FM","a freshmen":"a freshman [singular]","a fungi":"a fungus [singular]","a gunmen":"a gunman [singular]","a impact":"an impact","a independent":"an independent","a Indian":"an Indian","a individual":"an individual","a Indonesian":"an Indonesian","a indoor":"an indoor","a information":"an information","a initiative":"an initiative","a intelligent":"an intelligent","a interesting":"an interesting","a interim":"an interim","a interior":"an interior","a intermediate":"an intermediate","a international":"an international","a Internet":"an Internet","a intersection":"an intersection","a interview":"an interview","a introduction":"an introduction","a Iranian":"an Iranian","a Iraqi":"an Iraqi","a Irish":"an Irish","a iron":"an iron","a island":"an island","a Israeli":"an Israeli","a issue":"an issue","a Italian":"an Italian","a larvae":"a larva [singular]","a line up":"a line-up, a lineup","a lock out":"a lockout","a lose":"a loss","a match up":"a match-up, a matchup","a media for":"a medium for","a nuclei":"a nucleus [singular]","a ocean":"an ocean","a official":"an official","a Ohio":"an Ohio","a oil":"an oil","a old":"an old","a one of the":"one of the","a online":"an online","a only":"an only, only a","a only a":"only a","a opinion":"an opinion","a organization":"an organization","a original":"an original","a other":"an other","a outbreak":"an outbreak","a outdoor":"an outdoor","a outside":"an outside","a overtime":"an overtime","a owner":"an owner","a paparazzi":"a paparazzo [singular], paparazzi [plural]","a parentheses":"a parenthesis [singular]","a phenomena":"a phenomenon [singular], phenomena [plural]","a protozoa":"a protozoon [singular], protozoa [plural]","a pupae":"a pupa [singular]","a radii":"a radius [singular]","a run in":"a run-in","a set back":"a set-back, a setback","a set up":"a setup","a simple as":"as simple as","a spermatozoa":"a spermatozoon [singular]","a statesmen":"a statesman [singular]","a taxa":"a taxon [singular]","a toss up":"a toss-up, a tossup","a two months":"a two-month","a ultimate":"an ultimate","a undercover":"an undercover","a underground":"an underground","a unfortunate":"an unfortunate","a unusual":"an unusual","a upper":"an upper","a urban":"an urban","a vertebrae":"a vertebra [singular]","a women":"a woman [singular]","a work out":"a workout","Aboriginal decent":"Aboriginal descent","about it's":" about its [possessive]","about they're":" about their [possessive]","about who to":"about whom to","about who's":" about whose [possessive]","above it's":" above its [possessive]","AC current":"AC, alternating current","ACL ligament":"ACL, anterior cruciate ligament","across it's":" across its [possessive]","affect on":"effect on","affect upon":"effect upon","affects of":"effects of","African decent":"African descent","after along time":"after a long time","after awhile":"after a while [noun]","after been":"after being","after it's":" after its [possessive]","after quite awhile":"after quite a while","against it's":" against its [possessive]","against who":"against whom","ago since":"since","agree in principal":"agree in principle","agreement in principal":"agreement in principle","Air Canada Center":"Air Canada Centre","airplane hanger":"airplane hangar","Albanian decent":"Albanian descent","all for not":"all for naught","all it's":" all its","all though":"although","all tolled":"all told","allot of":"a lot of","alma matter":"alma mater","along it's":" along its [possessive]","along side":"alongside","along time":"a long time","alongside it's":" alongside its [possessive]","alongside with":"along with, alongside","also know as":"also known as","also know by":"also known by","also know for":"also known for","alter boy":"altar boy","alter server":"altar server","AM in the morning":"AM, in the morning","am loathe to":"am loath to [adjective]","American decent":"American descent","amid it's":" amid its [possessive]","amidst it's":" amidst its [possessive]","among it's":" among its [possessive]","among others things":"among other things","amongst it's":" amongst its [possessive]","an affect":"an effect","an alumnae of":"an alumna of [singular]","an alumni of":"an alumnus of [singular]","an another":"another","an antennae":"an antenna [singular]","an British":"a British","an Canadian":"a Canadian","an European":"a European","an head":"a head","an hero":"a hero","an new":"a new","an nine":"a nine","an number":"a number","an other":"another","an Scottish":"a Scottish","an seven":"a seven","an six":"a six","an ten":"a ten","an unit":"a unit","an Unix":"a Unix","an USB":"a USB","and etc":"etc","and so fourth":"and so forth","another criteria":"another criterion [singular]","another wise":"an otherwise","another words":"in other words, other words","any where":"anywhere",anyways:"anyway","apart form":"apart from","apart of":"a part of, apart from","are aloud to":"are allowed to","are been":"are being, have been","are build":"are built","are can":"can","are have":"have","are it's":" are its [possessive]","are know as":"are known as","are know by":"are known by","are know for":"are known for","are know to":"are known to","are lain":"are laid","are lead by":"are led by","are loathe to":"are loath to [adjective]","are ran by":"are run by","are renown":"are renowned","are set-up":"are set up","are setup":"are set up","are shutdown":"are shut down","are shutout":"are shut out","are suppose to":"are supposed to","are the dominate":"are the dominant","are use to":"are used to","are were":"are, are where, were","Armenian decent":"Armenian descent","around it's":" around its [possessive]","as a resulted":"as a result","as apposed to":"as opposed to","as back up":"as backup","as been":"as being, has been","as followed":"as follows","as it's":" as its [possessive]","as oppose to":"as opposed to","Asian decent":"Asian descent","aside it's":" aside its [possessive]","assume the reigns":"assume the reins","assume the roll":"assume the role","at it's":" at its [possessive]","at the alter":"at the altar","at the reigns":"at the reins","ATM machine":"ATM, automated teller machine","away form":"away from","back and fourth":"back and forth","back drop":"backdrop","back fire":"backfire [verb]","back in forth":"back and forth","back peddle":"backpedal","back round":"background","badly effected":"badly affected","baited breath":"bated breath","baled out":"bailed out [though Wiktionary and the COD allow both spellings]","baling out":"bailing out [ditto]","barb wire":"barbed wire","bare in mind":"bear in mind","based off":"based on","based out of":"based in","basic principal":"basic principle","be build":"be built","be cause":"because","be drew":"be drawn","be it's":" be its","be know as":"be known as","be lain":"be laid","be lead by":"be led by","be loathe to":"be loath to","be ran":"be run","be rode":"be ridden","be set-up":"be set up","be setup":"be set up","be use to":"be used to","be ware":"beware","became know":"became known","became to be":"became, came to be","because of it's":" because of its","because of the fact that":"because","been a while":"been awhile","been build":"been built","been it's":" been its","been know":"been known","been lain":"been laid","been lead by":"been led by","been loathe to":"been loath to","been ran":"been run","been rode":"been ridden","been set-up":"been set up [verb]","been setup":"been set up","been show on":"been shown on","been use to":"been used to","before hand":"beforehand","before it's":" before its","behind it's":" behind its","being build":"being built","being giving":"been giving, being given","being it's":" being its","being lain":"being laid","being lead by":"being led by","being loathe to":"being loath to","being ran":"being run","being rode":"being ridden","being set-up":"being set up","being setup":"being set up","being show on":"being shown on","being taking":"been taking, being taken","below it's":" below its","beneath it's":" beneath its","beside it's":" beside its","besides it's":" besides its","better know as":"better known as","better know for":"better known for","better that":"better than","better then":"better than","between he and":"between him and","between I and":"between me and","between it's":" between its","between she and":"between her and","between they and":"between them and","beyond it's":" beyond its","Bogota, Columbia ":"Bogot","both it's":" both its","both of it's":" both of its","both of them is":"both of them are","brake away":"break away","breath fire":"breathe fire","breathe a sign of relief":"breathe a sigh of relief","brew haha":"brouhaha","Brinsley Schwartz":"Brinsley Schwarz","by fisherman":"by fishermen","by it's":" by its","by who's":" by whose","can backup":"can back up","can been":"can be","can blackout":"can black out","can breath":"can breathe","can checkout":"can check out","can playback":"can play back","can setup":"can set up","can tryout":"can try out","can workout":"can work out","can't breath":" can't breathe","card shark":"card sharp","chalk full":"chock-full","chocked full":"chock-full","chomping at the bit":"champing at the bit","close proximity":"closeness, proximity","commonly know as":"commonly known as","commonly know for":"commonly known for","comprise of":"comprise, consist of","comprised almost entirely of":"composed almost entirely of, consisting almost entirely of","comprised chiefly of":"composed chiefly of, comprised chiefly, consisting chiefly of","comprised entirely of":"composed entirely of, consisting entirely of","comprised exclusively of":"composed exclusively of, consisting exclusively of","comprised generally of":"composed generally of, comprised generally, consisting generally of","comprised largely of":"composed largely of, consisting largely of","comprised mainly of":"composed mainly of, comprised mainly, consisting mainly of","comprised mostly of":"composed mostly of, consisting mostly of","comprised of":"composed of, comprised, consisting of","comprised only of":"composed only of, comprised only, consisting only of","comprised primarily of":"composed primarily of","comprised principally of":"composed principally of","comprised totally of":"composed totally of, comprised totally, consisting totally of","comprised wholly of":"composed wholly of, consisting wholly of","comprises entirely of":"comprises entirely, consists entirely of","comprises exclusively of":"comprises exclusively, composed exclusively of","comprises mainly of":"comprises mainly, consists mainly of","comprises mostly of":"comprises mostly, consists mostly of","comprises of":"comprises, consists of","comprises only of":"comprises only, composed only of, consists only of","comprising chiefly of":"comprising chiefly, consisting chiefly of","comprising entirely of":"comprising entirely, consisting entirely of","comprising exclusively of":"comprising exclusively, consisting exclusively of","comprising generally of":"comprising generally, consisting generally of","comprising largely of":"comprising largely, consisting largely of","comprising mainly of":"comprising mainly, consisting mainly of","comprising mostly of":"comprising mostly, consisting mostly of","comprising of":"comprising, consisting of","comprising only of":"comprising only, consisting only of","comprising primarily of":"comprising primarily, consisting primarily of","comprising principally of":"comprising principally, consisting principally of","comprising totally of":"comprising totally, consisting totally of","comprising wholly of":"comprising wholly, consisting wholly of","constellation prize":"consolation prize","constitutes of":"consists of, constitutes","construction sight":"construction site","contains of":"consists of, contains","could backup":"could back up","could breath":"could breathe","could care less":" couldn't care less","could of":"could have","couldn't breath":" couldn't breathe","daily regiment":"daily regimen","DC current":"DC, direct current","de factor":"de facto","different tact":"different tack","diffuse the situation":"defuse the situation","diffuse the tension":"defuse the tension","disc break":"disc brake","dominate player":"dominant player","dominate role":"dominant role}","door jam":"door jamb","down side":"downside","drum breaks":"drum brakes","due to the fact":"because","during in":"during","during it's":" during its","during they're":" during their","each alumni":"each alumnus [singular]","each are":"each is","each criteria":"each criterion [singular]","each has their":"each has its","each phenomena":"each phenomenon [singular]","each vertebrae":"each vertebra [singular]","easier then":"easier than","egg yoke":"egg yolk","either criteria":"either criterion","either phenomena":"either phenomenon","electrical current":"electric current","eluded to":"alluded to","en mass":"en masse","even thought":"even though","even tough":"even though","eye brow":"eyebrow","eye lash":"eyelash","eye lid":"eyelid","eye sight":"eyesight","eye sore":"eyesore","faired as well":"fared as well","faired badly":"fared badly","faired better":"fared better","faired far":"fared far","faired less":"fared less","faired little":"fared little","faired much":"fared much","faired no better":"fared no better","faired poorly":"fared poorly","faired quite":"fared quite","faired rather":"fared rather","faired slightly":"fared slightly","faired somewhat":"fared somewhat","faired well":"fared well","faired worse":"fared worse","farther then":"farther than","faster then":"faster than","figure head":"figurehead","first and foremost":"first, foremost","First Word War":"First World War","flag ship":"flagship","flow of current":"current, flow of charge","flow of electric current":"electric current, flow of electric charge","follow suite":"follow suit","for all intensive purposes":"for all intents and purposes","for along time":"for a long time","for awhile":"for a while","for it's":" for its","for quite awhile":"for quite a while","forgone conclusion":"foregone conclusion","formally know as":"formerly known as - but only if the change can be verified","formerly know as":"formerly known as","forth place":"fourth place","free reign":"free rein","freshman are":"freshman is, freshmen are","full compliment of":"full complement of","get pass":"get past","get setup":"get set up","get use to":"get used to","getting use to":"getting used to","going threw":"going through","got ran":"got run","got setup":"got set up","got shutdown":"got shut down","got shutout":"got shut out","ground work":"groundwork","guest stared":"guest-starred","had arose":"had arisen","had aroke":"had awoken","had became":"had become","had began":"had begun","had being":"had been","had bore":"had borne","had broke":"had broken","had brung":"had brought","had came":"had come","had chose":"had chosen","had comeback":"had come back","had did":"had done","had drank":"had drunk","had drew":"had drawn","had drove":"had driven","had fell":"had fallen","had flew":"had flown","had forbad":"had forbidden","had forbade":"had forbidden","had gave":"had given","had grew":"had grown","had it's":" had its","had lead to":"had led to","had overtook":"had overtaken","had plead":"had pleaded, had pled","had ran":"had run","had rang":"had rung","had rode":"had ridden","had rose":"had risen","had sang":"had sung","had saw":"had seen","had set-up":"had set up","had setup":"had set up","had shook":"had shaken","had sowed":"had sown","had spoke":"had spoken","had sprang":"had sprung","had swam":"had swum","had threw":"had thrown","had throve":"had thriven, had thrived","had thunk":"had thought","had took":"had taken","had trod":"had trodden","had undertook":"had undertaken","had underwent":"had undergone","had went":"had gone","had woke":"had woken","had wrote":"had written","hand the reigns":"hand the reins","has arose":"has arisen","has became":"has become","has began":"began, has begun","has build":"has built","has drank":"has drunk","has it's":" has its","has lead to":"has led to","has ran":"has run","has sang":"has sung","has setup":"has set up","has shook":"has shaken","has spoke":"has spoken","has sprang":"has sprung","has swam":"has swum","has threw":"has thrown","has throve":"has thriven, has thrived","has thunk":"has thought","has took":"has taken","has trod":"has trodden","has undertook":"has undertaken","has underwent":"has undergone","has was":"he was, was","has went":"has gone","has woke":"has woken","has wrote":"has written","have drank":"have drunken","have it's":" have its","have lead to":"have led to","have ran":"have run","have sang":"have sung","have setup":"have set up","have sprang":"have sprung","have swam":"have swum","have took":"have taken","have underwent":"have undergone","have went":"have gone","having being":"having been","having ran":"having run","having sang":"having sung","having setup":"having set up","having swam":"having swum","having took":"having taken","having went":"having gone","hay day":"heyday","he begun":"he began","he garnished":"he garnered","he let's":" he lets","he plead":"he pleaded, he pled","he seen":"he saw","he use to":"he used to","he's drank":" he's drunk","head gear":"headgear","head quarters":"headquarters","head stone":"headstone","head wear":"headwear","held the reigns":"held the reins","help and make":"help to make","higher then":"higher than","hit the breaks":"hit the brakes","hold onto":"hold on to","hold the reigns":"hold the reins","holding the reigns":"holding the reins","holds the reigns":"holds the reins","hone in on":"home in on","how ever":"however","imminent domain":"eminent domain","in affect":"in effect","in along time":"in a long time","in anyway":"in any way","in awhile":"in a while","in close proximity to":"close to, in proximity to","in edition to":"in addition to","in it's":" in its","in January 1":"on January 1, etc.","in masse":"en masse, in massam","in parenthesis":"in parentheses","in placed":"in place","in principal":"in principle","in quite awhile":"in quite a while","in stead of":"instead of","in tact":"intact","in the long-term":"in the long term","in the short-term":"in the short term","in titled":"entitled","in vein":"in vain","incase of":"in case of","inorder to":"in order to","into affect":"into effect","is also know":"is also known","is be ":"is, is to be","is been":"has been, is being","is comprised from":"comprises","is comprised with":"comprises","is contained of":"contains","is front of":"in front of, is in front of","is has":"has, it has","is know to be":"is known to be","is lead by":"is led by","is loathe to":"is loath to","is ran by":"is run by","is renown for":"is renowned for","is setup":"is set up","is use to":"is used to","it begun":"it began","it comprises of":"it comprises","it lead to":"it led to","it lied":"it lay","it self":"itself","it setup":"it set up","it use to":"it used to","it's 10th":" its 10th","it's 4th":" its 4th","it's 5th":" its 5th","it's advantage":" its advantage","it's aim":" its aim","it's annual":" its annual","it's best":" its best","it's class":" its class","it's color":" its color [Amer]","it's colour":" its colour [Brit]","it's contents":" its contents","it's course":" its course","it's current":" its current","it's debut":" its debut","it's doors":" its doors","it's eastern":" its eastern","it's end":" its end","it's entire":" its entire","it's final":" its final","it's first":" its first","it's former":" its former","it's fourth":" its fourth","it's goal":" its goal","it's highest":" its highest","it's history":" its history","it's home":" its home","it's inception":" its inception","it's initial":" its initial","it's junction":" its junction","it's kind":" its kind","it's lack":" its lack","it's last":" its last","it's latest":" its latest","it's lead":" its lead","it's leader":" its leader","it's length":" its length","it's lowest":" its lowest","it's maximum":" its maximum","it's minimum":" its minimum","it's money":" its money","it's name":" its name","it's north":" its north","it's northern":" its northern","it's original":" its original","it's own":" its own","it's peak":" its peak","it's period":" its period","it's previous":" its previous","it's price":" its price","it's primary":" its primary","it's prime":" its prime","it's purpose":" its purpose","it's release":" its release","it's rival":" its rival","it's second":" its second","it's south":" its south","it's southern":" its southern","it's successor":" its successor","it's tail":" its tail","it's target":" its target","it's tenth":" its tenth","it's theme":" its theme","it's third":" its third","it's timeslot":" its timeslot","it's toll":" its toll","it's total":" its total","it's type":" its type","it's way":" its way","it's western":" its western","it's worst":" its worst","its is":"it is","Jimmy Buffet":"Jimmy Buffett","Jimmy Hendrix":"Jimi Hendrix","jive with":"jibe with","key note":"keynote","lack there of":"lack thereof","laid ahead":"lay ahead","laid dormant":"lay dormant","laid empty":"lay empty","laid fallow":"lay fallow","laid in state":"lay in state","larger that":"larger than","larger then":"larger than","laughing stock":"laughingstock","law suite":"lawsuit","lay around":"lie around","lay low":"lie low","laying around":"lying around","laying awake":"lying awake","laying low":"lying low","lays atop":"lies atop","lays beside":"lies beside","lays in":"lies in","lays low":"lies low","lays near":"lies near","lays on":"lies on","lead by":"led by","lead roll":"lead role","leading roll":"leading role","less dominate":"less dominant","less that":"less than","less then":"less than","lesser then":"less than","life time":"lifetime","lighter then":"lighter than","lions share":" lion's share","loose to":"lose to","loosing effort":"losing effort","loosing record":"losing record","loosing season":"losing season","loosing streak":"losing streak","loosing team":"losing team","loosing the":"losing the","loosing to":"losing to","lot's of":"lots of, many, much","lower that":"lower than","lower then":"lower than","made it's":" made its","mainly know as":"mainly known as","mainly know for":"mainly known for","major roll":"major role","make it's":" make its","managerial reigns":"managerial reins","mash potatoes":"mashed potatoes","may been":"may be, may have been","maybe be":"may be","MCL ligament":"MCL, medial collateral ligament","mean while":"meanwhile","might of":"might have","Milwaukee, Oregon ":"Milwaukie, Oregon","minor roll":"minor role","more dominate":"more dominant","more often then":"more often than [comparative]","more optimal":"better","more that":"more than","more then":"more than [comparative]","most dominate":"most dominant","most optimal":"best, optimal","most populace":"most populous","most well-known":"best-known","mostly know as":"mostly known as","mostly know for":"mostly known for","must of":"must have","mute point":"moot point","nation wide":"nationwide","near by":"nearby","neither criteria":"neither criterion","neither phenomena":"neither phenomenon","Netherland Antilles":"Netherlands Antilles","new comer":"newcomer","next store":"next-door","no where to":"nowhere to","note worthy":"noteworthy","now a days":"nowadays","of been":"have been, of being","of it's own":" of its own","of who to":"of whom to","oil barron":"oil baron","on going":"ongoing","on it's own":" on its own","on-going":"ongoing","one in the same":"one and the same","one criteria":"one criterion","one phenomena":"one phenomenon","originally born in":"born in","originally know as":"originally known as","other then":"other than","out grow":"outgrow","out of sink":"out of sync","out side":"outside","over a 100":"over 100, over a hundred, over one hundred","over a 1000":"over 1000, over a thousand, over one thousand","over hear":"overhear","over heard":"overheard","over look":"overlook","over looked":"overlooked","over looking":"overlooking","over rated":"overrated","over seas":"overseas","over see":"oversee","over who to":"over whom to","parent's house":" parents' house","past away":"passed away, died","past down":"passed down","peak his interest":"pique his interest","per say":"per se","Phillips Arena":"Philips Arena","player's union":" players' union","playoff birth":"playoff berth","Portland Trailblazers":"Portland Trail Blazers","premier episode":"premiere episode","principle action":"principal action","principle activity":"principal activity","principle actor":"principal actor","principle advantage":"principal advantage","principle advocate":"principal advocate","principle agent":"principal agent","principle aim":"principal aim","principle area":"principal area","principle artist":"principal artist","principle assistant":"principal assistant","principle attraction":"principal attraction","principle author":"principal author","principle branch":"principal branch","principle cast":"principal cast","principle caste":"principal caste","principle cause":"principal cause","principle character":"principal character","principle church":"principal church","principle city":"principal city","principle component":"principal component","principle composer":"principal composer","principle goal":"principal goal","principle group":"principal group","principle method":"principal method","principle office":"principal office","principle officer":"principal officer","principle owner":"principal owner","principle photography":"principal photography","principle source":"principal source","principle student":"principal student","principle town":"principal town","put fourth":"put forth","rather then":"rather than","reek havoc":"wreak havoc","reign in":"rein in","reigned in":"reined in","reigns of power":"reins of power","reticence to":"reluctance to","reticent to":"reluctant to","role call":"roll call","roll player":"role player","runner up":"runner-up","saddle up to":"sidle up to","Second Word War":"Second World War","set backs":"setbacks","she begun":"she began","she let's":" she lets","she seen":"she saw","she weighted":"she waited, she weighed","short coming":"shortcoming","shorter then":"shorter than","shortly there after":"shortly thereafter","should backup":"should back up","should been":"should be, should have been","should not of":"should not have","should of":"should have","should've went":" should have gone","side affect":"side effect","side kick":"sidekick [person]","simply know as":"simply known as","since it's":" since its","since many years":"for many years","since years":"for years","single handily":"single-handedly","site lines":"sight lines","slight of hand":"sleight of hand","slue of":"slew of","smaller then":"smaller than","smarter then":"smarter than","sneak peak":"sneak peek","some how":"somehow","some one":"someone","some what":"somewhat","some where":"somewhere","sometimes know as":"sometimes known as","soon there after":"soon thereafter","sooner then":"sooner than","sophomore album":"second album","sophomore single":"second single","spilt among":"split among","spilt between":"split between","spilt into":"split into","spilt up":"split up","spinal chord":"spinal cord","spitting image":"spit and image","split in to":"split into","sq ft":"ft","sq in":"in","sq km":"km","sq mi":"mi","squared feet":"square feet","squared inches":"square inches","squared kilometers":"square kilometers","squared meters":"square meters","squared miles":"square miles","stale mate":"stalemate","staring role":"starring role","starring roll":"starring role","stay a while":"stay awhile","Stevie Ray Vaughn":"Stevie Ray Vaughan","Straight of":"Strait of [geography]","strike outs":"strikeouts","stronger then":"stronger than","suppose to":"supposed to","take affect":"take effect","take over the reigns":"take over the reins","take the reigns":"take the reins","taken the reigns":"taken the reins","taking the reigns":"taking the reins","teacher's union":" teachers' union","ten times less than":"one tenth as much as","than it's":" than its","that maybe":"that may be","the 1st of January":"1 January etc","the are":"they are","the break down":"the breakdown","the break up":"the breakup","the clamp down":"the clampdown","the follow up":"they follow-up","the had":"they had","the much of the":"much of the","the one of the":"one of the","the were":"they were","their are":"there are","their had":"there had","their has":"there has","their have":"there have","their is":"there is","their was":"there was","their were":"there were","their would":"there would","them selves":"themselves","there after":"thereafter","there by":"thereby","there maybe":"there may be","there of":"thereof","there own":"their own","there where":"there were","these maybe":"these may be","these where":"these were","they garnished":"they garnered","they maybe":"they may be","they way":"the way","they where":"they were","this criteria":"these criteria [plural], this criterion [singular]","this lead to":"this led to","this maybe":"this may be","this phenomena":"this phenomenon [singular]","those maybe":"those may be","through it's":" through its","through out":"threw out, throughout","through the ringer":"through the wringer","throughout it's":" throughout its","time outs":"timeouts","to back fire":"to backfire","to back-off":"to back off","to back-up":"to back up [verb]","to backoff":"to back off","to backout":"to back out","to backup":"to back up [verb]","to bailout":"to bail out","to bath":"to bathe","to be build":"to be built","to be setup":"to be set up","to blackout":"to black out","to blastoff":"to blast off [verb]","to blowout":"to blow out [verb]","to blowup":"to blow up [verb]","to breakdown":"to break down [verb]","to breath":"to breathe","to buildup":"to build up","to built":"to build","to buyout":"to buy out [verb]","to chose":"to choose","to comeback":"to come back [verb]","to crackdown":"to crack down [verb]","to cutback":"to cut back [verb]","to dropout":"to drop out [verb]","to forego":"to forgo","to grown":"to grow","to have lead to":"to have led to","to holdout":"to hold out [verb]","to kickoff":"to kick off [verb]","to lit":"to light","to loath":"to loathe [verb]","to lockout":"to lock out [verb]","to markup":"to mark up [verb]","to pickup":"to pick up [verb]","to playback":"to play back [verb]","to rollback":"to roll back [verb]","to runaway":"to run away [verb]","to setup":"to set up [verb]","to shut-down":"to shut down","to shutdown":"to shut down","to spin-off":"to spin off","to spinoff":"to spin off","to takeover":"to take over [verb]","to that affect":"to that effect","to they're":" to their","to together":"together","to try and":"to try to","to tryout":"to try out [verb]","to turnaround":"to turn around","to turnoff":"to turn off","to turnout":"to turn out","to turnover":"to turn over","to wakeup":"to wake up","to walkout":"to walk out","to workaround":"to work around","to workout":"to work out","too also":"also, to also, too","too be":"to be","took affect":"took effect","took and interest":"took an interest","took over the reigns":"took over the reins","took the reigns":"took the reins","tot he":"to the","tried to used":"tried to use","try and achieve":"try to achieve","try and add":"try to add","try and answer":"try to answer","try and attract":"try to attract","try and avoid":"try to avoid","try and be":"try to be","try and beat":"try to beat","try and become":"try to become","try and bring":"try to bring","try and build":"try to build","try and catch":"try to catch","try and change":"try to change","try and come":"try to come","try and decide":"try to decide","try and do":"try to do","try and eat":"try to eat","try and escape":"try to escape","try and figure":"try to figure","try and find":"try to find","try and fix":"try to fix","try and gain":"try to gain","try and get":"try to get","try and give":"try to give","try and go":"try to go","try and help":"try to help","try and hide":"try to hide","try and hit":"try to hit","try and hold":"try to hold","try and keep":"try to keep","try and locate":"try to locate","try and make":"try to make","try and move":"try to move","try and obtain":"try to obtain","try and play":"try to play","try and prevent":"try to prevent","try and protect":"try to prove","try and prove":"try to prove","try and see":"try to see","try and show":"try to show","try and slow":"try to slow","try and solve":"try to solve","try and spare":"try to spare","try and start":"try to start","try and stay":"try to stay","try and stop":"try to stop","try and support":"try to support","try and take":"try to take","try and talk":"try to talk","try and tell":"try to tell","try and understand":"try to understand","try and use":"try to use","try and win":"try to win","turn for the worst":"turn for the worse","twice as much than":"twice as much as","two in a half":"two and a half","two times less than":"half as much as","under go":"undergo","under going":"undergoing","under gone":"undergone","under it's":" under its","under rated":"underrated","under take":"undertake","under wear":"underwear","under went":"underwent","underneath it's":" underneath its","United State's":" United States'","United Stats":"United States","Unites States":"United States","unlike it's":" unlike its","until it's":" until its","up field":"upfield","up it's":" up its","up side":"upside","up until":"until","upon it's":" upon its","USD dollars":"US dollars, USD",USD$:"US dollars, US$","use to":"used to, commonly","use to be":"used to be","use to have":"used to have","usually know as":"usually known as","usually know by":"usually known by","usually know for":"usually known for","very minimal":"minimal, very little, very small","very optimal":"optimal, very good","very unique":"unique, very unusual","via it's":" via its","VIN number":"vehicle identification number, VIN","vise versa":"vice versa","vocal chords":"vocal cords, vocal folds","waived off":"waved off","warn out":"worn out","was aloud":"was allowed","was be ":"was, was being, was to be","was been":"has been, was being","was began":"was begun","was build":"was built","was comprised from":"comprised, was composed from","was comprised with":"comprised","was do to":"was due to","was drew":"was drawn","was knew":"was known","was lain":"was laid","was laying on":"was lying on","was lead by":"was led by","was loathe to":"was loath to","was meet by":"was met by","was meet with":"was met with","was ran":"was run","was release":"was released","was reran":"was rerun","was rode":"was ridden","was sang":"was sung","was setup":"was set up","was shook":"was shaken","was show on":"was shown on","was showed":"was shown","was shutdown":"was shut down","was shutout":"was shut out","was sold-out":"was sold out","was suppose to":"was supposed to","was though that":"was thought that","was took":"was taken","was tore":"was torn","was wrote":"was written","was use to":"was used to","way side":"wayside","weather or not":"whether or not","went threw":"went through","were aloud":"were allowed","were been":"have been, were being","were began":"were begun","were build":"were built","were comprised with":"comprised","were drew":"were drawn","were lain":"were laid","were lead by":"were led by","were loathe to":"were loath to","were meet by":"were met by","were meet with":"were met with","were ran":"were run","were rode":"were ridden","were sang":"were sung","were setup":"were set up","were showed":"were shown","were shutdown":"were shut down","were shutout":"were shut out","were suppose to":"were supposed to","were took":"were taken","were tore":"were torn","were use to":"were used to","were wrote":"were written","wether or not":"whether or not","when into":"went into","when on to":"went on to","where abouts":"whereabouts","where as":"whereas","where being":"were being","where by":"whereby","where made":"were made","where taken":"were taken","where upon":"whereupon","which breakdown":"which break down","which had lead":"which had led","which has lead":"which has led","which have lead":"which have led","which maybe":"which may be","which where":"which were","who had lead":"who had led","who has lead":"who has led","who have lead":"who have led","who he led":"whom he led","who he married":"whom he married","who he met":"whom he met","who he took":"whom he took","who lead":"who led","who maybe":"who may be","who setup":"who set up","who to believe":"whom to believe","who to blame":"whom to blame","who to call":"whom to call","who to invite":"whom to invite","who to send":"whom to send","who use to":"who used to","who where":"who were","who's actual":" whose actual","who's brother":" whose brother","who's father":" whose father","who's first":" whose first","who's last":" whose last","who's mother":" whose mother","who's name":" whose name","who's own":" whose own","who's previous":" whose previous","whom also":"who also","whom is":"who is","whom was":"who was","will backup":"will back up","will comprise of":"will be composed of, will comprise, will consist of","will likely":"will probably","will workout":"will work out","with he":"with him, with the","with in":"within","with it's":" with its","with out":"without","with who":"with whom","within it's":" within its","within site of":"within sight of","without it's":" without its","Word War I":"World War I","Word War II":"World War II","working progress":"work in progress","world wide":"worldwide","worse that":"worse than","worse then":"worse than","worse-case scenario":"worst-case scenario","worst comes to worst":"worse comes to worst","worst than":"worse than","worth while":"worthwhile","would been":"would be, would have been","would comeback":"would come back","would comprise of":"would comprise, would consist of","would of":"would have","would workout":"would work out","wreck havoc":"wreak havoc","younger that":"younger than","younger then":"younger than","%er then":"than","base on":"based on ('base on' may be acceptable, depending on context)","its an":"it's an"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-grammar"]],decls:37,vars:3,consts:[[1,"grammarTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ht(14,Hse,2,1,"tr",1),p(),f(15,"td"),ht(16,zse,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(k(2),Ne(r.title),k(12),Qe("ngForOf",r.table.find),k(2),Qe("ngForOf",r.table.suggestion))},directives:[Dr,un],styles:[".grammarTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function Gse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function Wse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}let YS,Kse=(()=>{class n{constructor(){this.title="Eggcorns",this.values={"all intensive purposes":"all intents and purposes","per say":"per se","another thing coming":"another think coming",ascared:"afraid","as dust fell":"as dusk fell","biting my time":"biding my time","biting your time":"biding your time","best thing since life's bread":"best thing since sliced bread",bondfire:"bonfire",callapitter:"caterpillar",chesterdraws:"chest of drawers",civilware:"silverware",consinct:"concise","curly roads":"curvy roads","daring-do":"derring-do","doggy-dog-world":"dog-eat-dog","duck tape":"duct tape","escape goat":"scape goat",expresso:"espresso",eyebulbs:"eyeballs",facetube:"youtube","flush out":"flesh out",flustrated:"frustrated",flutterby:"butterfly","free examples":"free samples","genetic brands":"generic brands","growth sprout":"growth spurt","guilt trap":"guilt trip","handy-downs":"hand-me-downs","handy downs":"hand-me-downs","happy as a clown":"happy as a clam",hearbuds:"earbuds","hell in a handbag":"hell in a handbasket","ice tea":"iced tea","illicit a response":"elicit a response","in other worlds":"in other words","junk start":"jump start","just deserves":"just deserts",labtop:"laptop",lapkin:"napkin","last stitch effort":"last ditch effort","lesser of two equals":"lesser of two evils",magnaphone:"megaphone","mist of things":"midst of things","mute point":"moot point","nerve-wrecking":"nerve-wracking","nerve wrecking":"nerve-wracking","nip it in the butt":"nip it in the bud","nip in the butt":"nip in the bud","nip this in the butt":"nip this in the bud","old timers disease":"Alzheimer's disease","old-timers disease":"Alzheimer's disease","old wise tale":"old wives tale","on the lamb":"on the lam","optical delusion":"optical illusion","out of bounce":"out of bounds",overfloating:"overflowing","pass mustard":"pass muster",platemats:"placemats","rebel rouser":"rabble rouser","real goal-getter":"real go-getter","rot iron fences":"wrought-iron fences","scandally clad":"scantily clad","self of steam":"self esteem",skyscratcher:"skyscraper","stand at a tension":"stand at attention","take it for granite":"take it for granted","took it for granite":"took it for granted","takes two to tangle":"takes two to tango","towing the line":"toeing the line",tremblor:"temblor","very close veins":"Varicose veins","vim and vinegar":"vim and vigor","wet your appetite":"whet your appetite","wet my appetite":"whet my appetite","wet the appetite":"whet the appetite",wheelbarrel:"wheelbarrow","wild variety":"wide variety","wind charms":"wind chimes","windshield factor":"windchill factor",wonderlust:"wanderlust","world wind romance":"whirlwind romance","world wind tour":"whirlwind tour","worth ethic":"work ethic"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-eggcorns"]],decls:37,vars:3,consts:[[1,"eggcornsTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ht(14,Gse,2,1,"tr",1),p(),f(15,"td"),ht(16,Wse,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(k(2),Ne(r.title),k(12),Qe("ngForOf",r.table.find),k(2),Qe("ngForOf",r.table.suggestion))},directives:[Dr,un],styles:[".eggcornsTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})(),Qse=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this.router=t,this.data=r,this.passivevoice=i,this.wordiness=s,this.transitions=o,this.grammar=a,this.academic=l,this.eggcorns=c,this.nominalizations=u,this.sentences=d}startOverClick(){this.data.changeMessage("")}startOverClickButton(){this.data.changeMessage(""),this.router.navigate([""])}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentGrade.subscribe(t=>this.grade=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalErrors.subscribe(t=>this.totalErrors=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t),this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t),this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t),this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t)}}return n.\u0275fac=function(t){return new(t||n)(v(Ln),v(Ui),v(Qi),v(Yi),v(Zi),v(Ji),v(es),v(Xi),v(ts),v(ns))},n.\u0275cmp=yt({type:n,selectors:[["app-overview"]],decls:65,vars:33,consts:[[1,"columns"],[1,"column1"],[1,"resultdescription"],[1,"tablediv"],[1,"categoryHead"],[1,"resultsHead"],[1,"odd"],["routerLink","../fixes/passive-voice-fix",1,"tablerow"],[1,"even"],["routerLink","../fixes/wordiness-fix",1,"tablerow"],["routerLink","../fixes/academic-style-fix",1,"tablerow"],["routerLink","../fixes/grammar-fix",1,"tablerow"],["routerLink","../fixes/nominalizations-fix",1,"tablerow"],["routerLink","../fixes/sentences-fix",1,"tablerow"],["routerLink","../fixes/eggcorns-fix",1,"tablerow"],[1,"lastRowName"],["routerLink","../fixes/transitions-fix",1,"tablerow"],[1,"lastRow"],[1,"startoverbutton",3,"click"]],template:function(t,r){1&t&&(f(0,"body"),f(1,"div",0),f(2,"div",1),f(3,"h1",2),f(4,"b"),y(5),p(),p(),f(6,"div",3),f(7,"table"),f(8,"thead"),f(9,"tr"),f(10,"th",4),y(11,"CATEGORY"),p(),f(12,"th",5),y(13,"RESULTS"),p(),p(),p(),f(14,"tbody"),f(15,"tr",6),f(16,"td"),f(17,"a",7),y(18,"Passive Voice"),p(),p(),f(19,"td"),y(20),p(),p(),f(21,"tr",8),f(22,"td"),f(23,"a",9),y(24,"Wordiness"),p(),p(),f(25,"td"),y(26),p(),p(),f(27,"tr",6),f(28,"td"),f(29,"a",10),y(30,"Academic Style"),p(),p(),f(31,"td"),y(32),p(),p(),f(33,"tr",8),f(34,"td"),f(35,"a",11),y(36,"Grammar"),p(),p(),f(37,"td"),y(38),p(),p(),f(39,"tr",6),f(40,"td"),f(41,"a",12),y(42,"Nominalizations"),p(),p(),f(43,"td"),y(44),p(),p(),f(45,"tr",8),f(46,"td"),f(47,"a",13),y(48,"Sentences"),p(),p(),f(49,"td"),y(50),p(),p(),f(51,"tr",6),f(52,"td"),f(53,"a",14),y(54,"Eggcorns"),p(),p(),f(55,"td"),y(56),p(),p(),f(57,"tr",8),f(58,"td",15),f(59,"a",16),y(60,"Transitions"),p(),p(),f(61,"td",17),y(62),p(),p(),p(),p(),p(),f(63,"button",18),Ge("click",function(){return r.startOverClickButton()}),y(64,"CLEAR"),p(),p(),p(),p()),2&t&&(k(5),Ne(r.totalErrors),k(10),on("background-color",r.passiveVoiceAlertColor),k(5),an("",r.passiveVoiceNumber,"(",r.passiveVoiceScore,"%)"),k(1),on("background-color",r.wordinessAlertColor),k(5),an("",r.wordinessNumber,"(",r.wordinessScore,"%)"),k(1),on("background-color",r.academicStyleAlertColor),k(5),an("",r.totalNonAcademic,"(",r.academicStyleScore,"%)"),k(1),on("background-color",r.grammarAlertColor),k(5),an("",r.totalGrammar,"(",r.grammarScore,"%)"),k(1),on("background-color",r.nominalizationsAlertColor),k(5),an("",r.nominalizationsNumber,"(",r.nominalizationsScore,"%)"),k(1),on("background-color",r.sentencesAlertColor),k(5),an("",r.sentencesNumber,"(",r.sentencesScore,"%)"),k(1),on("background-color",r.eggcornsAlertColor),k(5),an("",r.totalEggcorns,"(",r.eggcornsScore,"%)"),k(1),on("background-color",r.transitionsAlertColor),k(5),an("",r.totalTransitions,"(",r.transitionsScore,"%)"))},directives:[un],styles:["body[_ngcontent-%COMP%]{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.resultdescription[_ngcontent-%COMP%]{font-family:Futura,Trebuchet MS,Arial,sans-serif;font-size:25px;padding:10px 0 10px 9%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1.5px solid #C6DBD0;padding:20px}.odd[_ngcontent-%COMP%]{background-color:#87cefa}.even[_ngcontent-%COMP%]{background-color:#00ced1}.categoryHead[_ngcontent-%COMP%]{font-size:25px;background-color:#fbfbfb;border-top-left-radius:23px;font-weight:100}.resultsHead[_ngcontent-%COMP%]{font-size:25px;background-color:#fbfbfb;border-top-right-radius:23px;font-weight:100}.lastRow[_ngcontent-%COMP%]{border-bottom-right-radius:23px}.lastRowName[_ngcontent-%COMP%]{border-bottom-left-radius:23px}.tablerow[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:23px}.tablecss[_ngcontent-%COMP%]{background-color:#fff}.startoverbutton[_ngcontent-%COMP%]{margin-top:20px;background-color:#2f6e4d;color:#fff;width:250px;height:60px;border-radius:23px;font-size:25px;margin-left:14%;display:table-cell;vertical-align:middle;border:none;font-family:Futura,Trebuchet MS,Arial,sans-serif}.startoverbutton[_ngcontent-%COMP%]:hover{background-color:#adadad;color:#2f6e4d;cursor:pointer}.tablediv[_ngcontent-%COMP%]{padding-left:6%}.columns[_ngcontent-%COMP%]{padding:20px 30px}.column1[_ngcontent-%COMP%]{float:left;width:50%;padding-bottom:40px}"]}),n})();try{YS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){YS=!1}let Ls=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===UM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(T(md))},n.\u0275prov=X({factory:function(){return new n(T(md))},token:n,providedIn:"root"}),n})();class toe extends L{constructor(e,t){super()}schedule(e,t=0){return this}}let vB=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class Po extends vB{constructor(e,t=vB.now){super(e,()=>Po.delegate&&Po.delegate!==this?Po.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return Po.delegate&&Po.delegate!==this?Po.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new Po(class extends toe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}),"undefined"!=typeof Element&&Element;const MB="cdk-high-contrast-black-on-white",NB="cdk-high-contrast-white-on-black",eD="cdk-high-contrast-active";let FB=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(eD),t.remove(MB),t.remove(NB);const r=this.getHighContrastMode();1===r?(t.add(eD),t.add(MB)):2===r&&(t.add(eD),t.add(NB))}}}return n.\u0275fac=function(t){return new(t||n)(T(Ls),T(Ze))},n.\u0275prov=X({factory:function(){return new n(T(Ls),T(Ze))},token:n,providedIn:"root"}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({}),n})();const PB=new Xs("10.2.3");class LB{}const Vs="*";function VB(n,e=null){return{type:2,steps:n,options:e}}function BB(n){return{type:6,styles:n,offset:null}}function UB(n){Promise.resolve(null).then(n)}class uu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){UB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?UB(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function $B(){return"undefined"!=typeof window&&void 0!==window.document}function nD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lo(n){switch(n.length){case 0:return new uu;case 1:return n[0];default:return new jB(n)}}function HB(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,g=h&&c||{};Object.keys(u).forEach(m=>{let _=m,b=u[m];if("offset"!==m)switch(_=e.normalizePropertyName(_,o),b){case"!":b=i[m];break;case Vs:b=s[m];break;default:b=e.normalizeStyleValue(m,_,b,o)}g[_]=b}),h||a.push(g),c=g,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function rD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&iD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&iD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&iD(t,"destroy",n)))}}function iD(n,e,t){const r=t.totalTime,s=sD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function sD(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Fr(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function zB(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let oD=(n,e)=>!1,aD=(n,e)=>!1,qB=(n,e,t)=>[];const GB=nD();(GB||"undefined"!=typeof Element)&&(oD=$B()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),aD=(()=>{if(GB||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):aD}})(),qB=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let al=null,WB=!1;function lD(n){al||(al=("undefined"!=typeof document?document.body:null)||{},WB=!!al.style&&"WebkitAppearance"in al.style);let e=!0;return al.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in al.style,!e&&WB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in al.style)),e}const cD=aD,uD=oD,dD=qB;function KB(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let QB=(()=>{class n{validateStyleProperty(t){return lD(t)}matchesElement(t,r){return cD(t,r)}containsElement(t,r){return uD(t,r)}query(t,r,i){return dD(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new uu(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),hD=(()=>{class n{}return n.NOOP=new QB,n})();const fD="ng-enter",Ay="ng-leave",xy="ng-trigger",Iy=".ng-trigger",ZB="ng-animating",pD=".ng-animating";function ll(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gD(parseFloat(e[1]),e[2])}function gD(n,e){switch(e){case"s":return 1e3*n;default:return n}}function ky(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=gD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=gD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function du(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Vo(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else du(n,t);return t}function XB(n,e,t){return t?e+":"+t+";":""}function eU(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=XB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=XB(0,Boe(t),n.style[t]));n.setAttribute("style",e)}function is(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=yD(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),nD()&&eU(n))}function cl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=yD(t);n.style[r]=""}),nD()&&eU(n))}function lf(n){return Array.isArray(n)?1==n.length?n[0]:VB(n):n}const mD=new RegExp("{{\\s*(.+?)\\s*}}","g");function tU(n){let e=[];if("string"==typeof n){let t;for(;t=mD.exec(n);)e.push(t[1]);mD.lastIndex=0}return e}function My(n,e,t){const r=n.toString(),i=r.replace(mD,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function Ny(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Voe=/-+([a-z0-9])/g;function yD(n){return n.replace(Voe,(...e)=>e[1].toUpperCase())}function Boe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function nU(n,e){return 0===n||0===e}function rU(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=bD(n,l)})}}return e}function Or(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function bD(n,e){return window.getComputedStyle(n)[e]}function Uoe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(iU(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(iU(o,i))}(r,t,e)):t.push(n),t}const Oy=new Set(["true","1"]),Ry=new Set(["false","0"]);function iU(n,e){const t=Oy.has(n)||Ry.has(n),r=Oy.has(e)||Ry.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Oy.has(n):Ry.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Oy.has(e):Ry.has(e)),o&&a}}const Hoe=new RegExp("s*:selfs*,?","g");function _D(n,e,t){return new zoe(n).build(e,t)}class zoe{constructor(e){this._driver=e}build(e,t){const r=new Woe(t);return this._resetContextStyleTimingState(r),Or(this,lf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(Py(a)){const l=a;Object.keys(l).forEach(c=>{tU(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=Ny(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Or(this,lf(e.animation),t);return{type:1,matchers:Uoe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ul(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Or(this,r,t)),options:ul(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Or(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:ul(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return vD(ky(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vD(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||ky(r,e),vD(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:BB({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=BB(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Vs?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Py(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=tU(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(E=>{const w=this._makeStyleAst(E,t);let x=null!=w.offset?w.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Py(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Py(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(w.styles),R=0;return null!=x&&(s++,R=w.offset=x),l=l||R<0||R>1,a=a||R<c,c=R,o.push(R),w});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const g=d-1,m=t.currentTime,_=t.currentAnimateTimings,b=_.duration;return u.forEach((E,w)=>{const x=h>0?w==g?1:h*w:o[w],R=x*b;t.currentTime=m+_.delay+R,_.duration=R,this._validateStyleAst(E,t),E.offset=x,r.styles.push(E)}),r}visitReference(e,t){return{type:8,animation:Or(this,lf(e.animation),t),options:ul(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ul(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ul(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Hoe,"")),[n=n.replace(/@\*/g,Iy).replace(/@\w+/g,t=>Iy+"-"+t.substr(1)).replace(/:animating/g,pD),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Fr(t.collectedStyles,t.currentQuerySelector,{});const a=Or(this,lf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:ul(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ky(e.timings,t.errors,!0);return{type:12,animation:Or(this,lf(e.animation),t),timings:r,options:null}}}class Woe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Py(n){return!Array.isArray(n)&&"object"==typeof n}function ul(n){return n?(n=du(n)).params&&(n.params=function(n){return n?du(n):null}(n.params)):n={},n}function vD(n,e,t){return{duration:n,delay:e,easing:t}}function wD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ly{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Joe=new RegExp(":enter","g"),eae=new RegExp(":leave","g");function ED(n,e,t,r,i,s={},o={},a,l,c=[]){return(new tae).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class tae{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Ly;const d=new CD(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Or(this,r,d);const h=d.timelines.filter(g=>g.containsAnimation());if(h.length&&Object.keys(a).length){const g=h[h.length-1];g.allowOnlyTimelineStyles()||g.setStyles([a],null,d.errors,l)}return h.length?h.map(g=>g.buildKeyframes()):[wD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ll(r.duration):null,a=null!=r.delay?ll(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Or(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vy);const o=ll(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Or(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ll(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Or(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ky(t.params?My(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ll(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vy);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Or(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Or(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Vy={};class CD{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new By(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ll(r.duration)),null!=r.delay&&(i.delay=ll(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=My(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new CD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Vy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new nae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Joe,"."+this._enterClassName)).replace(eae,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class By{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new By(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Vs,this._currentKeyframe[t]=Vs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Vs})):Vo(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=My(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Vs),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Vo(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Vs&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?Ny(e.values()):[],o=t.size?Ny(t.values()):[];if(r){const a=i[0],l=du(a);a.offset=0,l.offset=1,i=[a,l]}return wD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class nae extends By{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Vo(e[0],!1);l.offset=0,s.push(l);const c=Vo(e[0],!1);c.offset=aU(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Vo(e[d],!1);h.offset=aU((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return wD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function aU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class SD{}class iae extends SD{normalizePropertyName(e,t){return yD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(sae[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const sae=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lU(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const DD={};class cU{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||DD,m=this.buildStyles(r,a&&a.params||DD,d),_=l&&l.params||DD,b=this.buildStyles(i,_,d),E=new Set,w=new Map,x=new Map,R="void"===i,H={params:Object.assign(Object.assign({},h),_)},ee=u?[]:ED(e,t,this.ast.animation,s,o,m,b,H,c,d);let ve=0;if(ee.forEach(Hn=>{ve=Math.max(Hn.duration+Hn.delay,ve)}),d.length)return lU(t,this._triggerName,r,i,R,m,b,[],[],w,x,ve,d);ee.forEach(Hn=>{const zn=Hn.element,js=Fr(w,zn,{});Hn.preStyleProps.forEach(Ei=>js[Ei]=!0);const $s=Fr(x,zn,{});Hn.postStyleProps.forEach(Ei=>$s[Ei]=!0),zn!==t&&E.add(zn)});const Ht=Ny(E.values());return lU(t,this._triggerName,r,i,R,m,b,ee,Ht,w,x,ve)}}class lae{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=du(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=My(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class uae{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new lae(i.style,i.options&&i.options.params||{},r)}),uU(this.states,"true","1"),uU(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new cU(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new cU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function uU(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const hae=new Ly;class fae{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=_D(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=HB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=ED(this._driver,t,s,fD,Ay,{},{},r,hae,i),o.forEach(u=>{const d=Fr(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Vs)})});const c=Lo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=sD(t,"","","");return rD(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const dU="ng-animate-queued",hU="ng-animate-disabled",fU=".ng-animate-disabled",yae=[],pU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class TD{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const s=du(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const cf="void",AD=new TD(cf);class _ae{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ei(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=Fr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Fr(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(ei(e,xy),ei(e,xy+"-"+t),a[t]=AD),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new xD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ei(e,xy),ei(e,xy+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new TD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=AD),c.value!==cf&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],b=s.matchStyles(l.value,l.params,_),E=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{cl(e,b),is(e,E)})}return}const h=Fr(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let g=s.matchTransition(l.value,c.value,e,c.params),m=!1;if(!g){if(!i)return;g=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:m}),m||(ei(e,dU),o.onStart(()=>{hu(e,dU)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const b=this._engine.playersByElement.get(e);if(b){let E=b.indexOf(o);E>=0&&b.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Iy,!0);r.forEach(i=>{if(i[Xr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,cf,i);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Lo(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||AD,u=new TD(cf),d=new xD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Xr];(!s||s===pU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ei(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=sD(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,rD(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class vae{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new _ae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Uy(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Uy(t))return;const s=t[Xr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ei(e,hU)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hu(e,hU))}removeNode(e,t,r,i){if(Uy(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Xr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return Uy(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Iy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,pD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xr];if(t&&t.setForRemoval){if(e[Xr]=pU,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,fU)&&this.markElementAsDisabled(e,!1),this.driver.query(e,fU,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ei(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Lo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Ly,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Q=>{u.add(Q);const ce=this.driver.query(Q,".ng-animate-queued",!0);for(let De=0;De<ce.length;De++)u.add(ce[De])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=yU(h,this.collectedEnterElements),m=new Map;let _=0;g.forEach((Q,ce)=>{const De=fD+_++;m.set(ce,De),Q.forEach(We=>ei(We,De))});const b=[],E=new Set,w=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){const ce=this.collectedLeaveElements[Q],De=ce[Xr];De&&De.setForRemoval&&(b.push(ce),E.add(ce),De.hasAnimation?this.driver.query(ce,".ng-star-inserted",!0).forEach(We=>E.add(We)):w.add(ce))}const x=new Map,R=yU(h,Array.from(E));R.forEach((Q,ce)=>{const De=Ay+_++;x.set(ce,De),Q.forEach(We=>ei(We,De))}),e.push(()=>{g.forEach((Q,ce)=>{const De=m.get(ce);Q.forEach(We=>hu(We,De))}),R.forEach((Q,ce)=>{const De=x.get(ce);Q.forEach(We=>hu(We,De))}),b.forEach(Q=>{this.processLeaveNode(Q)})});const H=[],ee=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(De=>{const We=De.player,bn=De.element;if(H.push(We),this.collectedEnterElements.length){const os=bn[Xr];if(os&&os.setForMove)return void We.destroy()}const ss=!d||!this.driver.containsElement(d,bn),Rr=x.get(bn),Bo=m.get(bn),Pt=this._buildInstruction(De,r,Bo,Rr,ss);if(Pt.errors&&Pt.errors.length)ee.push(Pt);else{if(ss)return We.onStart(()=>cl(bn,Pt.fromStyles)),We.onDestroy(()=>is(bn,Pt.toStyles)),void i.push(We);if(De.isFallbackTransition)return We.onStart(()=>cl(bn,Pt.fromStyles)),We.onDestroy(()=>is(bn,Pt.toStyles)),void i.push(We);Pt.timelines.forEach(os=>os.stretchStartingKeyframe=!0),r.append(bn,Pt.timelines),o.push({instruction:Pt,player:We,element:bn}),Pt.queriedElements.forEach(os=>Fr(a,os,[]).push(We)),Pt.preStyleProps.forEach((os,df)=>{const Wy=Object.keys(os);if(Wy.length){let hl=l.get(df);hl||l.set(df,hl=new Set),Wy.forEach(FD=>hl.add(FD))}}),Pt.postStyleProps.forEach((os,df)=>{const Wy=Object.keys(os);let hl=c.get(df);hl||c.set(df,hl=new Set),Wy.forEach(FD=>hl.add(FD))})}});if(ee.length){const Q=[];ee.forEach(ce=>{Q.push(`@${ce.triggerName} has failed due to:\n`),ce.errors.forEach(De=>Q.push(`- ${De}\n`))}),H.forEach(ce=>ce.destroy()),this.reportError(Q)}const ve=new Map,Ht=new Map;o.forEach(Q=>{const ce=Q.element;r.has(ce)&&(Ht.set(ce,ce),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,ve))}),i.forEach(Q=>{const ce=Q.element;this._getPreviousPlayers(ce,!1,Q.namespaceId,Q.triggerName,null).forEach(We=>{Fr(ve,ce,[]).push(We),We.destroy()})});const Hn=b.filter(Q=>_U(Q,l,c)),zn=new Map;mU(zn,this.driver,w,c,Vs).forEach(Q=>{_U(Q,l,c)&&Hn.push(Q)});const $s=new Map;g.forEach((Q,ce)=>{mU($s,this.driver,new Set(Q),l,"!")}),Hn.forEach(Q=>{const ce=zn.get(Q),De=$s.get(Q);zn.set(Q,Object.assign(Object.assign({},ce),De))});const Ei=[],pu=[],gu={};o.forEach(Q=>{const{element:ce,player:De,instruction:We}=Q;if(r.has(ce)){if(u.has(ce))return De.onDestroy(()=>is(ce,We.toStyles)),De.disabled=!0,De.overrideTotalTime(We.totalTime),void i.push(De);let bn=gu;if(Ht.size>1){let Rr=ce;const Bo=[];for(;Rr=Rr.parentNode;){const Pt=Ht.get(Rr);if(Pt){bn=Pt;break}Bo.push(Rr)}Bo.forEach(Pt=>Ht.set(Pt,bn))}const ss=this._buildAnimation(De.namespaceId,We,ve,s,$s,zn);if(De.setRealPlayer(ss),bn===gu)Ei.push(De);else{const Rr=this.playersByElement.get(bn);Rr&&Rr.length&&(De.parentPlayer=Lo(Rr)),i.push(De)}}else cl(ce,We.fromStyles),De.onDestroy(()=>is(ce,We.toStyles)),pu.push(De),u.has(ce)&&i.push(De)}),pu.forEach(Q=>{const ce=s.get(Q.element);if(ce&&ce.length){const De=Lo(ce);Q.setRealPlayer(De)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<b.length;Q++){const ce=b[Q],De=ce[Xr];if(hu(ce,Ay),De&&De.hasAnimation)continue;let We=[];if(a.size){let ss=a.get(ce);ss&&ss.length&&We.push(...ss);let Rr=this.driver.query(ce,pD,!0);for(let Bo=0;Bo<Rr.length;Bo++){let Pt=a.get(Rr[Bo]);Pt&&Pt.length&&We.push(...Pt)}}const bn=We.filter(ss=>!ss.destroyed);bn.length?Sae(this,ce,bn):this.processLeaveNode(ce)}return b.length=0,Ei.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();const ce=this.players.indexOf(Q);this.players.splice(ce,1)}),Q.play()}),Ei}elementContainsData(e,t){let r=!1;const i=t[Xr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==cf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Fr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(g=>{const m=g.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),g.destroy(),d.push(g)})}cl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(m=>{const _=m.element;u.add(_);const b=_[Xr];if(b&&b.removedBeforeQueried)return new uu(m.duration,m.delay);const E=_!==l,w=function(n){const e=[];return bU(n,e),e}((r.get(_)||yae).map(ve=>ve.getRealPlayer())).filter(ve=>!!ve.element&&ve.element===_),x=s.get(_),R=o.get(_),H=HB(0,this._normalizer,0,m.keyframes,x,R),ee=this._buildPlayer(m,H,w);if(m.subTimeline&&i&&d.add(_),E){const ve=new xD(e,a,_);ve.setRealPlayer(ee),c.push(ve)}return ee});c.forEach(m=>{Fr(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>ei(m,ZB));const g=Lo(h);return g.onDestroy(()=>{u.forEach(m=>hu(m,ZB)),is(l,t.toStyles)}),d.forEach(m=>{Fr(i,m,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new uu(e.duration,e.delay)}}class xD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new uu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>rD(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Uy(n){return n&&1===n.nodeType}function gU(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function mU(n,e,t,r,i){const s=[];t.forEach(l=>s.push(gU(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[Xr]=bae,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>gU(l,s[a++])),o}function yU(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const jy="$$classes";function ei(n,e){if(n.classList)n.classList.add(e);else{let t=n[jy];t||(t=n[jy]={}),t[e]=!0}}function hu(n,e){if(n.classList)n.classList.remove(e);else{let t=n[jy];t&&delete t[e]}}function Sae(n,e,t){Lo(t).onDone(()=>n.processLeaveNode(e))}function bU(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof jB?bU(r.players,e):e.push(r)}}function _U(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class $y{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new vae(e,t,r),this._timelineEngine=new fae(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=_D(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new uae(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=zB(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=zB(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function vU(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ID(e[0]),e.length>1&&(r=ID(e[e.length-1]))):e&&(t=ID(e)),t||r?new Aae(n,t,r):null}let Aae=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&is(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(is(this._element,this._initialStyles),this._endStyles&&(is(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cl(this._element,this._endStyles),this._endStyles=null),is(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ID(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];xae(i)&&(e=e||{},e[i]=n[i])}return e}function xae(n){return"display"===n||"position"===n}const wU="animation",EU="animationend";class Mae{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=MD(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Hy(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),DU(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){CU(this._element,this._name,"paused")}resume(){CU(this._element,this._name,"running")}setPosition(e){const t=SU(this._element,this._name);this._position=e*this._duration,Hy(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),DU(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=MD(n,"").split(","),i=kD(r,e);i>=0&&(r.splice(i,1),Hy(n,"",r.join(",")))}(this._element,this._name))}}function CU(n,e,t){Hy(n,"PlayState",t,SU(n,e))}function SU(n,e){const t=MD(n,"");return t.indexOf(",")>0?kD(t.split(","),e):kD([t],e)}function kD(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function DU(n,e,t){t?n.removeEventListener(EU,e):n.addEventListener(EU,e)}function Hy(n,e,t,r){const i=wU+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function MD(n,e){return n.style[wU+e]||""}class TU{constructor(e,t,r,i,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Mae(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:bD(this.element,r))})}this.currentSnapshot=e}}class Lae extends uu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=KB(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class xU{constructor(){this._count=0}validateStyleProperty(e){return lD(e)}matchesElement(e,t){return cD(e,t)}containsElement(e,t){return uD(e,t)}query(e,t,r){return dD(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>KB(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const l=parseFloat(a.offset);i+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(i+=`${s}animation-timing-function: ${u};\n`));default:return void(i+=`${s}${c}: ${u};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const l=o.filter(b=>b instanceof TU),c={};nU(r,i)&&l.forEach(b=>{let E=b.currentSnapshot;Object.keys(E).forEach(w=>c[w]=E[w])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=rU(e,t,c));if(0==r)return new Lae(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const m=vU(e,t),_=new TU(e,t,d,r,i,s,u,m);return _.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),_}}class kU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:bD(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $ae{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(MU().toString()),this._cssKeyframesDriver=new xU}validateStyleProperty(e){return lD(e)}matchesElement(e,t){return cD(e,t)}containsElement(e,t){return uD(e,t)}query(e,t,r){return dD(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(m=>m instanceof kU);nU(r,i)&&h.forEach(m=>{let _=m.currentSnapshot;Object.keys(_).forEach(b=>d[b]=_[b])});const g=vU(e,t=rU(e,t=t.map(m=>Vo(m,!1)),d));return new kU(e,t,u,g)}}function MU(){return $B()&&Element.prototype.animate||{}}let zae=(()=>{class n extends LB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:zt.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?VB(t):t;return NU(this._renderer,null,r,"register",[i]),new qae(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(T(ta),T(Ze))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class qae extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Gae(this._id,e,t||{},this._renderer)}}class Gae{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return NU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function NU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const FU="@.disabled";let Wae=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new OU("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Kae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(T(ta),T($y),T(Ye))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class OU{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==FU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Kae extends OU{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Zae=(()=>{class n extends $y{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(T(Ze),T(hD),T(SD))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const qy=new fe("AnimationModuleType"),RU=[{provide:LB,useClass:zae},{provide:SD,useFactory:function(){return new iae}},{provide:$y,useClass:Zae},{provide:ta,useFactory:function(n,e,t){return new Wae(n,e,t)},deps:[sg,$y,Ye]}],PU=[{provide:hD,useFactory:function(){return"function"==typeof MU()?new $ae:new xU}},{provide:qy,useValue:"BrowserAnimations"},...RU],LU=[{provide:hD,useClass:QB},{provide:qy,useValue:"NoopAnimations"},...RU];let tle=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?LU:PU}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({providers:PU,imports:[uw]}),n})();const VU=new Xs("10.2.3"),ule=new fe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let dl,fu=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),r=(null==t?void 0:t.defaultView)||window;return"object"==typeof r&&r?r:null}_checksAreEnabled(){return Sv()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),r=this._getDocument();t&&r&&!r.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,r=this._getDocument();if(t||!r||!r.body||"function"!=typeof getComputedStyle)return;const i=r.createElement("div");i.classList.add("mat-theme-loaded-marker"),r.body.appendChild(i);const s=getComputedStyle(i);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),r.body.removeChild(i)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&VU.full!==PB.full&&console.warn("The Angular Material version ("+VU.full+") does not match the Angular CDK version ("+PB.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(T(FB),T(ule,8),T(Ze,8))},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({imports:[[RB],RB]}),n})();function hle(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}try{dl="undefined"!=typeof Intl}catch(n){dl=!1}const jle=["*",[["mat-toolbar-row"]]],$le=["*","mat-toolbar-row"];class Hle{constructor(e){this._elementRef=e}}const zle=hle(Hle);let Bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=te({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Us=(()=>{class n extends zle{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(v(lt),v(Ls),v(Ze))},n.\u0275cmp=yt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Ap(i,Bs,5),2&t){let s;Tp(s=function(n,e){return n[19].queries[e].queryList}(N(),fT()))&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&gs("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[nt],ngContentSelectors:$le,decls:2,vars:0,template:function(t,r){1&t&&(function(n){const e=N()[16][6];if(!e.projection){const r=e.projection=Qs(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?gq(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(jle),Jl(0),Jl(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),qle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({imports:[[fu],fu]}),n})();function Gle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function Wle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function Qle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}function Yle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}function Jle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}function Xle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}function tce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function nce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function ice(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function sce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function ace(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}function lce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}function uce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function dce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Ne(t)}}function fce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}function pce(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;k(1),Gt(" ",t," ")}}const gce=[{path:"",pathMatch:"full",component:Fse},{path:"about",component:Ose},{path:"download",component:Rse},{path:"resources",component:Pse},{path:"resources/wordiness",component:Bse},{path:"resources/transitions",component:$se},{path:"resources/grammar",component:qse},{path:"resources/eggcorns",component:Kse},{path:"home/overview",component:Qse},{path:"home/fixes/passive-voice-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Passive-Voice-Fix"}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.passiveVoiceUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,"");console.log(t);let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.passiveVoiceFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.passiveVoiceService()}passiveVoiceFix(t){for(const r in this.passiveVoiceTable)for(const i in this.passiveVoiceHelperTable){const s=i+r;t.includes(s)&&(this.passivevoice.changePassiveVoiceNumber(this.passiveVoiceNumber+1),this.passiveVoiceUserTable.find.push("\u2022 "+s+" \u27f6 "+this.passiveVoiceTable[r]),this.passivevoice.changePassiveVoiceUserTable(this.passiveVoiceUserTable),this.highlight(r,this.passiveVoiceTable[r]))}this.passiveVoiceScore=this.passiveVoiceNumber/this.totalSentences*100,(isNaN(this.passiveVoiceScore)||this.passiveVoiceScore===1/0)&&(this.passiveVoiceScore=0);try{if(this.passiveVoiceScore>10?(this.passiveVoiceFeedback="Generally, writing is clearer in active voice.",this.passiveVoiceAlertColor="red"):(this.passiveVoiceFeedback="Your writing passed the criterion for passive sentences. Congrats!",this.passiveVoiceAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.passiveVoiceFeedback="Make sure you enter at least one sentence.",this.passiveVoiceAlertColor="orange",this.passiveVoiceScore=0}this.passivevoice.changePassiveVoiceFeedback(this.passiveVoiceFeedback),this.passivevoice.changePassiveVoiceScore(Math.round(10*this.passiveVoiceScore)/10),this.passivevoice.changePassiveVoiceAlertColor(this.passiveVoiceAlertColor)}passiveVoiceService(){this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceTable.subscribe(t=>this.passiveVoiceTable=t),this.passivevoice.currentPassiveVoiceHelperTable.subscribe(t=>this.passiveVoiceHelperTable=t),this.passivevoice.currentPassiveVoiceUserTable.subscribe(t=>this.passiveVoiceUserTable=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.passivevoice.currentPassiveVoiceFeedback.subscribe(t=>this.passiveVoiceFeedback=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t)}highlight(t,r){var i=document.getElementById("userinput");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(es),v(Xi),v(Ji),v(ts),v(Qi),v(Yi),v(ns),v(Zi))},n.\u0275cmp=yt({type:n,selectors:[["app-passive-voice-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],[3,"mouseenter"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"div",2),Ge("mouseenter",function(){return r.reHighlight()}),f(4,"a",3),y(5,"Passive Voice"),p(),p(),f(6,"a",4),y(7,"Wordiness"),p(),f(8,"a",5),y(9,"Academic Style"),p(),f(10,"a",6),y(11,"Grammar"),p(),f(12,"a",7),y(13,"Nominalizations"),p(),f(14,"a",8),y(15,"Sentences"),p(),f(16,"a",9),y(17,"Eggcorns"),p(),f(18,"a",10),y(19,"Transitions"),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27,"Goal: 10% or less "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Passive Voice"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,Gle,2,1,"tr",21),p(),f(46,"td"),ht(47,Wle,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.passiveVoiceAlertColor),k(2),an("",r.passiveVoiceNumber," instances (",r.passiveVoiceScore,"% of sentences)"),k(8),Ne(r.passiveVoiceFeedback),k(4),Ne(r.message),k(5),Gt("Passive Voice Found - ",r.passiveVoiceNumber," error(s)"),k(3),Qe("ngForOf",r.passiveVoiceUserTable.find),k(2),Qe("ngForOf",r.passiveVoiceUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()},{path:"home/fixes/wordiness-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.wordiness=r,this.passivevoice=i,this.academic=s,this.eggcorns=o,this.grammar=a,this.nominalizations=l,this.sentences=c,this.transitions=u,this.title="Wordiness-Fix",this.wordinessFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.wordiness.changeWordinessNumber(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.wordinessUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.wordinessFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.wordinessService()}wordinessFix(t){for(const r in this.wordinessTable.__zone_symbol__value)t.includes(r)&&(this.wordiness.changeWordinessNumber(this.wordinessNumber+1),this.wordinessUserTable.find.push("\u2022 "+r+" \u27f6 "+this.wordinessTable.__zone_symbol__value[r]),this.wordiness.changeWordinessUserTable(this.wordinessUserTable),this.highlight(r,this.wordinessTable[r]));this.wordinessScore=this.wordinessNumber/this.totalSentences*100,(isNaN(this.wordinessScore)||this.wordinessScore===1/0)&&(this.wordinessScore=0);try{if(this.wordinessScore>2?(this.wordinessFeedback="Your writing seems too wordy. Why use 3 words when you can say it with 1?",this.wordinessAlertColor="red"):(this.wordinessFeedback="Woohoo! Your writing seems concise, precise, and snappy. George Orwell would be proud.",this.wordinessAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.wordinessFeedback="Make sure you enter at least one sentence.",this.wordinessAlertColor="orange",this.wordinessScore=0}this.wordiness.changeWordinessFeedback(this.wordinessFeedback),this.wordiness.changeWordinessScore(Math.round(10*this.wordinessScore)/10),this.wordiness.changeWordinessAlertColor(this.wordinessAlertColor)}wordinessService(){this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessTable.subscribe(t=>this.wordinessTable=t),this.wordiness.currentWordinessUserTable.subscribe(t=>this.wordinessUserTable=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.wordiness.currentWordinessFeedback.subscribe(t=>this.wordinessFeedback=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t)}highlight(t,r){var i=document.getElementById("userinput");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(Yi),v(Qi),v(es),v(Xi),v(Ji),v(ts),v(ns),v(Zi))},n.\u0275cmp=yt({type:n,selectors:[["app-wordiness-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],[3,"mouseenter"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"div",3),Ge("mouseenter",function(){return r.reHighlight()}),f(6,"a",4),y(7,"Wordiness"),p(),p(),f(8,"a",5),y(9,"Academic Style"),p(),f(10,"a",6),y(11,"Grammar"),p(),f(12,"a",7),y(13,"Nominalizations"),p(),f(14,"a",8),y(15,"Sentences"),p(),f(16,"a",9),y(17,"Eggcorns"),p(),f(18,"a",10),y(19,"Transitions"),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27,"Goal: 2% or less "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Wordiness"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,Qle,2,1,"tr",21),p(),f(46,"td"),ht(47,Yle,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.wordinessAlertColor),k(2),an(" ",r.wordinessNumber," instances (",r.wordinessScore,"% of sentences) "),k(8),Ne(r.wordinessFeedback),k(4),Ne(r.message),k(5),Gt("Instances of Wordiness Found - ",r.wordinessNumber," error(s)"),k(3),Qe("ngForOf",r.wordinessUserTable.find),k(2),Qe("ngForOf",r.wordinessUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()},{path:"home/fixes/academic-style-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Academic-Style-Fix",this.academicStyleFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.academic.changeTotalNonAcademic(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.academicStyleUserTable=[];let t=this.message.replace(/<\/?span[^>]*>/g,"");console.log(t);let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);console.log("Fixing academic style"),this.academicStyleFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.academicStyleService()}academicStyleFix(t){const r=new Map;for(const a in this.academicStyleTable.__zone_symbol__value)if(t.includes(a)){let l=t.indexOf(a);for(r.set(l,"\u2022 "+a+" \u27f6 "+this.academicStyleTable.__zone_symbol__value[a]),this.academic.changeTotalNonAcademic(this.totalNonAcademic+1),this.highlight(a,this.academicStyleTable[a]);t.indexOf(a,l+1)>l;)l=t.indexOf(a,l+1),r.set(l,"\u2022 "+a+" \u27f6 "+this.academicStyleTable.__zone_symbol__value[a]),this.academic.changeTotalNonAcademic(this.totalNonAcademic+1)}const i=Array.from(new Map([...r.entries()].sort(([a],[l])=>a-l)).values());let s;this.academicStyleUserTable=i,this.academicStyleUserTable.find=this.academicStyleUserTable,this.academic.changeAcademicStyleUserTable(this.academicStyleUserTable.find),s="";let o=0;for(let a=0;a<t.length;a++)/[a-zA-Z]/.test(t[a])||"\u2019"===t[a]||"'"===t[a]?s+=t[a]:(s="",o++);this.academicStyleScore=this.totalNonAcademic/o*100,(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0);try{if(this.academicStyleScore>1?(this.academicStyleAlertColor="red",this.academicStyleFeedback="Your writing may contain language that is either too casual or too extreme for academic discourse."):(this.academicStyleAlertColor="green",this.academicStyleFeedback="Your writing has a low percentage of casual and/or extreme language. This makes it more acceptable for academic style."),0===this.totalSentences)throw new Error("")}catch(a){this.academicStyleFeedback="Make sure you enter at least one sentence.",this.academicStyleAlertColor="orange",this.academicStyleScore=0}(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0),this.academic.changeAcademicStyleScore(Math.round(10*this.academicStyleScore)/10),this.academic.changeAcademicStyleFeedback(this.academicStyleFeedback),this.academic.changeAcademicStyleAlertColor(this.academicStyleAlertColor)}academicStyleService(){this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.academic.currentAcademicStyleFeedback.subscribe(t=>this.academicStyleFeedback=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleTable.subscribe(t=>this.academicStyleTable=t),this.academic.currentAcademicStyleUserTable.subscribe(t=>this.academicStyleUserTable=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t)}highlight(t,r){var i=document.getElementById("userinput");console.log("Highighting now");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(es),v(Xi),v(Ji),v(ts),v(Qi),v(Yi),v(ns),v(Zi))},n.\u0275cmp=yt({type:n,selectors:[["app-academic-style-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],[3,"mouseenter"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"div",4),Ge("mouseenter",function(){return r.reHighlight()}),f(8,"a",5),y(9,"Academic Style"),p(),p(),f(10,"a",6),y(11,"Grammar"),p(),f(12,"a",7),y(13,"Nominalizations"),p(),f(14,"a",8),y(15,"Sentences"),p(),f(16,"a",9),y(17,"Eggcorns"),p(),f(18,"a",10),y(19,"Transitions"),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27," Goal: 1% or less "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Academic Style"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,Jle,2,1,"tr",21),p(),f(46,"td"),ht(47,Xle,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.academicStyleAlertColor),k(2),an(" ",r.totalNonAcademic," instances (",r.academicStyleScore,"% of sentences) "),k(8),Ne(r.academicStyleFeedback),k(4),Ne(r.message),k(5),Gt("Non Academic Style Found - ",r.totalNonAcademic," instance(s)"),k(3),Qe("ngForOf",r.academicStyleUserTable.find),k(2),Qe("ngForOf",r.academicStyleUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()},{path:"home/fixes/grammar-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.grammar=r,this.academic=i,this.eggcorns=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Grammar-Fix",this.grammarFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.grammar.changeTotalGrammar(0),this.grammarUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.grammarFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.grammarService()}grammarFix(t){for(const r in this.grammarTable)t.toLocaleLowerCase().includes(r)&&(this.grammar.changeTotalGrammar(this.totalGrammar+1),this.grammarUserTable.find.push("\u2022 "+r+" \u27f6 "+this.grammarTable[r]),this.highlight(r,this.grammarTable[r]),this.grammar.changeGrammarUserTable(this.grammarUserTable));this.grammarScore=this.totalGrammar/this.totalSentences*100,(isNaN(this.grammarScore)||this.grammarScore===1/0)&&(this.grammarScore=0);try{if(0==this.totalGrammar?(this.grammarAlertColor="green",this.grammarFeedback="Woohoo! We didn't find any obvious grammark errors. However, beware: Grammark does not check for fragments, comma splices, subject-verb errors, number and pronoun problems. What's the best way to find grammar errors? Read your writing aloud."):this.totalGrammar>0&&(this.grammarAlertColor="red",this.grammarFeedback="Your writing includes words or phrases usually considered to be grammar errors."),0===this.totalSentences)throw new Error("")}catch(r){this.grammarFeedback="Make sure you enter at least one sentence.",this.grammarAlertColor="orange",this.grammarScore=0}this.grammar.changeGrammarScore(Math.round(10*this.grammarScore)/10),this.grammar.changeGrammarFeedback(this.grammarFeedback),this.grammar.changeGrammarAlertColor(this.grammarAlertColor)}grammarService(){this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.grammar.currentGrammarFeedback.subscribe(t=>this.grammarFeedback=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarTable.subscribe(t=>this.grammarTable=t),this.grammar.currentGrammarUserTable.subscribe(t=>this.grammarUserTable=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t)}highlight(t,r){var i=document.getElementById("userinput");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(Ji),v(es),v(Xi),v(ts),v(Qi),v(Yi),v(ns),v(Zi))},n.\u0275cmp=yt({type:n,selectors:[["app-grammar-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],[3,"mouseenter"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"div",5),Ge("mouseenter",function(){return r.reHighlight()}),f(10,"a",6),y(11,"Grammar"),p(),p(),f(12,"a",7),y(13,"Nominalizations"),p(),f(14,"a",8),y(15,"Sentences"),p(),f(16,"a",9),y(17,"Eggcorns"),p(),f(18,"a",10),y(19,"Transitions"),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27,"Goal: 0 errors "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Grammar"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,tce,2,1,"tr",21),p(),f(46,"td"),ht(47,nce,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.grammarAlertColor),k(2),an("",r.totalGrammar," instances (",r.grammarScore,"% of sentences)"),k(8),Ne(r.grammarFeedback),k(4),Ne(r.message),k(5),Gt("Grammar Traps Found - ",r.totalGrammar," instance(s)"),k(3),Qe("ngForOf",r.grammarUserTable.find),k(2),Qe("ngForOf",r.grammarUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.title{font-size:36px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.feedback{font-size:30px}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()},{path:"home/fixes/nominalizations-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.nominalizations=r,this.academic=i,this.eggcorns=s,this.grammar=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Nominalizations-Fix"}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.nominalizations.changeNominalizationsNumber(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.nominalizationsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.nominalizationsFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.nominalizationsService()}nominalizationsFix(t){let r;r="";let i=0;for(let s=0;s<t.length;s++)if(/[a-zA-Z]/.test(t[s])||"\u2019"===t[s]||"'"===t[s])r+=t[s];else{for(const o in this.nominalizationsTable)r.length>7&&r.includes(o)&&(this.nominalizationsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.nominalizationsTable[o]),this.nominalizations.changeNominalizationsNumber(this.nominalizationsNumber+1),this.nominalizations.changeNominalizationsUserTable(this.nominalizationsUserTable),this.highlight(r,this.nominalizationsTable[o]));r="",i++}this.nominalizationsScore=this.nominalizationsNumber/i*100,(isNaN(this.nominalizationsScore)||this.nominalizationsScore===1/0)&&(this.nominalizationsScore=0);try{if(this.nominalizationsScore<=6?(this.nominalizationsFeedback='Rock on. Your writing has a reasonable number of "nominalized" word forms, highlighted below. You probably don\'t need to reduce these any further.',this.nominalizationsAlertColor="green"):(this.nominalizationsFeedback='Most of the words below are perfectly acceptable. However, you use many of these "nominalized" (non root-form) words. They bog down writing and decrease readability.',this.nominalizationsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(s){this.nominalizationsFeedback="Make sure you enter at least one sentence.",this.nominalizationsAlertColor="orange",this.nominalizationsScore=0}this.nominalizations.changeNominalizationsFeedback(this.nominalizationsFeedback),this.nominalizations.changeNominalizationsScore(Math.round(10*this.nominalizationsScore)/10),this.nominalizations.changeNominalizationsAlertColor(this.nominalizationsAlertColor)}nominalizationsService(){this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.nominalizations.currentNominalizationsFeedback.subscribe(t=>this.nominalizationsFeedback=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsUserTable.subscribe(t=>this.nominalizationsUserTable=t),this.nominalizations.currentNominalizationsTable.subscribe(t=>this.nominalizationsTable=t)}highlight(t,r){var i=document.getElementById("userinput");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(ts),v(es),v(Xi),v(Ji),v(Qi),v(Yi),v(ns),v(Zi))},n.\u0275cmp=yt({type:n,selectors:[["app-nominalizations-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],[3,"mouseenter"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"div",6),Ge("mouseenter",function(){return r.reHighlight()}),f(12,"a",7),y(13,"Nominalizations"),p(),p(),f(14,"a",8),y(15,"Sentences"),p(),f(16,"a",9),y(17,"Eggcorns"),p(),f(18,"a",10),y(19,"Transitions"),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27,"Goal: 6% or less "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Nominalizations"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,ice,2,1,"tr",21),p(),f(46,"td"),ht(47,sce,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.nominalizationsAlertColor),k(2),an("",r.nominalizationsNumber," instances (",r.nominalizationsScore,"% of words)"),k(8),Ne(r.nominalizationsFeedback),k(4),Ne(r.message),k(5),Gt("Nominalizations Found - ",r.nominalizationsNumber," error(s)"),k(3),Qe("ngForOf",r.nominalizationsUserTable.find),k(2),Qe("ngForOf",r.nominalizationsUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()},{path:"home/fixes/sentences-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Sentences-Fix",this.sentencesFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.sentences.changeSentencesNumber(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.sentencesUserTable={find:[],suggestion:[]};let t=this.getContent(),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.sentencesFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.sentencesService()}sentencesFix(t){let r,i,s;r="",i="",s="";let o=!1,a=0;for(let l=0;l<t.length;l++){if(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l])r+=t[l];else{for(const c in this.sentencesTable)r.includes(c)&&(i+=r,o=!0);r="",a++}!0===o&&(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l]||" "===t[l]?i+=t[l]:(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Potential Fragment \u27f6 "'+i+'..."'),this.highlight(i,"Potential Fragment"),this.sentences.changeSentencesUserTable(this.sentencesUserTable),o=!1,i="")),"!"===t[l]||"?"===t[l]||"."===t[l]?(a>50&&(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Long Sentence \u27f6 "'+s+'..."'),this.highlight(s,"Long Sentence"),this.sentences.changeSentencesUserTable(this.sentencesUserTable)),s="",a=0):s+=t[l]}this.sentencesScore=this.sentencesNumber/this.totalSentences*100,(NaN===this.sentencesScore||this.sentencesScore===1/0)&&(this.sentencesScore=0);try{if(this.sentencesScore>2?(this.sentencesFeedback="Hmmm. Your writing may have some sentence-level issues. Check the list below for potential fragments or run-ons.",this.sentencesAlertColor="red"):(this.sentencesFeedback="Bueno! Your sentences don't show any glaring errors.",this.sentencesAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(l){this.sentencesFeedback="Make sure you enter at least one sentence.",this.sentencesAlertColor="orange",this.sentencesScore=0}this.sentences.changeSentencesFeedback(this.sentencesFeedback),this.sentences.changeSentencesScore(Math.round(10*this.sentencesScore)/10),this.sentences.changeSentencesAlertColor(this.sentencesAlertColor)}sentencesService(){this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesTable.subscribe(t=>this.sentencesTable=t),this.sentences.currentSentencesUserTable.subscribe(t=>this.sentencesUserTable=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t),this.sentences.currentSentencesFeedback.subscribe(t=>this.sentencesFeedback=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t)}highlight(t,r){var i=document.getElementById("userinput");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(es),v(Xi),v(Ji),v(ts),v(Qi),v(Yi),v(ns),v(Zi))},n.\u0275cmp=yt({type:n,selectors:[["app-sentences-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],[3,"mouseenter"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"div",7),Ge("mouseenter",function(){return r.reHighlight()}),f(14,"a",8),y(15,"Sentences"),p(),p(),f(16,"a",9),y(17,"Eggcorns"),p(),f(18,"a",10),y(19,"Transitions"),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27,"Goal: 2% or less "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Sentences"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,ace,2,1,"tr",21),p(),f(46,"td"),ht(47,lce,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.sentencesAlertColor),k(2),an(" ",r.sentencesNumber," instances (",r.sentencesScore,"% of sentences) "),k(8),Ne(r.sentencesFeedback),k(4),Ne(r.message),k(5),Gt("Instances of Sentences Found - ",r.sentencesNumber," error(s)"),k(3),Qe("ngForOf",r.sentencesUserTable.find),k(2),Qe("ngForOf",r.sentencesUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()},{path:"home/fixes/eggcorns-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.eggcorns=r,this.academic=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Eggcorns-Fix",this.eggcornsFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.eggcorns.changeTotalEggcorns(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.eggcornsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.eggcornsFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.eggcornnsService()}eggcornsFix(t){console.log("eggcorns");for(const r in this.eggcornsTable)t.toLocaleLowerCase().includes(r)&&(this.eggcorns.changeTotalEggcorns(this.totalEggcorns+1),this.eggcornsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.eggcornsTable[r]),this.highlight(r,this.eggcornsTable[r]),this.eggcorns.changeEggcornsUserTable(this.eggcornsUserTable));this.eggcornsScore=this.totalEggcorns/this.totalSentences*100;try{if(0==this.eggcornsScore?(this.eggcornsAlertColor="green",this.eggcornsFeedback="Great job! Your writing seems to have no Eggcorns."):this.eggcornsScore<=5?(this.eggcornsFeedback=" Good job, the number of Eggcorns words in your writing seems low",this.eggcornsAlertColor="orange"):this.eggcornsScore<=10?(this.eggcornsFeedback="Your writing seems to have a lot of eggcorns",this.eggcornsAlertColor="red"):(this.eggcornsFeedback="Your writing seems to have a many eggcorns. Make sure you're not using eggcorns",this.eggcornsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(r){this.eggcornsFeedback="Make sure you enter at least one sentence.",this.eggcornsAlertColor="orange",this.eggcornsScore=0}this.eggcorns.changeEggcornsScore(Math.round(this.eggcornsScore)),this.eggcorns.changeEggcornsFeedback(this.eggcornsFeedback),this.eggcorns.changeEggcornsAlertColor(this.eggcornsAlertColor)}eggcornnsService(){this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.eggcorns.currentEggcornsFeedback.subscribe(t=>this.eggcornsFeedback=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsTable.subscribe(t=>this.eggcornsTable=t),this.eggcorns.currentEggcornsUserTable.subscribe(t=>this.eggcornsUserTable=t)}highlight(t,r){var i=document.getElementById("userinput");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(Xi),v(es),v(Ji),v(ts),v(Qi),v(Yi),v(ns),v(Zi))},n.\u0275cmp=yt({type:n,selectors:[["app-eggcorns-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],[3,"mouseenter"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"div",8),Ge("mouseenter",function(){return r.reHighlight()}),f(16,"a",9),y(17,"Eggcorns"),p(),p(),f(18,"a",10),y(19,"Transitions"),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27,"Goal: 0 errors "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Eggcorns"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,uce,2,1,"tr",21),p(),f(46,"td"),ht(47,dce,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.eggcornsAlertColor),k(2),an("",r.totalEggcorns," instances (",r.eggcornsScore,"% of sentences)"),k(8),Ne(r.eggcornsFeedback),k(4),Ne(r.message),k(5),Gt("Eggcorns Found - ",r.totalEggcorns," instance(s)"),k(3),Qe("ngForOf",r.eggcornsUserTable.find),k(2),Qe("ngForOf",r.eggcornsUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()},{path:"home/fixes/transitions-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.transitions=r,this.academic=i,this.eggcorns=s,this.grammar=o,this.nominalizations=a,this.passivevoice=l,this.wordiness=c,this.sentences=u,this.title="Tranistions-Fix",this.transitionsFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.transitions.changeTotalTransitions(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.transitionsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.transitionsFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.transitionsService()}transitionsFix(t){for(const r in this.transitionsTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.transitions.changeTotalTransitions(this.totalTransitions+1),this.transitionsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.transitionsTable.__zone_symbol__value[r]),this.transitions.changeTransitionsUserTable(this.transitionsUserTable),this.highlight(r,this.transitionsTable[r]));this.transitionsScore=this.totalTransitions/this.totalSentences*100,(isNaN(this.transitionsScore)||this.transitionsScore===1/0)&&(this.transitionsScore=0);try{if(0==this.transitionsScore?(this.transitionsAlertColor="red",this.transitionsFeedback="Your writing seems to have no transition word"):this.transitionsScore<=10?(this.transitionsFeedback="The number of transition words in your writing seems low",this.transitionsAlertColor="orange"):this.transitionsScore<=80?(this.transitionsFeedback="Woot! Your writing seems to have a good proportion of transitions",this.transitionsAlertColor="green"):(this.transitionsFeedback="Woot! Your writing seems to have a lot of transitions. Make sure you're not overusing transition words",this.transitionsAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.transitionsFeedback="Make sure you enter at least one sentence.",this.transitionsAlertColor="orange",this.transitionsScore=0}this.transitions.changeTransitionsScore(Math.round(10*this.transitionsScore)/10),this.transitions.changeTransitionsFeedback(this.transitionsFeedback),this.transitions.changeTransitionsAlertColor(this.transitionsAlertColor)}transitionsService(){this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.transitions.currentTransitionsFeedback.subscribe(t=>this.transitionsFeedback=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsTable.subscribe(t=>this.transitionsTable=t),this.transitions.currentTransitionsUserTable.subscribe(t=>this.transitionsUserTable=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t)}highlight(t,r){var i=document.getElementById("userinput");let s=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(s,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(v(Ui),v(Zi),v(es),v(Xi),v(Ji),v(ts),v(Qi),v(Yi),v(ns))},n.\u0275cmp=yt({type:n,selectors:[["app-transitions-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],[3,"mouseenter"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"div",9),Ge("mouseenter",function(){return r.reHighlight()}),f(18,"a",10),y(19,"Transitions"),p(),p(),f(20,"a",11),Ge("click",function(){return r.startOverClick()}),y(21,"Start Over"),p(),p(),f(22,"body"),f(23,"div",12),f(24,"h5",13),y(25),p(),f(26,"b",13),y(27,"Goal: 10% or more "),p(),p(),f(28,"mat-toolbar",14),f(29,"mat-toolbar-row",15),f(30,"b"),y(31,"Transitions"),p(),p(),f(32,"mat-toolbar-row",16),y(33),p(),p(),f(34,"div"),f(35,"div",17),f(36,"p",18),y(37),p(),Cn(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ht(45,fce,2,1,"tr",21),p(),f(46,"td"),ht(47,pce,2,1,"tr",21),p(),p(),p(),p(),p()),2&t&&(k(23),on("background-color",r.transitionsAlertColor),k(2),an(" ",r.totalTransitions," instances (",r.transitionsScore,"% of sentences) "),k(8),Ne(r.transitionsFeedback),k(4),Ne(r.message),k(5),Gt("Transitions Found - ",r.totalTransitions," instance(s)"),k(3),Qe("ngForOf",r.transitionsUserTable.find),k(2),Qe("ngForOf",r.transitionsUserTable.suggestion))},directives:[Us,un,Bs,Dr],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.title{font-size:36px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.feedback{font-size:30px}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})()}];let mce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=ot({imports:[[rO.forRoot(gce,{relativeLinkResolution:"legacy"})],rO]}),n})(),yce=(()=>{class n{constructor(){this.title="Grammark"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yt({type:n,selectors:[["app-root"]],decls:21,vars:0,consts:[["color","primary",1,"navbar"],[1,"grammark"],[1,"linksHighlight"],["routerLink","",1,"linkedpages"],["routerLink","about",1,"linkedpages"],["href","https://github.com/markfullmer/grammark",1,"linkedpages"],["routerLink","download",1,"linkedpages"],["routerLink","resources",1,"linkedpages"],["routerLink","admin",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"div"),f(2,"a",1),f(3,"h1"),y(4,"Grammark 4.0 Project CLAWS:"),p(),f(5,"h3"),y(6,"Concise Language and Academic Writing Suggestions"),p(),p(),p(),f(7,"div",2),f(8,"a",3),y(9,"HOME"),p(),f(10,"a",4),y(11,"ABOUT"),p(),f(12,"a",5),y(13,"SOURCE CODE"),p(),f(14,"a",6),y(15,"DOWNLOAD"),p(),f(16,"a",7),y(17,"RESOURCES"),p(),f(18,"a",8),y(19,"ADMIN"),p(),p(),p(),Cn(20,"router-outlet"))},directives:[Us,un,tE],styles:[".mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#00704a;color:#fff;height:80px}.navbar[_ngcontent-%COMP%]{justify-content:space-between}.highlight[_ngcontent-%COMP%]{background-color:#eef43b}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:18px;line-height:1;font-family:Futura,Trebuchet MS,Arial,sans-serif}.linkedpages[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:inline-block;width:110px;text-align:center;font-size:13px;font-family:Futura,Trebuchet MS,Arial,sans-serif}.linkedpages[_ngcontent-%COMP%]:hover{color:#adadad}.linksHighlight[_ngcontent-%COMP%]{-webkit-text-stroke-width:.25px;-webkit-text-stroke-color:#ffffff}a[_ngcontent-%COMP%]:active{color:#00f}"]}),n})();const bce=[qle];let _ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n,bootstrap:[yce]}),n.\u0275inj=ot({providers:[],imports:[[uw,mce,H9,bce,tle]]}),n})();(function(){if($k)throw new Error("Cannot enable prod mode after platform setup.");jk=!1})(),jK().bootstrapModule(_ce).catch(n=>console.error(n))}},Be=>{Be(Be.s=271)}]);