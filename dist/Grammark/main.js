"use strict";var s6=Object.defineProperty,o6=Object.defineProperties,a6=Object.getOwnPropertyDescriptors,UL=Object.getOwnPropertySymbols,l6=Object.prototype.hasOwnProperty,c6=Object.prototype.propertyIsEnumerable,BL=(Ue,ae,N)=>ae in Ue?s6(Ue,ae,{enumerable:!0,configurable:!0,writable:!0,value:N}):Ue[ae]=N,jL=(Ue,ae)=>{for(var N in ae||(ae={}))l6.call(ae,N)&&BL(Ue,N,ae[N]);if(UL)for(var N of UL(ae))c6.call(ae,N)&&BL(Ue,N,ae[N]);return Ue},HL=(Ue,ae)=>o6(Ue,a6(ae));(self.webpackChunkGrammark=self.webpackChunkGrammark||[]).push([[179],{2011:(Ue,ae,N)=>{N.d(ae,{Dh:()=>J,GT:()=>G,cc:()=>le,hO:()=>B,on:()=>U,pX:()=>Y,xv:()=>Q});var a=N(6435),ne=N(127),V=N(6351);Ue=N.hmd(Ue);const te=["ngOnDestroy"],Y=(Ie,Ne,we,ze={})=>new Proxy(Ie,{get:(Be,tt)=>we.runOutsideAngular(()=>{var tn;if(Ie[tt])return!(null===(tn=null==ze?void 0:ze.spy)||void 0===tn)&&tn.get&&ze.spy.get(tt,Ie[tt]),Ie[tt];if(te.indexOf(tt)>-1)return()=>{};const At=Ne.toPromise().then(se=>{const De=se&&se[tt];return"function"==typeof De?De.bind(se):De&&De.then?De.then(ee=>we.run(()=>ee)):we.run(()=>De)});return new Proxy(()=>{},{get:(se,De)=>At[De],apply:(se,De,ee)=>At.then(de=>{var ye;const ge=de&&de(...ee);return!(null===(ye=null==ze?void 0:ze.spy)||void 0===ye)&&ye.apply&&ze.spy.apply(tt,ee,ge),ge})})})}),G=(Ie,Ne)=>{Ne.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(ze=>{Object.defineProperty(Ie.prototype,ze,Object.getOwnPropertyDescriptor(we.prototype||we,ze))})})};class re{constructor(Ne){return Ne}}const J=new a.OlP("angularfire2.app.options"),Q=new a.OlP("angularfire2.app.name");function U(Ie,Ne,we){const Be="object"==typeof we&&we||{};Be.name=Be.name||"string"==typeof we&&we||"[DEFAULT]";const tn=ne.Z.apps.filter(At=>At&&At.name===Be.name)[0]||Ne.runOutsideAngular(()=>ne.Z.initializeApp(Ie,Be));try{JSON.stringify(Ie)!==JSON.stringify(tn.options)&&F("error",`${tn.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(At){}return new re(tn)}const F=(Ie,...Ne)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ne)},L={provide:re,useFactory:U,deps:[J,a.R0b,[new a.FiY,Q]]};let B=(()=>{class Ie{constructor(we){ne.Z.registerVersion("angularfire",V.q4.full,"core"),ne.Z.registerVersion("angularfire",V.q4.full,"app-compat"),ne.Z.registerVersion("angular",a.q4F.full,we.toString())}static initializeApp(we,ze){return{ngModule:Ie,providers:[{provide:J,useValue:we},{provide:Q,useValue:ze}]}}}return Ie.\u0275fac=function(we){return new(we||Ie)(a.LFG(a.Lbi))},Ie.\u0275mod=a.oAB({type:Ie}),Ie.\u0275inj=a.cJS({providers:[L]}),Ie})();function le(Ie,Ne,we,ze,Be){const[,tt,tn]=globalThis.\u0275AngularfireInstanceCache.find(At=>At[0]===Ie)||[];if(tt)return function Ae(Ie,Ne){try{return Ie.toString()===Ne.toString()}catch(we){return Ie===Ne}}(Be,tn)||(fe("error",`${Ne} was already initialized on the ${we} Firebase App with different settings.${Ee?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Be,was:tn})),tt;{const At=ze();return globalThis.\u0275AngularfireInstanceCache.push([Ie,At,Be]),At}}const Ee=!!Ue.hot,fe=(Ie,...Ne)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ue,ae,N)=>{N.d(ae,{q4:()=>Ns,iC:()=>oo,HU:()=>uc,vb:()=>yr,JM:()=>xu});var a=N(6435),ne=N(5867),V=N(5861),te=N(9681),Y=N(2090),G=N(4859),re=N(1877),J=N(8766);const Q="@firebase/installations",U="0.5.16",L=`w:${U}`,B="FIS_v2",Ne=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(S){return S instanceof Y.ZR&&S.code.includes("request-failed")}function ze({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Be(S){return{token:S.token,requestStatus:2,expiresIn:de(S.expiresIn),creationTime:Date.now()}}function tt(S,I){return tn.apply(this,arguments)}function tn(){return(tn=(0,V.Z)(function*(S,I){const z=(yield I.json()).error;return Ne.create("request-failed",{requestName:S,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function At({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function se(S,{refreshToken:I}){const O=At(S);return O.append("Authorization",function ye(S){return`${B} ${S}`}(I)),O}function De(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,V.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function de(S){return Number(S.replace("s","000"))}function ge(S,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,V.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:O}){const z=ze(S),ce=At(S),pe=I.getImmediate({optional:!0});if(pe){const kt=yield pe.getHeartbeatsHeader();kt&&ce.append("x-firebase-client",kt)}const $e={method:"POST",headers:ce,body:JSON.stringify({fid:O,authVersion:B,appId:S.appId,sdkVersion:L})},Ge=yield De(()=>fetch(z,$e));if(Ge.ok){const kt=yield Ge.json();return{fid:kt.fid||O,registrationStatus:2,refreshToken:kt.refreshToken,authToken:Be(kt.authToken)}}throw yield tt("Create Installation",Ge)})).apply(this,arguments)}function Le(S){return new Promise(I=>{setTimeout(I,S)})}const nn=/^[cdef][\w-]{21}$/;function Vt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const O=function un(S){return function mt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return nn.test(O)?O:""}catch(S){return""}}function En(S){return`${S.appName}!${S.appId}`}const en=new Map;function dn(S,I){const O=En(S);kn(O,I),function Ys(S,I){const O=function Xr(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=S=>{kn(S.data.key,S.data.fid)}),Tn}();O&&O.postMessage({key:S,fid:I}),function wr(){0===en.size&&Tn&&(Tn.close(),Tn=null)}()}(O,I)}function kn(S,I){const O=en.get(S);if(O)for(const z of O)z(I)}let Tn=null;const Mi="firebase-installations-store";let Oi=null;function Va(){return Oi||(Oi=(0,J.X3)("firebase-installations-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Mi)}})),Oi}function Sn(S,I){return Er.apply(this,arguments)}function Er(){return(Er=(0,V.Z)(function*(S,I){const O=En(S),ce=(yield Va()).transaction(Mi,"readwrite"),pe=ce.objectStore(Mi),xe=yield pe.get(O);return yield pe.put(I,O),yield ce.done,(!xe||xe.fid!==I.fid)&&dn(S,I.fid),I})).apply(this,arguments)}function zi(S){return Js.apply(this,arguments)}function Js(){return(Js=(0,V.Z)(function*(S){const I=En(S),z=(yield Va()).transaction(Mi,"readwrite");yield z.objectStore(Mi).delete(I),yield z.done})).apply(this,arguments)}function Ni(S,I){return ot.apply(this,arguments)}function ot(){return(ot=(0,V.Z)(function*(S,I){const O=En(S),ce=(yield Va()).transaction(Mi,"readwrite"),pe=ce.objectStore(Mi),xe=yield pe.get(O),$e=I(xe);return void 0===$e?yield pe.delete(O):yield pe.put($e,O),yield ce.done,$e&&(!xe||xe.fid!==$e.fid)&&dn(S,$e.fid),$e})).apply(this,arguments)}function Mr(S){return _s.apply(this,arguments)}function _s(){return(_s=(0,V.Z)(function*(S){let I;const O=yield Ni(S.appConfig,z=>{const ce=Zt(z),pe=ht(S,ce);return I=pe.registrationPromise,pe.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Zt(S){return Mn(S||{fid:Vt(),registrationStatus:0})}function ht(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ne.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},z=function St(S,I){return hr.apply(this,arguments)}(S,O);return{installationEntry:O,registrationPromise:z}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:yn(S)}:{installationEntry:I}}function hr(){return(hr=(0,V.Z)(function*(S,I){try{const O=yield ge(S,I);return Sn(S.appConfig,O)}catch(O){throw we(O)&&409===O.customData.serverCode?yield zi(S.appConfig):yield Sn(S.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function yn(S){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,V.Z)(function*(S){let I=yield To(S.appConfig);for(;1===I.registrationStatus;)yield Le(100),I=yield To(S.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:z}=yield Mr(S);return z||O}return I})).apply(this,arguments)}function To(S){return Ni(S,I=>{if(!I)throw Ne.create("installation-not-found");return Mn(I)})}function Mn(S){return function In(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function _n(S,I){return So.apply(this,arguments)}function So(){return(So=(0,V.Z)(function*({appConfig:S,heartbeatServiceProvider:I},O){const z=Jt(S,O),ce=se(S,O),pe=I.getImmediate({optional:!0});if(pe){const kt=yield pe.getHeartbeatsHeader();kt&&ce.append("x-firebase-client",kt)}const $e={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:L,appId:S.appId}})},Ge=yield De(()=>fetch(z,$e));if(Ge.ok)return Be(yield Ge.json());throw yield tt("Generate Auth Token",Ge)})).apply(this,arguments)}function Jt(S,{fid:I}){return`${ze(S)}/${I}/authTokens:generate`}function Ht(S){return ei.apply(this,arguments)}function ei(){return(ei=(0,V.Z)(function*(S,I=!1){let O;const z=yield Ni(S.appConfig,pe=>{if(!qt(pe))throw Ne.create("not-registered");const xe=pe.authToken;if(!I&&K(xe))return pe;if(1===xe.requestStatus)return O=Qe(S,I),pe;{if(!navigator.onLine)throw Ne.create("app-offline");const $e=oe(pe);return O=ft(S,$e),$e}});return O?yield O:z.authToken})).apply(this,arguments)}function Qe(S,I){return ke.apply(this,arguments)}function ke(){return(ke=(0,V.Z)(function*(S,I){let O=yield Je(S.appConfig);for(;1===O.authToken.requestStatus;)yield Le(100),O=yield Je(S.appConfig);const z=O.authToken;return 0===z.requestStatus?Ht(S,I):z})).apply(this,arguments)}function Je(S){return Ni(S,I=>{if(!qt(I))throw Ne.create("not-registered");return function Ce(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ft(S,I){return yt.apply(this,arguments)}function yt(){return(yt=(0,V.Z)(function*(S,I){try{const O=yield _n(S,I),z=Object.assign(Object.assign({},I),{authToken:O});return yield Sn(S.appConfig,z),O}catch(O){if(!we(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const z=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Sn(S.appConfig,z)}else yield zi(S.appConfig);throw O}})).apply(this,arguments)}function qt(S){return void 0!==S&&2===S.registrationStatus}function K(S){return 2===S.requestStatus&&!function q(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+36e5}(S)}function oe(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}function nt(){return(nt=(0,V.Z)(function*(S){const I=S,{installationEntry:O,registrationPromise:z}=yield Mr(I);return z?z.catch(console.error):Ht(I).catch(console.error),O.fid})).apply(this,arguments)}function hn(){return(hn=(0,V.Z)(function*(S,I=!1){const O=S;return yield Or(O),(yield Ht(O,I)).token})).apply(this,arguments)}function Or(S){return Et.apply(this,arguments)}function Et(){return(Et=(0,V.Z)(function*(S){const{registrationPromise:I}=yield Mr(S);I&&(yield I)})).apply(this,arguments)}function $i(S){return Ne.create("missing-app-config-values",{valueName:S})}const pr="installations",rn=S=>{const I=S.getProvider("app").getImmediate(),O=function Yo(S){if(!S||!S.options)throw $i("App Configuration");if(!S.name)throw $i("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!S.options[O])throw $i(O);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,te._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ze=S=>{const I=S.getProvider("app").getImmediate(),O=(0,te._getProvider)(I,pr).getImmediate();return{getId:()=>function me(S){return nt.apply(this,arguments)}(O),getToken:ce=>function Rt(S){return hn.apply(this,arguments)}(O,ce)}};(function Ft(){(0,te._registerComponent)(new G.wA(pr,rn,"PUBLIC")),(0,te._registerComponent)(new G.wA("installations-internal",Ze,"PRIVATE"))})(),(0,te.registerVersion)(Q,U),(0,te.registerVersion)(Q,U,"esm2017");const vn="@firebase/remote-config",Wt=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vl{constructor(I,O,z,ce){this.client=I,this.storage=O,this.storageCache=z,this.logger=ce}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-O,ce=z<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ce}.`),ce}fetch(I){var O=this;return(0,V.Z)(function*(){const[z,ce]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ce&&O.isCachedDataFresh(I.cacheMaxAgeMillis,z))return ce;I.eTag=ce&&ce.eTag;const pe=yield O.client.fetch(I),xe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&xe.push(O.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(xe),pe})()}}function Xo(S=navigator){return S.languages&&S.languages[0]||S.language}class qr{constructor(I,O,z,ce,pe,xe){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=z,this.projectId=ce,this.apiKey=pe,this.appId=xe}fetch(I){var O=this;return(0,V.Z)(function*(){var z,ce,pe;const[xe,$e]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},at={sdk_version:O.sdkVersion,app_instance_id:xe,app_instance_id_token:$e,app_id:O.appId,language_code:Xo()},Hn={method:"POST",headers:Pt,body:JSON.stringify(at)},Cr=fetch(kt,Hn),Pr=new Promise((Pi,is)=>{I.signal.addEventListener(()=>{const Ps=new Error("The operation was aborted.");Ps.name="AbortError",is(Ps)})});let zn;try{yield Promise.race([Cr,Pr]),zn=yield Cr}catch(Pi){let is="fetch-client-network";throw"AbortError"===(null===(z=Pi)||void 0===z?void 0:z.name)&&(is="fetch-timeout"),Wt.create(is,{originalErrorMessage:null===(ce=Pi)||void 0===ce?void 0:ce.message})}let rs=zn.status;const pa=zn.headers.get("ETag")||void 0;let Ou,Gr;if(200===zn.status){let Pi;try{Pi=yield zn.json()}catch(is){throw Wt.create("fetch-client-parse",{originalErrorMessage:null===(pe=is)||void 0===pe?void 0:pe.message})}Ou=Pi.entries,Gr=Pi.state}if("INSTANCE_STATE_UNSPECIFIED"===Gr?rs=500:"NO_CHANGE"===Gr?rs=304:("NO_TEMPLATE"===Gr||"EMPTY_CONFIG"===Gr)&&(Ou={}),304!==rs&&200!==rs)throw Wt.create("fetch-status",{httpStatus:rs});return{status:rs,eTag:pa,config:Ou}})()}}class Zf{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,V.Z)(function*(){const z=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,z)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:z}){var ce=this;return(0,V.Z)(function*(){yield function Yn(S,I){return new Promise((O,z)=>{const ce=Math.max(I-Date.now(),0),pe=setTimeout(O,ce);S.addEventListener(()=>{clearTimeout(pe),z(Wt.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const pe=yield ce.client.fetch(I);return yield ce.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function zd(S){if(!(S instanceof Y.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(pe))throw pe;const xe={throttleEndTimeMillis:Date.now()+(0,Y.$s)(z),backoffCount:z+1};return yield ce.storage.setThrottleMetadata(xe),ce.attemptFetch(I,xe)}})()}}class qd{constructor(I,O,z,ce,pe){this.app=I,this._client=O,this._storageCache=z,this._storage=ce,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ou(S,I){var O;const z=S.target.error||void 0;return Wt.create(I,{originalErrorMessage:z&&(null===(O=z)||void 0===O?void 0:O.message)})}const Xs="app_namespace_store";class pm{constructor(I,O,z,ce=function fm(){return new Promise((S,I)=>{var O;try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=ce=>{I(ou(ce,"storage-open"))},z.onsuccess=ce=>{S(ce.target.result)},z.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(Xs,{keyPath:"compositeKey"})}}catch(z){I(Wt.create("storage-open",{originalErrorMessage:null===(O=z)||void 0===O?void 0:O.message}))}})}()){this.appId=I,this.appName=O,this.namespace=z,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,V.Z)(function*(){const z=yield O.openDbPromise;return new Promise((ce,pe)=>{var xe;const Ge=z.transaction([Xs],"readonly").objectStore(Xs),kt=O.createCompositeKey(I);try{const Pt=Ge.get(kt);Pt.onerror=at=>{pe(ou(at,"storage-get"))},Pt.onsuccess=at=>{const Hn=at.target.result;ce(Hn?Hn.value:void 0)}}catch(Pt){pe(Wt.create("storage-get",{originalErrorMessage:null===(xe=Pt)||void 0===xe?void 0:xe.message}))}})})()}set(I,O){var z=this;return(0,V.Z)(function*(){const ce=yield z.openDbPromise;return new Promise((pe,xe)=>{var $e;const kt=ce.transaction([Xs],"readwrite").objectStore(Xs),Pt=z.createCompositeKey(I);try{const at=kt.put({compositeKey:Pt,value:O});at.onerror=Hn=>{xe(ou(Hn,"storage-set"))},at.onsuccess=()=>{pe()}}catch(at){xe(Wt.create("storage-set",{originalErrorMessage:null===($e=at)||void 0===$e?void 0:$e.message}))}})})()}delete(I){var O=this;return(0,V.Z)(function*(){const z=yield O.openDbPromise;return new Promise((ce,pe)=>{var xe;const Ge=z.transaction([Xs],"readwrite").objectStore(Xs),kt=O.createCompositeKey(I);try{const Pt=Ge.delete(kt);Pt.onerror=at=>{pe(ou(at,"storage-delete"))},Pt.onsuccess=()=>{ce()}}catch(Pt){pe(Wt.create("storage-delete",{originalErrorMessage:null===(xe=Pt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Zd{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,V.Z)(function*(){const O=I.storage.getLastFetchStatus(),z=I.storage.getLastSuccessfulFetchTimestampMillis(),ce=I.storage.getActiveConfig(),pe=yield O;pe&&(I.lastFetchStatus=pe);const xe=yield z;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const $e=yield ce;$e&&(I.activeConfig=$e)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Ul(){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,V.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(S){return!1}})).apply(this,arguments)}!function ea(){(0,te._registerComponent)(new G.wA("remote-config",function S(I,{instanceIdentifier:O}){const z=I.getProvider("app").getImmediate(),ce=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Wt.create("registration-window");if(!(0,Y.hl)())throw Wt.create("indexed-db-unavailable");const{projectId:pe,apiKey:xe,appId:$e}=z.options;if(!pe)throw Wt.create("registration-project-id");if(!xe)throw Wt.create("registration-api-key");if(!$e)throw Wt.create("registration-app-id");const Ge=new pm($e,z.name,O=O||"firebase"),kt=new Zd(Ge),Pt=new re.Yd(vn);Pt.logLevel=re.in.ERROR;const at=new qr(ce,te.SDK_VERSION,O,pe,xe,$e),Hn=new Zf(at,Ge),Cr=new Vl(Hn,Ge,kt,Pt),Pr=new qd(z,Cr,kt,Ge,Pt);return function zr(S){const I=(0,Y.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Pr),Pr},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(vn,"0.3.15"),(0,te.registerVersion)(vn,"0.3.15","esm2017")}();const za="/firebase-messaging-sw.js",Fi="/firebase-cloud-messaging-push-scope",ta="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bl="google.c.a.c_id",Wi="google.c.a.c_l",Wd="google.c.a.ts",Kd="google.c.a.e";var Ao=(()=>{return(S=Ao||(Ao={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Ao;var S})();function fi(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function au(S){const O=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(O),ce=new Uint8Array(z.length);for(let pe=0;pe<z.length;++pe)ce[pe]=z.charCodeAt(pe);return ce}const $a="fcm_token_details_db",Sr="fcm_token_object_Store";function Wf(S){return ni.apply(this,arguments)}function ni(){return ni=(0,V.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes($a))return null;let I=null;return(yield(0,J.X3)($a,5,{upgrade:(z=(0,V.Z)(function*(ce,pe,xe,$e){var Ge;if(pe<2||!ce.objectStoreNames.contains(Sr))return;const kt=$e.objectStore(Sr),Pt=yield kt.index("fcmSenderId").get(S);if(yield kt.clear(),Pt)if(2===pe){const at=Pt;if(!at.auth||!at.p256dh||!at.endpoint)return;I={token:at.fcmToken,createTime:null!==(Ge=at.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:at.auth,p256dh:at.p256dh,endpoint:at.endpoint,swScope:at.swScope,vapidKey:"string"==typeof at.vapidKey?at.vapidKey:fi(at.vapidKey)}}}else if(3===pe){const at=Pt;I={token:at.fcmToken,createTime:at.createTime,subscriptionOptions:{auth:fi(at.auth),p256dh:fi(at.p256dh),endpoint:at.endpoint,swScope:at.swScope,vapidKey:fi(at.vapidKey)}}}else if(4===pe){const at=Pt;I={token:at.fcmToken,createTime:at.createTime,subscriptionOptions:{auth:fi(at.auth),p256dh:fi(at.p256dh),endpoint:at.endpoint,swScope:at.swScope,vapidKey:fi(at.vapidKey)}}}}),function(pe,xe,$e,Ge){return z.apply(this,arguments)})})).close(),yield(0,J.Lj)($a),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),jl(I)?I:null;var z}),ni.apply(this,arguments)}function jl(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Es="firebase-messaging-store";let Yd=null;function On(){return Yd||(Yd=(0,J.X3)("firebase-messaging-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(Es)}})),Yd}function ql(S){return cu.apply(this,arguments)}function cu(){return(cu=(0,V.Z)(function*(S){const I=Ts(S),z=yield(yield On()).transaction(Es).objectStore(Es).get(I);if(z)return z;{const ce=yield Wf(S.appConfig.senderId);if(ce)return yield An(S,ce),ce}})).apply(this,arguments)}function An(S,I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,V.Z)(function*(S,I){const O=Ts(S),ce=(yield On()).transaction(Es,"readwrite");return yield ce.objectStore(Es).put(I,O),yield ce.done,I})).apply(this,arguments)}function $l(S){return na.apply(this,arguments)}function na(){return(na=(0,V.Z)(function*(S){const I=Ts(S),z=(yield On()).transaction(Es,"readwrite");yield z.objectStore(Es).delete(I),yield z.done})).apply(this,arguments)}function Ts({appConfig:S}){return S.appId}const Zn=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Za(S,I){return uu.apply(this,arguments)}function uu(){return(uu=(0,V.Z)(function*(S,I){var O;const z=yield Qd(S),ce=Zl(I),pe={method:"POST",headers:z,body:JSON.stringify(ce)};let xe;try{xe=yield(yield fetch(Cs(S.appConfig),pe)).json()}catch($e){throw Zn.create("token-subscribe-failed",{errorInfo:null===(O=$e)||void 0===O?void 0:O.toString()})}if(xe.error)throw Zn.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw Zn.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Ss(S,I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,V.Z)(function*(S,I){var O;const z=yield Qd(S),ce=Zl(I.subscriptionOptions),pe={method:"PATCH",headers:z,body:JSON.stringify(ce)};let xe;try{xe=yield(yield fetch(`${Cs(S.appConfig)}/${I.token}`,pe)).json()}catch($e){throw Zn.create("token-update-failed",{errorInfo:null===(O=$e)||void 0===O?void 0:O.toString()})}if(xe.error)throw Zn.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw Zn.create("token-update-no-token");return xe.token})).apply(this,arguments)}function ra(S,I){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,V.Z)(function*(S,I){var O;const ce={method:"DELETE",headers:yield Qd(S)};try{const xe=yield(yield fetch(`${Cs(S.appConfig)}/${I}`,ce)).json();if(xe.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(pe){throw Zn.create("token-unsubscribe-failed",{errorInfo:null===(O=pe)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function Cs({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Qd(S){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,V.Z)(function*({appConfig:S,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Zl({p256dh:S,auth:I,endpoint:O,vapidKey:z}){const ce={web:{endpoint:O,auth:I,p256dh:S}};return z!==ta&&(ce.web.applicationPubKey=z),ce}const du=6048e5;function Gl(S){return hu.apply(this,arguments)}function hu(){return(hu=(0,V.Z)(function*(S){const I=yield Ka(S.swRegistration,S.vapidKey),O={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:fi(I.getKey("auth")),p256dh:fi(I.getKey("p256dh"))},z=yield ql(S.firebaseDependencies);if(z){if(pi(z.subscriptionOptions,O))return Date.now()>=z.createTime+du?Kt(S,{token:z.token,createTime:Date.now(),subscriptionOptions:O}):z.token;try{yield ra(S.firebaseDependencies,z.token)}catch(ce){console.warn(ce)}return Kl(S.firebaseDependencies,O)}return Kl(S.firebaseDependencies,O)})).apply(this,arguments)}function fu(S){return Me.apply(this,arguments)}function Me(){return(Me=(0,V.Z)(function*(S){const I=yield ql(S.firebaseDependencies);I&&(yield ra(S.firebaseDependencies,I.token),yield $l(S.firebaseDependencies));const O=yield S.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Kt(S,I){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,V.Z)(function*(S,I){try{const O=yield Ss(S.firebaseDependencies,I),z=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield An(S.firebaseDependencies,z),O}catch(O){throw yield fu(S),O}})).apply(this,arguments)}function Kl(S,I){return jn.apply(this,arguments)}function jn(){return(jn=(0,V.Z)(function*(S,I){const z={token:yield Za(S,I),createTime:Date.now(),subscriptionOptions:I};return yield An(S,z),z.token})).apply(this,arguments)}function Ka(S,I){return Do.apply(this,arguments)}function Do(){return(Do=(0,V.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:au(I)})})).apply(this,arguments)}function pi(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}function ia(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Is(S,I){if(!I.notification)return;S.notification={};const O=I.notification.title;O&&(S.notification.title=O);const z=I.notification.body;z&&(S.notification.body=z);const ce=I.notification.image;ce&&(S.notification.image=ce);const pe=I.notification.icon;pe&&(S.notification.icon=pe)}(I,S),function Kf(S,I){!I.data||(S.data=I.data)}(I,S),function Jd(S,I){var O,z,ce,pe,xe;if(!(I.fcmOptions||null!==(O=I.notification)&&void 0!==O&&O.click_action))return;S.fcmOptions={};const $e=null!==(ce=null===(z=I.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==ce?ce:null===(pe=I.notification)||void 0===pe?void 0:pe.click_action;$e&&(S.fcmOptions.link=$e);const Ge=null===(xe=I.fcmOptions)||void 0===xe?void 0:xe.analytics_label;Ge&&(S.fcmOptions.analyticsLabel=Ge)}(I,S),I}function Yf(S){return"object"==typeof S&&!!S&&Bl in S}function Xd(S,I){const O=[];for(let z=0;z<S.length;z++)O.push(S.charAt(z)),z<I.length&&O.push(I.charAt(z));return O.join("")}function gi(S){return Zn.create("missing-app-config-values",{valueName:S})}Xd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qf{constructor(I,O,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function $r(S){if(!S||!S.options)throw gi("App Configuration Object");if(!S.name)throw gi("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=S;for(const z of I)if(!O[z])throw gi(z);return{appName:S.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ce,installations:O,analyticsProvider:z}}_delete(){return Promise.resolve()}}function eo(S){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,V.Z)(function*(S){var I;try{S.swRegistration=yield navigator.serviceWorker.register(za,{scope:Fi}),S.swRegistration.update().catch(()=>{})}catch(O){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=O)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function pu(S,I){return gu.apply(this,arguments)}function gu(){return(gu=(0,V.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield eo(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function mu(S,I){return yu.apply(this,arguments)}function yu(){return(yu=(0,V.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=ta)})).apply(this,arguments)}function Yl(){return(Yl=(0,V.Z)(function*(S,I){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield mu(S,null==I?void 0:I.vapidKey),yield pu(S,null==I?void 0:I.serviceWorkerRegistration),Gl(S)})).apply(this,arguments)}function _u(S,I,O){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,V.Z)(function*(S,I,O){const z=eh(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:O[Bl],message_name:O[Wi],message_time:O[Wd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eh(S){switch(S){case Ao.NOTIFICATION_CLICKED:return"notification_open";case Ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xo(){return(xo=(0,V.Z)(function*(S,I){const O=I.data;if(!O.isFirebaseMessaging)return;S.onMessageHandler&&O.messageType===Ao.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ia(O)):S.onMessageHandler.next(ia(O)));const z=O.data;Yf(z)&&"1"===z[Kd]&&(yield _u(S,O.messageType,z))})).apply(this,arguments)}const to="@firebase/messaging",Ja=S=>{const I=new Qf(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function th(S,I){return xo.apply(this,arguments)}(I,O)),I},ko=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:z=>function Ya(S,I){return Yl.apply(this,arguments)}(I,z)}};function nh(){return vu.apply(this,arguments)}function vu(){return(vu=(0,V.Z)(function*(){try{yield(0,Y.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xa(){(0,te._registerComponent)(new G.wA("messaging",Ja,"PUBLIC")),(0,te._registerComponent)(new G.wA("messaging-internal",ko,"PRIVATE")),(0,te.registerVersion)(to,"0.11.0"),(0,te.registerVersion)(to,"0.11.0","esm2017")}();const el="analytics",tl="firebase_id",As="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nl="https://www.googletagmanager.com/gtag/js",gr=new re.Yd("@firebase/analytics");function Ds(S){return Promise.all(S.map(I=>I.catch(O=>O)))}function no(S,I){const O=document.createElement("script");O.src=`${nl}?l=${S}&id=${I}`,O.async=!0,document.head.appendChild(O)}function sh(S,I,O,z,ce,pe){return mi.apply(this,arguments)}function mi(){return(mi=(0,V.Z)(function*(S,I,O,z,ce,pe){const xe=z[ce];try{if(xe)yield I[xe];else{const Ge=(yield Ds(O)).find(kt=>kt.measurementId===ce);Ge&&(yield I[Ge.appId])}}catch($e){gr.error($e)}S("config",ce,pe)})).apply(this,arguments)}function rl(S,I,O,z,ce){return sa.apply(this,arguments)}function sa(){return(sa=(0,V.Z)(function*(S,I,O,z,ce){try{let pe=[];if(ce&&ce.send_to){let xe=ce.send_to;Array.isArray(xe)||(xe=[xe]);const $e=yield Ds(O);for(const Ge of xe){const kt=$e.find(at=>at.measurementId===Ge),Pt=kt&&I[kt.appId];if(!Pt){pe=[];break}pe.push(Pt)}}0===pe.length&&(pe=Object.values(I)),yield Promise.all(pe),S("event",z,ce||{})}catch(pe){gr.error(pe)}})).apply(this,arguments)}function mm(S){const I=window.document.getElementsByTagName("script");for(const O of Object.values(I))if(O.src&&O.src.includes(nl)&&O.src.includes(S))return O;return null}const ri=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Tu=new class xs{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ro(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function tc(S){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,V.Z)(function*(S){var I;const{appId:O,apiKey:z}=S,ce={method:"GET",headers:ro(z)},pe=As.replace("{app-id}",O),xe=yield fetch(pe,ce);if(200!==xe.status&&304!==xe.status){let $e="";try{const Ge=yield xe.json();null!==(I=Ge.error)&&void 0!==I&&I.message&&($e=Ge.error.message)}catch(Ge){}throw ri.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:$e})}return xe.json()})).apply(this,arguments)}function Pn(S){return il.apply(this,arguments)}function il(){return(il=(0,V.Z)(function*(S,I=Tu,O){const{appId:z,apiKey:ce,measurementId:pe}=S.options;if(!z)throw ri.create("no-app-id");if(!ce){if(pe)return{measurementId:pe,appId:z};throw ri.create("no-api-key")}const xe=I.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Qi;return setTimeout((0,V.Z)(function*(){$e.abort()}),void 0!==O?O:6e4),Su({appId:z,apiKey:ce,measurementId:pe},xe,$e,I)})).apply(this,arguments)}function Su(S,I,O){return nc.apply(this,arguments)}function nc(){return(nc=(0,V.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:O},z,ce=Tu){var pe,xe;const{appId:$e,measurementId:Ge}=S;try{yield rc(z,I)}catch(kt){if(Ge)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${null===(pe=kt)||void 0===pe?void 0:pe.message}]`),{appId:$e,measurementId:Ge};throw kt}try{const kt=yield tc(S);return ce.deleteThrottleMetadata($e),kt}catch(kt){const Pt=kt;if(!oh(Pt)){if(ce.deleteThrottleMetadata($e),Ge)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${null==Pt?void 0:Pt.message}]`),{appId:$e,measurementId:Ge};throw kt}const at=503===Number(null===(xe=null==Pt?void 0:Pt.customData)||void 0===xe?void 0:xe.httpStatus)?(0,Y.$s)(O,ce.intervalMillis,30):(0,Y.$s)(O,ce.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+at,backoffCount:O+1};return ce.setThrottleMetadata($e,Hn),gr.debug(`Calling attemptFetch again in ${at} millis`),Su(S,Hn,z,ce)}})).apply(this,arguments)}function rc(S,I){return new Promise((O,z)=>{const ce=Math.max(I-Date.now(),0),pe=setTimeout(O,ce);S.addEventListener(()=>{clearTimeout(pe),z(ri.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function oh(S){if(!(S instanceof Y.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Qi{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let sl,ac;function ks(){return(ks=(0,V.Z)(function*(S,I,O,z,ce){if(ce&&ce.global)S("event",O,z);else{const pe=yield I;S("event",O,Object.assign(Object.assign({},z),{send_to:pe}))}})).apply(this,arguments)}function al(S){ac=S}function Ro(S){sl=S}function io(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,V.Z)(function*(){var S;if(!(0,Y.hl)())return gr.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(I){return gr.warn(ri.create("indexeddb-unavailable",{errorInfo:null===(S=I)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Ji(){return(Ji=(0,V.Z)(function*(S,I,O,z,ce,pe,xe){var $e;const Ge=Pn(S);Ge.then(Cr=>{O[Cr.measurementId]=Cr.appId,S.options.measurementId&&Cr.measurementId!==S.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cr=>gr.error(Cr)),I.push(Ge);const kt=io().then(Cr=>{if(Cr)return z.getId()}),[Pt,at]=yield Promise.all([Ge,kt]);mm(pe)||no(pe,Pt.measurementId),ac&&(ce("consent","default",ac),al(void 0)),ce("js",new Date);const Hn=null!==($e=null==xe?void 0:xe.config)&&void 0!==$e?$e:{};return Hn.origin="firebase",Hn.update=!0,null!=at&&(Hn[tl]=at),ce("config",Pt.measurementId,Hn),sl&&(ce("set",sl),Ro(void 0)),Pt.measurementId})).apply(this,arguments)}class lh{constructor(I){this.app=I}_delete(){return delete Os[this.app.options.appId],Promise.resolve()}}let Os={},ll=[];const ep={};let ua,ii,ca="dataLayer",Xi=!1;function cl(S,I,O){!function Iu(){const S=[];if((0,Y.ru)()&&S.push("This is a browser extension environment."),(0,Y.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((z,ce)=>`(${ce+1}) ${z}`).join(" "),O=ri.create("invalid-analytics-context",{errorInfo:I});gr.warn(O.message)}}();const z=S.options.appId;if(!z)throw ri.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw ri.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Os[z])throw ri.create("already-exists",{id:z});if(!Xi){!function ih(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(ca);const{wrappedGtag:pe,gtagCore:xe}=function Xf(S,I,O,z,ce){let pe=function(...xe){window[z].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(pe=window[ce]),window[ce]=function wu(S,I,O,z){function pe(){return(pe=(0,V.Z)(function*(xe,$e,Ge){try{"event"===xe?yield rl(S,I,O,$e,Ge):"config"===xe?yield sh(S,I,O,z,$e,Ge):"consent"===xe?S("consent","update",Ge):S("set",$e)}catch(kt){gr.error(kt)}})).apply(this,arguments)}return function ce(xe,$e,Ge){return pe.apply(this,arguments)}}(pe,S,I,O),{gtagCore:pe,wrappedGtag:window[ce]}}(Os,ll,ep,ca,"gtag");ii=pe,ua=xe,Xi=!0}return Os[z]=function Fo(S,I,O,z,ce,pe,xe){return Ji.apply(this,arguments)}(S,ll,ep,I,ua,ca,O),new lh(S)}function bn(){return tp.apply(this,arguments)}function tp(){return(tp=(0,V.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(S){return!1}})).apply(this,arguments)}const cc="@firebase/analytics";!function Qn(){(0,te._registerComponent)(new G.wA(el,(I,{options:O})=>cl(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,te._registerComponent)(new G.wA("analytics-internal",function S(I){try{const O=I.getProvider(el).getImmediate();return{logEvent:(z,ce,pe)=>function Nn(S,I,O,z){S=(0,Y.m9)(S),function aa(S,I,O,z,ce){return ks.apply(this,arguments)}(ii,Os[S.app.options.appId],I,O,z).catch(ce=>gr.error(ce))}(O,z,ce,pe)}}catch(O){throw ri.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,te.registerVersion)(cc,"0.8.4"),(0,te.registerVersion)(cc,"0.8.4","esm2017")}();var ul=N(341),so=N(353),Au=N(2868),es=N(8915),Dn=N(2102);const Ns=new a.GfV("7.4.1"),Po="__angularfire_symbol__analyticsIsSupportedValue",ts="__angularfire_symbol__analyticsIsSupported",si="__angularfire_symbol__remoteConfigIsSupportedValue",da="__angularfire_symbol__remoteConfigIsSupported",Rs="__angularfire_symbol__messagingIsSupportedValue",Du="__angularfire_symbol__messagingIsSupported";function xu(S,I,O){if(I){if(1===I.length)return I[0];const pe=I.filter(xe=>xe.app===O);if(1===pe.length)return pe[0]}return O.container.getProvider(S).getImmediate({optional:!0})}globalThis[ts]||(globalThis[ts]=bn().then(S=>globalThis[Po]=S).catch(()=>globalThis[Po]=!1)),globalThis[Du]||(globalThis[Du]=nh().then(S=>globalThis[Rs]=S).catch(()=>globalThis[Rs]=!1)),globalThis[da]||(globalThis[da]=Ul().then(S=>globalThis[si]=S).catch(()=>globalThis[si]=!1));const yr=(S,I)=>{const O=I?[I]:(0,ne.C6)(),z=[];return O.forEach(ce=>{ce.container.getProvider(S).instances.forEach(xe=>{z.includes(xe)||z.push(xe)})}),z};function ha(){}class fa{constructor(I,O=ul.c){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,z){const ce=this.zone;return this.delegate.schedule(function(xe){ce.runGuarded(()=>{I.apply(this,[xe])})},O,z)}}class uh{constructor(I){this.zone=I,this.task=null}call(I,O){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)),O.pipe((0,Au.b)({next:z,complete:z,error:z})).subscribe(I).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uc=(()=>{class S{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new fa(Zone.current)),this.insideAngular=O.run(()=>new fa(Zone.current,so.P)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(O){return new(O||S)(a.LFG(a.R0b))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ns(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function oo(S){return ns(),function ku(S){return function(O){return(O=O.lift(new uh(S.ngZone))).pipe((0,es.R)(S.outsideAngular),(0,Dn.QV)(S.insideAngular))}}(ns())(S)}},2090:(Ue,ae,N)=>{N.d(ae,{$s:()=>Je,BH:()=>wn,G6:()=>tt,L:()=>J,LL:()=>en,P0:()=>Le,Pz:()=>nn,Sg:()=>Vt,UG:()=>Ae,US:()=>G,ZB:()=>F,ZR:()=>En,aH:()=>mt,b$:()=>Ie,eu:()=>At,hl:()=>tn,jU:()=>Ee,m9:()=>qt,ne:()=>_s,pd:()=>ot,r3:()=>Qs,ru:()=>fe,tV:()=>Q,uI:()=>le,vZ:()=>Sn,w1:()=>we,xO:()=>Js,xb:()=>Oi,z$:()=>B,zI:()=>se,zd:()=>Ni});const te=function(K){const q=[];let oe=0;for(let Ce=0;Ce<K.length;Ce++){let me=K.charCodeAt(Ce);me<128?q[oe++]=me:me<2048?(q[oe++]=me>>6|192,q[oe++]=63&me|128):55296==(64512&me)&&Ce+1<K.length&&56320==(64512&K.charCodeAt(Ce+1))?(me=65536+((1023&me)<<10)+(1023&K.charCodeAt(++Ce)),q[oe++]=me>>18|240,q[oe++]=me>>12&63|128,q[oe++]=me>>6&63|128,q[oe++]=63&me|128):(q[oe++]=me>>12|224,q[oe++]=me>>6&63|128,q[oe++]=63&me|128)}return q},G={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,q){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let me=0;me<K.length;me+=3){const nt=K[me],Rt=me+1<K.length,hn=Rt?K[me+1]:0,Or=me+2<K.length,Et=Or?K[me+2]:0;let Un=(15&hn)<<2|Et>>6,fr=63&Et;Or||(fr=64,Rt||(Un=64)),Ce.push(oe[nt>>2],oe[(3&nt)<<4|hn>>4],oe[Un],oe[fr])}return Ce.join("")},encodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(K):this.encodeByteArray(te(K),q)},decodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(K):function(K){const q=[];let oe=0,Ce=0;for(;oe<K.length;){const me=K[oe++];if(me<128)q[Ce++]=String.fromCharCode(me);else if(me>191&&me<224){const nt=K[oe++];q[Ce++]=String.fromCharCode((31&me)<<6|63&nt)}else if(me>239&&me<365){const Or=((7&me)<<18|(63&K[oe++])<<12|(63&K[oe++])<<6|63&K[oe++])-65536;q[Ce++]=String.fromCharCode(55296+(Or>>10)),q[Ce++]=String.fromCharCode(56320+(1023&Or))}else{const nt=K[oe++],Rt=K[oe++];q[Ce++]=String.fromCharCode((15&me)<<12|(63&nt)<<6|63&Rt)}}return q.join("")}(this.decodeStringToByteArray(K,q))},decodeStringToByteArray(K,q){this.init_();const oe=q?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let me=0;me<K.length;){const nt=oe[K.charAt(me++)],hn=me<K.length?oe[K.charAt(me)]:0;++me;const Et=me<K.length?oe[K.charAt(me)]:64;++me;const vt=me<K.length?oe[K.charAt(me)]:64;if(++me,null==nt||null==hn||null==Et||null==vt)throw Error();Ce.push(nt<<2|hn>>4),64!==Et&&(Ce.push(hn<<4&240|Et>>2),64!==vt&&Ce.push(Et<<6&192|vt))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},J=function(K){return function(K){const q=te(K);return G.encodeByteArray(q,!0)}(K).replace(/\./g,"")},Q=function(K){try{return G.decodeString(K,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function F(K,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return q}for(const oe in q)!q.hasOwnProperty(oe)||!L(oe)||(K[oe]=F(K[oe],q[oe]));return K}function L(K){return"__proto__"!==K}function B(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function fe(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){const K=B();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function tt(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tn(){return"object"==typeof indexedDB}function At(){return new Promise((K,q)=>{try{let oe=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(Ce);me.onsuccess=()=>{me.result.close(),oe||self.indexedDB.deleteDatabase(Ce),K(!0)},me.onupgradeneeded=()=>{oe=!1},me.onerror=()=>{var nt;q((null===(nt=me.error)||void 0===nt?void 0:nt.message)||"")}}catch(oe){q(oe)}})}function se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const ge=()=>{try{return function De(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if("undefined"==typeof document)return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(oe){return}const q=K&&Q(K[1]);return q&&JSON.parse(q)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Le=K=>{const q=(K=>{var q,oe;return null===(oe=null===(q=ge())||void 0===q?void 0:q.emulatorHosts)||void 0===oe?void 0:oe[K]})(K);if(!q)return;const oe=q.lastIndexOf(":");if(oe<=0||oe+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const Ce=parseInt(q.substring(oe+1),10);return"["===q[0]?[q.substring(1,oe-1),Ce]:[q.substring(0,oe),Ce]},mt=()=>{var K;return null===(K=ge())||void 0===K?void 0:K.config},nn=K=>{var q;return null===(q=ge())||void 0===q?void 0:q[`_${K}`]};class wn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,oe)=>{this.resolve=q,this.reject=oe})}wrapCallback(q){return(oe,Ce)=>{oe?this.reject(oe):this.resolve(Ce),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(oe):q(oe,Ce))}}}function Vt(K,q){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=q||"demo-project",me=K.iat||0,nt=K.sub||K.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rt=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:me,exp:me+3600,auth_time:me,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},K);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(Rt)),""].join(".")}class En extends Error{constructor(q,oe,Ce){super(oe),this.code=q,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(q,oe,Ce){this.service=q,this.serviceName=oe,this.errors=Ce}create(q,...oe){const Ce=oe[0]||{},me=`${this.service}/${q}`,nt=this.errors[q],Rt=nt?function dn(K,q){return K.replace(Nt,(oe,Ce)=>{const me=q[Ce];return null!=me?String(me):`<${Ce}?>`})}(nt,Ce):"Error";return new En(me,`${this.serviceName}: ${Rt} (${me}).`,Ce)}}const Nt=/\{\$([^}]+)}/g;function Qs(K,q){return Object.prototype.hasOwnProperty.call(K,q)}function Oi(K){for(const q in K)if(Object.prototype.hasOwnProperty.call(K,q))return!1;return!0}function Sn(K,q){if(K===q)return!0;const oe=Object.keys(K),Ce=Object.keys(q);for(const me of oe){if(!Ce.includes(me))return!1;const nt=K[me],Rt=q[me];if(Er(nt)&&Er(Rt)){if(!Sn(nt,Rt))return!1}else if(nt!==Rt)return!1}for(const me of Ce)if(!oe.includes(me))return!1;return!0}function Er(K){return null!==K&&"object"==typeof K}function Js(K){const q=[];for(const[oe,Ce]of Object.entries(K))Array.isArray(Ce)?Ce.forEach(me=>{q.push(encodeURIComponent(oe)+"="+encodeURIComponent(me))}):q.push(encodeURIComponent(oe)+"="+encodeURIComponent(Ce));return q.length?"&"+q.join("&"):""}function Ni(K){const q={};return K.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[me,nt]=Ce.split("=");q[decodeURIComponent(me)]=decodeURIComponent(nt)}}),q}function ot(K){const q=K.indexOf("?");if(!q)return"";const oe=K.indexOf("#",q);return K.substring(q,oe>0?oe:void 0)}function _s(K,q){const oe=new Zt(K,q);return oe.subscribe.bind(oe)}class Zt{constructor(q,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{q(this)}).catch(Ce=>{this.error(Ce)})}next(q){this.forEachObserver(oe=>{oe.next(q)})}error(q){this.forEachObserver(oe=>{oe.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,oe,Ce){let me;if(void 0===q&&void 0===oe&&void 0===Ce)throw new Error("Missing Observer.");me=function St(K,q){if("object"!=typeof K||null===K)return!1;for(const oe of q)if(oe in K&&"function"==typeof K[oe])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:oe,complete:Ce},void 0===me.next&&(me.next=hr),void 0===me.error&&(me.error=hr),void 0===me.complete&&(me.complete=hr);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch(Rt){}}),this.observers.push(me),nt}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,q)}sendOne(q,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{oe(this.observers[q])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}function Je(K,q=1e3,oe=2){const Ce=q*Math.pow(oe,K),me=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+me)}function qt(K){return K&&K._delegate?K._delegate:K}},3698:(Ue,ae,N)=>{var a=N(6435);let ne=null;function V(){return ne}const re=new a.OlP("DocumentToken");let J=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Q(){return(0,a.LFG)(F)}()},providedIn:"platform"}),n})();const U=new a.OlP("Location Initialized");let F=(()=>{class n extends J{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){L()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){L()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function B(){return new F((0,a.LFG)(re))}()},providedIn:"platform"}),n})();function L(){return!!window.history.pushState}function le(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ee(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ne)},providedIn:"root"}),n})();const Ie=new a.OlP("appBaseHref");let Ne=(()=>{class n extends fe{constructor(t,r){var i,l,u;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(u=null!==(i=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(l=(0,a.f3M)(re).location)||void 0===l?void 0:l.origin)&&void 0!==u?u:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return le(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ee(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const u=this.prepareExternalUrl(i+Ee(l));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){const u=this.prepareExternalUrl(i+Ee(l));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(J),a.LFG(Ie,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=le(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let u=this.prepareExternalUrl(i+Ee(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,l){let u=this.prepareExternalUrl(i+Ee(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(J),a.LFG(Ie,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ae(tn(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ee(r))}normalize(t){return n.stripTrailingSlash(function tt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,tn(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ee(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ee(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._locationStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ee,n.joinWithSlash=le,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Be(){return new ze((0,a.LFG)(fe))}()},providedIn:"root"}),n})();function tn(n){return n.replace(/\/index.html$/,"")}class Ba{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ba(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,u),$n(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$n(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $n(n,e){n.context.$implicit=e.item}let zr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ws("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ws("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ti{constructor(){this.$implicit=null,this.ngIf=null}}function ws(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class ja{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let pn=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),su=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ja(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(pn,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Ao="browser";function Sr(n){return"server"===n}let Hl=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new zl((0,a.LFG)(re),window)}),n})();class zl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yd(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const u=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Es(this.window.history)||Es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xo extends class th extends class G{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Y(n){ne||(ne=n)}(new xo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Qa(){return to=to||document.querySelector("base"),to?to.getAttribute("href"):null}();return null==t?null:function ko(n){Ja=Ja||document.createElement("a"),Ja.setAttribute("href",n);const e=Ja.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){to=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Co(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Ja,to=null;const Xa=new a.OlP("TRANSITION_ID"),vu=[{provide:a.ip1,useFactory:function nh(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=V(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Xa,re,a.zs3],multi:!0}];let Yi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Cn=new a.OlP("EventManagerPlugins");let rh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const u=i[l];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cn),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Jf{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=V().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Jl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),bu=(()=>{class n extends Jl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gm),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gm))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function gm(n){V().remove(n)}const el={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tl=/%COMP%/g;function no(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?no(n,i,t):(i=i.replace(tl,n),t.push(i))}return t}function ih(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mi=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new rl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new mm(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case a.ifc.ShadowDom:return new ec(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=no(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(rh),a.LFG(bu),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class rl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(el[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xf(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xf(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=el[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=el[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ih(r)):this.eventManager.addEventListener(e,t,ih(r))}}function Xf(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mm extends rl{constructor(e,t,r,i){super(e),this.component=r;const l=no(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function gr(n){return"_ngcontent-%COMP%".replace(tl,n)}(i+"-"+r.id),this.hostAttr=function Ds(n){return"_nghost-%COMP%".replace(tl,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ec extends rl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=no(i.id,i.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ri=(()=>{class n extends Jf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const oa=["alt","control","meta","shift"],Eu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tu=(()=>{class n extends Jf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),u=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,l.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),oa.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),u+=b+".")}),u+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let i=Eu[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oa.forEach(u=>{u!==i&&(0,xs[u])(t)&&(l+=u+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Qi=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Ao},{provide:a.g9A,useValue:function Su(){xo.makeCurrent()},multi:!0},{provide:re,useFactory:function rc(){return(0,a.RDi)(document),document},deps:[]}]),sl=new a.OlP(""),aa=[{provide:a.rWj,useClass:class Fr{addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let l=i.length,u=!1;const f=function(y){u=u||y,l--,0==l&&r(u)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],ks=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function nc(){return new a.qLn},deps:[]},{provide:Cn,useClass:ri,multi:!0,deps:[re,a.R0b,a.Lbi]},{provide:Cn,useClass:Tu,multi:!0,deps:[re]},{provide:mi,useClass:mi,deps:[rh,bu,a.AFp]},{provide:a.FYo,useExisting:mi},{provide:Jl,useExisting:bu},{provide:bu,useClass:bu,deps:[re]},{provide:rh,useClass:rh,deps:[Cn,a.R0b]},{provide:class ql{},useClass:Yi,deps:[]},[]];let ol=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Xa,useExisting:a.AFp},vu]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sl,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...ks,...aa],imports:[Io,a.hGG]}),n})(),la=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ic(){return new la((0,a.LFG)(re))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;var Nn=N(5254),Zr=N(6498),cc=N(6688),bt=N(4850),Qn=N(7830);function so(n,e){return new Zr.y(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let l=0,u=0;for(let f=0;f<r;f++){const y=(0,Nn.D)(n[f]);let b=!1;t.add(y.subscribe({next:C=>{b||(b=!0,u++),i[f]=C},error:C=>t.error(C),complete:()=>{l++,(l===r||!b)&&(u===r&&t.next(e?e.reduce((C,x,P)=>(C[x]=i[P],C),{}):i),t.complete())}}))}})}let Au=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),es=(()=>{class n extends Au{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Dn=new a.OlP("NgValueAccessor"),ts={provide:Dn,useExisting:(0,a.Gpc)(()=>Rs),multi:!0},da=new a.OlP("CompositionEventMode");let Rs=(()=>{class n extends Au{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function si(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(da,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([ts]),a.qOj]}),n})();function Fs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ch(n){return null!=n&&"number"==typeof n.length}const mr=new a.OlP("NgValidators"),Jn=new a.OlP("NgAsyncValidators"),xu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yr{static min(e){return function ha(n){return e=>{if(Fs(e.value)||Fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function fa(n){return e=>{if(Fs(e.value)||Fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function uh(n){return Fs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function uc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ns(n){return Fs(n.value)||xu.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dh(n){return e=>Fs(e.value)||!ch(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function yi(n){return e=>ch(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function np(n){if(!n)return dl;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return O(e)}static composeAsync(e){return ce(e)}}function dl(n){return null}function oo(n){return null!=n}function ku(n){return(0,a.QGY)(n)?(0,Nn.D)(n):n}function ao(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Mu(n,e){return e.map(t=>t(n))}function I(n){return n.map(e=>function S(n){return!n.validate}(e)?e:t=>e.validate(t))}function O(n){if(!n)return null;const e=n.filter(oo);return 0==e.length?null:function(t){return ao(Mu(t,e))}}function z(n){return null!=n?O(I(n)):null}function ce(n){if(!n)return null;const e=n.filter(oo);return 0==e.length?null:function(t){return function ul(...n){if(1===n.length){const e=n[0];if((0,cc.k)(e))return so(e,null);if((0,Qn.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return so(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return so(n=1===n.length&&(0,cc.k)(n[0])?n[0]:n,null).pipe((0,bt.U)(t=>e(...t)))}return so(n,null)}(Mu(t,e).map(ku)).pipe((0,bt.U)(ao))}}function pe(n){return null!=n?ce(I(n)):null}function xe(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $e(n){return n._rawValidators}function Ge(n){return n._rawAsyncValidators}function kt(n){return n?Array.isArray(n)?n:[n]:[]}function Pt(n,e){return Array.isArray(n)?n.includes(e):n===e}function at(n,e){const t=kt(e);return kt(n).forEach(i=>{Pt(t,i)||t.push(i)}),t}function Hn(n,e){return kt(e).filter(t=>!Pt(n,t))}class Cr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=z(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pr extends Cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zn extends Cr{get formDirective(){return null}get path(){return null}}class rs{constructor(e){this._cd=e}get isTouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.touched)}get isUntouched(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.untouched)}get isPristine(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pristine)}get isDirty(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.dirty)}get isValid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.valid)}get isInvalid(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.invalid)}get isPending(){var e,t;return!(null===(t=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===t||!t.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let Gr=(()=>{class n extends rs{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pr,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),Pi=(()=>{class n extends rs{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zn,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();const Fu="VALID",Pu="INVALID",Lu="PENDING",ga="DISABLED";function Em(n){return(hl(n)?n.validators:n)||null}function ph(n){return Array.isArray(n)?z(n):n||null}function ip(n,e){return(hl(e)?e.asyncValidators:n)||null}function sp(n){return Array.isArray(n)?pe(n):n||null}function hl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Tm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ph(this._rawValidators),this._composedAsyncValidatorFn=sp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fu}get invalid(){return this.status===Pu}get pending(){return this.status==Lu}get disabled(){return this.status===ga}get enabled(){return this.status!==ga}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ph(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=sp(e)}addValidators(e){this.setValidators(at(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(at(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hn(e,this._rawAsyncValidators))}hasValidator(e){return Pt(this._rawValidators,e)}hasAsyncValidator(e){return Pt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ga,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fu||this.status===Lu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ga:Fu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lu,this._hasOwnPendingAsyncValidator=!0;const t=ku(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ga:this.errors?Pu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lu)?Lu:this._anyControlsHaveStatus(Pu)?Pu:Fu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class gh extends Tm{constructor(e,t,r){super(Em(t),ip(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function fl(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new a.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Vu(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[t])throw new a.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Sm=gh;function Bu(n,e){return[...e.path,n]}function pl(n,e){var t,r;mh(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&(null===(r=(t=e.valueAccessor).setDisabledState)||void 0===r||r.call(t,!0)),function _v(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pc(n,e)})}(n,e),function vv(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ma(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yv(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ju(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Hu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mh(n,e){const t=$e(n);null!==e.validator?n.setValidators(xe(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ge(n);null!==e.asyncValidator?n.setAsyncValidators(xe(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();fc(e._rawValidators,i),fc(e._rawAsyncValidators,i)}function Hu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=$e(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=Ge(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(u=>u!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return fc(e._rawValidators,r),fc(e._rawAsyncValidators,r),t}function pc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bv(n,e){mh(n,e)}function lp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Cm(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Rs?t=l:function cp(n){return Object.getPrototypeOf(n.constructor)===es}(l)?r=l:i=l}),i||r||t||null}const ml={provide:zn,useExisting:(0,a.Gpc)(()=>qu)},gc=(()=>Promise.resolve())();let qu=(()=>{class n extends zn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new gh({},z(t),pe(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){gc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),pl(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){gc.then(()=>{const r=this._findContainer(t.path),i=new gh({});bv(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){var r;return this.submitted=!0,Cm(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===(null===(r=null==t?void 0:t.target)||void 0===r?void 0:r.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(mr,10),a.Y36(Jn,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([ml]),a.qOj]}),n})();function $u(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Tv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Im=class extends Tm{constructor(e=null,t,r){super(Em(t),ip(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Tv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$u(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$u(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Tv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},mc=Im,Iv={provide:Pr,useExisting:(0,a.Gpc)(()=>Lo)},fp=(()=>Promise.resolve())();let Lo=(()=>{class n extends Pr{constructor(t,r,i,l,u){super(),this._changeDetectorRef=u,this.control=new Im,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zu(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),lp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fp.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,a.D6c)(r);fp.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?Bu(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zn,9),a.Y36(mr,10),a.Y36(Jn,10),a.Y36(Dn,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Iv]),a.qOj,a.TTD]}),n})(),vh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Dm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const bh=new a.OlP("NgModelWithFormControlWarning"),AE={provide:zn,useExisting:(0,a.Gpc)(()=>yc)};let yc=(()=>{class n extends zn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return pl(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ju(t.control||null,t,!1),function up(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){var r;return this.submitted=!0,Cm(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===(null===(r=null==t?void 0:t.target)||void 0===r?void 0:r.method)}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ju(r||null,t),(n=>n instanceof Im)(i)&&(pl(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);bv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function wv(n,e){return Hu(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mh(this.form,this),this._oldForm&&Hu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(mr,10),a.Y36(Jn,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([AE]),a.qOj,a.TTD]}),n})();const _p={provide:Pr,useExisting:(0,a.Gpc)(()=>vc)};let vc=(()=>{class n extends Pr{constructor(t,r,i,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=zu(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),lp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Bu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(zn,13),a.Y36(mr,10),a.Y36(Jn,10),a.Y36(Dn,10),a.Y36(bh,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([_p]),a.qOj,a.TTD]}),n})(),k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Dm]}),n})(),R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[k]}),n})(),X=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bh,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[k]}),n})();var it=N(1086),_r=N(8929),Sp=N(5279);class oi extends _r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Sp.N;return this._value}next(e){super.next(this._value=e)}}const Ah=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Qu=N(2866),Ju=N(826),Dh=N(9054),xE=N(3009);const Cp={};function Rm(...n){let e=null,t=null;return(0,Qu.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,cc.k)(n[0])&&(n=n[0]),(0,xE.n)(n,t).lift(new VI(e))}class VI{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new kE(e,this.resultSelector))}}class kE extends Ju.L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Cp),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++){const i=e[r];this.add((0,Dh.D)(this,i,i,r))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r,i,l){const u=this.values,y=this.toRespond?u[r]===Cp?--this.toRespond:this.toRespond:0;u[r]=t,0===y&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}var Xu=N(9146);function Ip(...n){return function ME(){return(0,Xu.J)(1)}()((0,it.of)(...n))}var wa=N(8896);function Fm(n){return new Zr.y(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?(0,Nn.D)(t):(0,wa.c)()).subscribe(e)})}var UI=N(4843),ed=N(1737),xh=N(1762),OE=N(1869);function Lr(n,e){return"function"==typeof e?t=>t.pipe(Lr((r,i)=>(0,Nn.D)(n(r,i)).pipe((0,bt.U)((l,u)=>e(r,l,i,u))))):t=>t.lift(new BI(n))}class BI{constructor(e){this.project=e}call(e,t){return t.subscribe(new NE(e,this.project))}}class NE extends Ju.L{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,r)}_innerSub(e,t,r){const i=this.innerSubscription;i&&i.unsubscribe();const l=new OE.d(this,t,r),u=this.destination;u.add(l),this.innerSubscription=(0,Dh.D)(this,e,void 0,void 0,l),this.innerSubscription!==l&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,r,i,l){this.destination.next(t)}}var Vs=N(3489);const RE=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function td(n){return e=>0===n?(0,wa.c)():e.lift(new Nv(n))}class Nv{constructor(e){if(this.total=e,this.total<0)throw new RE}call(e,t){return t.subscribe(new jI(e,this.total))}}class jI extends Vs.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function bc(...n){const e=n[n.length-1];return(0,Qu.K)(e)?(n.pop(),t=>Ip(n,t,e)):t=>Ip(n,t)}function Vo(n,e){return function(r){return r.lift(new FE(n,e))}}class FE{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new HI(e,this.predicate,this.thisArg))}}class HI extends Vs.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}var as=N(1709);function Kr(n=null){return e=>e.lift(new Rv(n))}class Rv{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new PE(e,this.defaultValue))}}class PE extends Vs.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Pm(n=LE){return e=>e.lift(new vi(n))}class vi{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Ap(e,this.errorFactory))}}class Ap extends Vs.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function LE(){return new Ah}var VE=N(5379);function _l(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vo((i,l)=>n(i,l,r)):VE.y,td(1),t?Kr(e):Pm(()=>new Ah))}function wc(n,e){return(0,as.zg)(n,e,1)}var bi=N(2868);function Ec(n){return function(t){const r=new zI(n),i=t.lift(r);return r.caught=i}}class zI{constructor(e){this.selector=e}call(e,t){return t.subscribe(new UE(e,this.selector,this.caught))}}class UE extends Ju.L{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new OE.d(this,void 0,void 0);this.add(r);const i=(0,Dh.D)(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}function Dp(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new qI(n,e,t))}}class qI{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new $I(e,this.accumulator,this.seed,this.hasSeed))}}class $I extends Vs.L{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Fv(n){return function(t){return 0===n?(0,wa.c)():t.lift(new ZI(n))}}class ZI{constructor(e){if(this.total=e,this.total<0)throw new RE}call(e,t){return t.subscribe(new kh(e,this.total))}}class kh extends Vs.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let l=0;l<r;l++){const u=t++%r;e.next(i[u])}}e.complete()}}function Ea(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Vo((i,l)=>n(i,l,r)):VE.y,Fv(1),t?Kr(e):Pm(()=>new Ah))}class WI{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new E1(e,this.predicate,this.inclusive))}}class E1 extends Vs.L{constructor(e,t,r){super(e),this.predicate=t,this.inclusive=r,this.index=0}_next(e){const t=this.destination;let r;try{r=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,r)}nextOrComplete(e,t){const r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())}}class BE{constructor(e){this.value=e}call(e,t){return t.subscribe(new S1(e,this.value))}}class S1 extends Vs.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var Uo=N(2654);function xp(n){return e=>e.lift(new Pv(n))}class Pv{constructor(e){this.callback=e}call(e,t){return t.subscribe(new KI(e,this.callback))}}class KI extends Vs.L{constructor(e,t){super(e),this.add(new Uo.w(t))}}var Lv=N(4327);const Yt="primary",vl=Symbol("RouteTitle");class YI{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Mh(n){return new YI(n)}function Vv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const u=r[l],f=n[l];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Bo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!QI(n[i],e[i]))return!1;return!0}function QI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function nd(n){return Array.prototype.concat.apply([],n)}function Lm(n){return n.length>0?n[n.length-1]:null}function ai(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ta(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Nn.D)(Promise.resolve(n)):(0,it.of)(n)}const eA={exact:function jv(n,e,t){if(!Tc(n.segments,e.segments)||!Um(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jv(n.children[r],e.children[r],t))return!1;return!0},subset:zv},jE={exact:function tA(n,e){return Bo(n,e)},subset:function Hv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QI(n[t],e[t]))},ignored:()=>!0};function HE(n,e,t){return eA[t.paths](n.root,e.root,t.matrixParams)&&jE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zv(n,e,t){return Vm(n,e,e.segments,t)}function Vm(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Tc(i,t)||e.hasChildren()||!Um(i,t,r))}if(n.segments.length===t.length){if(!Tc(n.segments,t)||!Um(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!zv(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Tc(n.segments,i)&&Um(n.segments,i,r)&&n.children[Yt])&&Vm(n.children[Yt],e,l,r)}}function Um(n,e,t){return e.every((r,i)=>jE[t](n[i].parameters,r.parameters))}class rd{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mh(this.queryParams)),this._queryParamMap}toString(){return Bm.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ai(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jm(this)}}class Oh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Mh(this.parameters)),this._parameterMap}toString(){return Zv(this)}}function Tc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let qE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new $E},providedIn:"root"}),n})();class $E{parse(e){const t=new WE(e);return new rd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nh(e.root,!0)}`,r=function ZE(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${kp(t)}=${kp(i)}`).join("&"):`${kp(t)}=${kp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $v(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Bm=new $E;function jm(n){return n.segments.map(e=>Zv(e)).join("/")}function Nh(n,e){if(!n.hasChildren())return jm(n);if(e){const t=n.children[Yt]?Nh(n.children[Yt],!1):"",r=[];return ai(n.children,(i,l)=>{l!==Yt&&r.push(`${l}:${Nh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function zE(n,e){let t=[];return ai(n.children,(r,i)=>{i===Yt&&(t=t.concat(e(r,i)))}),ai(n.children,(r,i)=>{i!==Yt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Yt?[Nh(n.children[Yt],!1)]:[`${i}:${Nh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yt]?`${jm(n)}/${t[0]}`:`${jm(n)}/(${t.join("//")})`}}function qv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kp(n){return qv(n).replace(/%3B/gi,";")}function Hm(n){return qv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sd(n){return decodeURIComponent(n)}function Mp(n){return sd(n.replace(/\+/g,"%20"))}function Zv(n){return`${Hm(n.path)}${function Gv(n){return Object.keys(n).map(e=>`;${Hm(e)}=${Hm(n[e])}`).join("")}(n.parameters)}`}const Wv=/^[^\/()?;=#]+/;function Sc(n){const e=n.match(Wv);return e?e[0]:""}const nA=/^[^=?&#]+/,rA=/^[^&#]+/;class WE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Yt]=new Qt(e,t)),r}parseSegment(){const e=Sc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new Oh(sd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Sc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Sc(this.remaining);i&&(r=i,this.capture(r))}e[sd(t)]=sd(r)}parseQueryParam(e){const t=function GE(n){const e=n.match(nA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function iA(n){const e=n.match(rA);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Mp(t),l=Mp(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Yt);const u=this.parseChildren();t[l]=1===Object.keys(u).length?u[Yt]:new Qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function Op(n){return n.segments.length>0?new Qt([],{[Yt]:n}):n}function Np(n){const e={};for(const r of Object.keys(n.children)){const l=Np(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function C1(n){if(1===n.numberOfChildren&&n.children[Yt]){const e=n.children[Yt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}function Cc(n){return n instanceof rd}function jo(n,e,t,r,i){var l;if(0===t.length)return Fh(e.root,e.root,e.root,r,i);const f=function QE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new YE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return ai(l.outlets,(y,b)=>{f[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===u?(l.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new YE(t,e,r)}(t);return f.toRoot()?Fh(e.root,e.root,new Qt([],{}),r,i):function y(C){var x;const P=function cA(n,e,t,r){if(n.isAbsolute)return new od(e.root,!0,0);if(-1===r)return new od(t,t===e.root,0);return function JE(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new a.vHH(4005,!1);i=r.segments.length}return new od(r,!1,i-l)}(t,r+(Rp(n.commands[0])?0:1),n.numberOfDoubleDots)}(f,e,null===(x=n.snapshot)||void 0===x?void 0:x._urlSegment,C),H=P.processChildren?Ph(P.segmentGroup,P.index,f.commands):zm(P.segmentGroup,P.index,f.commands);return Fh(e.root,P.segmentGroup,H,r,i)}(null===(l=n.snapshot)||void 0===l?void 0:l._lastPathIndex)}function Rp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rh(n){return"object"==typeof n&&null!=n&&n.outlets}function Fh(n,e,t,r,i){let u,l={};r&&ai(r,(y,b)=>{l[b]=Array.isArray(y)?y.map(C=>`${C}`):`${y}`}),u=n===e?t:KE(n,e,t);const f=Op(Np(u));return new rd(f,l,i)}function KE(n,e,t){const r={};return ai(n.children,(i,l)=>{r[l]=i===e?t:KE(i,e,t)}),new Qt(n.segments,r)}class YE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Rp(r[0]))throw new a.vHH(4003,!1);const i=r.find(Rh);if(i&&i!==Lm(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class od{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function zm(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return Ph(n,e,t);const r=function XE(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const u=n.segments[i],f=t[r];if(Rh(f))break;const y=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!eT(y,b,u))return l;r+=2}else{if(!eT(y,{},u))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Qt(n.segments.slice(0,r.pathIndex),{});return l.children[Yt]=new Qt(n.segments.slice(r.pathIndex),n.children),Ph(l,0,i)}return r.match&&0===i.length?new Qt(n.segments,{}):r.match&&!n.hasChildren()?Yv(n,e,t):r.match?Ph(n,0,i):Yv(n,e,t)}function Ph(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const r=function zt(n){return Rh(n[0])?n[0].outlets:{[Yt]:n}}(t),i={};return ai(r,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[u]=zm(n.children[u],e,l))}),ai(n.children,(l,u)=>{void 0===r[u]&&(i[u]=l)}),new Qt(n.segments,i)}}function Yv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Rh(l)){const y=uA(l.outlets);return new Qt(r,y)}if(0===i&&Rp(t[0])){r.push(new Oh(n.segments[e].path,Qv(t[0]))),i++;continue}const u=Rh(l)?l.outlets[Yt]:`${l}`,f=i<t.length-1?t[i+1]:null;u&&f&&Rp(f)?(r.push(new Oh(u,Qv(f))),i+=2):(r.push(new Oh(u,{})),i++)}return new Qt(r,{})}function uA(n){const e={};return ai(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Yv(new Qt([],{}),0,t))}),e}function Qv(n){const e={};return ai(n,(t,r)=>e[r]=`${t}`),e}function eT(n,e,t){return n==t.path&&Bo(e,t.parameters)}class Sa{constructor(e,t){this.id=e,this.url=t}}class Jv extends Sa{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ad extends Sa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xv extends Sa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eb extends Sa{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tT extends Sa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ld extends Sa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dA extends Sa{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tb extends Sa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nb extends Sa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hA{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class I1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A1{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D1{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fA{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qm(e,this._root).map(t=>t.value)}}function rb(n,e){if(n===e.value)return e;for(const t of e.children){const r=rb(n,t);if(r)return r}return null}function qm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qm(n,t);if(r.length)return r.unshift(e),r}return[]}class uo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ib extends cd{constructor(e,t){super(e),this.snapshot=t,$m(this,e)}toString(){return this.snapshot.toString()}}function rT(n,e){const t=function mA(n,e){const u=new Fp([],{},{},"",{},Yt,e,null,n.root,-1,{});return new sT("",new uo(u,[]))}(n,e),r=new oi([new Oh("",{})]),i=new oi({}),l=new oi({}),u=new oi({}),f=new oi(""),y=new ud(r,i,u,f,l,Yt,e,t.root);return y.snapshot=t.root,new ib(new uo(y,[]),t)}class ud{constructor(e,t,r,i,l,u,f,y){var b,C;this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this.title=null!==(C=null===(b=this.data)||void 0===b?void 0:b.pipe((0,bt.U)(x=>x[vl])))&&void 0!==C?C:(0,it.of)(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>Mh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>Mh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iT(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function yA(n){return n.reduce((e,t)=>{var r;return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),e.resolve),null===(r=t.routeConfig)||void 0===r?void 0:r.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(r))}class Fp{constructor(e,t,r,i,l,u,f,y,b,C,x,P){var H;this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=u,this.component=f,this.title=null===(H=this.data)||void 0===H?void 0:H[vl],this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=C,this._correctedLastPathIndex=null!=P?P:C,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sT extends cd{constructor(e,t){super(t),this.url=e,$m(this,t)}toString(){return sb(this._root)}}function $m(n,e){e.value._routerState=n,e.children.forEach(t=>$m(n,t))}function sb(n){const e=n.children.length>0?` { ${n.children.map(sb).join(", ")} } `:"";return`${n.value}${e}`}function Pp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bo(e.params,t.params)||n.params.next(t.params),function Uv(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function oT(n,e){const t=Bo(n.params,e.params)&&function id(n,e){return Tc(n,e)&&n.every((t,r)=>Bo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||oT(n.parent,e.parent))}function Lp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function x1(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lp(n,r,i);return Lp(n,r)})}(n,e,t);return new uo(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Lp(n,f)),u}}const r=function Vh(n){return new ud(new oi(n.url),new oi(n.params),new oi(n.queryParams),new oi(n.fragment),new oi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Lp(n,l));return new uo(r,i)}}const Zm="ngNavigationCancelingError";function ab(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Cc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Vp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Vp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Zm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ho(n){return lb(n)&&Cc(n.url)}function lb(n){return n&&n[Zm]}class _A{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dd,this.attachRef=null}}let dd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _A,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fo=!1;let Up=(()=>{class n{constructor(t,r,i,l,u){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=i||Yt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,fo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,fo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,fo);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,fo);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new aT(t,f,i.injector);if(r&&function cb(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(u);this.activated=i.createComponent(b,i.length,y)}else this.activated=i.createComponent(u,{index:i.length,injector:y,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(dd),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class aT{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ud?this.route:e===dd?this.childContexts:this.parent.get(e,t)}}let lT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[Up],encapsulation:2}),n})();function ub(n,e){var t;return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),null!==(t=n._injector)&&void 0!==t?t:e}function pb(n){const e=n.children&&n.children.map(pb),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Yt&&(t.component=lT),t}function po(n){return n.outlet||Yt}function uT(n,e){const t=n.filter(r=>po(r)===e);return t.push(...n.filter(r=>po(r)!==e)),t}function Uh(n){var e;if(!n)return null;if(null!==(e=n.routeConfig)&&void 0!==e&&e._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const r=t.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class bA{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Pp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Lh(t);e.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,i[u],r),delete i[u]}),ai(i,(l,u)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Lh(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Lh(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Lh(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new nT(l.value.snapshot))}),e.children.length&&this.forwardEvent(new D1(e.value.snapshot))}activateRoutes(e,t,r){var i;const l=e.value,u=t?t.value:null;if(Pp(l),l===u)if(l.component){const f=r.getOrCreateContext(l.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(l.component){const f=r.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const y=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),Pp(y.route.value),this.activateChildRoutes(e,null,f.children)}else{const y=Uh(l.snapshot),b=null!==(i=null==y?void 0:y.get(a._Vd))&&void 0!==i?i:null;f.attachRef=null,f.route=l,f.resolver=b,f.injector=y,f.outlet&&f.outlet.activateWith(l,f.injector),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class wA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jp{constructor(e,t){this.component=e,this.route=t}}function dT(n,e,t){const r=n._root;return Gm(r,e?e._root:null,t,[r.value])}function Ic(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function Gm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Lh(e);return n.children.forEach(u=>{(function O1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const y=function N1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Tc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Tc(n.url,e.url)||!Bo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oT(n,e)||!Bo(n.queryParams,e.queryParams);default:return!oT(n,e)}}(u,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new wA(r)):(l.data=u.data,l._resolvedData=u._resolvedData),Gm(n,e,l.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new jp(f.outlet.component,u))}else u&&Wm(e,f,i),i.canActivateChecks.push(new wA(r)),Gm(n,null,l.component?f?f.children:null:t,r,i)})(u,l[u.value.outlet],t,r.concat([u.value]),i),delete l[u.value.outlet]}),ai(l,(u,f)=>Wm(u,t.getContext(f),i)),i}function Wm(n,e,t){const r=Lh(n),i=n.value;ai(r,(l,u)=>{Wm(l,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new jp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Km(n){return"function"==typeof n}function Ym(n){return n instanceof Ah||"EmptyError"===(null==n?void 0:n.name)}const Bh=Symbol("INITIAL_VALUE");function hd(){return Lr(n=>Rm(n.map(e=>e.pipe(td(1),bc(Bh)))).pipe((0,bt.U)(e=>{for(const t of e)if(!0!==t){if(t===Bh)return Bh;if(!1===t||t instanceof rd)return t}return!0}),Vo(e=>e!==Bh),td(1)))}function Hp(n){return(0,UI.z)((0,bi.b)(e=>{if(Cc(e))throw ab(0,e)}),(0,bt.U)(e=>!0===e))}const zp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fd(n,e,t,r,i){const l=qp(n,e,t);return l.matched?function jh(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,it.of)(!0);const l=i.map(u=>{const f=Ic(u,n);return Ta(function Ac(n){return n&&Km(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,it.of)(l).pipe(hd(),Hp())}(r=ub(e,r),e,t).pipe((0,bt.U)(u=>!0===u?l:Object.assign({},zp))):(0,it.of)(l)}function qp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},zp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Vv)(t,n,e);if(!l)return Object.assign({},zp);const u={};ai(l.posParams,(y,b)=>{u[b]=y.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function pd(n,e,t,r,i="corrected"){if(t.length>0&&function mb(n,e,t){return t.some(r=>$p(n,e,r)&&po(r)!==Yt)}(n,t,r)){const u=new Qt(e,function mT(n,e,t,r){const i={};i[Yt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&po(l)!==Yt){const u=new Qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[po(l)]=u}return i}(n,e,r,new Qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function yb(n,e,t){return t.some(r=>$p(n,e,r))}(n,t,r)){const u=new Qt(n.segments,function gT(n,e,t,r,i,l){const u={};for(const f of r)if($p(n,t,f)&&!i[po(f)]){const y=new Qt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,u[po(f)]=y}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const l=new Qt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function $p(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Qm(n,e,t,r){return!!(po(n)===r||r!==Yt&&$p(e,t,n))&&("**"===n.path||qp(e,n,t).matched)}function yT(n,e,t){return 0===e.length&&!n.children[t]}const _b=!1;class Jm{constructor(e){this.segmentGroup=e||null}}class vb{constructor(e){this.urlTree=e}}function Zp(n){return(0,ed._)(new Jm(n))}function bb(n){return(0,ed._)(new vb(n))}class vT{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=pd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Yt).pipe((0,bt.U)(l=>this.createUrlTree(Np(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ec(l=>{if(l instanceof vb)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Jm?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Yt).pipe((0,bt.U)(i=>this.createUrlTree(Np(i),e.queryParams,e.fragment))).pipe(Ec(i=>{throw i instanceof Jm?this.noMatchError(i):i}))}noMatchError(e){return new a.vHH(4002,_b)}createUrlTree(e,t,r){const i=Op(e);return new rd(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(l=>new Qt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Nn.D)(i).pipe(wc(l=>{const u=r.children[l],f=uT(t,l);return this.expandSegmentGroup(e,f,u,l).pipe((0,bt.U)(y=>({segment:y,outlet:l})))}),Dp((l,u)=>(l[u.outlet]=u.segment,l),{}),Ea())}expandSegment(e,t,r,i,l,u){return(0,Nn.D)(r).pipe(wc(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,u).pipe(Ec(b=>{if(b instanceof Jm)return(0,it.of)(null);throw b}))),_l(f=>!!f),Ec((f,y)=>{if(Ym(f))return yT(t,i,l)?(0,it.of)(new Qt([],{})):Zp(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,u,f){return Qm(i,t,l,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u):Zp(t):Zp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bb(l):this.lineralizeSegments(r,l).pipe((0,as.zg)(u=>{const f=new Qt(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,u){const{matched:f,consumedSegments:y,remainingSegments:b,positionalParamSegments:C}=qp(t,i,l);if(!f)return Zp(t);const x=this.applyRedirectCommands(y,i.redirectTo,C);return i.redirectTo.startsWith("/")?bb(x):this.lineralizeSegments(i,x).pipe((0,as.zg)(P=>this.expandSegment(e,t,r,P.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=ub(r,e),r.loadChildren?(r._loadedRoutes?(0,it.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,bt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Qt(i,{})))):(0,it.of)(new Qt(i,{}))):fd(t,r,i,e).pipe(Lr(({matched:u,consumedSegments:f,remainingSegments:y})=>{var b;return u?(e=null!==(b=r._injector)&&void 0!==b?b:e,this.getChildConfig(e,r,i).pipe((0,as.zg)(x=>{var P;const H=null!==(P=x.injector)&&void 0!==P?P:e,$=x.routes,{segmentGroup:ue,slicedSegments:ve}=pd(t,f,y,$),je=new Qt(ue.segments,ue.children);if(0===ve.length&&je.hasChildren())return this.expandChildren(H,$,je).pipe((0,bt.U)(Tt=>new Qt(f,Tt)));if(0===$.length&&0===ve.length)return(0,it.of)(new Qt(f,{}));const et=po(r)===l;return this.expandSegment(H,je,$,ve,et?Yt:l,!0).pipe((0,bt.U)(Ke=>new Qt(f.concat(Ke.segments),Ke.children)))}))):Zp(t)}))}getChildConfig(e,t,r){return t.children?(0,it.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,it.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function DA(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,it.of)(!0);const l=i.map(u=>{const f=Ic(u,n);return Ta(function F1(n){return n&&Km(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,it.of)(l).pipe(hd(),Hp())}(e,t,r).pipe((0,as.zg)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,bi.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function xA(n){return(0,ed._)(Vp(_b,3))}())):(0,it.of)({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,it.of)(r);if(i.numberOfChildren>1||!i.children[Yt])return(0,ed._)(new a.vHH(4e3,_b));i=i.children[Yt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new rd(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ai(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let u={};return ai(t.children,(f,y)=>{u[y]=this.createSegmentGroup(e,f,r,i)}),new Qt(l,u)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new a.vHH(4001,_b);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class MA{}class OA{constructor(e,t,r,i,l,u,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=pd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Yt).pipe((0,bt.U)(t=>{if(null===t)return null;const r=new Fp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new uo(r,t),l=new sT(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=iT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Nn.D)(Object.keys(r.children)).pipe(wc(i=>{const l=r.children[i],u=uT(t,i);return this.processSegmentGroup(e,u,l,i)}),Dp((i,l)=>i&&l?(i.push(...l),i):null),function GI(n,e=!1){return t=>t.lift(new WI(n,e))}(i=>null!==i),Kr(null),Ea(),(0,bt.U)(i=>{if(null===i)return null;const l=ET(i);return function NA(n){n.sort((e,t)=>e.value.outlet===Yt?-1:t.value.outlet===Yt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,Nn.D)(t).pipe(wc(u=>{var f;return this.processSegmentAgainstRoute(null!==(f=u._injector)&&void 0!==f?f:e,u,r,i,l)}),_l(u=>!!u),Ec(u=>{if(Ym(u))return yT(r,i,l)?(0,it.of)([]):(0,it.of)(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,l){var u,f;if(t.redirectTo||!Qm(t,r,i,l))return(0,it.of)(null);let y;if("**"===t.path){const b=i.length>0?Lm(i).parameters:{},C=CT(r)+i.length,x=new Fp(i,b,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sb(t),po(t),null!==(f=null!==(u=t.component)&&void 0!==u?u:t._loadedComponent)&&void 0!==f?f:null,t,ST(r),C,IT(t),C);y=(0,it.of)({snapshot:x,consumedSegments:[],remainingSegments:[]})}else y=fd(r,t,i,e).pipe((0,bt.U)(({matched:b,consumedSegments:C,remainingSegments:x,parameters:P})=>{var H,$;if(!b)return null;const ue=CT(r)+C.length;return{snapshot:new Fp(C,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sb(t),po(t),null!==($=null!==(H=t.component)&&void 0!==H?H:t._loadedComponent)&&void 0!==$?$:null,t,ST(r),ue,IT(t),ue),consumedSegments:C,remainingSegments:x}}));return y.pipe(Lr(b=>{var C,x;if(null===b)return(0,it.of)(null);const{snapshot:P,consumedSegments:H,remainingSegments:$}=b;e=null!==(C=t._injector)&&void 0!==C?C:e;const ue=null!==(x=t._loadedInjector)&&void 0!==x?x:e,ve=function RA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:je,slicedSegments:et}=pd(r,H,$,ve.filter(Ke=>void 0===Ke.redirectTo),this.relativeLinkResolution);if(0===et.length&&je.hasChildren())return this.processChildren(ue,ve,je).pipe((0,bt.U)(Ke=>null===Ke?null:[new uo(P,Ke)]));if(0===ve.length&&0===et.length)return(0,it.of)([new uo(P,[])]);const ut=po(t)===l;return this.processSegment(ue,ve,je,et,ut?Yt:l).pipe((0,bt.U)(Ke=>null===Ke?null:[new uo(P,Ke)]))}))}}function wT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ET(n){const e=[],t=new Set;for(const r of n){if(!wT(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ET(r.children);e.push(new uo(r.value,i))}return e.filter(r=>!t.has(r))}function ST(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function CT(n){var e,t;let r=n,i=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=null!==(t=r._segmentIndexShift)&&void 0!==t?t:0;return i-1}function Sb(n){return n.data||{}}function IT(n){return n.resolve||{}}function DT(n){return"string"==typeof n.title||null===n.title}function Ib(n){return Lr(e=>{const t=n(e);return t?(0,Nn.D)(t).pipe((0,bt.U)(()=>e)):(0,it.of)(e)})}let xT=(()=>{class n{buildTitle(t){var r;let i,l=t.root;for(;void 0!==l;)i=null!==(r=this.getResolvedTitleForRoute(l))&&void 0!==r?r:i,l=l.children.find(u=>u.outlet===Yt);return i}getResolvedTitleForRoute(t){return t.data[vl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Xm)},providedIn:"root"}),n})(),Xm=(()=>{class n extends xT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(la))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LA{}class Ab extends class ey{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Db=new a.OlP("",{providedIn:"root",factory:()=>({})}),kT=new a.OlP("ROUTES");let ry=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,it.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ta(t.loadComponent()).pipe((0,bi.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),xp(()=>{this.componentLoaders.delete(t)})),i=new xh.c(r,()=>new _r.xQ).pipe((0,Lv.x)());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,it.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,bt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,b,C=!1;Array.isArray(f)?b=f:(y=f.create(t).injector,b=nd(y.get(kT,[],a.XFs.Self|a.XFs.Optional)));return{routes:b.map(pb),injector:y}}),xp(()=>{this.childrenLoaders.delete(r)})),u=new xh.c(l,()=>new _r.xQ).pipe((0,Lv.x)());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Ta(t()).pipe((0,as.zg)(r=>r instanceof a.YKP||Array.isArray(r)?(0,it.of)(r):(0,Nn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MT{}class OT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function xb(n){throw n}function bl(n,e,t){return e.parse("/")}const iy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function NT(){var n,e;const t=(0,a.f3M)(qE),r=(0,a.f3M)(dd),i=(0,a.f3M)(ze),l=(0,a.f3M)(a.zs3),u=(0,a.f3M)(a.Sil),f=null!==(n=(0,a.f3M)(kT,{optional:!0}))&&void 0!==n?n:[],y=null!==(e=(0,a.f3M)(Db,{optional:!0}))&&void 0!==e?e:{},b=(0,a.f3M)(Xm),C=(0,a.f3M)(xT,{optional:!0}),x=(0,a.f3M)(MT,{optional:!0}),P=(0,a.f3M)(LA,{optional:!0}),H=new Rn(null,t,r,i,l,u,nd(f));return x&&(H.urlHandlingStrategy=x),P&&(H.routeReuseStrategy=P),H.titleStrategy=null!=C?C:b,function Wp(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(y,H),H}let Rn=(()=>{class n{constructor(t,r,i,l,u,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _r.xQ,this.errorHandler=xb,this.malformedUriErrorHandler=bl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,it.of)(void 0),this.urlHandlingStrategy=new OT,this.routeReuseStrategy=new Ab,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(ry),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new I1(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new hA(P)),this.ngModule=u.get(a.h0i),this.console=u.get(a.c2e);const x=u.get(a.R0b);this.isNgZoneEnabled=x instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function XI(){return new rd(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rT(this.currentUrlTree,this.rootComponentType),this.transitions=new oi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Vo(i=>0!==i.id),(0,bt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Lr(i=>{let l=!1,u=!1;return(0,it.of)(i).pipe((0,bi.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Lr(f=>{const y=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return FT(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,it.of)(f).pipe(Lr(x=>{const P=this.transitions.getValue();return r.next(new Jv(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),P!==this.transitions.getValue()?wa.E:Promise.resolve(x)}),function kA(n,e,t,r){return Lr(i=>function Us(n,e,t,r,i){return new vT(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,bt.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bi.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects}),i.urlAfterRedirects=x.urlAfterRedirects}),function Ca(n,e,t,r,i,l){return(0,as.zg)(u=>function bT(n,e,t,r,i,l,u="emptyOnly",f="legacy"){return new OA(n,e,t,r,i,u,f,l).recognize().pipe(Lr(y=>null===y?function Eb(n){return new Zr.y(e=>e.error(n))}(new MA):(0,it.of)(y)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,l).pipe((0,bt.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bi.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(H,x)}this.browserUrlTree=x.urlAfterRedirects}const P=new tT(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(P)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:H,source:$,restoredState:ue,extras:ve}=f,je=new Jv(P,this.serializeUrl(H),$,ue);r.next(je);const et=rT(H,this.rootComponentType).snapshot;return i=Object.assign(Object.assign({},f),{targetSnapshot:et,urlAfterRedirects:H,extras:Object.assign(Object.assign({},ve),{skipLocationChange:!1,replaceUrl:!1})}),(0,it.of)(i)}return this.rawUrlTree=f.rawUrl,f.resolve(null),wa.E}),(0,bi.b)(f=>{const y=new ld(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,bt.U)(f=>i=Object.assign(Object.assign({},f),{guards:dT(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function gb(n,e){return(0,as.zg)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:u}}=t;return 0===u.length&&0===l.length?(0,it.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function SA(n,e,t,r){return(0,Nn.D)(n).pipe((0,as.zg)(i=>function AA(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,it.of)(!0);const u=l.map(f=>{var y;const b=null!==(y=Uh(e))&&void 0!==y?y:i,C=Ic(f,b);return Ta(function V1(n){return n&&Km(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):b.runInContext(()=>C(n,e,t,r))).pipe(_l())});return(0,it.of)(u).pipe(hd())}(i.component,i.route,t,e,r)),_l(i=>!0!==i,!0))}(u,r,i,n).pipe((0,as.zg)(f=>f&&function R1(n){return"boolean"==typeof n}(f)?function Dc(n,e,t,r){return(0,Nn.D)(e).pipe(wc(i=>Ip(function CA(n,e){return null!==n&&e&&e(new A1(n)),(0,it.of)(!0)}(i.route.parent,r),function fT(n,e){return null!==n&&e&&e(new fA(n)),(0,it.of)(!0)}(i.route,r),function pT(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(u=>function EA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Fm(()=>{const f=u.guards.map(y=>{var b;const C=null!==(b=Uh(u.node))&&void 0!==b?b:t,x=Ic(y,C);return Ta(function L1(n){return n&&Km(n.canActivateChild)}(x)?x.canActivateChild(r,n):C.runInContext(()=>x(r,n))).pipe(_l())});return(0,it.of)(f).pipe(hd())}));return(0,it.of)(l).pipe(hd())}(n,i.path,t),function IA(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,it.of)(!0);const i=r.map(l=>Fm(()=>{var u;const f=null!==(u=Uh(e))&&void 0!==u?u:t,y=Ic(l,f);return Ta(function P1(n){return n&&Km(n.canActivate)}(y)?y.canActivate(e,n):f.runInContext(()=>y(e,n))).pipe(_l())}));return(0,it.of)(i).pipe(hd())}(n,i.route,t))),_l(i=>!0!==i,!0))}(r,l,n,e):(0,it.of)(f)),(0,bt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,bi.b)(f=>{if(i.guardsResult=f.guardsResult,Cc(f.guardsResult))throw ab(0,f.guardsResult);const y=new dA(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Vo(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Ib(f=>{if(f.guards.canActivateChecks.length)return(0,it.of)(f).pipe((0,bi.b)(y=>{const b=new tb(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Lr(y=>{let b=!1;return(0,it.of)(y).pipe(function Cb(n,e){return(0,as.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,it.of)(t);let l=0;return(0,Nn.D)(i).pipe(wc(u=>function FA(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==(null==i?void 0:i.title)&&!DT(i)&&(l[vl]=i.title),function PA(n,e,t,r){const i=function U1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,it.of)({});const l={};return(0,Nn.D)(i).pipe((0,as.zg)(u=>function AT(n,e,t,r){var i;const l=null!==(i=Uh(e))&&void 0!==i?i:r,u=Ic(n,l);return Ta(u.resolve?u.resolve(e,t):l.runInContext(()=>u(e,t)))}(n[u],e,t,r).pipe(_l(),(0,bi.b)(f=>{l[u]=f}))),Fv(1),function T1(n){return e=>e.lift(new BE(n))}(l),Ec(u=>Ym(u)?wa.E:(0,ed._)(u)))}(l,n,e,r).pipe((0,bt.U)(u=>(n._resolvedData=u,n.data=iT(n,t).resolve,i&&DT(i)&&(n.data[vl]=i.title),null)))}(u.route,r,n,e)),(0,bi.b)(()=>l++),Fv(1),(0,as.zg)(u=>l===i.length?(0,it.of)(t):wa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,bi.b)(y=>{const b=new nb(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),Ib(f=>{const y=b=>{var C;const x=[];(null===(C=b.routeConfig)||void 0===C?void 0:C.loadComponent)&&!b.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,bi.b)(P=>{b.component=P}),(0,bt.U)(()=>{})));for(const P of b.children)x.push(...y(P));return x};return Rm(y(f.targetSnapshot.root)).pipe(Kr(),td(1))}),Ib(()=>this.afterPreactivation()),(0,bt.U)(f=>{const y=function ob(n,e,t){const r=Lp(n,e._root,t?t._root:void 0);return new ib(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i=Object.assign(Object.assign({},f),{targetRouterState:y})}),(0,bi.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new bA(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,bi.b)({next(){l=!0},complete(){l=!0}}),xp(()=>{var f;l||u||this.cancelNavigationTransition(i,"",1),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Ec(f=>{var y;if(u=!0,lb(f)){ho(f)||(this.navigated=!0,this.restoreHistory(i,!0));const b=new Xv(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(b),ho(f)){const C=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FT(i.source)};this.scheduleNavigation(C,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const b=new eb(i.id,this.serializeUrl(i.extractedUrl),f,null!==(y=i.targetSnapshot)&&void 0!==y?y:void 0);r.next(b);try{i.resolve(this.errorHandler(f))}catch(C){i.reject(C)}}return wa.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},u=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(u){const y=Object.assign({},u);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(pb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:y}=r,b=i||this.routerState.root,C=y?this.currentUrlTree.fragment:u;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),jo(b,this.currentUrlTree,t,x,null!=C?C:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Cc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function RT(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},iy):!1===r?Object.assign({},sy):r,Cc(t))return HE(this.currentUrlTree,t,i);const l=this.parseUrl(t);return HE(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{var r;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ad(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,u){var f,y;if(this.disposed)return Promise.resolve(!1);let b,C,x;u?(b=u.resolve,C=u.reject,x=u.promise):x=new Promise(($,ue)=>{b=$,C=ue});const P=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),H=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):H=0,this.setTransition({id:P,targetPageId:H,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:b,reject:C,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch($=>Promise.reject($))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new Xv(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return NT()},providedIn:"root"}),n})();function FT(n){return"imperative"!==n}let sr=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new _r.xQ,this.subscription=t.events.subscribe(l=>{l instanceof ad&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,u){return!!(0!==t||r||i||l||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rn),a.Y36(ud),a.Y36(fe))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class PT{}let UA=(()=>{class n{constructor(t,r,i,l,u){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Vo(t=>t instanceof ad),wc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){var i,l,u;const f=[];for(const y of r){y.providers&&!y._injector&&(y._injector=(0,a.MMx)(y.providers,t,`Route: ${y.path}`));const b=null!==(i=y._injector)&&void 0!==i?i:t,C=null!==(l=y._loadedInjector)&&void 0!==l?l:b;y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent?f.push(this.preloadConfig(b,y)):(y.children||y._loadedRoutes)&&f.push(this.processRoutes(C,null!==(u=y.children)&&void 0!==u?u:y._loadedRoutes))}return(0,Nn.D)(f).pipe((0,Xu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,it.of)(null);const l=i.pipe((0,as.zg)(u=>{var f;return null===u?(0,it.of)(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(null!==(f=u.injector)&&void 0!==f?f:t,u.routes))}));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Nn.D)([l,u]).pipe((0,Xu.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(PT),a.LFG(ry))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mb=new a.OlP("");let Ob=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Jv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ad&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function zh(n,e){return{\u0275kind:n,\u0275providers:e}}function Nb(n){return[{provide:kT,multi:!0,useValue:n}]}function LT(){const n=(0,a.f3M)(a.zs3);return e=>{var t,r;const i=n.get(a.z2F);if(e!==i.components[0])return;const l=n.get(Rn),u=n.get(VT);1===n.get(Rb)&&l.initialNavigation(),null===(t=n.get(qh,null,a.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(r=n.get(Mb,null,a.XFs.Optional))||void 0===r||r.init(),l.resetRootComponentType(i.componentTypes[0]),u.next(),u.complete()}}const VT=new a.OlP("",{factory:()=>new _r.xQ}),Rb=new a.OlP("",{providedIn:"root",factory:()=>1});const qh=new a.OlP("");function BA(n){return zh(0,[{provide:qh,useExisting:UA},{provide:PT,useExisting:n}])}const Ho=new a.OlP("ROUTER_FORROOT_GUARD"),Kp=[ze,{provide:qE,useClass:$E},{provide:Rn,useFactory:NT},dd,{provide:ud,useFactory:function oy(n){return n.routerState.root},deps:[Rn]},ry];function wi(){return new a.PXZ("Router",Rn)}let xc=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Kp,[],Nb(t),{provide:Ho,useFactory:Zh,deps:[[Rn,new a.FiY,new a.tp0]]},{provide:Db,useValue:r||{}},null!=r&&r.useHash?{provide:fe,useClass:we}:{provide:fe,useClass:Ne},{provide:Mb,useFactory:()=>{const n=(0,a.f3M)(Rn),e=(0,a.f3M)(Hl),t=(0,a.f3M)(Db);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ob(n,e,t)}},null!=r&&r.preloadingStrategy?BA(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:wi},null!=r&&r.initialNavigation?Gh(r):[],[{provide:md,useFactory:LT},{provide:a.tb,multi:!0,useExisting:md}]]}}static forChild(t){return{ngModule:n,providers:[Nb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ho,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lT]}),n})();function Zh(n){return"guarded"}function Gh(n){return["disabled"===n.initialNavigation?zh(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Rn);return()=>{e.setUpLocationChangeListener()}}},{provide:Rb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zh(2,[{provide:Rb,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(U,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const u=e.get(Rn),f=e.get(VT);(function i(l){e.get(Rn).events.pipe(Vo(f=>f instanceof ad||f instanceof Xv||f instanceof eb),(0,bt.U)(f=>f instanceof ad||f instanceof Xv&&(0===f.code||1===f.code)&&null),Vo(f=>null!==f),td(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),u.afterPreactivation=()=>(l(!0),r||f.closed?(0,it.of)(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const md=new a.OlP("");var Bs=N(655),lt=N(6396);let Ei=(()=>{class n{constructor(){this.messageSource=new lt.BehaviorSubject(""),this.currentMessage=this.messageSource.asObservable(),this.gradeSource=new lt.BehaviorSubject(100),this.currentGrade=this.gradeSource.asObservable(),this.totalSentencesSource=new lt.BehaviorSubject(0),this.currentTotalSentences=this.totalSentencesSource.asObservable(),this.totalErrorsSource=new lt.BehaviorSubject(""),this.currentTotalErrors=this.totalErrorsSource.asObservable(),this.gradeAlertColorSource=new lt.BehaviorSubject(""),this.currentGradeAlertColor=this.gradeAlertColorSource.asObservable(),this.gradeFeedbackSource=new lt.BehaviorSubject(""),this.currentGradeFeedback=this.gradeFeedbackSource.asObservable()}changeMessage(t){this.messageSource.next(t)}changeGrade(t){this.gradeSource.next(t)}changeTotalSentences(t){this.totalSentencesSource.next(t)}changeTotalErrors(t){this.totalErrorsSource.next(t)}changeGradeAlertColor(t){this.gradeAlertColorSource.next(t)}changeGradeFeedback(t){this.gradeFeedbackSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var kc=N(5867),Te=N(5861),ls=N(9681),Kh=N(4859),js=N(1877),Xt=N(2090);class Li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let yd="9.14.0";const Mc=new js.Yd("@firebase/firestore");function _d(n,...e){if(Mc.logLevel<=js.in.DEBUG){const t=e.map(Lb);Mc.debug(`Firestore (${yd}): ${n}`,...t)}}function cy(n,...e){if(Mc.logLevel<=js.in.ERROR){const t=e.map(Lb);Mc.error(`Firestore (${yd}): ${n}`,...t)}}function Pb(n,...e){if(Mc.logLevel<=js.in.WARN){const t=e.map(Lb);Mc.warn(`Firestore (${yd}): ${n}`,...t)}}function Lb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Fn(n="Unexpected state"){const e=`FIRESTORE (${yd}) INTERNAL ASSERTION FAILED: `+n;throw cy(e),new Error(e)}function Yr(n,e){n||Fn()}function Oc(n,e){return n}const wl="unknown",pt="invalid-argument",Qp="unauthenticated",Ia="failed-precondition",py="unimplemented";class Ye extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}}class $T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZT{constructor(e){this.auth=null,e.onInit(t=>{this.auth=t})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(Yr("string"==typeof e.accessToken),new zT(e.accessToken,new Li(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class Bb{constructor(e,t,r,i){this.t=e,this.i=t,this.o=r,this.u=i,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.h=new Map}l(){return this.u?this.u():(Yr(!("object"!=typeof this.t||null===this.t||!this.t.auth||!this.t.auth.getAuthHeaderValueForFirstParty)),this.t.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.h.set("X-Goog-AuthUser",this.i);const e=this.l();return e&&this.h.set("Authorization",e),this.o&&this.h.set("X-Goog-Iam-Authorization-Token",this.o),this.h}}class GT{constructor(e,t,r,i){this.t=e,this.i=t,this.o=r,this.u=i}getToken(){return Promise.resolve(new Bb(this.t,this.i,this.o,this.u))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KT{constructor(e){this.m=e,this.appCheck=null,e.onInit(t=>{this.appCheck=t})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(Yr("string"==typeof e.token),new WT(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class YT{constructor(e,t,r,i,l,u,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Jh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jh&&e.projectId===this.projectId&&e.database===this.database}}class Xh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Fn(),void 0===r?r=e.length-t:r>e.length-t&&Fn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),u=t.get(i);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class or extends Xh{construct(e,t,r){return new or(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(pt,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new or(t)}static emptyPath(){return new or([])}}const QT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mo extends Xh{construct(e,t,r){return new mo(e,t,r)}static isValidIdentifier(e){return QT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mo(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ye(pt,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ye(pt,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ye(pt,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(l(),i++)}if(l(),u)throw new Ye(pt,"Unterminated ` in path: "+e);return new mo(t)}static emptyPath(){return new mo([])}}class Ar{constructor(e){this.path=e}static fromPath(e){return new Ar(or.fromString(e))}static fromName(e){return new Ar(or.fromString(e).popFirst(5))}static empty(){return new Ar(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ar(new or(e.slice()))}}function JT(n){if(Ar.isDocumentKey(n))throw new Ye(pt,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(pt,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function ar(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Fn()}(n);throw new Ye(pt,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Jp(n){return 0===n&&1/n==-1/0}const HA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var zb,sn;function vd(n){if(void 0===n)return cy("RPC_ERROR","HTTP error has no status"),wl;switch(n){case 200:return"ok";case 400:return Ia;case 401:return Qp;case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 416:return"out-of-range";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return wl;case 501:return py;case 503:return"unavailable";case 504:return"deadline-exceeded";default:return n>=200&&n<300?"ok":n>=400&&n<500?Ia:n>=500&&n<600?"internal":wl}}(sn=zb||(zb={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class zA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.p=(e.ssl?"https":"http")+"://"+e.host,this.g="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get v(){return!1}I(e,t,r,i,l){const u=this.T(e,t);_d("RestConnection","Sending: ",u,r);const f={};return this.A(f,i,l),this.R(e,u,f,r).then(y=>(_d("RestConnection","Received: ",y),y),y=>{throw Pb("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",r),y})}P(e,t,r,i,l,u){return this.I(e,t,r,i,l)}A(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}T(e,t){return`${this.p}/v1/${t}:${HA[e]}`}}{constructor(e,t){super(e),this.V=t}N(e,t){throw new Error("Not supported by FetchConnection")}R(e,t,r,i){var l=this;return(0,Te.Z)(function*(){var u;const f=JSON.stringify(i);let y;try{y=yield l.V(t,{method:"POST",headers:r,body:f})}catch(b){throw new Ye(vd(b.status),"Request failed with error: "+b.statusText)}if(!y.ok){let b=yield y.json();Array.isArray(b)&&(b=b[0]);const C=null===(u=null==b?void 0:b.error)||void 0===u?void 0:u.message;throw new Ye(vd(y.status),`Request failed with error: ${null!=C?C:y.statusText}`)}return y.json()})()}}function Qr(n,e){return n<e?-1:n>e?1:0}class yo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(pt,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(pt,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(pt,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(pt,"Timestamp seconds out of range: "+e)}static now(){return yo.fromMillis(Date.now())}static fromDate(e){return yo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yo(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qr(this.nanoseconds,e.nanoseconds):Qr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ti{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ti(e)}static min(){return new Ti(new yo(0,0))}static max(){return new Ti(new yo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function yy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Ln{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Ln.RED,this.left=null!=i?i:Ln.EMPTY,this.right=null!=l?l:Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Ln(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fn();const e=this.left.check();if(e!==this.right.check())throw Fn();return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1,Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Fn()}get value(){throw Fn()}get color(){throw Fn()}get left(){throw Fn()}get right(){throw Fn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ln(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Aa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Aa(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Aa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Aa.EMPTY_BYTE_STRING=new Aa("");const $A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bd(n){if(Yr(!!n),"string"==typeof n){let e=0;const t=$A.exec(n);if(Yr(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xp(n){return"string"==typeof n?Aa.fromBase64String(n):Aa.fromUint8Array(n)}function eg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ef(n){const e=n.mapValue.fields.__previous_value__;return eg(e)?ef(e):e}function tg(n){const e=bd(n.mapValue.fields.__local_write_time__.timestampValue);return new yo(e.seconds,e.nanos)}function wd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eg(n)?4:"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue?9007199254740991:10:Fn()}function Ed(n,e){if(n===e)return!0;const t=wd(n);if(t!==wd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tg(n).isEqual(tg(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=bd(r.timestampValue),u=bd(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xp(n.bytesValue).isEqual(Xp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Vr(r.geoPointValue.latitude)===Vr(i.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vr(r.integerValue)===Vr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Vr(r.doubleValue),u=Vr(i.doubleValue);return l===u?Jp(l)===Jp(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return function my(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}(n.arrayValue.values||[],e.arrayValue.values||[],Ed);case 10:return function(r,i){const l=r.mapValue.fields||{},u=i.mapValue.fields||{};if(yy(l)!==yy(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!Ed(l[f],u[f])))return!1;return!0}(n,e);default:return Fn()}var i}function by(n){return!!n&&"nullValue"in n}function ig(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sg(n){return!!n&&"mapValue"in n}function nf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nf(t)}setAll(e){let t=mo.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=nf(u):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());sg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ed(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){cs(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new ds(nf(this.value))}}class zo{constructor(e,t,r,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new zo(e,0,Ti.min(),Ti.min(),ds.empty(),0)}static newFoundDocument(e,t,r){return new zo(e,1,t,Ti.min(),r,0)}static newNoDocument(e,t){return new zo(e,2,t,Ti.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new zo(e,3,t,Ti.min(),ds.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ti.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zo(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rS{constructor(e,t=null,r=[],i=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=f,this.D=null}}function $b(n,e=null,t=[],r=[],i=null,l=null,u=null){return new rS(n,e,t,r,i,l,u)}class Ey{constructor(e,t){this.position=e,this.inclusive=t}}class og{constructor(e,t="asc"){this.field=e,this.dir=t}}class Sd{constructor(e,t=null,r=[],i=[],l=null,u="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=y,this.O=null,this.k=null}}function Wb(n){const e=Oc(n);if(null===e.O){e.O=[];const t=function Gb(n){for(const e of n.filters)if(e.q())return e.field;return null}(e),r=function Zb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.O.push(new og(t)),e.O.push(new og(mo.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.O.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.O.push(new og(mo.keyField(),l))}}}return e.O}function Ty(n){const e=Oc(n);if(!e.k)if("F"===e.limitType)e.k=$b(e.path,e.collectionGroup,Wb(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Wb(e))t.push(new og(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ey(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ey(e.startAt.position,e.startAt.inclusive):null;e.k=$b(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.k}const nD={asc:"ASCENDING",desc:"DESCENDING"},rf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class W1{constructor(e,t){this.databaseId=e,this.C=t}}function Iy(n){return Yr(!!n),Ti.fromTimestamp(function(e){const t=bd(e);return new yo(t.seconds,t.nanos)}(n))}function ew(n,e){const t=function(i){const l=or.fromString(i);return Yr(pS(l)),l}(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(pt,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(pt,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ar((Yr((r=t).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function dS(n,e){return function uS(n,e){return(t=n,new or(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function cg(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=dS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=dS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(C=>function(x){if("=="===x.op){if(ig(x.value))return{unaryFilter:{field:Id(x.field),op:"IS_NAN"}};if(by(x.value))return{unaryFilter:{field:Id(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(ig(x.value))return{unaryFilter:{field:Id(x.field),op:"IS_NOT_NAN"}};if(by(x.value))return{unaryFilter:{field:Id(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Id(x.field),op:Y1(x.op),value:x.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(b=>{return{field:Id((C=b).field),direction:lr(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=(b=e.limit,n.C||function eS(n){return null==n}(b)?b:{value:b});var b,f,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function lr(n){return nD[n]}function Y1(n){return rf[n]}function Id(n){return{fieldPath:n.canonicalString()}}function pS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class gS extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.L=i,this.tt=!1}et(){if(this.tt)throw new Ye(Ia,"The client has already been terminated.")}I(e,t,r){return this.et(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.I(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Qp&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ye(wl,i.toString())})}P(e,t,r,i){return this.et(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.P(e,t,r,l,u,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Qp&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ye(wl,l.toString())})}terminate(){this.tt=!0}}function iw(){return(iw=(0,Te.Z)(function*(n,e){const t=Oc(n),r=cg(t.L,Ty(e));return(yield t.P("RunQuery",r.parent,{structuredQuery:r.structuredQuery})).filter(i=>!!i.document).map(i=>function(l,u,f){const y=ew(l,u.name),b=Iy(u.updateTime),C=new ds({mapValue:{fields:u.fields}});return zo.newFoundDocument(y,b,C)}(t.L,i.document))})).apply(this,arguments)}const Rc=new Map;function xa(n){if(n._terminated)throw new Ye(Ia,"The client has already been terminated.");if(!Rc.has(n)){_d("ComponentProvider","Initializing Datastore");const l=(e=n._databaseId,t=n.app.options.appId||"",r=n._persistenceKey,i=n._freezeSettings(),y=new YT(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams),new zA(y,fetch.bind(null))),u=function Dy(n){return new W1(n,!0)}(n._databaseId),f=function(y,b,C,x){return new gS(y,b,C,x)}(n._authCredentials,n._appCheckCredentials,l,u);Rc.set(n,f)}var y,e,t,r,i;return Rc.get(n)}class ow{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(pt,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(pt,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(r,i,l,u){if(!0===i&&!0===u)throw new Ye(pt,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ka{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ye(Ia,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Ia,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qT;switch(t.type){case"gapi":return new GT(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ye(pt,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Rc.get(e);t&&(_d("ComponentProvider","Removing Datastore"),Rc.delete(e),t.terminate())}(this),Promise.resolve()}}class Ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}}class zs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class qo extends zs{constructor(e,t,r){super(e,t,new Sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new Ar(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function Fc(n,e,...t){if(n=(0,Xt.m9)(n),function jb(n,e,t){if(!t)throw new Ye(pt,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof ka){const r=or.fromString(e,...t);return JT(r),new qo(n,null,r)}{if(!(n instanceof Ur||n instanceof qo))throw new Ye(pt,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(or.fromString(e,...t));return JT(r),new qo(n.firestore,null,r)}}class fg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fg(Aa.fromBase64String(e))}catch(t){throw new Ye(pt,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fg(Aa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(pt,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class aw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(pt,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(pt,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qr(this._lat,e._lat)||Qr(this._long,e._long)}}const SS=new RegExp("[~\\*/\\[\\]]");function Ry(n,e,t,r,i){const l=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||u)&&(y+=" (found",l&&(y+=` in field ${r}`),u&&(y+=` in document ${i}`),y+=")"),new Ye(pt,f+n+y)}class IS extends class El{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new IS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(function hw(n,e){return"string"==typeof e?function dw(n,e,t){if(e.search(SS)>=0)throw Ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sf(...e.split("."))._internalPath}catch(r){throw Ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof sf?e._internalPath:e._delegate._internalPath}("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}{data(){return super.data()}}class Fy{constructor(e,t){this._docs=t,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return 0===this.docs.length}forEach(e,t){this._docs.forEach(e,t)}}function xd(n,...e){for(const t of e)n=t._apply(n);return n}class cf extends class{convertValue(e,t="none"){switch(wd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fn()}}convertObject(e,t){const r={};return cs(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new aw(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ef(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tg(e));default:return null}}convertTimestamp(e){const t=bd(e);return new yo(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=or.fromString(e);Yr(pS(r));const i=new Jh(r.get(1),r.get(3)),l=new Ar(r.popFirst(5));return i.isEqual(t)||cy(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new fg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}function Lc(n){!function(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ye(py,"limitToLast() queries require specifying at least one orderBy() clause")}((n=Hs(n,zs))._query);const e=xa(n.firestore),t=new cf(n.firestore);return function ug(n,e){return iw.apply(this,arguments)}(e,n._query).then(r=>{const i=r.map(l=>new IS(n.firestore,t,l.key,l,n.converter));return"L"===n._query.limitType&&i.reverse(),new Fy(n,i)})}yd=`${ls.SDK_VERSION}_lite`,(0,ls._registerComponent)(new Kh.wA("firestore/lite",(n,{instanceIdentifier:e,options:t})=>{const r=n.getProvider("app").getImmediate(),i=new ka(new ZT(n.getProvider("auth-internal")),new KT(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ye(pt,'"projectId" not provided in firebase.initializeApp.');return new Jh(l.options.projectId,u)}(r,e),r);return t&&i._setSettings(t),i},"PUBLIC").setMultipleInstances(!0)),(0,ls.registerVersion)("firestore-lite","3.7.3",""),(0,ls.registerVersion)("firestore-lite","3.7.3","esm2017");var gt,SD=N(3942),CD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Uc={},yw=yw||{},Bt=CD||self;function Uy(){}function By(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _w="closure_uid_"+(1e9*Math.random()>>>0),AD=0;function DD(n,e,t){return n.call.apply(n.bind,arguments)}function xD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Si(n,e,t){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DD:xD).apply(null,arguments)}function jy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Tl(){this.s=this.s,this.o=this.o}Tl.prototype.s=!1,Tl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ID(n){Object.prototype.hasOwnProperty.call(n,_w)&&n[_w]||(n[_w]=++AD)}(this)},Tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Hy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(By(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let u=0;u<l;u++)n[i+u]=r[u]}else n.push(r)}}function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var kD=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",Uy,e),Bt.removeEventListener("test",Uy,e)}catch(t){}return n}();function ww(n){return/^[\s\xa0]*$/.test(n)}var VS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ew(n,e){return n<e?-1:n>e?1:0}function zy(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function Ma(n){return-1!=zy().indexOf(n)}function Tw(n){return Tw[" "](n),n}Tw[" "]=Uy;var $y,n,MD=Ma("Opera"),Bc=Ma("Trident")||Ma("MSIE"),$o=Ma("Edge"),Sw=$o||Bc,qy=Ma("Gecko")&&!(-1!=zy().toLowerCase().indexOf("webkit")&&!Ma("Edge"))&&!(Ma("Trident")||Ma("MSIE"))&&!Ma("Edge"),vg=-1!=zy().toLowerCase().indexOf("webkit")&&!Ma("Edge");function US(){var n=Bt.document;return n?n.documentMode:void 0}e:{var Cw="",uf=(n=zy(),qy?/rv:([^\);]+)(\)|;)/.exec(n):$o?/Edge\/([\d\.]+)/.exec(n):Bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vg?/WebKit\/(\S+)/.exec(n):MD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uf&&(Cw=uf?uf[1]:""),Bc){var df=US();if(null!=df&&df>parseFloat(Cw)){$y=String(df);break e}}$y=Cw}var OD={};var Aw=Bt.document&&Bc&&(US()||parseInt($y,10))||void 0;function hf(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qy){e:{try{Tw(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:RD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hf.X.h.call(this)}}vr(hf,Ci);var RD={2:"touch",3:"pen",4:"mouse"};hf.prototype.h=function(){hf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bg="closure_listenable_"+(1e6*Math.random()|0),hO=0;function Dw(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++hO,this.ba=this.ea=!1}function ff(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Gy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Wy(n){const e={};for(const t in n)e[t]=n[t];return e}const Ky="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BS(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Ky.length;l++)t=Ky[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yy(n){this.src=n,this.g={},this.h=0}function xw(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=vw(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(ff(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function kw(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}Yy.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=kw(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new Dw(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var Qy="closure_lm_"+(1e6*Math.random()|0),wg={};function Mw(n,e,t,r,i){if(r&&r.once)return Nw(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Mw(n,e[l],t,r,i);return null}return t=ci(t),n&&n[bg]?n.N(e,t,yg(r)?!!r.capture:!!r,i):Ow(n,e,t,!1,r,i)}function Ow(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var u=yg(i)?!!i.capture:!!i,f=Xy(n);if(f||(n[Qy]=f=new Yy(n)),(t=f.add(e,t,r,u,l)).proxy)return t;if(r=function jS(){const e=FD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kD||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Rw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Nw(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Nw(n,e[l],t,r,i);return null}return t=ci(t),n&&n[bg]?n.O(e,t,yg(r)?!!r.capture:!!r,i):Ow(n,e,t,!0,r,i)}function HS(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)HS(n,e[l],t,r,i);else r=yg(r)?!!r.capture:!!r,t=ci(t),n&&n[bg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=kw(l=n.g[e],t,r,i))&&(ff(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Xy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=kw(e,t,r,i)),(t=-1<n?e[n]:null)&&Jy(t))}function Jy(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[bg])xw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Rw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Xy(e))?(xw(t,n),0==t.h&&(t.src=null,e[Qy]=null)):ff(n)}}}function Rw(n){return n in wg?wg[n]:wg[n]="on"+n}function FD(n,e){if(n.ba)n=!0;else{e=new hf(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Jy(n),n=t.call(r,e)}return n}function Xy(n){return(n=n[Qy])instanceof Yy?n:null}var Fw="__closure_events_fn_"+(1e9*Math.random()>>>0);function ci(n){return"function"==typeof n?n:(n[Fw]||(n[Fw]=function(e){return n.handleEvent(e)}),n[Fw])}function er(){Tl.call(this),this.i=new Yy(this),this.P=this,this.I=null}function ui(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var i=e;BS(e=new Ci(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var u=e.g=t[l];i=e_(u,r,!0,e)&&i}if(i=e_(u=e.g=n,r,!0,e)&&i,i=e_(u,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=e_(u=e.g=t[l],r,!1,e)&&i}function e_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.ba&&u.capture==t){var f=u.listener,y=u.ha||u.src;u.ea&&xw(n.i,u),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}vr(er,Tl),er.prototype[bg]=!0,er.prototype.removeEventListener=function(n,e,t,r){HS(this,n,e,t,r)},er.prototype.M=function(){if(er.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ff(t[r]);delete n.g[e],n.h--}}this.I=null},er.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},er.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var zS=Bt.JSON.stringify;function fO(){var n=ZS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Lw,Pw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Eg,n=>n.reset());class Eg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function PD(n){Bt.setTimeout(()=>{throw n},0)}function t_(n,e){Lw||function $S(){var n=Bt.Promise.resolve(void 0);Lw=function(){n.then(LD)}}(),Vw||(Lw(),Vw=!0),ZS.add(n,e)}var Vw=!1,ZS=new class qS{constructor(){this.h=this.g=null}add(e,t){const r=Pw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function LD(){for(var n;n=fO();){try{n.h.call(n.g)}catch(t){PD(t)}var e=Pw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vw=!1}function pf(n,e){er.call(this),this.h=n||1,this.g=e||Bt,this.j=Si(this.lb,this),this.l=Date.now()}function n_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function r_(n,e,t){if("function"==typeof n)t&&(n=Si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function Tg(n){n.g=r_(()=>{n.g=null,n.i&&(n.i=!1,Tg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vr(pf,er),(gt=pf.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ui(this,"tick"),this.ca&&(n_(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){pf.X.M.call(this),n_(this),delete this.g};class Uw extends Tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tg(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function i_(n){Tl.call(this),this.h=n,this.g={}}vr(i_,Tl);var Bw=[];function GS(n,e,t,r){Array.isArray(t)||(t&&(Bw[0]=t.toString()),t=Bw);for(var i=0;i<t.length;i++){var l=Mw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function jw(n){Gy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jy(e)},n),n.g={}}function Sl(){this.g=!0}function jc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function UD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<i.length;u++)i[u]=""}}}return zS(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}i_.prototype.M=function(){i_.X.M.call(this),jw(this)},i_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sl.prototype.Aa=function(){this.g=!1},Sl.prototype.info=function(){};var gf={},KS=null;function s_(){return KS=KS||new er}function YS(n){Ci.call(this,gf.Pa,n)}function mf(n){const e=s_();ui(e,new YS(e))}function Hw(n,e){Ci.call(this,gf.STAT_EVENT,n),this.stat=e}function Vi(n){const e=s_();ui(e,new Hw(e,n))}function zw(n,e){Ci.call(this,gf.Qa,n),this.size=e}function yf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}gf.Pa="serverreachability",vr(YS,Ci),gf.STAT_EVENT="statevent",vr(Hw,Ci),gf.Qa="timingevent",vr(zw,Ci);var o_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},QS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function a_(){}function qw(){}a_.prototype.h=null;var $w,_f={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function l_(){Ci.call(this,"d")}function c_(){Ci.call(this,"c")}function u_(){}function d_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new i_(this),this.O=gO,this.T=new pf(n=Sw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Zw}function Zw(){this.i=null,this.g="",this.h=!1}vr(l_,Ci),vr(c_,Ci),vr(u_,a_),u_.prototype.g=function(){return new XMLHttpRequest},u_.prototype.i=function(){return{}},$w=new u_;var gO=45e3,XS={},Gw={};function eC(n,e,t){n.K=1,n.v=Yw(Cl(e)),n.s=t,n.P=!0,BD(n,null)}function BD(n,e){n.F=Date.now(),Hc(n),n.A=Cl(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),y_(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Zw,n.g=mC(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Uw(Si(n.La,n,n.g),n.N)),GS(n.S,n.g,"readystatechange",n.ib),e=n.H?Wy(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),mf(),function VD(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),y=0;y<f.length;y++){var b=f[y].split("=");if(1<b.length){var C=b[0];b=b[1];var x=C.split("_");u=2<=x.length&&"type"==x[1]?u+(C+"=")+b+"&":u+(C+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function jD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function HD(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=mO(n,t),i==Gw){4==e&&(n.o=4,Vi(14),r=!1),jc(n.j,n.m,null,"[Incomplete Response]");break}if(i==XS){n.o=4,Vi(15),jc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jc(n.j,n.m,i,null),h_(n,i)}jD(n)&&i!=Gw&&i!=XS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),r0(e),e.K=!0,Vi(11))):(jc(n.j,n.m,t,"[Invalid Chunked Response]"),qc(n),zc(n))}function mO(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Gw:(t=Number(e.substring(t,r)),isNaN(t)?XS:(r+=1)+t>e.length?Gw:(e=e.substr(r,t),n.C=r+t,e))}function Hc(n){n.V=Date.now()+n.O,zD(n,n.O)}function zD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yf(Si(n.gb,n),e)}function Sg(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function zc(n){0==n.l.G||n.I||tx(n.l,n)}function qc(n){Sg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,n_(n.T),jw(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function h_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||b_(t.h,n)))if(!n.J&&b_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;A_(t),kg(t)}I_(t),Vi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=yf(Si(t.cb,t),6e3));if(1>=v_(t.h)&&t.ja){try{t.ja()}catch(b){}t.ja=void 0}}else Sf(t,11)}else if((n.J||t.g==n)&&A_(t),!ww(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const C=b[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const x=b[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const P=b[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const $=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var l=r.h;l.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(w_(l,l.h),l.h=null))}if(r.D){const ue=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(r.za=ue,Gn(r.F,r.D,ue))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=ix(r,r.H?r.ka:null,r.V),u.J){aC(r.h,u);var f=u,y=r.J;y&&f.setTimeout(y),f.B&&(Sg(f),Hc(f)),r.g=u}else ex(r);0<t.i.length&&Mg(t)}else"stop"!=b[0]&&"close"!=b[0]||Sf(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Sf(t,7):Tf(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}mf()}catch(b){}}function Kw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(By(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ww(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(By(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function yO(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(By(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(gt=d_.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const e=this.L;e&&3==Na(n)?e.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const C=Na(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||Sw||this.g&&(this.h.h||this.g.fa()||t0(this.g)))){this.I||4!=C||7==e||mf(),Sg(this);var t=this.g.aa();this.Y=t;t:if(jD(this)){var r=t0(this.g);n="";var i=r.length,l=4==Na(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qc(this),zc(this);var u="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function WS(n,e,t,r,i,l,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ww(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Vi(12),qc(this),zc(this);break e}jc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,h_(this,t)}this.P?(HD(this,C,u),Sw&&this.i&&3==C&&(GS(this.S,this.T,"tick",this.hb),this.T.start())):(jc(this.j,this.m,u,null),h_(this,u)),4==C&&qc(this),this.i&&!this.I&&(4==C?tx(this.l,this):(this.i=!1,Hc(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Vi(12)):(this.o=0,Vi(13)),qc(this),zc(this)}}}catch(C){}},gt.hb=function(){if(this.g){var n=Na(this.g),e=this.g.fa();this.C<e.length&&(Sg(this),HD(this,n,e),this.i&&4!=n&&Hc(this))}},gt.cancel=function(){this.I=!0,qc(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function pO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(mf(),Vi(17)),qc(this),this.o=2,zc(this)):zD(this,this.V-n)};var tC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof vf){this.h=void 0!==e?e:n.h,f_(this,n.j),this.s=n.s,this.g=n.g,p_(this,n.m),this.l=n.l,e=n.i;var t=new bf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Cg(this,t),this.o=n.o}else n&&(t=String(n).match(tC))?(this.h=!!e,f_(this,t[1]||"",!0),this.s=g_(t[2]||""),this.g=g_(t[3]||"",!0),p_(this,t[4]),this.l=g_(t[5]||"",!0),Cg(this,t[6]||"",!0),this.o=g_(t[7]||"")):(this.h=!!e,this.i=new bf(null,this.h))}function Cl(n){return new vf(n)}function f_(n,e,t){n.j=t?g_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function p_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Cg(n,e,t){e instanceof bf?(n.i=e,function bo(n,e){e&&!n.j&&(kd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(vo(this,r),y_(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=m_(e,ZD)),n.i=new bf(e,n.h))}function Gn(n,e,t){n.i.set(e,t)}function Yw(n){return Gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function g_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function m_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(m_(e,rC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(m_(e,rC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(m_(t,"/"==t.charAt(0)?_O:$D,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",m_(t,iC)),n.join("")};var rC=/[#\/\?@]/g,$D=/[#\?:]/g,_O=/[#\?]/g,ZD=/[#\?@]/g,iC=/#/g;function bf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function kd(n){n.g||(n.g=new Map,n.h=0,n.i&&function nC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vo(n,e){kd(n),e=wf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sC(n,e){return kd(n),e=wf(n,e),n.g.has(e)}function y_(n,e,t){vo(n,e),0<t.length&&(n.i=null,n.g.set(wf(n,e),Hy(t)),n.h+=t.length)}function wf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function __(n){this.l=n||WD,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ga&&Bt.g.Ga()&&Bt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=bf.prototype).add=function(n,e){kd(this),this.i=null,n=wf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){kd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.oa=function(){kd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},gt.W=function(n){kd(this);let e=[];if("string"==typeof n)sC(this,n)&&(e=e.concat(this.g.get(wf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return kd(this),this.i=null,sC(this,n=wf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=l;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var WD=10;function oC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function v_(n){return n.h?1:n.g?n.g.size:0}function b_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function w_(n,e){n.g?n.g.add(e):n.h=e}function aC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Qw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Hy(n.i)}function E_(){}function KD(){this.g=new E_}function lC(n,e,t){const r=t||"";try{Kw(n,function(i,l){let u=i;yg(i)&&(u=zS(i)),e.push(r+l+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $c(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function hs(n){this.l=n.ac||null,this.j=n.jb||!1}function Ig(n,e){er.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ag,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}__.prototype.cancel=function(){if(this.i=Qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},E_.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},E_.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},vr(hs,a_),hs.prototype.g=function(){return new Ig(this.l,this.j)},hs.prototype.i=function(n){return function(){return n}}({}),vr(Ig,er);var Ag=0;function Oa(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Dg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,T_(n)}function T_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=Ig.prototype).open=function(n,e){if(this.readyState!=Ag)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,T_(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Bt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dg(this)),this.readyState=Ag},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,T_(this)),this.g&&(this.readyState=3,T_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oa(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dg(this):T_(this),3==this.readyState&&Oa(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,Dg(this))},gt.Ua=function(n){this.g&&(this.response=n,Dg(this))},gt.ga=function(){this.g&&Dg(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var QD=Bt.JSON.parse;function cr(n){er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cC,this.K=this.L=!1}vr(cr,er);var cC="",JD=/^https?$/i,uC=["POST","PUT"];function Jw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dC(n),e0(n)}function dC(n){n.D||(n.D=!0,ui(n,"complete"),ui(n,"error"))}function Xw(n){if(n.h&&void 0!==yw&&(!n.C[1]||4!=Na(n)||2!=n.aa()))if(n.v&&4==Na(n))r_(n.Ha,0,n);else if(ui(n,"readystatechange"),4==Na(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(tC)[1]||null;if(!i&&Bt.self&&Bt.self.location){var l=Bt.self.location.protocol;i=l.substr(0,l.length-1)}r=!JD.test(i?i.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var u=2<Na(n)?n.g.statusText:""}catch(y){u=""}n.j=u+" ["+n.aa()+"]",dC(n)}}finally{e0(n)}}}function e0(n,e){if(n.g){S_(n);const t=n.g,r=n.C[0]?Uy:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function S_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function Na(n){return n.g?n.g.readyState:0}function t0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case cC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function n0(n){let e="";return Gy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function C_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=n0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Gn(n,e,t))}function Ef(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xg(n){this.Ca=0,this.i=[],this.j=new Sl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ef("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ef("baseRetryDelayMs",5e3,n),this.bb=Ef("retryDelaySeedMs",1e4,n),this.$a=Ef("forwardChannelMaxRetries",2,n),this.ta=Ef("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new __(n&&n.concurrentRequestLimit),this.Fa=new KD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Tf(n){if(hC(n),3==n.G){var e=n.U++,t=Cl(n.F);Gn(t,"SID",n.I),Gn(t,"RID",e),Gn(t,"TYPE","terminate"),Og(n,t),(e=new d_(n,n.j,e,void 0)).K=2,e.v=Yw(Cl(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(t=Bt.navigator.sendBeacon(e.v.toString(),"")),!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=mC(e.l,null),e.g.da(e.v)),e.F=Date.now(),Hc(e)}rx(n)}function kg(n){n.g&&(r0(n),n.g.cancel(),n.g=null)}function hC(n){kg(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),A_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function Mg(n){oC(n.h)||n.m||(n.m=!0,t_(n.Ja,n),n.C=0)}function pC(n,e){var t;t=e?e.m:n.U++;const r=Cl(n.F);Gn(r,"SID",n.I),Gn(r,"RID",t),Gn(r,"AID",n.T),Og(n,r),n.o&&n.s&&C_(r,n.o,n.s),t=new d_(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=XD(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),w_(n.h,t),eC(t,r,e)}function Og(n,e){n.ia&&Gy(n.ia,function(t,r){Gn(e,r,t)}),n.l&&Kw({},function(t,r){Gn(e,r,t)})}function XD(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Si(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const u=["count="+t];-1==l?0<t?(l=i[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let y=0;y<t;y++){let b=i[y].h;const C=i[y].g;if(b-=l,0>b)l=Math.max(0,i[y].h-100),f=!1;else try{lC(C,u,"req"+b+"_")}catch(x){r&&r(C)}}if(f){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ex(n){n.g||n.u||(n.Z=1,t_(n.Ia,n),n.A=0)}function I_(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=yf(Si(n.Ia,n),nx(n,n.A)),n.A++,0))}function r0(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function gC(n){n.g=new d_(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Cl(n.sa);Gn(e,"RID","rpc"),Gn(e,"SID",n.I),Gn(e,"CI",n.L?"0":"1"),Gn(e,"AID",n.T),Gn(e,"TYPE","xmlhttp"),Og(n,e),n.o&&n.s&&C_(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Yw(Cl(e)),t.s=null,t.P=!0,BD(t,n)}function A_(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function tx(n,e){var t=null;if(n.g==e){A_(n),r0(n),n.g=null;var r=2}else{if(!b_(n.h,e))return;t=e.D,aC(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ui(r=s_(),new zw(r,t)),Mg(n)}else ex(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function fC(n,e){return!(v_(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=yf(Si(n.Ja,n,e),nx(n,n.C)),n.C++,0)))}(n,e)||2==r&&I_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Sf(n,5);break;case 4:Sf(n,10);break;case 3:Sf(n,6);break;default:Sf(n,2)}}function nx(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Sf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Si(n.kb,n);t||(t=new vf("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||f_(t,"https"),Yw(t)),function YD(n,e){const t=new Sl;if(Bt.Image){const r=new Image;r.onload=jy($c,t,r,"TestLoadImage: loaded",!0,e),r.onerror=jy($c,t,r,"TestLoadImage: error",!1,e),r.onabort=jy($c,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=jy($c,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Vi(2);n.G=0,n.l&&n.l.va(e),rx(n),hC(n)}function rx(n){if(n.G=0,n.la=[],n.l){const e=Qw(n.h);(0!=e.length||0!=n.i.length)&&(bw(n.la,e),bw(n.la,n.i),n.h.i.length=0,Hy(n.i),n.i.length=0),n.l.ua()}}function ix(n,e,t){var r=t instanceof vf?Cl(t):new vf(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),p_(r,r.m);else{var i=Bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new vf(null,void 0);r&&f_(l,r),e&&(l.g=e),i&&p_(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Gn(r,t,e),Gn(r,"VER",n.ma),Og(n,r),r}function mC(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(t&&n.Da&&!n.ra?new hs({jb:!0}):n.ra)).Ka(n.H),e}function Ng(){}function D_(){if(Bc&&!(10<=Number(Aw)))throw Error("Environmental error: no available transport.")}function qs(n,e){er.call(this),this.g=new xg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!ww(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ww(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Md(this)}function s0(n){l_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Zc(){c_.call(this),this.status=1}function Md(n){this.g=n}(gt=cr.prototype).Ka=function(n){this.L=n},gt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$w.g(),this.C=function JS(n){return n.h||(n.h=n.i())}(this.u?this.u:$w),this.g.onreadystatechange=Si(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Jw(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=Bt.FormData&&n instanceof Bt.FormData,!(0<=vw(uC,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,u]of t)this.g.setRequestHeader(l,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{S_(this),0<this.B&&((this.K=function vO(n){return Bc&&function ND(){return function _g(n){var e=OD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=VS(String($y)).split("."),t=VS("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",l=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Ew(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Ew(0==i[2].length,0==l[2].length)||Ew(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.qa,this)):this.A=r_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Jw(this,l)}},gt.qa=function(){void 0!==yw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),e0(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),e0(this,!0)),cr.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?Xw(this):this.fb())},gt.fb=function(){Xw(this)},gt.aa=function(){try{return 2<Na(this)?this.g.status:-1}catch(n){return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},gt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),QD(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=xg.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new d_(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Wy(l),BS(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=XD(this,i,e),Gn(t=Cl(this.F),"RID",n),Gn(t,"CVER",22),this.D&&Gn(t,"X-HTTP-Session-Id",this.D),Og(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(n0(l)))+"&"+e:this.o&&C_(t,this.o,l)),w_(this.h,i),this.Ya&&Gn(t,"TYPE","init"),this.O?(Gn(t,"$req",e),Gn(t,"SID","null"),i.Z=!0,eC(i,t,null)):eC(i,t,e),this.G=2}}else 3==this.G&&(n?pC(this,n):0==this.i.length||oC(this.h)||pC(this))},gt.Ia=function(){if(this.u=null,gC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=yf(Si(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Vi(10),kg(this),gC(this))},gt.cb=function(){null!=this.v&&(this.v=null,kg(this),I_(this),Vi(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Vi(2)):(this.j.info("Failed to ping google.com"),Vi(1))},(gt=Ng.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},D_.prototype.g=function(n,e){return new qs(n,e)},vr(qs,er),qs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Vi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ix(n,null,n.V),Mg(n)},qs.prototype.close=function(){Tf(this.g)},qs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=zS(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Mg(e)},qs.prototype.M=function(){this.g.l=null,delete this.j,Tf(this.g),delete this.g,qs.X.M.call(this)},vr(s0,l_),vr(Zc,c_),vr(Md,Ng),Md.prototype.xa=function(){ui(this.g,"a")},Md.prototype.wa=function(n){ui(this.g,new s0(n))},Md.prototype.va=function(n){ui(this.g,new Zc)},Md.prototype.ua=function(){ui(this.g,"b")},D_.prototype.createWebChannel=D_.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,o_.NO_ERROR=0,o_.TIMEOUT=8,o_.HTTP_ERROR=6,QS.COMPLETE="complete",qw.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",er.prototype.listen=er.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.Oa,cr.prototype.getLastErrorCode=cr.prototype.Ea,cr.prototype.getStatus=cr.prototype.aa,cr.prototype.getResponseJson=cr.prototype.Sa,cr.prototype.getResponseText=cr.prototype.fa,cr.prototype.send=cr.prototype.da,cr.prototype.setWithCredentials=cr.prototype.Ka;var o0=Uc.createWebChannelTransport=function(){return new D_},a0=Uc.getStatEventTarget=function(){return s_()},l0=Uc.ErrorCode=o_,c0=Uc.EventType=QS,u0=Uc.Event=gf,Rg=Uc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},bO=Uc.FetchXmlHttpFactory=hs,d0=Uc.WebChannel=qw,wO=Uc.XhrIo=cr;const sx="@firebase/firestore";class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let Cf="9.14.0";const Gc=new js.Yd("@firebase/firestore");function h0(){return Gc.logLevel}function Pe(n,...e){if(Gc.logLevel<=js.in.DEBUG){const t=e.map(f0);Gc.debug(`Firestore (${Cf}): ${n}`,...t)}}function ur(n,...e){if(Gc.logLevel<=js.in.ERROR){const t=e.map(f0);Gc.error(`Firestore (${Cf}): ${n}`,...t)}}function Wc(n,...e){if(Gc.logLevel<=js.in.WARN){const t=e.map(f0);Gc.warn(`Firestore (${Cf}): ${n}`,...t)}}function f0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Cf}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function xt(n,e){n||st()}function We(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Br.UNAUTHENTICATED))}shutdown(){}}class TO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ax{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let u=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new jr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,Te.Z)(function*(){yield b.promise,yield l(r.currentUser)}))},y=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new jr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new yC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Br(e)}}class lx{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class cx{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new lx(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SO{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.A;return this.A=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.A=t.token,new ux(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function CO(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class dx{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=CO(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Fg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function hx(n){return n+"\0"}class tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new tr(0,0))}static max(){return new Mt(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class x_{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===x_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof x_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),u=t.get(i);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends x_{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const s=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class o extends x_{construct(e,t,r){return new o(e,t,r)}static isValidIdentifier(e){return s.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),o.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new o(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Re(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Re(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Re(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(l(),i++)}if(l(),u)throw new Re(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new o(t)}static emptyPath(){return new o([])}}class c{constructor(e){this.path=e}static fromPath(e){return new c(cn.fromString(e))}static fromName(e){return new c(cn.fromString(e).popFirst(5))}static empty(){return new c(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new c(new cn(e.slice()))}}class d{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function h(n){return n.fields.find(e=>2===e.kind)}function g(n){return n.fields.filter(e=>2!==e.kind)}d.UNKNOWN_ID=-1;class E{constructor(e,t){this.fieldPath=e,this.kind=t}}class D{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new D(0,W.min())}}function M(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new tr(t+1,0):new tr(t,r));return new W(i,c.empty(),e)}function j(n){return new W(n.readTime,n.key,-1)}class W{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new W(Mt.min(),c.empty(),-1)}static max(){return new W(Mt.max(),c.empty(),-1)}}function he(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=c.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const Se="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qe(n){return rt.apply(this,arguments)}function rt(){return rt=(0,Te.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==Se)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),rt.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,l=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++l,u&&l===i&&t()},y=>r(y))}),u=!0,l===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const l=e.length,u=new Array(l);let f=0;for(let y=0;y<l;y++){const b=y;t(e[b]).next(C=>{u[b]=C,++f,f===l&&r(u)},C=>i(C))}})}static doWhile(e,t){return new ie((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class Oe{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new jr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new xn(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Pg(r.target.error);this.P.reject(new xn(e,i))}}static open(e,t,r,i){try{return new Oe(t,e.transaction(i,r))}catch(l){throw new xn(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new g0(t)}}class ct{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===ct.D((0,Xt.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Il(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Xt.hl)())return!1;if(ct.N())return!0;const e=(0,Xt.z$)(),t=ct.D(e),r=0<t&&t<10,i=ct.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Te.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=u=>{r(u.target.result)},l.onblocked=()=>{i(new xn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Re(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new xn(e,f))},l.onupgradeneeded=u=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,l.transaction,u.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Te.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.F(e);const y=Oe.open(l.db,e,u?"readonly":"readwrite",r),b=i(y).next(C=>(y.V(),C)).catch(C=>(y.abort(C),ie.reject(C))).toPromise();return b.catch(()=>{}),yield y.v,b}catch(y){const b=y,C="FirebaseError"!==b.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),l.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class an{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Il(this.U.delete())}}class xn extends Re{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fs(n){return"IndexedDbTransactionError"===n.name}class g0{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Il(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Il(this.store.add(e))}get(e){return Il(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Il(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Il(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(u,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ie((l,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((i,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,u,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ie((r,i)=>{t.onerror=l=>{const u=Pg(l.target.error);i(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}H(e,t){const r=[];return new ie((i,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const y=new an(f),b=t(f.primaryKey,f.value,y);if(b instanceof ie){const C=b.catch(x=>(y.done(),ie.reject(x)));r.push(C)}y.isDone?i():null===y.G?f.continue():f.continue(y.G)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Il(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Pg(r.target.error);t(i)}})}let k_=!1;function Pg(n){const e=ct.D((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k_||(k_=!0,setTimeout(()=>{throw r},0)),r}}return n}class m0{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){fs(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield qe(r)}yield t.nt(6e4)}))}}class y0{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return ie.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Pe("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(f=>{i-=f,r.add(u)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,l)).next(f=>(Pe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const u=j(l);he(u,r)>0&&(r=u)}),new W(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ii{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function M_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Al(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ii.at=-1;class Dr{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _C(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _C(this.root,e,this.comparator,!1)}getReverseIterator(){return new _C(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _C(this.root,e,this.comparator,!0)}}class _C{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Ui.RED,this.left=null!=i?i:Ui.EMPTY,this.right=null!=l?l:Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Ui(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ui(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AO(this.data.getIterator())}getIteratorFrom(e){return new AO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class AO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function O_(n){return n.hasNext()?n.getNext():void 0}class Zo{constructor(e){this.fields=e,e.sort(o.comparator)}static empty(){return new Zo([])}unionWith(e){let t=new Vn(o.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new di(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new di(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const KL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function If(n){if(xt(!!n),"string"==typeof n){let e=0;const t=KL.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lg(n){return"string"==typeof n?di.fromBase64String(n):di.fromUint8Array(n)}function fx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function DO(n){const e=n.mapValue.fields.__previous_value__;return fx(e)?DO(e):e}function _0(n){const e=If(n.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}class YL{constructor(e,t,r,i,l,u,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Af{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Af("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Af&&e.projectId===this.projectId&&e.database===this.database}}function v0(n){return null==n}function b0(n){return 0===n&&1/n==-1/0}function xO(n){return"number"==typeof n&&Number.isInteger(n)&&!b0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vC={nullValue:"NULL_VALUE"};function Vg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fx(n)?4:NO(n)?9007199254740991:10:st()}function Kc(n,e){if(n===e)return!0;const t=Vg(n);if(t!==Vg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _0(n).isEqual(_0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=If(r.timestampValue),u=If(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Lg(n.bytesValue).isEqual(Lg(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return xr(r.geoPointValue.latitude)===xr(i.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xr(r.integerValue)===xr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=xr(r.doubleValue),u=xr(i.doubleValue);return l===u?b0(l)===b0(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Fg(n.arrayValue.values||[],e.arrayValue.values||[],Kc);case 10:return function(r,i){const l=r.mapValue.fields||{},u=i.mapValue.fields||{};if(M_(l)!==M_(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!Kc(l[f],u[f])))return!1;return!0}(n,e);default:return st()}var i}function w0(n,e){return void 0!==(n.values||[]).find(t=>Kc(t,e))}function xf(n,e){if(n===e)return 0;const t=Vg(n),r=Vg(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const u=xr(i.integerValue||i.doubleValue),f=xr(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return kO(n.timestampValue,e.timestampValue);case 4:return kO(_0(n),_0(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,l){const u=Lg(i),f=Lg(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const u=i.split("/"),f=l.split("/");for(let y=0;y<u.length&&y<f.length;y++){const b=jt(u[y],f[y]);if(0!==b)return b}return jt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const u=jt(xr(i.latitude),xr(l.latitude));return 0!==u?u:jt(xr(i.longitude),xr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const u=i.values||[],f=l.values||[];for(let y=0;y<u.length&&y<f.length;++y){const b=xf(u[y],f[y]);if(b)return b}return jt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Df.mapValue&&l===Df.mapValue)return 0;if(i===Df.mapValue)return 1;if(l===Df.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),y=l.fields||{},b=Object.keys(y);f.sort(),b.sort();for(let C=0;C<f.length&&C<b.length;++C){const x=jt(f[C],b[C]);if(0!==x)return x;const P=xf(u[f[C]],y[b[C]]);if(0!==P)return P}return jt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw st()}}function kO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=If(n),r=If(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function N_(n){return px(n)}function px(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=If(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lg(n.bytesValue).toBase64():"referenceValue"in n?c.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const u of r.values||[])l?l=!1:i+=",",i+=px(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of i)u?u=!1:l+=",",l+=`${f}:${px(r.fields[f])}`;return l+"}"}(n.mapValue):st();var e}function Ug(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gx(n){return!!n&&"integerValue"in n}function E0(n){return!!n&&"arrayValue"in n}function MO(n){return!!n&&"nullValue"in n}function OO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bC(n){return!!n&&"mapValue"in n}function T0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Al(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=T0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=T0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function QL(n){return"nullValue"in n?vC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ug(Af.empty(),c.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function JL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ug(Af.empty(),c.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Df:st()}function RO(n,e){const t=xf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function FO(n,e){const t=xf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=T0(t)}setAll(e){let t=o.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=T0(u):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());bC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Al(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Bi(T0(this.value))}}function PO(n){const e=[];return Al(n.fields,(t,r)=>{const i=new o([t]);if(bC(r)){const l=PO(r.mapValue).fields;if(0===l.length)e.push(i);else for(const u of l)e.push(i.child(u))}else e.push(i)}),new Zo(e)}class Wn{constructor(e,t,r,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Wn(e,0,Mt.min(),Mt.min(),Bi.empty(),0)}static newFoundDocument(e,t,r){return new Wn(e,1,t,Mt.min(),r,0)}static newNoDocument(e,t){return new Wn(e,2,t,Mt.min(),Bi.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,Mt.min(),Bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class XL{constructor(e,t=null,r=[],i=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=u,this.endAt=f,this.ht=null}}function LO(n,e=null,t=[],r=[],i=null,l=null,u=null){return new XL(n,e,t,r,i,l,u)}function Bg(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+N_(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),v0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>N_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>N_(r)).join(",")),e.ht=t}return e.ht}function S0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!c2(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Kc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HO(n.startAt,e.startAt)&&HO(n.endAt,e.endAt)}function wC(n){return c.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function EC(n,e){return n.filters.filter(t=>t instanceof ji&&t.field.isEqual(e))}function VO(n,e,t){let r=vC,i=!0;for(const l of EC(n,e)){let u=vC,f=!0;switch(l.op){case"<":case"<=":u=QL(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=vC}RO({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];RO({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function UO(n,e,t){let r=Df,i=!0;for(const l of EC(n,e)){let u=Df,f=!0;switch(l.op){case">=":case">":u=JL(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=Df}FO({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];FO({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class ji extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new t2(e,t,r):"array-contains"===t?new s2(e,r):"in"===t?new o2(e,r):"not-in"===t?new a2(e,r):"array-contains-any"===t?new l2(e,r):new ji(e,t,r)}static lt(e,t,r){return"in"===t?new n2(e,r):new r2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(xf(t,this.value)):null!==t&&Vg(this.value)===Vg(t)&&this.ft(xf(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class t2 extends ji{constructor(e,t,r){super(e,t,r),this.key=c.fromName(r.referenceValue)}matches(e){const t=c.comparator(e.key,this.key);return this.ft(t)}}class n2 extends ji{constructor(e,t){super(e,"in",t),this.keys=BO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r2 extends ji{constructor(e,t){super(e,"not-in",t),this.keys=BO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>c.fromName(r.referenceValue))}class s2 extends ji{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return E0(t)&&w0(t.arrayValue,this.value)}}class o2 extends ji{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&w0(this.value.arrayValue,t)}}class a2 extends ji{constructor(e,t){super(e,"not-in",t)}matches(e){if(w0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!w0(this.value.arrayValue,t)}}class l2 extends ji{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!E0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>w0(this.value.arrayValue,r))}}class kf{constructor(e,t){this.position=e,this.inclusive=t}}class R_{constructor(e,t="asc"){this.field=e,this.dir=t}}function c2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function jO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],u=n.position[i];if(r=l.field.isKeyField()?c.comparator(c.fromName(u.referenceValue),t.key):xf(u,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function HO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kc(n.position[t],e.position[t]))return!1;return!0}class Od{constructor(e,t=null,r=[],i=[],l=null,u="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=y,this._t=null,this.wt=null}}function zO(n,e,t,r,i,l,u,f){return new Od(n,e,t,r,i,l,u,f)}function F_(n){return new Od(n)}function qO(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function mx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yx(n){for(const e of n.filters)if(e.dt())return e.field;return null}function _x(n){return null!==n.collectionGroup}function P_(n){const e=We(n);if(null===e._t){e._t=[];const t=yx(e),r=mx(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new R_(t)),e._t.push(new R_(o.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new R_(o.keyField(),l))}}}return e._t}function $s(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=LO(e.path,e.collectionGroup,P_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of P_(e))t.push(new R_(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new kf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new kf(e.startAt.position,e.startAt.inclusive):null;e.wt=LO(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function TC(n,e,t){return new Od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function C0(n,e){return S0($s(n),$s(e))&&n.limitType===e.limitType}function $O(n){return`${Bg($s(n))}|lt:${n.limitType}`}function vx(n){return`Query(target=${function e2(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${N_(r.value)}`;var r}).join(", ")}]`),v0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>N_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>N_(t)).join(",")),`Target(${e})`}($s(n))}; limitType=${n.limitType})`}function bx(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):c.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,u){const f=jO(i,l,u);return i.inclusive?f<=0:f<0}(t.startAt,P_(t),r)||t.endAt&&!function(i,l,u){const f=jO(i,l,u);return i.inclusive?f>=0:f>0}(t.endAt,P_(t),r)));var t,r}function ZO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GO(n){return(e,t)=>{let r=!1;for(const i of P_(n)){const l=u2(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function u2(n,e,t){const r=n.field.isKeyField()?c.comparator(e.key,t.key):function(i,l,u){const f=l.data.field(i),y=u.data.field(i);return null!==f&&null!==y?xf(f,y):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function WO(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b0(e)?"-0":e}}function KO(n){return{integerValue:""+n}}function YO(n,e){return xO(e)?KO(e):WO(n,e)}class SC{constructor(){this._=void 0}}function d2(n,e,t){return n instanceof L_?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof jg?JO(n,e):n instanceof Hg?XO(n,e):function(r,i){const l=QO(r,i),u=eN(l)+eN(r.yt);return gx(l)&&gx(r.yt)?KO(u):WO(r.It,u)}(n,e)}function h2(n,e,t){return n instanceof jg?JO(n,e):n instanceof Hg?XO(n,e):t}function QO(n,e){return n instanceof V_?gx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class L_ extends SC{}class jg extends SC{constructor(e){super(),this.elements=e}}function JO(n,e){const t=tN(e);for(const r of n.elements)t.some(i=>Kc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Hg extends SC{constructor(e){super(),this.elements=e}}function XO(n,e){let t=tN(e);for(const r of n.elements)t=t.filter(i=>!Kc(i,r));return{arrayValue:{values:t}}}class V_ extends SC{constructor(e,t){super(),this.It=e,this.yt=t}}function eN(n){return xr(n.integerValue||n.doubleValue)}function tN(n){return E0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class I0{constructor(e,t){this.field=e,this.transform=t}}class p2{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function CC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class IC{}function nN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new B_(n.key,dr.none()):new U_(n.key,n.data,dr.none());{const t=n.data,r=Bi.empty();let i=new Vn(o.comparator);for(let l of e.fields)if(!i.has(l)){let u=t.field(l);null===u&&l.length>1&&(l=l.popLast(),u=t.field(l)),null===u?r.delete(l):r.set(l,u),i=i.add(l)}return new Nd(n.key,r,new Zo(i.toArray()),dr.none())}}function g2(n,e,t){n instanceof U_?function(r,i,l){const u=r.value.clone(),f=sN(r.fieldTransforms,i,l.transformResults);u.setAll(f),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Nd?function(r,i,l){if(!CC(r.precondition,i))return void i.convertToUnknownDocument(l.version);const u=sN(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(iN(r)),f.setAll(u),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function A0(n,e,t,r){return n instanceof U_?function(i,l,u,f){if(!CC(i.precondition,l))return u;const y=i.value.clone(),b=oN(i.fieldTransforms,f,l);return y.setAll(b),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Nd?function(i,l,u,f){if(!CC(i.precondition,l))return u;const y=oN(i.fieldTransforms,f,l),b=l.data;return b.setAll(iN(i)),b.setAll(y),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(u=t,CC(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u);var l,u}function m2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=QO(r.transform,i||null);null!=l&&(null===t&&(t=Bi.empty()),t.set(r.field,l))}return t||null}function rN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Fg(t,r,(i,l)=>function f2(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof jg&&r instanceof jg||t instanceof Hg&&r instanceof Hg?Fg(t.elements,r.elements,Kc):t instanceof V_&&r instanceof V_?Kc(t.yt,r.yt):t instanceof L_&&r instanceof L_);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class U_ extends IC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nd extends IC{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sN(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],u=l.transform,f=e.data.field(l.field);r.set(l.field,h2(u,f,t[i]))}return r}function oN(n,e,t){const r=new Map;for(const i of n){const l=i.transform,u=t.data.field(i.field);r.set(i.field,d2(l,u,e))}return r}class B_ extends IC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wx extends IC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y2{constructor(e){this.count=e}}var Jr,gn;function aN(n){switch(n){default:return st();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function lN(n){if(void 0===n)return ur("GRPC error has no .code"),be.UNKNOWN;switch(n){case Jr.OK:return be.OK;case Jr.CANCELLED:return be.CANCELLED;case Jr.UNKNOWN:return be.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return be.INTERNAL;case Jr.UNAVAILABLE:return be.UNAVAILABLE;case Jr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Jr.NOT_FOUND:return be.NOT_FOUND;case Jr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Jr.ABORTED:return be.ABORTED;case Jr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Jr.DATA_LOSS:return be.DATA_LOSS;default:return st()}}(gn=Jr||(Jr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Mf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return IO(this.inner)}size(){return this.innerSize}}const _2=new Dr(c.comparator);function wo(){return _2}const cN=new Dr(c.comparator);function D0(...n){let e=cN;for(const t of n)e=e.insert(t.key,t);return e}function uN(n){let e=cN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yc(){return x0()}function dN(){return x0()}function x0(){return new Mf(n=>n.toString(),(n,e)=>n.isEqual(e))}const v2=new Dr(c.comparator),b2=new Vn(c.comparator);function Gt(...n){let e=b2;for(const t of n)e=e.add(t);return e}const w2=new Vn(jt);function AC(){return w2}class k0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,M0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new k0(Mt.min(),i,AC(),wo(),Gt())}}class M0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new M0(r,t,Gt(),Gt(),Gt())}}class DC{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class hN{constructor(e,t){this.targetId=e,this.At=t}}class fN{constructor(e,t,r=di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class pN{constructor(){this.Rt=0,this.bt=mN(),this.Pt=di.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Gt(),t=Gt(),r=Gt();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new M0(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=mN()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class E2{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=wo(),this.qt=gN(),this.Kt=new Vn(jt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(wC(l))if(0===r){const u=new c(l.path);this.jt(t,u,Wn.newNoDocument(u,Mt.min()))}else xt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,u)=>{const f=this.Xt(u);if(f){if(l.current&&wC(f.target)){const y=new c(f.target.path);null!==this.Ut.get(y)||this.ee(u,y)||this.jt(u,y,Wn.newNoDocument(y,e))}l.Dt&&(t.set(u,l.xt()),l.Nt())}});let r=Gt();this.qt.forEach((l,u)=>{let f=!0;u.forEachWhile(y=>{const b=this.Xt(y);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.Ut.forEach((l,u)=>u.setReadTime(e));const i=new k0(e,t,this.Kt,this.Ut,r);return this.Ut=wo(),this.qt=gN(),this.Kt=new Vn(jt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new pN,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Vn(jt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new pN),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function gN(){return new Dr(c.comparator)}function mN(){return new Dr(c.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},S2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class C2{constructor(e,t){this.databaseId=e,this.gt=t}}function O0(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yN(n,e){return n.gt?e.toBase64():e.toUint8Array()}function I2(n,e){return O0(n,e.toTimestamp())}function Ai(n){return xt(!!n),Mt.fromTimestamp(function(e){const t=If(e);return new tr(t.seconds,t.nanos)}(n))}function Ex(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _N(n){const e=cn.fromString(n);return xt(IN(e)),e}function N0(n,e){return Ex(n.databaseId,e.path)}function Qc(n,e){const t=_N(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new c(bN(t))}function Tx(n,e){return Ex(n.databaseId,e)}function vN(n){const e=_N(n);return 4===e.length?cn.emptyPath():bN(e)}function R0(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bN(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wN(n,e,t){return{name:N0(n,e),fields:t.value.mapValue.fields}}function EN(n,e,t){const r=Qc(n,e.name),i=Ai(e.updateTime),l=new Bi({mapValue:{fields:e.fields}}),u=Wn.newFoundDocument(r,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function F0(n,e){let t;if(e instanceof U_)t={update:wN(n,e.key,e.value)};else if(e instanceof B_)t={delete:N0(n,e.key)};else if(e instanceof Nd)t={update:wN(n,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof wx))return st();t={verify:N0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const u=l.transform;if(u instanceof L_)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jg)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hg)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof V_)return{fieldPath:l.field.canonicalString(),increment:u.yt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:I2(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function Sx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?dr.updateTime(Ai(i.updateTime)):void 0!==i.exists?dr.exists(i.exists):dr.none():dr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let f=null;"setToServerValue"in u?(xt("REQUEST_TIME"===u.setToServerValue),f=new L_):"appendMissingElements"in u?f=new jg(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Hg(u.removeAllFromArray.values||[]):"increment"in u?f=new V_(l,u.increment):st();const y=o.fromServerFormat(u.fieldPath);return new I0(y,f)}(n,i)):[];var i;if(e.update){const i=Qc(n,e.update.name),l=new Bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Zo((e.updateMask.fieldPaths||[]).map(b=>o.fromServerFormat(b)));return new Nd(i,l,u,t,r)}return new U_(i,l,t,r)}if(e.delete){const i=Qc(n,e.delete);return new B_(i,t)}if(e.verify){const i=Qc(n,e.verify);return new wx(i,t)}return st()}function TN(n,e){return{documents:[Tx(n,e.path)]}}function Cx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Tx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(C=>function(x){if("=="===x.op){if(OO(x.value))return{unaryFilter:{field:j_(x.field),op:"IS_NAN"}};if(MO(x.value))return{unaryFilter:{field:j_(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(OO(x.value))return{unaryFilter:{field:j_(x.field),op:"IS_NOT_NAN"}};if(MO(x.value))return{unaryFilter:{field:j_(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:j_(x.field),op:O2(x.op),value:x.value}}}(C));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(b=>{return{field:j_((C=b).field),direction:M2(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=(b=e.limit,n.gt||v0(b)?b:{value:b});var b,f,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function SN(n){let e=vN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let l=[];t.where&&(l=CN(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new R_(H_((x=C).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(C){let x;return x="object"==typeof C?C.value:C,v0(x)?null:x}(t.limit));let y=null;var C;t.startAt&&(y=new kf((C=t.startAt).values||[],!!C.before));let b=null;return t.endAt&&(b=function(C){return new kf(C.values||[],!C.before)}(t.endAt)),zO(e,i,u,l,f,"F",y,b)}function CN(n){return n?void 0!==n.unaryFilter?[R2(n)]:void 0!==n.fieldFilter?[N2(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>CN(e)).reduce((e,t)=>e.concat(t)):st():[]}function M2(n){return T2[n]}function O2(n){return S2[n]}function j_(n){return{fieldPath:n.canonicalString()}}function H_(n){return o.fromServerFormat(n.fieldPath)}function N2(n){return ji.create(H_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function R2(n){switch(n.unaryFilter.op){case"IS_NAN":const e=H_(n.unaryFilter.field);return ji.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=H_(n.unaryFilter.field);return ji.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=H_(n.unaryFilter.field);return ji.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=H_(n.unaryFilter.field);return ji.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function F2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AN(e)),e=P2(n.get(t),e);return AN(e)}function P2(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function AN(n){return n+"\x01\x01"}function Jc(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const u=n.indexOf("\x01",l);switch((u<0||u>t)&&st(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,u),i+="\0";break;case"\x11":i+=n.substring(l,u+1);break;default:st()}l=u+2}return new cn(r)}const DN=["userId","batchId"];function xC(n,e){return[n,Zs(e)]}function xN(n,e,t){return[n,Zs(e),t]}const L2={},V2=["prefixPath","collectionGroup","readTime","documentId"],U2=["prefixPath","collectionGroup","documentId"],B2=["collectionGroup","readTime","prefixPath","documentId"],j2=["canonicalId","targetId"],H2=["targetId","path"],z2=["path","targetId"],q2=["collectionId","parent"],$2=["indexId","uid"],Z2=["uid","sequenceNumber"],G2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],W2=["indexId","uid","orderedDocumentKey"],K2=["userId","collectionPath","documentId"],Y2=["userId","collectionPath","largestBatchId"],Q2=["userId","collectionGroup","largestBatchId"],kN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J2=[...kN,"documentOverlays"],MN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ON=MN,X2=[...ON,"indexConfiguration","indexState","indexEntries"];class Ix extends Ve{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Di(n,e){const t=We(n);return ct.M(t.ie,e)}class Ax{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&g2(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=A0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=A0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dN();return this.mutations.forEach(i=>{const l=e.get(i.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(i.key)?null:f;const y=nN(u,f);null!==y&&r.set(i.key,y),u.isValidDocument()||u.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Fg(this.mutations,e.mutations,(t,r)=>rN(t,r))&&Fg(this.baseMutations,e.baseMutations,(t,r)=>rN(t,r))}}class Dx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=v2;const l=e.mutations;for(let u=0;u<l.length;u++)i=i.insert(l[u].key,r[u].version);return new Dx(e,t,r,i)}}class xx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Of{constructor(e,t,r,i,l=Mt.min(),u=Mt.min(),f=di.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Of(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Of(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class NN{constructor(e){this.re=e}}function RN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:N0(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:O0(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:zg(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:zg(e.version)}}var i,l;return r}function kC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qg(n){const e=new tr(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function $g(n,e){const t=(e.baseMutations||[]).map(l=>Sx(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(u.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Sx(n.re,l)),i=tr.fromMillis(e.localWriteTimeMs);return new Ax(e.batchId,i,t,r)}function P0(n){const e=qg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qg(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=$s(F_(vN(i.documents[0])))):r=$s(SN(n.query)),new Of(r,n.targetId,0,n.lastListenSequenceNumber,e,t,di.fromBase64String(n.resumeToken))}function FN(n,e){const t=zg(e.snapshotVersion),r=zg(e.lastLimboFreeSnapshotVersion);let i;i=wC(e.target)?TN(n.re,e.target):Cx(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bg(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function kx(n){const e=SN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?TC(e,e.limit,"L"):e}function Mx(n,e){return new xx(e.largestBatchId,Sx(n.re,e.overlayMutation))}function PN(n,e){const t=e.path.lastSegment();return[n,Zs(e.path.popLast()),t]}function LN(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:zg(r.readTime),documentKey:Zs(r.documentKey.path),largestBatchId:r.largestBatchId}}class tV{getBundleMetadata(e,t){return VN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return VN(e).put({bundleId:(r=t).id,createTime:zg(Ai(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return UN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:kx(i.bundledQuery),readTime:qg(i.readTime)};var i})}saveNamedQuery(e,t){return UN(e).put({name:(r=t).name,readTime:zg(Ai(r.readTime)),bundledQuery:r.bundledQuery});var r}}function VN(n){return Di(n,"bundles")}function UN(n){return Di(n,"namedQueries")}class MC{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new MC(e,t.uid||"")}getOverlay(e,t){return L0(e).get(PN(this.userId,t)).next(r=>r?Mx(this.It,r):null)}getOverlays(e,t){const r=Yc();return ie.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,u)=>{const f=new xx(t,u);i.push(this.ue(e,f))}),ie.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Zs(u.getCollectionPath())));const l=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);l.push(L0(e).Y("collectionPathOverlayIndex",f))}),ie.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Yc(),l=Zs(t),u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return L0(e).W("collectionPathOverlayIndex",u).next(f=>{for(const y of f){const b=Mx(this.It,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Yc();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return L0(e).Z({index:"collectionGroupOverlayIndex",range:f},(y,b,C)=>{const x=Mx(this.It,b);l.size()<i||x.largestBatchId===u?(l.set(x.getKey(),x),u=x.largestBatchId):C.done()}).next(()=>l)}ue(e,t){return L0(e).put(function(r,i,l){const[u,f,y]=PN(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:F0(r.re,l.mutation)}}(this.It,this.userId,t))}}function L0(n){return Di(n,"documentOverlays")}class Zg{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),b0(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Lg(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?NO(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):st()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),c.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function nV(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function BN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=nV(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Zg.Te=new Zg;class rV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=BN(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=BN(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iV{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class sV{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class V0{constructor(){this.Be=new rV,this.Le=new iV(this.Be),this.Ue=new sV(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Gg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gg(this.indexId,this.documentKey,this.arrayValue,r)}}function Wg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jN(n.arrayValue,e.arrayValue),0!==t?t:(t=jN(n.directionalValue,e.directionalValue),0!==t?t:c.comparator(n.documentKey,e.documentKey)))}function jN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class oV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=h(e);if(void 0!==t&&!this.ze(t))return!1;const r=g(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[l++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class aV{constructor(){this.Ye=new Ox}addToCollectionParentIndex(e,t){return this.Ye.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(W.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(W.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Ox{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vn(cn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(cn.comparator)).toArray()}}const OC=new Uint8Array(0);class lV{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ox,this.Ze=new Mf(r=>Bg(r),(r,i)=>S0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:Zs(i)};return HN(e).put(l)}return ie.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[hx(t),""],!1,!0);return HN(e).W(i).next(l=>{for(const u of l){if(u.collectionId!==t)break;r.push(Jc(u.parent))}return r})}addFieldIndex(e,t){const r=NC(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const l=r.add(i);if(t.indexState){const u=B0(e);return l.next(f=>{u.put(LN(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=NC(e),i=B0(e),l=U0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=U0(e);let i=!0;const l=new Map;return ie.forEach(this.tn(t),u=>this.en(e,u).next(f=>{i&&(i=!!f),l.set(u,f)})).next(()=>{if(i){let u=Gt();const f=[];return ie.forEach(l,(y,b)=>{var C;Pe("IndexedDbIndexManager",`Using index ${C=y,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(ut=>`${ut.fieldPath}:${ut.kind}`).join(",")}`} to execute ${Bg(t)}`);const x=function(ut,Ke){const Tt=h(Ke);if(void 0===Tt)return null;for(const Lt of EC(ut,Tt.fieldPath))switch(Lt.op){case"array-contains-any":return Lt.value.arrayValue.values||[];case"array-contains":return[Lt.value]}return null}(b,y),P=function(ut,Ke){const Tt=new Map;for(const Lt of g(Ke))for(const mn of EC(ut,Lt.fieldPath))switch(mn.op){case"==":case"in":Tt.set(Lt.fieldPath.canonicalString(),mn.value);break;case"not-in":case"!=":return Tt.set(Lt.fieldPath.canonicalString(),mn.value),Array.from(Tt.values())}return null}(b,y),H=function(ut,Ke){const Tt=[];let Lt=!0;for(const mn of g(Ke)){const ki=0===mn.kind?VO(ut,mn.fieldPath,ut.startAt):UO(ut,mn.fieldPath,ut.startAt);Tt.push(ki.value),Lt&&(Lt=ki.inclusive)}return new kf(Tt,Lt)}(b,y),$=function(ut,Ke){const Tt=[];let Lt=!0;for(const mn of g(Ke)){const ki=0===mn.kind?UO(ut,mn.fieldPath,ut.endAt):VO(ut,mn.fieldPath,ut.endAt);Tt.push(ki.value),Lt&&(Lt=ki.inclusive)}return new kf(Tt,Lt)}(b,y),ue=this.nn(y,b,H),ve=this.nn(y,b,$),je=this.sn(y,b,P),et=this.rn(y.indexId,x,ue,H.inclusive,ve,$.inclusive,je);return ie.forEach(et,ut=>r.J(ut,t.limit).next(Ke=>{Ke.forEach(Tt=>{const Lt=c.fromSegments(Tt.documentKey);u.has(Lt)||(u=u.add(Lt),f.push(Lt))})}))}).next(()=>f)}return ie.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,u,f){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),b=y/(null!=t?t.length:1),C=[];for(let x=0;x<y;++x){const P=t?this.on(t[x/b]):OC,H=this.un(e,P,r[x%b],i),$=this.cn(e,P,l[x%b],u),ue=f.map(ve=>this.un(e,P,ve,!0));C.push(...this.createRange(H,$,ue))}return C}un(e,t,r,i){const l=new Gg(e,c.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new Gg(e,c.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new oV(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let u=null;for(const f of l)r.We(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;return ie.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(u){let f=new Vn(o.comparator),y=!1;for(const b of u.filters){const C=b;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?y=!0:f=f.add(C.field))}for(const b of u.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new V0;for(const i of g(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const u=r.qe(i.kind);Zg.Te.ce(l,u)}return r.$e()}on(e){const t=new V0;return Zg.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new V0;return Zg.Te.ce(Ug(this.databaseId,t),r.qe(function(i){const l=g(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new V0);let l=0;for(const u of g(e)){const f=r[l++];for(const y of i)if(this.ln(t,u.fieldPath)&&E0(f))i=this.fn(i,u,f);else{const b=y.qe(u.kind);Zg.Te.ce(f,b)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const u of r.arrayValue.values||[])for(const f of i){const y=new V0;y.seed(f.$e()),Zg.Te.ce(u,y.qe(t.kind)),l.push(y)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof ji&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=NC(e),i=B0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const u=[];return ie.forEach(l,f=>i.get([f.indexId,this.uid]).next(y=>{u.push(function(b,C){const x=C?new D(C.sequenceNumber,new W(qg(C.readTime),new c(Jc(C.documentKey)),C.largestBatchId)):D.empty(),P=b.fields.map(([H,$])=>new E(o.fromServerFormat(H),$));return new d(b.indexId,b.collectionGroup,P,x)}(f,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=NC(e),l=B0(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ie.forEach(f,y=>l.put(LN(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(i,l)=>{const u=r.get(i.collectionGroup);return(u?ie.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ie.forEach(f,y=>this.wn(e,i,y).next(b=>{const C=this.mn(l,y);return b.isEqual(C)?ie.resolve():this.gn(e,l,y,b,C)}))))})}yn(e,t,r,i){return U0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return U0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=U0(e);let l=new Vn(Wg);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(u,f)=>{l=l.add(new Gg(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}mn(e,t){let r=new Vn(Wg);const i=this.an(t,e);if(null==i)return r;const l=h(t);if(null!=l){const u=e.data.field(l.fieldPath);if(E0(u))for(const f of u.arrayValue.values||[])r=r.add(new Gg(t.indexId,e.key,this.on(f),i))}else r=r.add(new Gg(t.indexId,e.key,OC,i));return r}gn(e,t,r,i,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,y,b,C,x){const P=f.getIterator(),H=y.getIterator();let $=O_(P),ue=O_(H);for(;$||ue;){let ve=!1,je=!1;if($&&ue){const et=b($,ue);et<0?je=!0:et>0&&(ve=!0)}else null!=$?je=!0:ve=!0;ve?(C(ue),ue=O_(H)):je?(x($),$=O_(P)):($=O_(P),ue=O_(H))}}(i,l,Wg,f=>{u.push(this.yn(e,t,r,f))},f=>{u.push(this.pn(e,t,r,f))}),ie.waitFor(u)}_n(e){let t=1;return B0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Wg(u,f)).filter((u,f,y)=>!f||0!==Wg(u,y[f-1]));const i=[];i.push(e);for(const u of r){const f=Wg(u,e),y=Wg(u,t);if(0===f)i[0]=e.Ke();else if(f>0&&y<0)i.push(u),i.push(u.Ke());else if(y>0)break}i.push(t);const l=[];for(let u=0;u<i.length;u+=2)l.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,OC,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,OC,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zN)}getMinOffset(e,t){return ie.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||st())).next(zN)}}function HN(n){return Di(n,"collectionParents")}function U0(n){return Di(n,"indexEntries")}function NC(n){return Di(n,"indexConfiguration")}function B0(n){return Di(n,"indexState")}function zN(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;he(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new W(e.readTime,e.documentKey,t)}const qN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Eo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Eo(e,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $N(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],u=IDBKeyRange.only(t.batchId);let f=0;const y=r.Z({range:u},(C,x,P)=>(f++,P.delete()));l.push(y.next(()=>{xt(1===f)}));const b=[];for(const C of t.mutations){const x=xN(e,C.key.path,t.batchId);l.push(i.delete(x)),b.push(C.key)}return ie.waitFor(l).next(()=>b)}function RC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo(41943040,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);class FC{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){xt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new FC(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nf(e).Z({index:"userMutationsIndex",range:r},(i,l,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=z_(e),u=Nf(e);return u.add({}).next(f=>{xt("number"==typeof f);const y=new Ax(f,t,r,i),b=function(P,H,$){const ue=$.baseMutations.map(je=>F0(P.re,je)),ve=$.mutations.map(je=>F0(P.re,je));return{userId:H,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ue,mutations:ve}}(this.It,this.userId,y),C=[];let x=new Vn((P,H)=>jt(P.canonicalString(),H.canonicalString()));for(const P of i){const H=xN(this.userId,P.key.path,f);x=x.add(P.key.path.popLast()),C.push(u.put(b)),C.push(l.put(H,L2))}return x.forEach(P=>{C.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[f]=y.keys()}),ie.waitFor(C).next(()=>y)})}lookupMutationBatch(e,t){return Nf(e).get(t).next(r=>r?(xt(r.userId===this.userId),$g(this.It,r)):null)}Tn(e,t){return this.In[t]?ie.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Nf(e).Z({index:"userMutationsIndex",range:i},(u,f,y)=>{f.userId===this.userId&&(xt(f.batchId>=r),l=$g(this.It,f)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Nf(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,u)=>{r=l.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nf(e).W("userMutationsIndex",t).next(r=>r.map(i=>$g(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return z_(e).Z({range:i},(u,f,y)=>{const[b,C,x]=u,P=Jc(C);if(b===this.userId&&t.path.isEqual(P))return Nf(e).get(x).next(H=>{if(!H)throw st();xt(H.userId===this.userId),l.push($g(this.It,H))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(jt);const i=[];return t.forEach(l=>{const u=xC(this.userId,l.path),f=IDBKeyRange.lowerBound(u),y=z_(e).Z({range:f},(b,C,x)=>{const[P,H,$]=b,ue=Jc(H);P===this.userId&&l.path.isEqual(ue)?r=r.add($):x.done()});i.push(y)}),ie.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=xC(this.userId,r),u=IDBKeyRange.lowerBound(l);let f=new Vn(jt);return z_(e).Z({range:u},(y,b,C)=>{const[x,P,H]=y,$=Jc(P);x===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(H)):C.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Nf(e).get(l).next(u=>{if(null===u)throw st();xt(u.userId===this.userId),r.push($g(this.It,u))}))}),ie.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return $N(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return z_(e).Z({range:r},(l,u,f)=>{if(l[0]===this.userId){const y=Jc(l[1]);i.push(y)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return ZN(e,this.userId,t)}Rn(e){return GN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZN(n,e,t){const r=xC(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let u=!1;return z_(n).Z({range:l,X:!0},(f,y,b)=>{const[C,x,P]=f;C===e&&x===i&&(u=!0),b.done()}).next(()=>u)}function Nf(n){return Di(n,"mutations")}function z_(n){return Di(n,"documentMutations")}function GN(n){return Di(n,"mutationQueues")}class Kg{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Kg(0)}static vn(){return new Kg(-1)}}class cV{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Kg(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Mt.fromTimestamp(new tr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>q_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return q_(e).Z((u,f)=>{const y=P0(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>ie.waitFor(l)).next(()=>i)}forEachTarget(e,t){return q_(e).Z((r,i)=>{const l=P0(i);t(l)})}Vn(e){return WN(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}Sn(e,t){return WN(e).put("targetGlobalKey",t)}Dn(e,t){return q_(e).put(FN(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Bg(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return q_(e).Z({range:i,index:"queryTargetsIndex"},(u,f,y)=>{const b=P0(f);S0(t,b.target)&&(l=b,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Rf(e);return t.forEach(u=>{const f=Zs(u.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ie.waitFor(i)}removeMatchingKeys(e,t,r){const i=Rf(e);return ie.forEach(t,l=>{const u=Zs(l.path);return ie.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Rf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Rf(e);let l=Gt();return i.Z({range:r,X:!0},(u,f,y)=>{const b=Jc(u[1]),C=new c(b);l=l.add(C)}).next(()=>l)}containsKey(e,t){const r=Zs(t.path),i=IDBKeyRange.bound([r],[hx(r)],!1,!0);let l=0;return Rf(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,f],y,b)=>{0!==u&&(l++,b.done())}).next(()=>l>0)}se(e,t){return q_(e).get(t).next(r=>r?P0(r):null)}}function q_(n){return Di(n,"targets")}function WN(n){return Di(n,"targetGlobal")}function Rf(n){return Di(n,"targetDocuments")}function KN([n,e],[t,r]){const i=jt(n,t);return 0===i?jt(e,r):i}class uV{constructor(e){this.xn=e,this.buffer=new Vn(KN),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();KN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){fs(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield qe(r)}yield t.Fn(3e5)}))}}class hV{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(Ii.at);const r=new uV(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(qN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qN):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,u,f,y,b;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,u=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(b=Date.now(),h0()<=js.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(y-f)+`ms\n\tRemoved ${x} documents in `+(b-y)+`ms\nTotal Duration: ${b-C}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:x})))}}class fV{constructor(e,t){this.db=e,this.garbageCollector=new hV(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return PC(e,r)}removeReference(e,t,r){return PC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return PC(e,t)}Gn(e,t){return function(r,i){let l=!1;return GN(r).tt(u=>ZN(r,u,i).next(f=>(f&&(l=!0),ie.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(u,f)=>{if(f<=t){const y=this.Gn(e,u).next(b=>{if(!b)return l++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Mt.min()),Rf(e).delete([0,Zs(u.path)])))});i.push(y)}}).next(()=>ie.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return PC(e,t)}Kn(e,t){const r=Rf(e);let i,l=Ii.at;return r.Z({index:"documentTargetsIndex"},([u,f],{path:y,sequenceNumber:b})=>{0===u?(l!==Ii.at&&t(new c(Jc(i)),l),l=b,i=y):l=Ii.at}).next(()=>{l!==Ii.at&&t(new c(Jc(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function PC(n,e){return Rf(n).put((r=n.currentSequenceNumber,{targetId:0,path:Zs(e.path),sequenceNumber:r}));var r}class YN{constructor(){this.changes=new Mf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pV{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yg(e).put(r)}removeEntry(e,t,r){return Yg(e).delete(function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],kC(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Wn.newInvalidDocument(t);return Yg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(j0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:Wn.newInvalidDocument(t)};return Yg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(j0(t))},(i,l)=>{r={document:this.jn(t,l),size:RC(l)}}).next(()=>r)}getEntries(e,t){let r=wo();return this.zn(e,t,(i,l)=>{const u=this.jn(i,l);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=wo(),i=new Dr(c.comparator);return this.zn(e,t,(l,u)=>{const f=this.jn(l,u);r=r.insert(l,f),i=i.insert(l,RC(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ie.resolve();let i=new Vn(eR);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(j0(i.first()),j0(i.last())),u=i.getIterator();let f=u.getNext();return Yg(e).Z({index:"documentKeyIndex",range:l},(y,b,C)=>{const x=c.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&eR(f,x)<0;)r(f,null),f=u.getNext();f&&f.isEqual(x)&&(r(f,b),f=u.hasNext()?u.getNext():null),f?C.j(j0(f)):C.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),kC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yg(e).W(IDBKeyRange.bound(i,l,!0)).next(u=>{let f=wo();for(const y of u){const b=this.jn(c.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=wo();const u=XN(t,r),f=XN(t,W.max());return Yg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(y,b,C)=>{const x=this.jn(c.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);l=l.insert(x.key,x),l.size===i&&C.done()}).next(()=>l)}newChangeBuffer(e){return new gV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return JN(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Qn(e,t){return JN(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function eV(n,e){let t;if(e.document)t=EN(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=c.fromSegments(e.noDocument.path),i=qg(e.noDocument.readTime);t=Wn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=c.fromSegments(e.unknownDocument.path),i=qg(e.unknownDocument.version);t=Wn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new tr(r[0],r[1]);return Mt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return Wn.newInvalidDocument(e)}}function QN(n){return new pV(n)}class gV extends YN{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Mf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Vn((l,u)=>jt(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,f.readTime)),u.isValidDocument()){const y=RN(this.Yn.It,u);i=i.add(l.path.popLast()),r+=RC(y)-f.size,t.push(this.Yn.addEntry(e,l,y))}else if(r-=f.size,this.trackRemovals){const y=RN(this.Yn.It,u.convertToNoDocument(Mt.min()));t.push(this.Yn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,u)=>{this.Xn.set(l,{size:u,readTime:r.get(l).readTime})}),r))}}function JN(n){return Di(n,"remoteDocumentGlobal")}function Yg(n){return Di(n,"remoteDocumentsV14")}function j0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XN(n,e){const t=e.documentKey.path.toArray();return[n,kC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=jt(t[l],r[l]),i)return i;return i=jt(t.length,r.length),i||(i=jt(t[t.length-2],r[r.length-2]),i||jt(t[t.length-1],r[r.length-1]))}class mV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&A0(r.mutation,i,Zo.empty(),tr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const i=Yc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let u=D0();return l.forEach((f,y)=>{u=u.insert(f,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Yc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let l=wo();const u=x0(),f=x0();return t.forEach((y,b)=>{const C=r.get(b.key);i.has(b.key)&&(void 0===C||C.mutation instanceof Nd)?l=l.insert(b.key,b):void 0!==C&&(u.set(b.key,C.mutation.getFieldMask()),A0(C.mutation,b,C.mutation.getFieldMask(),tr.now()))}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((b,C)=>u.set(b,C)),t.forEach((b,C)=>{var x;return f.set(b,new mV(C,null!==(x=u.get(b))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=x0();let i=new Dr((u,f)=>u-f),l=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(y=>{const b=t.get(y);if(null===b)return;let C=r.get(y)||Zo.empty();C=f.applyToLocalView(b,C),r.set(y,C);const x=(i.get(f.batchId)||Gt()).add(y);i=i.insert(f.batchId,x)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),b=y.key,C=y.value,x=dN();C.forEach(P=>{if(!l.has(P)){const H=nN(t.get(P),r.get(P));null!==H&&x.set(P,H),l=l.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,x))}return ie.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return c.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_x(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const u=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):ie.resolve(Yc());let f=-1,y=l;return u.next(b=>ie.forEach(b,(C,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(C)?ie.resolve():this.getBaseDocument(e,C,x).next(P=>{y=y.insert(C,P)}))).next(()=>this.populateOverlays(e,b,l)).next(()=>this.computeViews(e,y,b,Gt())).next(C=>({batchId:f,changes:uN(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new c(t)).next(r=>{let i=D0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=D0();return this.indexManager.getCollectionParents(e,i).next(u=>ie.forEach(u,f=>{const y=(b=t,C=f.child(i),new Od(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(b=>{b.forEach((C,x)=>{l=l.insert(C,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((f,y)=>{const b=y.getKey();null===i.get(b)&&(i=i.insert(b,Wn.newInvalidDocument(b)))});let u=D0();return i.forEach((f,y)=>{const b=l.get(f);void 0!==b&&A0(b.mutation,y,Zo.empty(),tr.now()),bx(t,y)&&(u=u.insert(f,y))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ie.resolve(Wn.newInvalidDocument(t))}}class yV{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ai(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:kx(r.bundledQuery),readTime:Ai(r.readTime)}),ie.resolve();var r}}class _V{constructor(){this.overlays=new Dr(c.comparator),this.es=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yc();return ie.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=Yc(),l=t.length+1,u=new c(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const y=f.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Dr((b,C)=>b-C);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let C=l.get(b.largestBatchId);null===C&&(C=Yc(),l=l.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const f=Yc(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,C)=>f.set(b,C)),!(f.size()>=i)););return ie.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new xx(t,r));let l=this.es.get(t);void 0===l&&(l=Gt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class Nx{constructor(){this.ns=new Vn(xi.ss),this.rs=new Vn(xi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new xi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new xi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new c(new cn([])),r=new xi(t,e),i=new xi(t,e+1),l=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),l.push(u.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new c(new cn([])),r=new xi(t,e),i=new xi(t,e+1);let l=Gt();return this.rs.forEachInRange([r,i],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new xi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return c.comparator(e.key,t.key)||jt(e._s,t._s)}static os(e,t){return jt(e._s,t._s)||c.comparator(e.key,t.key)}}class vV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Vn(xi.ss)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const u=new Ax(l,t,r,i);this.mutationQueue.push(u);for(const f of i)this.gs=this.gs.add(new xi(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,t){return ie.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xi(t,0),i=new xi(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],u=>{const f=this.ys(u._s);l.push(f)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(jt);return t.forEach(i=>{const l=new xi(i,0),u=new xi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,u],f=>{r=r.add(f._s)})}),ie.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;c.isDocumentKey(l)||(l=l.child(""));const u=new xi(new c(l),0);let f=new Vn(jt);return this.gs.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(y._s)),!0)},u),ie.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ie.forEach(t.mutations,i=>{const l=new xi(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new xi(t,0),i=this.gs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ie.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bV{constructor(e){this.Es=e,this.docs=new Dr(c.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=wo();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Wn.newInvalidDocument(i))}),ie.resolve(r)}getAllFromCollection(e,t,r){let i=wo();const l=new c(t.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:y}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||he(j(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ie.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}As(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wV(this)}getSize(e){return ie.resolve(this.size)}}class wV extends YN{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class EV{constructor(e){this.persistence=e,this.Rs=new Mf(t=>Bg(t),S0),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Nx,this.targetCount=0,this.vs=Kg.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ie.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Kg(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Dn(t),ie.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ie.waitFor(l).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(u=>{l.push(i.markPotentiallyOrphaned(e,u))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Ps.containsKey(t))}}class nR{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ii(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new EV(this),this.indexManager=new aV,this.remoteDocumentCache=new bV(r=>this.referenceDelegate.xs(r)),this.It=new NN(t),this.Ns=new yV(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _V,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new vV(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new TV(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return ie.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class TV extends Ve{constructor(e){super(),this.currentSequenceNumber=e}}class LC{constructor(e){this.persistence=e,this.Fs=new Nx,this.$s=null}static Bs(e){return new LC(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ls,r=>{const i=c.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Mt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ie.or([()=>ie.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class SV{constructor(e){this.It=e}$(e,t,r,i){const l=new Oe("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DN,{unique:!0}),f.createObjectStore("documentMutations"),rR(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ie.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),rR(e)),u=u.next(()=>function(f){const y=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(l))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,y){return y.store("mutations").W().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DN,{unique:!0});const C=y.store("mutations"),x=b.map(P=>C.put(P));return ie.waitFor(x)})}(e,l))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.qs(l))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(l))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,l))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(l))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:K2});y.createIndex("collectionPathOverlayIndex",Y2,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Q2,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:V2});y.createIndex("documentKeyIndex",U2),y.createIndex("collectionGroupIndex",B2)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,l))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:$2}).createIndex("sequenceNumberIndex",Z2,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:G2}).createIndex("documentKeyIndex",W2,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=RC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ie.forEach(i,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(f=>ie.forEach(f,y=>{xt(y.userId===l.userId);const b=$g(this.It,y);return $N(e,l.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((u,f)=>{const y=new cn(u),b=[0,Zs(y)];l.push(t.get(b).next(C=>C?ie.resolve():t.put({targetId:0,path:Zs(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ie.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:q2});const r=t.store("collectionParents"),i=new Ox,l=u=>{if(i.add(u)){const f=u.lastSegment(),y=u.popLast();return r.put({collectionId:f,parent:Zs(y)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const y=new cn(u);return l(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,y],b)=>{const C=Jc(f);return l(C.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=P0(i),u=FN(this.It,l);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,u)=>{const f=t.store("remoteDocumentsV14"),y=(b=u,b.document?new c(cn.fromString(b.document.name).popFirst(5)):b.noDocument?c.fromSegments(b.noDocument.path):b.unknownDocument?c.fromSegments(b.unknownDocument.path):st()).path.toArray();var b;const C={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(C))}).next(()=>ie.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=QN(this.It),l=new nR(LC.Bs,this.It.re);return r.W().next(u=>{const f=new Map;return u.forEach(y=>{var b;let C=null!==(b=f.get(y.userId))&&void 0!==b?b:Gt();$g(this.It,y).keys().forEach(x=>C=C.add(x)),f.set(y.userId,C)}),ie.forEach(f,(y,b)=>{const C=new Br(b),x=MC.oe(this.It,C),P=l.getIndexManager(C),H=FC.oe(C,this.It,P,l.referenceDelegate);return new tR(i,H,x,P).recalculateAndSaveOverlaysForDocumentKeys(new Ix(t,Ii.at),y).next()})})}}function rR(n){n.createObjectStore("targetDocuments",{keyPath:H2}).createIndex("documentTargetsIndex",z2,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j2,{unique:!0}),n.createObjectStore("targetGlobal")}const Rx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fx{constructor(e,t,r,i,l,u,f,y,b,C,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=u,this.document=f,this.Js=b,this.Ys=C,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!Fx.C())throw new Re(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fV(this,i),this.ii=t+"main",this.It=new NN(y),this.ri=new ct(this.ii,this.Xs,new SV(this.It)),this.Cs=new cV(this.referenceDelegate,this.It),this.remoteDocumentCache=QN(this.It),this.Ns=new tV,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===C&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(be.FAILED_PRECONDITION,Rx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ii(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Te.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>VC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(fs(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return H0(e).get("owner").next(t=>ie.resolve(this.mi(t)))}gi(e){return VC(e).delete(this.clientId)}yi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Di(r,"clientMetadata");return i.W().next(l=>{const u=e.Ii(l,18e5),f=l.filter(y=>-1===u.indexOf(y));return ie.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ie.resolve(!0):H0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Re(be.FAILED_PRECONDITION,Rx);return!1}}return!(!this.networkEnabled||!this.inForeground)||VC(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ix(t,Ii.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>VC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return FC.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lV(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return MC.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(u=this.Xs)?X2:14===u?ON:13===u?MN:12===u?J2:11===u?kN:void st();var u;let f;return this.ri.runTransaction(e,i,l,y=>(f=new Ix(y,this.Ss?this.Ss.next():Ii.at),"readwrite-primary"===t?this.fi(f).next(b=>!!b||this.di(f)).next(b=>{if(!b)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Re(be.FAILED_PRECONDITION,Se);return r(f)}).next(b=>this.wi(f).next(()=>b)):this.Vi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Vi(e){return H0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(be.FAILED_PRECONDITION,Rx)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return H0(e).put("owner",t)}static C(){return ct.C()}_i(e){const t=H0(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function H0(n){return Di(n,"owner")}function VC(n){return Di(n,"clientMetadata")}function Px(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Lx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Gt(),i=Gt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Lx(e,t.fromCache,r,i)}}class iR{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(qO(t))return ie.resolve(null);let r=$s(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=TC(t,null,"F"),r=$s(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Gt(...l);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const b=this.Fi(t,f);return this.$i(t,b,u,y.readTime)?this.ki(e,TC(t,null,"F")):this.Bi(e,b,t,y)}))})))}Oi(e,t,r,i){return qO(t)||i.isEqual(Mt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const u=this.Fi(t,l);return this.$i(t,u,r,i)?this.Mi(e,t):(h0()<=js.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vx(t)),this.Bi(e,u,t,M(i,-1)))})}Fi(e,t){let r=new Vn(GO(e));return t.forEach((i,l)=>{bx(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return h0()<=js.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",vx(t)),this.Ni.getDocumentsMatchingQuery(e,t,W.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}class CV{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Dr(jt),this.qi=new Mf(l=>Bg(l),S0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tR(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function sR(n,e,t,r){return new CV(n,e,t,r)}function oR(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Te.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],f=[];let y=Gt();for(const b of i){u.push(b.batchId);for(const C of b.mutations)y=y.add(C.key)}for(const b of l){f.push(b.batchId);for(const C of b.mutations)y=y.add(C.key)}return t.localDocuments.getDocuments(r,y).next(b=>({ji:b,removedBatchIds:u,addedBatchIds:f}))})})}),Vx.apply(this,arguments)}function IV(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,y,b){const C=y.batch,x=C.keys();let P=ie.resolve();return x.forEach(H=>{P=P.next(()=>b.getEntry(f,H)).next($=>{const ue=y.docVersions.get(H);xt(null!==ue),$.version.compareTo(ue)<0&&(C.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),b.addEntry($)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(f,C))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Gt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(f=f.add(u.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function aR(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function AV(n,e){const t=We(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((C,x)=>{const P=i.get(x);if(!P)return;f.push(t.Cs.removeMatchingKeys(l,C.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(l,C.addedDocuments,x)));let H=P.withSequenceNumber(l.currentSequenceNumber);var $,ue,ve;e.targetMismatches.has(x)?H=H.withResumeToken(di.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):C.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(C.resumeToken,r)),i=i.insert(x,H),ue=H,ve=C,(0===($=P).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(l,H))});let y=wo(),b=Gt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),f.push(lR(l,u,e.documentUpdates).next(C=>{y=C.Wi,b=C.zi})),!r.isEqual(Mt.min())){const C=t.Cs.getLastRemoteSnapshotVersion(l).next(x=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(C)}return ie.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,b)).next(()=>y)}).then(l=>(t.Ui=i,l))}function lR(n,e,t){let r=Gt(),i=Gt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let u=wo();return t.forEach((f,y)=>{const b=l.get(f);y.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Mt.min())?(e.removeEntry(f,y.readTime),u=u.insert(f,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||0===y.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(y),u=u.insert(f,y)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",y.version)}),{Wi:u,zi:i}})}function DV(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $_(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,ie.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new Of(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Z_(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Te.Z)(function*(n,e,t){const r=We(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!fs(u))throw u;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),Ux.apply(this,arguments)}function UC(n,e,t){const r=We(n);let i=Mt.min(),l=Gt();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,y,b){const C=We(f),x=C.qi.get(b);return void 0!==x?ie.resolve(C.Ui.get(x)):C.Cs.getTargetData(y,b)}(r,u,$s(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,f.targetId).next(y=>{l=y})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:Mt.min(),t?l:Gt())).next(f=>(dR(r,ZO(e),f),{documents:f,Hi:l})))}function cR(n,e){const t=We(n),r=We(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(u=>u?u.target:null))}function uR(n,e){const t=We(n),r=t.Ki.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,M(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(dR(t,e,i),i))}function dR(n,e,t){let r=n.Ki.get(e)||Mt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function Bx(){return Bx=(0,Te.Z)(function*(n,e,t,r){const i=We(n);let l=Gt(),u=wo();for(const b of t){const C=e.Ji(b.metadata.name);b.document&&(l=l.add(C));const x=e.Yi(b);x.setReadTime(e.Xi(b.metadata.readTime)),u=u.insert(C,x)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield $_(i,(b=r,$s(F_(cn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>lR(b,f,u).next(C=>(f.apply(b),C)).next(C=>i.Cs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.Cs.addMatchingKeys(b,l,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,C.Wi,C.zi)).next(()=>C.Wi)))}),Bx.apply(this,arguments)}function kV(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,Te.Z)(function*(n,e,t=Gt()){const r=yield $_(n,$s(kx(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const u=Ai(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(l,e);const f=r.withResumeToken(di.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(l,f).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),jx.apply(this,arguments)}function hR(n,e){return`firestore_clients_${n}_${e}`}function fR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Hx(n,e){return`firestore_targets_${n}_${e}`}class BC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(l=new Re(i.error.code,i.error.message))),u?new BC(e,t,i.state,l):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class z0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Re(r.error.code,r.error.message))),l?new z0(e,r.state,i):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=AC();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=xO(r.activeTargetIds[u]),l=l.add(r.activeTargetIds[u]);return i?new jC(e,l):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zx{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zx(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qx{constructor(){this.activeTargetIds=AC()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $x{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Dr(jt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=hR(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new qx),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(hR(e.persistenceKey,i));if(l){const u=jC.Zi(i,l);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Hx(this.persistenceKey,e));if(r){const i=z0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hx(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let u=Ii.at;if(null!=l)try{const f=JSON.parse(l);xt("number"==typeof f),u=f}catch(f){ur("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==Ii.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new BC(this.currentUser,e,t,r),l=fR(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=fR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Hx(this.persistenceKey,e),l=new z0(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return jC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return BC.Zi(new Br(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return z0.Zi(i,t)}yr(e){return zx.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),u=[],f=[];return l.forEach(y=>{i.has(y)||u.push(y)}),i.forEach(y=>{l.has(y)||f.push(y)}),this.syncEngine.Br(u,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=AC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class pR{constructor(){this.Lr=new qx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new qx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MV{qr(e){}shutdown(){}}class gR{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const OV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class RV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const u=this.ho(e,t);Pe("RestConnection","Sending: ",u,r);const f={};return this.lo(f,i,l),this.fo(e,u,f,r).then(y=>(Pe("RestConnection","Received: ",y),y),y=>{throw Wc("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",r),y})}_o(e,t,r,i,l,u){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${OV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,u)=>{const f=new wO;f.setWithCredentials(!0),f.listenOnce(c0.COMPLETE,()=>{var b;try{switch(f.getLastErrorCode()){case l0.NO_ERROR:const C=f.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(C)),l(C);break;case l0.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),u(new Re(be.DEADLINE_EXCEEDED,"Request time out"));break;case l0.HTTP_ERROR:const x=f.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',x,"response text:",f.getResponseText()),x>0){let P=f.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=null===(b=P)||void 0===b?void 0:b.error;if(H&&H.status&&H.message){const $=function(ue){const ve=ue.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(ve)>=0?ve:be.UNKNOWN}(H.status);u(new Re($,H.message))}else u(new Re(be.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Re(be.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=o0(),u=a0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new bO({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=i.join("");Pe("Connection","Creating WebChannel: "+y,f);const b=l.createWebChannel(y,f);let C=!1,x=!1;const P=new NV({Hr:$=>{x?Pe("Connection","Not sending because WebChannel is closed:",$):(C||(Pe("Connection","Opening WebChannel transport."),b.open(),C=!0),Pe("Connection","WebChannel sending:",$),b.send($))},Jr:()=>b.close()}),H=($,ue,ve)=>{$.listen(ue,je=>{try{ve(je)}catch(et){setTimeout(()=>{throw et},0)}})};return H(b,d0.EventType.OPEN,()=>{x||Pe("Connection","WebChannel transport opened.")}),H(b,d0.EventType.CLOSE,()=>{x||(x=!0,Pe("Connection","WebChannel transport closed"),P.io())}),H(b,d0.EventType.ERROR,$=>{x||(x=!0,Wc("Connection","WebChannel transport errored:",$),P.io(new Re(be.UNAVAILABLE,"The operation could not be completed")))}),H(b,d0.EventType.MESSAGE,$=>{var ue;if(!x){const ve=$.data[0];xt(!!ve);const je=ve,et=je.error||(null===(ue=je[0])||void 0===ue?void 0:ue.error);if(et){Pe("Connection","WebChannel received error:",et);const ut=et.status;let Ke=function(Lt){const mn=Jr[Lt];if(void 0!==mn)return lN(mn)}(ut),Tt=et.message;void 0===Ke&&(Ke=be.INTERNAL,Tt="Unknown error status: "+ut+" with message "+et.message),x=!0,P.io(new Re(Ke,Tt)),b.close()}else Pe("Connection","WebChannel received:",ve),P.ro(ve)}}),H(u,u0.STAT_EVENT,$=>{$.stat===Rg.PROXY?Pe("Connection","Detected buffering proxy"):$.stat===Rg.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function mR(){return"undefined"!=typeof window?window:null}function HC(){return"undefined"!=typeof document?document:null}function q0(n){return new C2(n,!0)}class Zx{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class yR{constructor(e,t,r,i,l,u,f,y){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Zx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Te.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Te.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===be.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Re(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Te.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FV extends yR{constructor(e,t,r,i,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.It=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function D2(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:st(),i=e.targetChange.targetIds||[],l=function(y,b){return y.gt?(xt(void 0===b||"string"==typeof b),di.fromBase64String(b||"")):(xt(void 0===b||b instanceof Uint8Array),di.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const b=void 0===y.code?be.UNKNOWN:lN(y.code);return new Re(b,y.message||"")}(u);t=new fN(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Qc(n,r.document.name),l=Ai(r.document.updateTime),u=new Bi({mapValue:{fields:r.document.fields}}),f=Wn.newFoundDocument(i,l,u);t=new DC(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Qc(n,r.document),l=r.readTime?Ai(r.readTime):Mt.min(),u=Wn.newNoDocument(i,l);t=new DC([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Qc(n,r.document);t=new DC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,l=new y2(r.count||0);t=new hN(r.targetId,l)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Mt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?Ai(l.readTime):Mt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=R0(this.It),t.addTarget=function(i,l){let u;const f=l.target;return u=wC(f)?{documents:TN(i,f)}:{query:Cx(i,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=yN(i,l.resumeToken):l.snapshotVersion.compareTo(Mt.min())>0&&(u.readTime=O0(i,l.snapshotVersion.toTimestamp())),u}(this.It,e);const r=function k2(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=R0(this.It),t.removeTarget=e,this.Bo(t)}}class PV extends yR{constructor(e,t,r,i,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function x2(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let l=Ai(r.updateTime?r.updateTime:i);return l.isEqual(Mt.min())&&(l=Ai(i)),new p2(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.Zo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=R0(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>F0(this.It,r))};this.Bo(t)}}class LV extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Re(be.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(be.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection._o(e,t,r,l,u,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(be.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class UV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ur(t),this.ou=!1):Pe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class BV{constructor(e,t,r,i,l){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(f=>{r.enqueueAndForget((0,Te.Z)(function*(){var y;Rd(u)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Te.Z)(function*(b){const C=We(b);C._u.add(4),yield G_(C),C.gu.set("Unknown"),C._u.delete(4),yield $0(C)}),function(b){return y.apply(this,arguments)})(u))}))}),this.gu=new UV(r,i)}}function $0(n){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,Te.Z)(function*(n){if(Rd(n))for(const e of n.wu)yield e(!0)}),Wx.apply(this,arguments)}function G_(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,Te.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Kx.apply(this,arguments)}function zC(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Jx(t)?Qx(t):K_(t).ko()&&Yx(t,e))}function Z0(n,e){const t=We(n),r=K_(t);t.du.delete(e),r.ko()&&_R(t,e),0===t.du.size&&(r.ko()?r.Fo():Rd(t)&&t.gu.set("Unknown"))}function Yx(n,e){n.yu.Mt(e.targetId),K_(n).zo(e)}function _R(n,e){n.yu.Mt(e),K_(n).Ho(e)}function Qx(n){n.yu=new E2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),K_(n).start(),n.gu.uu()}function Jx(n){return Rd(n)&&!K_(n).No()&&n.du.size>0}function Rd(n){return 0===We(n)._u.size}function vR(n){n.yu=void 0}function jV(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Te.Z)(function*(n){n.du.forEach((e,t)=>{Yx(n,e)})}),Xx.apply(this,arguments)}function HV(n,e){return ek.apply(this,arguments)}function ek(){return ek=(0,Te.Z)(function*(n,e){vR(n),Jx(n)?(n.gu.hu(e),Qx(n)):n.gu.set("Unknown")}),ek.apply(this,arguments)}function zV(n,e,t){return tk.apply(this,arguments)}function tk(){return tk=(0,Te.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof fN&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(i,l){const u=l.cause;for(const f of l.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.du.delete(f),i.yu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qC(n,r)}else if(e instanceof DC?n.yu.Gt(e):e instanceof hN?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Mt.min()))try{const r=yield aR(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const u=i.yu.te(l);return u.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.du.get(y);b&&i.du.set(y,b.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const y=i.du.get(f);if(!y)return;i.du.set(f,y.withResumeToken(di.EMPTY_BYTE_STRING,y.snapshotVersion)),_R(i,f);const b=new Of(y.target,f,1,y.sequenceNumber);Yx(i,b)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield qC(n,r)}var r}),tk.apply(this,arguments)}function qC(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,Te.Z)(function*(n,e,t){if(!fs(e))throw e;n._u.add(1),yield G_(n),n.gu.set("Offline"),t||(t=()=>aR(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield $0(n)}))}),nk.apply(this,arguments)}function bR(n,e){return e().catch(t=>qC(n,t,e))}function W_(n){return rk.apply(this,arguments)}function rk(){return rk=(0,Te.Z)(function*(n){const e=We(n),t=Ff(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;qV(e);)try{const i=yield DV(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,$V(e,i)}catch(i){yield qC(e,i)}wR(e)&&ER(e)}),rk.apply(this,arguments)}function qV(n){return Rd(n)&&n.fu.length<10}function $V(n,e){n.fu.push(e);const t=Ff(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function wR(n){return Rd(n)&&!Ff(n).No()&&n.fu.length>0}function ER(n){Ff(n).start()}function ZV(n){return ik.apply(this,arguments)}function ik(){return ik=(0,Te.Z)(function*(n){Ff(n).eu()}),ik.apply(this,arguments)}function GV(n){return sk.apply(this,arguments)}function sk(){return sk=(0,Te.Z)(function*(n){const e=Ff(n);for(const t of n.fu)e.Xo(t.mutations)}),sk.apply(this,arguments)}function WV(n,e,t){return ok.apply(this,arguments)}function ok(){return ok=(0,Te.Z)(function*(n,e,t){const r=n.fu.shift(),i=Dx.from(r,e,t);yield bR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield W_(n)}),ok.apply(this,arguments)}function KV(n,e){return ak.apply(this,arguments)}function ak(){return ak=(0,Te.Z)(function*(n,e){var t;e&&Ff(n).Yo&&(yield(t=(0,Te.Z)(function*(r,i){if(aN(l=i.code)&&l!==be.ABORTED){const u=r.fu.shift();Ff(r).Mo(),yield bR(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield W_(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),wR(n)&&ER(n)}),ak.apply(this,arguments)}function TR(n,e){return lk.apply(this,arguments)}function lk(){return lk=(0,Te.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Rd(t);t._u.add(3),yield G_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield $0(t)}),lk.apply(this,arguments)}function ck(n,e){return uk.apply(this,arguments)}function uk(){return uk=(0,Te.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield $0(t)):e||(t._u.add(2),yield G_(t),t.gu.set("Unknown"))}),uk.apply(this,arguments)}function K_(n){return n.pu||(n.pu=function(e,t,r){const i=We(e);return i.su(),new FV(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:jV.bind(null,n),Zr:HV.bind(null,n),Wo:zV.bind(null,n)}),n.wu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.pu.Mo(),Jx(n)?Qx(n):n.gu.set("Unknown")):(yield n.pu.stop(),vR(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ff(n){return n.Iu||(n.Iu=function(e,t,r){const i=We(e);return i.su(),new PV(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:ZV.bind(null,n),Zr:KV.bind(null,n),tu:GV.bind(null,n),Zo:WV.bind(null,n)}),n.wu.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Iu.Mo(),yield W_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class dk{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,l){const u=Date.now()+r,f=new dk(e,t,u,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y_(n,e){if(ur("AsyncQueue",`${e}: ${n}`),fs(n))return new Re(be.UNAVAILABLE,`${e}: ${n}`);throw n}class Q_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||c.comparator(t.key,r.key):(t,r)=>c.comparator(t.key,r.key),this.keyedMap=D0(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new Q_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Q_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Q_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class SR{constructor(){this.Tu=new Dr(c.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class J_{constructor(e,t,r,i,l,u,f,y,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new J_(e,t,Q_.emptySet(t),u,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&C0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class YV{constructor(){this.Au=void 0,this.listeners=[]}}class QV{constructor(){this.queries=new Mf(e=>$O(e),C0),this.onlineState="Unknown",this.Ru=new Set}}function hk(n,e){return fk.apply(this,arguments)}function fk(){return fk=(0,Te.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new YV),i)try{l.Au=yield t.onListen(r)}catch(u){const f=Y_(u,`Initialization of query '${vx(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&mk(t)}),fk.apply(this,arguments)}function pk(n,e){return gk.apply(this,arguments)}function gk(){return gk=(0,Te.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),gk.apply(this,arguments)}function JV(n,e){const t=We(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Pu(i)&&(r=!0);u.Au=i}}r&&mk(t)}function XV(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function mk(n){n.Ru.forEach(e=>{e.next()})}class yk{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new J_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=J_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class eU{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class CR{constructor(e){this.It=e}Ji(e){return Qc(this.It,e)}Yi(e){return e.metadata.exists?EN(this.It,e.document,!1):Wn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ai(e)}}class tU{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=IR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=cn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new CR(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Gt()).add(l);t.set(u,f)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function xV(n,e,t,r){return Bx.apply(this,arguments)}(e.localStore,new CR(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield kV(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function IR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class AR{constructor(e){this.key=e}}class DR{constructor(e){this.key=e}}class xR{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Gt(),this.mutatedKeys=Gt(),this.Gu=GO(e),this.Qu=new Q_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new SR,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,x)=>{const P=i.get(C),H=bx(this.query,x)?x:null,$=!!P&&this.mutatedKeys.has(P.key),ue=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ve=!1;P&&H?P.data.isEqual(H.data)?$!==ue&&(r.track({type:3,doc:H}),ve=!0):this.Hu(P,H)||(r.track({type:2,doc:H}),ve=!0,(y&&this.Gu(H,y)>0||b&&this.Gu(H,b)<0)&&(f=!0)):!P&&H?(r.track({type:0,doc:H}),ve=!0):P&&!H&&(r.track({type:1,doc:P}),ve=!0,(y||b)&&(f=!0)),ve&&(H?(u=u.add(H),l=ue?l.add(C):l.delete(C)):(u=u.delete(C),l=l.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),l=l.delete(C.key),r.track({type:1,doc:C})}return{Qu:u,zu:r,$i:f,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((b,C)=>function(x,P){const H=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return H(x)-H(P)}(b.type,C.type)||this.Gu(b.doc,C.doc)),this.Ju(r);const u=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,y=f!==this.qu;return this.qu=f,0!==l.length||y?{snapshot:new J_(this.query,e.Qu,i,l,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new SR,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Gt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new DR(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new AR(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Gt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return J_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class nU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rU{constructor(e){this.key=e,this.nc=!1}}class iU{constructor(e,t,r,i,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Mf(f=>$O(f),C0),this.rc=new Map,this.oc=new Set,this.uc=new Dr(c.comparator),this.cc=new Map,this.ac=new Nx,this.hc={},this.lc=new Map,this.fc=Kg.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function sU(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,Te.Z)(function*(n,e){const t=jk(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const u=yield $_(t.localStore,$s(e));t.isPrimaryClient&&zC(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield vk(t,e,r,"current"===f,u.resumeToken)}return i}),_k.apply(this,arguments)}function vk(n,e,t,r,i){return bk.apply(this,arguments)}function bk(){return bk=(0,Te.Z)(function*(n,e,t,r,i){n._c=(x,P,H)=>{return($=(0,Te.Z)(function*(ue,ve,je,et){let ut=ve.view.Wu(je);ut.$i&&(ut=yield UC(ue.localStore,ve.query,!1).then(({documents:Lt})=>ve.view.Wu(Lt,ut)));const Ke=et&&et.targetChanges.get(ve.targetId),Tt=ve.view.applyChanges(ut,ue.isPrimaryClient,Ke);return kk(ue,ve.targetId,Tt.Xu),Tt.snapshot}),function(ue,ve,je,et){return $.apply(this,arguments)})(n,x,P,H);var $};const l=yield UC(n.localStore,e,!0),u=new xR(e,l.Hi),f=u.Wu(l.documents),y=M0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=u.applyChanges(f,n.isPrimaryClient,y);kk(n,t,b.Xu);const C=new nU(e,t,u);return n.ic.set(e,C),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),bk.apply(this,arguments)}function oU(n,e){return wk.apply(this,arguments)}function wk(){return wk=(0,Te.Z)(function*(n,e){const t=We(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!C0(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Z_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Z0(t.remoteStore,r.targetId),X_(t,r.targetId)}).catch(qe))):(X_(t,r.targetId),yield Z_(t.localStore,r.targetId,!0))}),wk.apply(this,arguments)}function Ek(){return Ek=(0,Te.Z)(function*(n,e,t){const r=Hk(n);try{const i=yield function(l,u){const f=We(l),y=tr.now(),b=u.reduce((P,H)=>P.add(H.key),Gt());let C,x;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let H=wo(),$=Gt();return f.Gi.getEntries(P,b).next(ue=>{H=ue,H.forEach((ve,je)=>{je.isValidDocument()||($=$.add(ve))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,H)).next(ue=>{C=ue;const ve=[];for(const je of u){const et=m2(je,C.get(je.key).overlayedDocument);null!=et&&ve.push(new Nd(je.key,et,PO(et.value.mapValue),dr.exists(!0)))}return f.mutationQueue.addMutationBatch(P,y,ve,u)}).next(ue=>{x=ue;const ve=ue.applyToLocalDocumentSet(C,$);return f.documentOverlayCache.saveOverlays(P,ue.batchId,ve)})}).then(()=>({batchId:x.batchId,changes:uN(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let y=l.hc[l.currentUser.toKey()];y||(y=new Dr(jt)),y=y.insert(u,f),l.hc[l.currentUser.toKey()]=y}(r,i.batchId,t),yield Fd(r,i.changes),yield W_(r.remoteStore)}catch(i){const l=Y_(i,"Failed to persist write");t.reject(l)}}),Ek.apply(this,arguments)}function kR(n,e){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Te.Z)(function*(n,e){const t=We(n);try{const r=yield AV(t.localStore,e);e.targetChanges.forEach((i,l)=>{const u=t.cc.get(l);u&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?xt(u.nc):i.removedDocuments.size>0&&(xt(u.nc),u.nc=!1))}),yield Fd(t,r,e)}catch(r){yield qe(r)}}),Tk.apply(this,arguments)}function MR(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,u)=>{const f=u.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(l,u){const f=We(l);f.onlineState=u;let y=!1;f.queries.forEach((b,C)=>{for(const x of C.listeners)x.bu(u)&&(y=!0)}),y&&mk(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lU(n,e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Te.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let u=new Dr(c.comparator);u=u.insert(l,Wn.newNoDocument(l,Mt.min()));const f=Gt().add(l),y=new k0(Mt.min(),new Map,new Vn(jt),u,f);yield kR(r,y),r.uc=r.uc.remove(l),r.cc.delete(e),Mk(r)}else yield Z_(r.localStore,e,!1).then(()=>X_(r,e,t)).catch(qe)}),Sk.apply(this,arguments)}function cU(n,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Te.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield IV(t.localStore,e);xk(t,r,null),Dk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fd(t,i)}catch(i){yield qe(i)}}),Ck.apply(this,arguments)}function uU(n,e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Te.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(l,u){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return f.mutationQueue.lookupMutationBatch(y,u).next(C=>(xt(null!==C),b=C.keys(),f.mutationQueue.removeMutationBatch(y,C))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>f.localDocuments.getDocuments(y,b))})}(r.localStore,e);xk(r,e,t),Dk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fd(r,i)}catch(i){yield qe(i)}}),Ik.apply(this,arguments)}function Ak(){return Ak=(0,Te.Z)(function*(n,e){const t=We(n);Rd(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const u=We(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Y_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ak.apply(this,arguments)}function Dk(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function xk(n,e,t){const r=We(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function X_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||OR(n,r)})}function OR(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Z0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Mk(n))}function kk(n,e,t){for(const r of t)r instanceof AR?(n.ac.addReference(r.key,e),hU(n,r)):r instanceof DR?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||OR(n,r.key)):st()}function hU(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.oc.add(r),Mk(n))}function Mk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new c(cn.fromString(e)),r=n.fc.next();n.cc.set(r,new rU(t)),n.uc=n.uc.insert(t,r),zC(n.remoteStore,new Of($s(F_(t.path)),r,2,Ii.at))}}function Fd(n,e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Te.Z)(function*(n,e,t){const r=We(n),i=[],l=[],u=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,y)=>{u.push(r._c(y,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,null!=b&&b.fromCache?"not-current":"current"),b){i.push(b);const C=Lx.Ci(y.targetId,b);l.push(C)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(f=(0,Te.Z)(function*(y,b){const C=We(y);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ie.forEach(b,P=>ie.forEach(P.Si,H=>C.persistence.referenceDelegate.addReference(x,P.targetId,H)).next(()=>ie.forEach(P.Di,H=>C.persistence.referenceDelegate.removeReference(x,P.targetId,H)))))}catch(x){if(!fs(x))throw x;Pe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const P=x.targetId;if(!x.fromCache){const H=C.Ui.get(P),ue=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);C.Ui=C.Ui.insert(P,ue)}}}),function(y,b){return f.apply(this,arguments)})(r.localStore,l))}),Ok.apply(this,arguments)}function fU(n,e){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Te.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield oR(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(f=>{f.reject(new Re(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fd(t,r.ji)}var i}),Nk.apply(this,arguments)}function pU(n,e){const t=We(n),r=t.cc.get(e);if(r&&r.nc)return Gt().add(r.key);{let i=Gt();const l=t.rc.get(e);if(!l)return i;for(const u of l){const f=t.ic.get(u);i=i.unionWith(f.view.ju)}return i}}function gU(n,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Te.Z)(function*(n,e){const t=We(n),r=yield UC(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&kk(t,e.targetId,i.Xu),i}),Rk.apply(this,arguments)}function mU(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Te.Z)(function*(n,e){const t=We(n);return uR(t.localStore,e).then(r=>Fd(t,r))}),Fk.apply(this,arguments)}function yU(n,e,t,r){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,Te.Z)(function*(n,e,t,r){const i=We(n),l=yield function(u,f){const y=We(u),b=We(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.Tn(C,f).next(x=>x?y.localDocuments.getDocuments(C,x):ie.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield W_(i.remoteStore):"acknowledged"===t||"rejected"===t?(xk(i,e,r||null),Dk(i,e),f=e,We(We(i.localStore).mutationQueue).An(f)):st(),yield Fd(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Pk.apply(this,arguments)}function Lk(){return Lk=(0,Te.Z)(function*(n,e){const t=We(n);if(jk(t),Hk(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield NR(t,r.toArray());t.dc=!0,yield ck(t.remoteStore,!0);for(const l of i)zC(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(X_(t,u),Z_(t.localStore,u,!0))),Z0(t.remoteStore,u)}),yield i,yield NR(t,r),function(l){const u=We(l);u.cc.forEach((f,y)=>{Z0(u.remoteStore,y)}),u.ac.fs(),u.cc=new Map,u.uc=new Dr(c.comparator)}(t),t.dc=!1,yield ck(t.remoteStore,!1)}}),Lk.apply(this,arguments)}function NR(n,e,t){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,Te.Z)(function*(n,e,t){const r=We(n),i=[],l=[];for(const u of e){let f;const y=r.rc.get(u);if(y&&0!==y.length){f=yield $_(r.localStore,$s(y[0]));for(const b of y){const C=r.ic.get(b),x=yield gU(r,C);x.snapshot&&l.push(x.snapshot)}}else{const b=yield cR(r.localStore,u);f=yield $_(r.localStore,b),yield vk(r,RR(b),u,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(l),i}),Vk.apply(this,arguments)}function RR(n){return zO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vU(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function bU(n,e,t,r){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,Te.Z)(function*(n,e,t,r){const i=We(n);if(i.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=yield uR(i.localStore,ZO(l[0])),f=k0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,di.EMPTY_BYTE_STRING);yield Fd(i,u,f);break}case"rejected":yield Z_(i.localStore,e,!0),X_(i,e,r);break;default:st()}}),Uk.apply(this,arguments)}function wU(n,e,t){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,Te.Z)(function*(n,e,t){const r=jk(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield cR(r.localStore,i),u=yield $_(r.localStore,l);yield vk(r,RR(l),u.targetId,!1,u.resumeToken),zC(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield Z_(r.localStore,i,!1).then(()=>{Z0(r.remoteStore,i),X_(r,i)}).catch(qe))}}),Bk.apply(this,arguments)}function jk(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lU.bind(null,e),e.sc.Wo=JV.bind(null,e.eventManager),e.sc.wc=XV.bind(null,e.eventManager),e}function Hk(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uU.bind(null,e),e}class FR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.It=q0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return sR(this.persistence,new iR,e.initialUser,this.It)}yc(e){return new nR(LC.Bs,this.It)}gc(e){return new pR}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class PR extends FR{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Hk(r.Ac.syncEngine),yield W_(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return sR(this.persistence,new iR,e.initialUser,this.It)}Tc(e,t){return new dV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new y0(t,this.persistence);return new m0(e.asyncQueue,r)}yc(e){const t=Px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Eo.withCacheSize(this.cacheSizeBytes):Eo.DEFAULT;return new Fx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,mR(),HC(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new pR}}class TU extends PR{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof $x&&(r.sharedClientState.syncEngine={Fr:yU.bind(null,i),$r:bU.bind(null,i),Br:wU.bind(null,i),vi:vU.bind(null,i),Mr:mU.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Te.Z)(function*(u){yield function _U(n,e){return Lk.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}gc(e){const t=mR();if(!$x.C(t))throw new Re(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $x(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zk{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>MR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fU.bind(null,r.syncEngine),yield ck(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QV}createDatastore(e){const t=q0(e.databaseInfo.databaseId),r=new RV(e.databaseInfo);return new LV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>MR(this.syncEngine,f,0),u=gR.C()?new gR:new MV,new BV(t,r,i,l,u);var t,r,i,l,u}createSyncEngine(e,t){return function(r,i,l,u,f,y,b){const C=new iU(r,i,l,u,f,y);return b&&(C.dc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=We(t);Pe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield G_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qk(n,e,t){if(!t)throw new Re(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LR(n,e,t,r){if(!0===e&&!0===r)throw new Re(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VR(n){if(!c.isDocumentKey(n))throw new Re(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UR(n){if(c.isDocumentKey(n))throw new Re(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $C(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$C(n);throw new Re(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function BR(n,e){if(e<=0)throw new Re(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const jR=new Map;class HR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,LR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new EO;switch(t.type){case"gapi":return new cx(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jR.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),jR.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class Xc extends ps{constructor(e,t,r){super(e,t,F_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new c(e))}withConverter(e){return new Xc(this.firestore,e,this._path)}}function qR(n,e,...t){if(n=(0,Xt.m9)(n),qk("collection","path",e),n instanceof G0){const r=cn.fromString(e,...t);return UR(r),new Xc(n,null,r)}{if(!(n instanceof nr||n instanceof Xc))throw new Re(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return UR(r),new Xc(n.firestore,null,r)}}function ZC(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=dx.R()),qk("doc","path",e),n instanceof G0){const r=cn.fromString(e,...t);return VR(r),new nr(n,null,new c(r))}{if(!(n instanceof nr||n instanceof Xc))throw new Re(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return VR(r),new nr(n.firestore,n instanceof Xc?n.converter:null,new c(r))}}function $R(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof nr||n instanceof Xc)&&(e instanceof nr||e instanceof Xc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $k(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof ps&&e instanceof ps&&n.firestore===e.firestore&&C0(n._query,e._query)&&n.converter===e.converter}function ZR(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class GC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CU{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new jr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new eU(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Te.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class DU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(l,u){const f=We(l),y=R0(f.It)+"/documents",b={documents:u.map(H=>N0(f.It,H))},C=yield f._o("BatchGetDocuments",y,b,u.length),x=new Map;C.forEach(H=>{const $=function A2(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=Qc(t,r.found.name),l=Ai(r.found.updateTime),u=new Bi({mapValue:{fields:r.found.fields}});return Wn.newFoundDocument(i,l,u)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=Qc(t,r.missing),l=Ai(r.readTime);return Wn.newNoDocument(i,l)}(n,e):st()}(f.It,H);x.set($.key.toString(),$)});const P=[];return u.forEach(H=>{const $=x.get(H.toString());xt(!!$),P.push($)}),P}),function(l,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new B_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=c.fromPath(i);e.mutations.push(new wx(l,e.precondition(l)))}),yield(r=(0,Te.Z)(function*(i,l){const u=We(i),f=R0(u.It)+"/documents",y={writes:l.map(b=>F0(u.It,b))};yield u.ao("Commit",f,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?dr.exists(!1):dr.updateTime(t):dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Re(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dr.updateTime(t)}return dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xU{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new Zx(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Te.Z)(function*(){const t=new DU(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!v0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!aN(t)}return!1}}class kU{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=dx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Te.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Pe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Y_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function GR(n,e){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(l){r.isEqual(l)||(yield oR(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Zk.apply(this,arguments)}function WR(n,e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Wk(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>TR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>TR(e.remoteStore,l)),n.onlineComponents=e}),Gk.apply(this,arguments)}function Wk(n){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,Te.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield GR(n,new FR)),n.offlineComponents}),Kk.apply(this,arguments)}function WC(n){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,Te.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield WR(n,new zk)),n.onlineComponents}),Yk.apply(this,arguments)}function KR(n){return Wk(n).then(e=>e.persistence)}function KC(n){return Wk(n).then(e=>e.localStore)}function Qk(n){return WC(n).then(e=>e.remoteStore)}function Jk(n){return WC(n).then(e=>e.syncEngine)}function ev(n){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,Te.Z)(function*(n){const e=yield WC(n),t=e.eventManager;return t.onListen=sU.bind(null,e.syncEngine),t.onUnlisten=oU.bind(null,e.syncEngine),t}),Xk.apply(this,arguments)}function QR(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,l,u,f,y){const b=new GC({next:x=>{l.enqueueAndForget(()=>pk(i,C));const P=x.docs.has(u);!P&&x.fromCache?y.reject(new Re(be.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&x.fromCache&&f&&"server"===f.source?y.reject(new Re(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),C=new yk(F_(u.path),b,{includeMetadataChanges:!0,Nu:!0});return hk(i,C)}(yield ev(n),n.asyncQueue,e,t,r)})),r.promise}function JR(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,l,u,f,y){const b=new GC({next:x=>{l.enqueueAndForget(()=>pk(i,C)),x.fromCache&&"server"===f.source?y.reject(new Re(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),C=new yk(u,b,{includeMetadataChanges:!0,Nu:!0});return hk(i,C)}(yield ev(n),n.asyncQueue,e,t,r)})),r.promise}class VU{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Zx(this,"async_queue_retry"),this.Wc=()=>{const t=HC();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=HC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=HC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new jr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!fs(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=dk.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function eM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class UU{constructor(){this._progressObserver={},this._taskCompletionResolver=new jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class rr extends G0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new VU,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||XR(this),this._firestoreClient.terminate()}}function Hr(n){return n._firestoreClient||XR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function XR(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new YL(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new kU(n._authCredentials,n._appCheckCredentials,n._queue,r)}function eF(n,e,t){const r=new jr;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield GR(n,t),yield WR(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(u=l).name?u.code===be.FAILED_PRECONDITION||u.code===be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw l;Wc("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var u})).then(()=>r.promise)}function tF(n){if(n._initialized||n._terminated)throw new Re(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eu(di.fromBase64String(e))}catch(t){throw new Re(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new eu(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new o(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qg{constructor(e){this._methodName=e}}class YC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const KU=/^__.*__$/;class YU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Nd(e,this.data,this.fieldMask,t,this.fieldTransforms):new U_(e,this.data,t,this.fieldTransforms)}}class nF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Nd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class QC{constructor(e,t,r,i,l,u){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new QC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(rF(this.sa)&&KU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class QU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||q0(e)}da(e,t,r,i=!1){return new QC({sa:e,methodName:t,fa:r,path:o.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Jg(n){const e=n._freezeSettings(),t=q0(n._databaseId);return new QU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JC(n,e,t,r,i,l={}){const u=n.da(l.merge||l.mergeFields?2:0,e,t,i);iM("Data must be an object, but it was:",u,r);const f=oF(r,u);let y,b;if(l.merge)y=new Zo(u.fieldMask),b=u.fieldTransforms;else if(l.mergeFields){const C=[];for(const x of l.mergeFields){const P=sM(e,x,t);if(!u.contains(P))throw new Re(be.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);lF(C,P)||C.push(P)}y=new Zo(C),b=u.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,b=u.fieldTransforms;return new YU(new Bi(f),y,b)}class W0 extends Qg{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W0}}function iF(n,e,t){return new QC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class tM extends Qg{_toFieldTransform(e){return new I0(e.path,new L_)}isEqual(e){return e instanceof tM}}class JU extends Qg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=iF(this,e,!0),r=this._a.map(l=>Xg(l,t)),i=new jg(r);return new I0(e.path,i)}isEqual(e){return this===e}}class XU extends Qg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=iF(this,e,!0),r=this._a.map(l=>Xg(l,t)),i=new Hg(r);return new I0(e.path,i)}isEqual(e){return this===e}}class eB extends Qg{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new V_(e.It,YO(e.It,this.wa));return new I0(e.path,t)}isEqual(e){return this===e}}function nM(n,e,t,r){const i=n.da(1,e,t);iM("Data must be an object, but it was:",i,r);const l=[],u=Bi.empty();Al(r,(y,b)=>{const C=XC(e,y,t);b=(0,Xt.m9)(b);const x=i.ca(C);if(b instanceof W0)l.push(C);else{const P=Xg(b,x);null!=P&&(l.push(C),u.set(C,P))}});const f=new Zo(l);return new nF(u,f,i.fieldTransforms)}function rM(n,e,t,r,i,l){const u=n.da(1,e,t),f=[sM(e,r,t)],y=[i];if(l.length%2!=0)throw new Re(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<l.length;P+=2)f.push(sM(e,l[P])),y.push(l[P+1]);const b=[],C=Bi.empty();for(let P=f.length-1;P>=0;--P)if(!lF(b,f[P])){const H=f[P];let $=y[P];$=(0,Xt.m9)($);const ue=u.ca(H);if($ instanceof W0)b.push(H);else{const ve=Xg($,ue);null!=ve&&(b.push(H),C.set(H,ve))}}const x=new Zo(b);return new nF(C,x,u.fieldTransforms)}function sF(n,e,t,r=!1){return Xg(t,n.da(r?4:3,e))}function Xg(n,e){if(aF(n=(0,Xt.m9)(n)))return iM("Unsupported field value:",e,n),oF(n,e);if(n instanceof Qg)return function(t,r){if(!rF(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const u of t){let f=Xg(u,r.aa(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return YO(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=tr.fromDate(t);return{timestampValue:O0(r.It,i)}}if(t instanceof tr){const i=new tr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:O0(r.It,i)}}if(t instanceof YC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof eu)return{bytesValue:yN(r.It,t._byteString)};if(t instanceof nr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ex(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${$C(t)}`)}(n,e)}function oF(n,e){const t={};return IO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(n,(r,i)=>{const l=Xg(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function aF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tr||n instanceof YC||n instanceof eu||n instanceof nr||n instanceof Qg)}function iM(n,e,t){if(!aF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=$C(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function sM(n,e,t){if((e=(0,Xt.m9)(e))instanceof Pd)return e._internalPath;if("string"==typeof e)return XC(n,e);throw eI("Field path arguments must be of type string or ",n,!1,void 0,t)}const tB=new RegExp("[~\\*/\\[\\]]");function XC(n,e,t){if(e.search(tB)>=0)throw eI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch(r){throw eI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eI(n,e,t,r,i){const l=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||u)&&(y+=" (found",l&&(y+=` in field ${r}`),u&&(y+=` in document ${i}`),y+=")"),new Re(be.INVALID_ARGUMENT,f+n+y)}function lF(n,e){return n.some(t=>t.isEqual(e))}class K0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nB extends K0{data(){return super.data()}}function tI(n,e){return"string"==typeof e?XC(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}function cF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y0{}function Pf(n,...e){for(const t of e)n=t._apply(n);return n}class rB extends Y0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Jg(e.firestore),r=function(i,l,u,f,y,b,C){let x;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){gF(C,b);const H=[];for(const $ of C)H.push(pF(f,i,$));x={arrayValue:{values:H}}}else x=pF(f,i,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||gF(C,b),x=sF(u,"where",C,"in"===b||"not-in"===b);const P=ji.create(y,b,x);return function(H,$){if($.dt()){const ve=yx(H);if(null!==ve&&!ve.isEqual($.field))throw new Re(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ve.toString()}' and '${$.field.toString()}'`);const je=mx(H);null!==je&&mF(0,$.field,je)}const ue=function(ve,je){for(const et of ve.filters)if(je.indexOf(et.op)>=0)return et.op;return null}(H,function(ve){switch(ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==ue)throw new Re(be.INVALID_ARGUMENT,ue===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${ue.toString()}' filters.`)}(i,P),P}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new ps(e.firestore,e.converter,function(i,l){const u=i.filters.concat([l]);return new Od(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class sB extends Y0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Re(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new R_(i,l);return function(f,y){if(null===mx(f)){const b=yx(f);null!==b&&mF(0,b,y.field)}}(r,u),u}(e._query,this.ma,this.pa);return new ps(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Od(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class uF extends Y0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new ps(e.firestore,e.converter,TC(e._query,this.Ia,this.Ta))}}class dF extends Y0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=fF(e,this.type,this.Ea,this.Aa);return new ps(e.firestore,e.converter,(i=t,new Od((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class hF extends Y0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=fF(e,this.type,this.Ea,this.Aa);return new ps(e.firestore,e.converter,(i=t,new Od((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function fF(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof K0)return function(i,l,u,f,y){if(!f)throw new Re(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const C of P_(i))if(C.field.isKeyField())b.push(Ug(l,f.key));else{const x=f.data.field(C.field);if(fx(x))throw new Re(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const P=C.field.canonicalString();throw new Re(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}b.push(x)}return new kf(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Jg(n.firestore);return function(l,u,f,y,b,C){const x=l.explicitOrderBy;if(b.length>x.length)throw new Re(be.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let H=0;H<b.length;H++){const $=b[H];if(x[H].field.isKeyField()){if("string"!=typeof $)throw new Re(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof $}`);if(!_x(l)&&-1!==$.indexOf("/"))throw new Re(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${$}' contains a slash.`);const ue=l.path.child(cn.fromString($));if(!c.isDocumentKey(ue))throw new Re(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const ve=new c(ue);P.push(Ug(u,ve))}else{const ue=sF(f,y,$);P.push(ue)}}return new kf(P,C)}(n._query,n.firestore._databaseId,i,e,t,r)}}function pF(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Re(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_x(e)&&-1!==t.indexOf("/"))throw new Re(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!c.isDocumentKey(r))throw new Re(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ug(n,new c(r))}if(t instanceof nr)return Ug(n,t._key);throw new Re(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$C(t)}.`)}function gF(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function mF(n,e,t){if(!t.isEqual(e))throw new Re(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class oM{convertValue(e,t="none"){switch(Vg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return Al(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new YC(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=DO(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_0(e));default:return null}}convertTimestamp(e){const t=If(e);return new tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);xt(IN(r));const i=new Af(r.get(1),r.get(3)),l=new c(r.popFirst(5));return i.isEqual(t)||ur(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function nI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class fB extends oM{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class em{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ld extends K0{constructor(e,t,r,i,l,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Q0 extends Ld{data(e={}){return super.data(e)}}class Lf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new em(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Q0(this._firestore,this._userDataWriter,r.key,r,new em(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Q0(r._firestore,r._userDataWriter,u.doc.key,u.doc,new em(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Q0(r._firestore,r._userDataWriter,u.doc.key,u.doc,new em(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==u.type&&(y=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),b=l.indexOf(u.doc.key)),{type:pB(u.type),doc:f,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function yF(n,e){return n instanceof Ld&&e instanceof Ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Lf&&e instanceof Lf&&n._firestore===e._firestore&&$k(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Vf extends oM{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function _F(n,e,t){n=ln(n,nr);const r=ln(n.firestore,rr),i=nI(n.converter,e,t);return tv(r,[JC(Jg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,dr.none())])}function vF(n,e,t,...r){n=ln(n,nr);const i=ln(n.firestore,rr),l=Jg(i);let u;return u="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Pd?rM(l,"updateDoc",n._key,e,t,r):nM(l,"updateDoc",n._key,e),tv(i,[u.toMutation(n._key,dr.exists(!0))])}function bF(n,...e){var t,r,i;n=(0,Xt.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||eM(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(eM(e[u])){const x=e[u];e[u]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[u+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[u+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,b,C;if(n instanceof nr)b=ln(n.firestore,rr),C=F_(n._key.path),y={next:x=>{e[u]&&e[u](aM(b,n,x))},error:e[u+1],complete:e[u+2]};else{const x=ln(n,ps);b=ln(x.firestore,rr),C=x._query;const P=new Vf(b);y={next:H=>{e[u]&&e[u](new Lf(b,P,x,H))},error:e[u+1],complete:e[u+2]},cF(n._query)}return function(x,P,H,$){const ue=new GC($),ve=new yk(P,ue,H);return x.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return hk(yield ev(x),ve)})),()=>{ue.bc(),x.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return pk(yield ev(x),ve)}))}}(Hr(b),C,f,y)}function tv(n,e){return function(t,r){const i=new jr;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function aU(n,e,t){return Ek.apply(this,arguments)}(yield Jk(t),r,i)})),i.promise}(Hr(n),e)}function aM(n,e,t){const r=t.docs.get(e._key),i=new Vf(n);return new Ld(n,i,e._key,r,new em(t.hasPendingWrites,t.fromCache),e.converter)}const SB={maxAttempts:5};class wF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jg(e)}set(e,t,r){this._verifyNotCommitted();const i=Uf(e,this._firestore),l=nI(i.converter,t,r),u=JC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,dr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Uf(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Pd?rM(this._dataReader,"WriteBatch.update",l._key,t,r,i):nM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uf(e,this._firestore);return this._mutations=this._mutations.concat(new B_(t._key,dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uf(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Re(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class CB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jg(e)}get(e){const t=Uf(e,this._firestore),r=new fB(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const l=i[0];if(l.isFoundDocument())return new K0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new K0(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=Uf(e,this._firestore),l=nI(i.converter,t,r),u=JC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const l=Uf(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Pd?rM(this._dataReader,"Transaction.update",l._key,t,r,i):nM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=Uf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uf(e,this._firestore),r=new Vf(this._firestore);return super.get(e).then(i=>new Ld(this._firestore,r,t._key,i._document,new em(!1,!1),t.converter))}}function lM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function TF(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function SF(){if(!function WL(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cf=ls.SDK_VERSION,(0,ls._registerComponent)(new Kh.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),u=new rr(new ax(t.getProvider("auth-internal")),new SO(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Af(f.options.projectId,y)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,ls.registerVersion)(sx,"3.7.3",n),(0,ls.registerVersion)(sx,"3.7.3","esm2017")}();class J0{constructor(e){this._delegate=e}static fromBase64String(e){return SF(),new J0(eu.fromBase64String(e))}static fromUint8Array(e){return TF(),new J0(eu.fromUint8Array(e))}toBase64(){return SF(),this._delegate.toBase64()}toUint8Array(){return TF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cM(n){return function RB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class FB{enableIndexedDbPersistence(e,t){return function jU(n,e){tF(n=ln(n,rr));const t=Hr(n),r=n._freezeSettings(),i=new zk;return eF(t,i,new PR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function HU(n){tF(n=ln(n,rr));const e=Hr(n),t=n._freezeSettings(),r=new zk;return eF(e,r,new TU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function zU(n){if(n._initialized&&!n._terminated)throw new Re(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!ct.C())return Promise.resolve();const i=r+"main";yield ct.delete(i)}),function(r){return t.apply(this,arguments)})(Px(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class CF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Af||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function zR(n,e,t,r={}){var i;const l=(n=ln(n,G0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Wc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Br.MOCK_USER;else{u=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Re(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Br(y)}n._authCredentials=new TO(new yC(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function $U(n){return function MU(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield KR(n),t=yield Qk(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i._u.delete(0),$0(i)}(t)}))}(Hr(n=ln(n,rr)))}(this._delegate)}disableNetwork(){return function ZU(n){return function OU(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield KR(n),t=yield Qk(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const l=We(i);l._u.add(0),yield G_(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Hr(n=ln(n,rr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qU(n){return function(e){const t=new jr;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function dU(n,e){return Ak.apply(this,arguments)}(yield Jk(e),t)})),t.promise}(Hr(n=ln(n,rr)))}(this._delegate)}onSnapshotsInSync(e){return function TB(n,e){return function FU(n,e){const t=new GC(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield ev(n),i=t,We(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield ev(n),i=t,void We(r).Ru.delete(i);var r,i}))}}(Hr(n=ln(n,rr)),eM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nv(this,qR(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ra(this,ZC(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ws(this,function SU(n,e){if(n=ln(n,G0),qk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(n,null,(t=e,new Od(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IB(n,e,t){n=ln(n,rr);const r=Object.assign(Object.assign({},SB),t);return function(i){if(i.maxAttempts<1)throw new Re(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,u){const f=new jr;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const y=yield function YR(n){return WC(n).then(e=>e.datastore)}(i);new xU(i.asyncQueue,y,u,l,f).run()})),f.promise}(Hr(n),i=>e(new CB(n,i)),r)}(this._delegate,t=>e(new IF(this,t)))}batch(){return Hr(this._delegate),new AF(new wF(this._delegate,e=>tv(this._delegate,e)))}loadBundle(e){return function GU(n,e){const t=Hr(n=ln(n,rr)),r=new UU;return function PU(n,e,t,r){const i=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,b){if(y instanceof Uint8Array)return ZR(y,b);if(y instanceof ArrayBuffer)return ZR(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new CU(y,u);var y}(t,q0(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function EU(n,e,t){const r=We(n);var i;(i=(0,Te.Z)(function*(l,u,f){try{const y=yield u.getMetadata();if(yield function(P,H){const $=We(P),ue=Ai(H.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",ve=>$.Ns.getBundleMetadata(ve,H.id)).then(ve=>!!ve&&ve.createTime.compareTo(ue)>=0)}(l.localStore,y))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=y).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(IR(y));const b=new tU(y,l.localStore,u.It);let C=yield u.mc();for(;C;){const P=yield b.Fu(C);P&&f._updateProgress(P),C=yield u.mc()}const x=yield b.complete();return yield Fd(l,x.Lu,void 0),yield function(P,H){const $=We(P);return $.persistence.runTransaction("Save bundle","readwrite",ue=>$.Ns.saveBundleMetadata(ue,H))}(l.localStore,y),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(y){return Wc("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var P}),function(l,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Jk(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function WU(n,e){return function LU(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield KC(n),e)}))}(Hr(n=ln(n,rr)),e).then(t=>t?new ps(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ws(this,t):null)}}class rI extends oM{constructor(e){super(),this.firestore=e}convertBytes(e){return new J0(new eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ra.forKey(t,this.firestore,null)}}class IF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rI(e)}get(e){const t=nm(e);return this._delegate.get(t).then(r=>new X0(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=nm(e);return r?(lM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=nm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=nm(e);return this._delegate.delete(t),this}}class AF{constructor(e){this._delegate=e}set(e,t,r){const i=nm(e);return r?(lM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=nm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=nm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class tm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=tm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new tm(e,new rI(e),t),i.set(t,l)),l}}tm.INSTANCES=new WeakMap;class Ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ra(t,new nr(t._delegate,r,new c(e)))}static forKey(e,t,r){return new Ra(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nv(this.firestore,qR(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof nr&&$R(this._delegate,e)}set(e,t){t=lM("DocumentReference.set",t);try{return t?_F(this._delegate,e,t):_F(this._delegate,e)}catch(r){throw Gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?vF(this._delegate,e):vF(this._delegate,e,t,...r)}catch(i){throw Gs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function wB(n){return tv(ln(n.firestore,rr),[new B_(n._key,dr.none())])}(this._delegate)}onSnapshot(...e){const t=DF(e),r=xF(e,i=>new X0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bF(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function mB(n){n=ln(n,nr);const e=ln(n.firestore,rr),t=Hr(e),r=new Vf(e);return function NU(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,l,u){try{const f=yield function(y,b){const C=We(y);return C.persistence.runTransaction("read document","readonly",x=>C.localDocuments.getDocument(x,b))}(i,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Re(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=Y_(f,`Failed to get document '${l} from cache`);u.reject(y)}}),function(i,l,u){return r.apply(this,arguments)})(yield KC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ld(e,r,n._key,i,new em(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function yB(n){n=ln(n,nr);const e=ln(n.firestore,rr);return QR(Hr(e),n._key,{source:"server"}).then(t=>aM(e,n,t))}(this._delegate):function gB(n){n=ln(n,nr);const e=ln(n.firestore,rr);return QR(Hr(e),n._key).then(t=>aM(e,n,t))}(this._delegate),t.then(r=>new X0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ra(this.firestore,this._delegate.withConverter(e?tm.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function DF(n){for(const e of n)if("object"==typeof e&&!cM(e))return e;return{}}function xF(n,e){var t,r;let i;return i=cM(n[0])?n[0]:cM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class X0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yF(this._delegate,e._delegate)}}class eE extends X0{data(e){const t=this._delegate.data(e);return function p0(n,e){n||st()}(void 0!==t),t}}class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rI(e)}where(e,t,r){try{return new Ws(this.firestore,Pf(this._delegate,function iB(n,e,t){const r=e,i=tI("where",n);return new rB(i,r,t)}(e,t,r)))}catch(i){throw Gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ws(this.firestore,Pf(this._delegate,function oB(n,e="asc"){const t=e,r=tI("orderBy",n);return new sB(r,t)}(e,t)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ws(this.firestore,Pf(this._delegate,function aB(n){return BR("limit",n),new uF("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ws(this.firestore,Pf(this._delegate,function lB(n){return BR("limitToLast",n),new uF("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ws(this.firestore,Pf(this._delegate,function cB(...n){return new dF("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ws(this.firestore,Pf(this._delegate,function uB(...n){return new dF("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ws(this.firestore,Pf(this._delegate,function dB(...n){return new hF("endBefore",n,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ws(this.firestore,Pf(this._delegate,function hB(...n){return new hF("endAt",n,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return $k(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function vB(n){n=ln(n,ps);const e=ln(n.firestore,rr),t=Hr(e),r=new Vf(e);return function RU(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,l,u){try{const f=yield UC(i,l,!0),y=new xR(l,f.Hi),b=y.Wu(f.documents),C=y.applyChanges(b,!1);u.resolve(C.snapshot)}catch(f){const y=Y_(f,`Failed to execute query '${l} against cache`);u.reject(y)}}),function(i,l,u){return r.apply(this,arguments)})(yield KC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Lf(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function bB(n){n=ln(n,ps);const e=ln(n.firestore,rr),t=Hr(e),r=new Vf(e);return JR(t,n._query,{source:"server"}).then(i=>new Lf(e,r,n,i))}(this._delegate):function _B(n){n=ln(n,ps);const e=ln(n.firestore,rr),t=Hr(e),r=new Vf(e);return cF(n._query),JR(t,n._query).then(i=>new Lf(e,r,n,i))}(this._delegate),t.then(r=>new uM(this.firestore,new Lf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=DF(e),r=xF(e,i=>new uM(this.firestore,new Lf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bF(this._delegate,t,r)}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?tm.getInstance(this.firestore,e):null))}}class LB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new eE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new eE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new LB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new eE(this._firestore,r))})}isEqual(e){return yF(this._delegate,e._delegate)}}class nv extends Ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ra(this.firestore,e):null}doc(e){try{return new Ra(this.firestore,void 0===e?ZC(this._delegate):ZC(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function EB(n,e){const t=ln(n.firestore,rr),r=ZC(n),i=nI(n.converter,e);return tv(t,[JC(Jg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ra(this.firestore,t))}isEqual(e){return $R(this._delegate,e._delegate)}withConverter(e){return new nv(this.firestore,this._delegate.withConverter(e?tm.getInstance(this.firestore,e):null))}}function nm(n){return ln(n,nr)}class dM{constructor(...e){this._delegate=new Pd(...e)}static documentId(){return new dM(o.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Pd&&this._delegate._internalPath.isEqual(e._internalPath)}}class rm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function DB(){return new tM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rm(e)}static delete(){const e=function AB(){return new W0("deleteField")}();return e._methodName="FieldValue.delete",new rm(e)}static arrayUnion(...e){const t=function xB(...n){return new JU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new rm(t)}static arrayRemove(...e){const t=function kB(...n){return new XU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new rm(t)}static increment(e){const t=function MB(n){return new eB("increment",n)}(e);return t._methodName="FieldValue.increment",new rm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VB={Firestore:CF,GeoPoint:YC,Timestamp:tr,Blob:J0,Transaction:IF,WriteBatch:AF,DocumentReference:Ra,DocumentSnapshot:X0,Query:Ws,QueryDocumentSnapshot:eE,QuerySnapshot:uM,CollectionReference:nv,FieldPath:dM,FieldValue:rm,setLogLevel:function PB(n){!function ox(n){Gc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function BB(n){(function UB(n,e){n.INTERNAL.registerComponent(new Kh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},VB)))})(n,(e,t)=>new CF(e,t,new FB)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(SD.Z);let Bf=(()=>{class n{constructor(){this.firebaseConfig={apiKey:"AIzaSyCSYHn4OMZfXeoW0TEFTqnwgwuS_I0FqCI",authDomain:"gramulardatabase.firebaseapp.com",databaseURL:"https://gramulardatabase-default-rtdb.firebaseio.com",projectId:"gramulardatabase",storageBucket:"gramulardatabase.appspot.com",messagingSenderId:"765198495430",appId:"1:765198495430:web:c54cd6006c9b84307031c7",measurementId:"G-KGM1GEWG1T"},this.app=(0,kc.ZF)(this.firebaseConfig),this.db=function dg(n,e){const t="object"==typeof n?n:(0,ls.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,ls._getProvider)(t,"firestore/lite").getImmediate({identifier:r});if(!i._initialized){const l=(0,Xt.P0)("firestore");l&&function hg(n,e,t,r={}){var i;const l=(n=Hs(n,ka))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Pb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Li.MOCK_USER;else{u=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ye(pt,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Li(y)}n._authCredentials=new $T(new zT(u,f))}}(i,...l)}return i}(this.app)}static getAcademicStyles(){throw new Error("Method not implemented.")}getAcademicStyles(){return(0,Bs.mG)(this,void 0,void 0,function*(){let t={};const r=xd(Fc(this.db,"academicstyle"));return(yield Lc(r)).forEach(l=>{var u=l.data().wrong,f=l.data().fixed;t[u]=f}),t})}getEggcorns(){return(0,Bs.mG)(this,void 0,void 0,function*(){let t={};const r=xd(Fc(this.db,"eggcorns"));return(yield Lc(r)).forEach(l=>{var u=l.data().wrong,f=l.data().fixed;t[u]=f}),t})}getGrammar(){return(0,Bs.mG)(this,void 0,void 0,function*(){let t={};const r=xd(Fc(this.db,"grammar"));return(yield Lc(r)).forEach(l=>{var u=l.data().wrong,f=l.data().fixed;t[u]=f}),t})}getNorminlizations(){return(0,Bs.mG)(this,void 0,void 0,function*(){let t={};const r=xd(Fc(this.db,"norminlizations"));return(yield Lc(r)).forEach(l=>{var u=l.data().wrong,f=l.data().fixed;t[u]=f}),t})}getPassiveVoice(){return(0,Bs.mG)(this,void 0,void 0,function*(){let t={};const r=xd(Fc(this.db,"passivevoice"));return(yield Lc(r)).forEach(l=>{var u=l.data().wrong,f=l.data().fixed;t[u]=f}),t})}getTransitions(){return(0,Bs.mG)(this,void 0,void 0,function*(){let t={};const r=xd(Fc(this.db,"transitions"));return(yield Lc(r)).forEach(l=>{var u=l.data().wrong,f=l.data().fixed;t[u]=f}),t})}getWordiness(){return(0,Bs.mG)(this,void 0,void 0,function*(){let t={};const r=xd(Fc(this.db,"wordiness"));return(yield Lc(r)).forEach(l=>{var u=l.data().wrong,f=l.data().fixed;t[u]=f}),t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dl=(()=>{class n{constructor(t){this.testFireBase=t,this.passiveVoiceAlertColorSource=new lt.BehaviorSubject(" "),this.currentPassiveVoiceAlertColor=this.passiveVoiceAlertColorSource.asObservable(),this.passiveVoiceFeedbackSource=new lt.BehaviorSubject(" "),this.currentPassiveVoiceFeedback=this.passiveVoiceFeedbackSource.asObservable(),this.passiveVoiceScoreSource=new lt.BehaviorSubject(0),this.currentPassiveVoiceScore=this.passiveVoiceScoreSource.asObservable(),this.passiveVoiceNumberSource=new lt.BehaviorSubject(0),this.currentPassiveVoiceNumber=this.passiveVoiceNumberSource.asObservable(),this.passiveVoiceTableSource=new lt.BehaviorSubject(this.testFireBase.getPassiveVoice()),this.currentPassiveVoiceTable=this.passiveVoiceTableSource.asObservable(),this.passiveVoiceHelperTableSource=new lt.BehaviorSubject({" is":""," isn't":""," is not":""," 's":""," 's not":""," are":""," aren't":""," are not":""," 're":""," 're not":""," was":""," wasn't":""," was not":""," were":""," weren't":""," were not":""," be":""," being":""," having":""," been":""}),this.currentPassiveVoiceHelperTable=this.passiveVoiceHelperTableSource.asObservable(),this.passiveVoiceUserTableSource=new lt.BehaviorSubject({}),this.currentPassiveVoiceUserTable=this.passiveVoiceUserTableSource.asObservable()}changePassiveVoiceAlertColor(t){this.passiveVoiceAlertColorSource.next(t)}changePassiveVoiceFeedback(t){this.passiveVoiceFeedbackSource.next(t)}changePassiveVoiceScore(t){this.passiveVoiceScoreSource.next(t)}changePassiveVoiceNumber(t){this.passiveVoiceNumberSource.next(t)}changePassiveVoiceTable(t){this.passiveVoiceTableSource.next(t)}changePassiveVoiceHelperTable(t){this.passiveVoiceHelperTableSource.next(t)}changePassiveVoiceUserTable(t){this.passiveVoiceUserTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xl=(()=>{class n{constructor(t){this.testFireBase=t,this.wordinessAlertColorSource=new lt.BehaviorSubject(" "),this.currentWordinessAlertColor=this.wordinessAlertColorSource.asObservable(),this.wordinessFeedbackSource=new lt.BehaviorSubject(" "),this.currentWordinessFeedback=this.wordinessFeedbackSource.asObservable(),this.wordinessScoreSource=new lt.BehaviorSubject(0),this.currentWordinessScore=this.wordinessScoreSource.asObservable(),this.wordinessNumberSource=new lt.BehaviorSubject(0),this.currentWordinessNumber=this.wordinessNumberSource.asObservable(),this.wordinessTableSource=new lt.BehaviorSubject(this.testFireBase.getWordiness()),this.currentWordinessTable=this.wordinessTableSource.asObservable(),this.wordinessUserTableSource=new lt.BehaviorSubject({}),this.currentWordinessUserTable=this.wordinessUserTableSource.asObservable()}changeWordinessAlertColor(t){this.wordinessAlertColorSource.next(t)}changeWordinessFeedback(t){this.wordinessFeedbackSource.next(t)}changeWordinessScore(t){this.wordinessScoreSource.next(t)}changeWordinessNumber(t){this.wordinessNumberSource.next(t)}changeWordinessTable(t){this.wordinessTableSource.next(t)}changeWordinessUserTable(t){this.wordinessUserTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kl=(()=>{class n{constructor(t){this.testFireBase=t,this.transitionsAlertColor=new lt.BehaviorSubject(" "),this.currentTransitionsAlertColor=this.transitionsAlertColor.asObservable(),this.transitionsFeedback=new lt.BehaviorSubject(" "),this.currentTransitionsFeedback=this.transitionsFeedback.asObservable(),this.transitionsScore=new lt.BehaviorSubject(0),this.currentTransitionsScore=this.transitionsScore.asObservable(),this.totalTransitions=new lt.BehaviorSubject(0),this.currentTotalTransitions=this.totalTransitions.asObservable(),this.transitionsTable=new lt.BehaviorSubject(this.testFireBase.getTransitions()),this.currentTransitionsTable=this.transitionsTable.asObservable(),this.transitionsUserTable=new lt.BehaviorSubject({}),this.currentTransitionsUserTable=this.transitionsUserTable.asObservable()}changeTransitionsScore(t){this.transitionsScore.next(t)}changeTotalTransitions(t){this.totalTransitions.next(t)}changeTable(t){this.transitionsTable.next(t)}changeTransitionsUserTable(t){this.transitionsUserTable.next(t)}changeTransitionsFeedback(t){this.transitionsFeedback.next(t)}changeTransitionsAlertColor(t){this.transitionsAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ml=(()=>{class n{constructor(t){this.testFireBase=t,this.grammarAlertColor=new lt.BehaviorSubject(" "),this.currentGrammarAlertColor=this.grammarAlertColor.asObservable(),this.grammarFeedback=new lt.BehaviorSubject(" "),this.currentGrammarFeedback=this.grammarFeedback.asObservable(),this.grammarScore=new lt.BehaviorSubject(0),this.currentGrammarScore=this.grammarScore.asObservable(),this.totalGrammar=new lt.BehaviorSubject(0),this.currentTotalGrammar=this.totalGrammar.asObservable(),this.grammarTable=new lt.BehaviorSubject(this.testFireBase.getGrammar()),this.currentGrammarTable=this.grammarTable.asObservable(),this.grammarUserTable=new lt.BehaviorSubject({}),this.currentGrammarUserTable=this.grammarUserTable.asObservable()}changeTotalGrammar(t){this.totalGrammar.next(t)}changeGrammarTable(t){this.grammarTable.next(t)}changeGrammarUserTable(t){this.grammarUserTable.next(t)}changeGrammarFeedback(t){this.grammarFeedback.next(t)}changeGrammarAlertColor(t){this.grammarAlertColor.next(t)}changeGrammarScore(t){this.grammarScore.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ol=(()=>{class n{constructor(t){this.testFireBase=t,this.eggcornsAlertColor=new lt.BehaviorSubject(" "),this.currentEggcornsAlertColor=this.eggcornsAlertColor.asObservable(),this.eggcornsFeedback=new lt.BehaviorSubject(" "),this.currentEggcornsFeedback=this.eggcornsFeedback.asObservable(),this.eggcornsScore=new lt.BehaviorSubject(0),this.currentEggcornsScore=this.eggcornsScore.asObservable(),this.totalEggcorns=new lt.BehaviorSubject(0),this.currentTotalEggcorns=this.totalEggcorns.asObservable(),this.eggcornsTableSource=new lt.BehaviorSubject(this.testFireBase.getEggcorns()),this.currentEggcornsTable=this.eggcornsTableSource.asObservable(),this.eggcornsUserTable=new lt.BehaviorSubject({}),this.currentEggcornsUserTable=this.eggcornsUserTable.asObservable()}changeEggcornsScore(t){this.eggcornsScore.next(t)}changeTotalEggcorns(t){this.totalEggcorns.next(t)}changeTable(t){this.eggcornsTableSource.next(t)}changeEggcornsUserTable(t){this.eggcornsUserTable.next(t)}changeEggcornsFeedback(t){this.eggcornsFeedback.next(t)}changeEggcornsAlertColor(t){this.eggcornsAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nl=(()=>{class n{constructor(t){this.testFireBase=t,this.academicStyleAlertColor=new lt.BehaviorSubject(" "),this.currentAcademicStyleAlertColor=this.academicStyleAlertColor.asObservable(),this.academicStyleFeedback=new lt.BehaviorSubject(" "),this.currentAcademicStyleFeedback=this.academicStyleFeedback.asObservable(),this.academicStyleScore=new lt.BehaviorSubject(0),this.currentAcademicStyleScore=this.academicStyleScore.asObservable(),this.totalNonAcademic=new lt.BehaviorSubject(0),this.currentTotalNonAcademic=this.totalNonAcademic.asObservable(),this.academicStyleTableSource=new lt.BehaviorSubject(this.testFireBase.getAcademicStyles()),this.currentAcademicStyleTable=this.academicStyleTableSource.asObservable(),this.academicStyleUserTableSource=new lt.BehaviorSubject({}),this.currentAcademicStyleUserTable=this.academicStyleUserTableSource.asObservable()}changeAcademicStyleScore(t){this.academicStyleScore.next(t)}changeTotalNonAcademic(t){this.totalNonAcademic.next(t)}changeAcademicStyleTable(t){this.academicStyleTableSource.next(t)}changeAcademicStyleUserTable(t){this.academicStyleUserTableSource.next(t)}changeAcademicStyleFeedback(t){this.academicStyleFeedback.next(t)}changeAcademicStyleAlertColor(t){this.academicStyleAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rl=(()=>{class n{constructor(t){this.testFireBase=t,this.nominalizationsAlertColorSource=new lt.BehaviorSubject(""),this.currentNominalizationsAlertColor=this.nominalizationsAlertColorSource.asObservable(),this.nominalizationsFeedbackSource=new lt.BehaviorSubject(""),this.currentNominalizationsFeedback=this.nominalizationsFeedbackSource.asObservable(),this.nominalizationsScoreSource=new lt.BehaviorSubject(0),this.currentNominalizationsScore=this.nominalizationsScoreSource.asObservable(),this.nominalizationsNumberSource=new lt.BehaviorSubject(0),this.currentNominalizationsNumber=this.nominalizationsNumberSource.asObservable(),this.nominalizationsUserTableSource=new lt.BehaviorSubject({}),this.currentNominalizationsUserTable=this.nominalizationsUserTableSource.asObservable(),this.nominalizationsTableSource=new lt.BehaviorSubject(this.testFireBase.getNorminlizations()),this.currentNominalizationsTable=this.nominalizationsTableSource.asObservable()}changeNominalizationsAlertColor(t){this.nominalizationsAlertColorSource.next(t)}changeNominalizationsFeedback(t){this.nominalizationsFeedbackSource.next(t)}changeNominalizationsScore(t){this.nominalizationsScoreSource.next(t)}changeNominalizationsNumber(t){this.nominalizationsNumberSource.next(t)}changeNominalizationsUserTable(t){this.nominalizationsUserTableSource.next(t)}changeNominalizationsTable(t){this.nominalizationsTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Bf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tu=(()=>{class n{constructor(){this.sentencesAlertColorSource=new lt.BehaviorSubject(""),this.currentSentencesAlertColor=this.sentencesAlertColorSource.asObservable(),this.sentencesFeedbackSource=new lt.BehaviorSubject(""),this.currentSentencesFeedback=this.sentencesFeedbackSource.asObservable(),this.sentencesScoreSource=new lt.BehaviorSubject(0),this.currentSentencesScore=this.sentencesScoreSource.asObservable(),this.sentencesNumberSource=new lt.BehaviorSubject(0),this.currentSentencesNumber=this.sentencesNumberSource.asObservable(),this.sentencesUserTableSource=new lt.BehaviorSubject({}),this.currentSentencesUserTable=this.sentencesUserTableSource.asObservable(),this.sentencesTableSource=new lt.BehaviorSubject({And:"",But:"",Or:""}),this.currentSentencesTable=this.sentencesTableSource.asObservable()}changeSentencesAlertColor(t){this.sentencesAlertColorSource.next(t)}changeSentencesFeedback(t){this.sentencesFeedbackSource.next(t)}changeSentencesScore(t){this.sentencesScoreSource.next(t)}changeSentencesNumber(t){this.sentencesNumberSource.next(t)}changeSentencesUserTable(t){this.sentencesUserTableSource.next(t)}changeSentencesTable(t){this.sentencesTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jB=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C,x,P){this.router=t,this.data=r,this.testFireBase=i,this.passivevoice=l,this.wordiness=u,this.transitions=f,this.grammar=y,this.eggcorns=b,this.academic=C,this.nominalizations=x,this.sentences=P,this.title="OverView",this.wordinessFeedback=" ",this.wordinessAlertColor=" ",this.academicStyleFeedback=" ",this.transitionsFeedback=" ",this.grammarFeedback=" ",this.eggcornsFeedback=" ",this.sentencesFeedback=" "}submitClick(){return(0,Bs.mG)(this,void 0,void 0,function*(){this.data.changeTotalSentences(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.passiveVoiceUserTable={find:[],suggestion:[]},this.wordinessUserTable={find:[],suggestion:[]},this.transitionsUserTable={find:[],suggestion:[]},this.grammarUserTable={find:[],suggestion:[]},this.eggcornsUserTable={find:[],suggestion:[]},this.academicStyleUserTable={find:[],suggestion:[]},this.nominalizationsUserTable={find:[],suggestion:[]},this.sentencesUserTable={find:[],suggestion:[]};var t=document.getElementById("userinput").value;let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t),this.router.navigate(["/home/overview"]);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);console.log("Fixes"),this.passiveVoiceFix(t),this.wordinessFix(t),this.transitionsFix(t),this.grammarFix(t),this.eggcornsFix(t),this.academicStyleFix(t),this.nominalizationsFix(t),this.sentencesFix(t),this.calculateGrade(),this.calculateErrors()}})}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentGrade.subscribe(t=>this.grade=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalErrors.subscribe(t=>this.totalErrors=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.passiveVoiceService(),this.wordinessService(),this.transitionsService(),this.academicStyleService(),this.grammarService(),this.eggcornsService(),this.nominalizationsService(),this.sentencesService()}calculateErrors(){let t=0;t=this.passiveVoiceNumber+this.wordinessNumber+this.totalNonAcademic+this.totalGrammar+this.nominalizationsNumber+this.sentencesNumber+this.totalEggcorns+this.totalTransitions,this.totalErrors=t>0?"Potential Problems: "+t:"Nice! This Writing Looks Pretty Snazzy.",this.data.changeTotalErrors(this.totalErrors)}calculateGrade(){let t=0;t=this.transitionsScore>=10?0:10-this.transitionsScore,this.grade=100-(Math.round(this.passiveVoiceScore/10*10)/10+Math.round(this.wordinessScore/2*10)/10+Math.round(this.academicStyleScore/1*10)/10+Math.round(this.grammarScore/1*10)/10+Math.round(this.nominalizationsScore/6*10)/10+Math.round(this.sentencesScore/2*10)/10+Math.round(this.eggcornsScore/1*10)/10+Math.round(10*t)/10),this.totalSentences<=4?(this.grade=0,this.gradeFeedback="You must enter at least 5 sentences to get a grade",this.gradeAlertColor="red"):this.grade<70?(this.gradeFeedback="Your writing seems to have many grammar errors",this.gradeAlertColor="red"):this.grade<80?(this.gradeFeedback="Your writing seems to have a lot of grammar errors",this.gradeAlertColor="orange"):this.grade<90?(this.gradeFeedback="Good Job! The number of grammar errors seems low",this.gradeAlertColor="orange"):(this.gradeFeedback="Great Job!",this.gradeAlertColor="green"),this.data.changeGrade(this.grade),this.data.changeGradeAlertColor(this.gradeAlertColor),this.data.changeGradeFeedback(this.gradeFeedback)}wordinessFix(t){for(const r in this.wordinessTable.__zone_symbol__value)t.includes(r)&&(this.wordiness.changeWordinessNumber(this.wordinessNumber+1),this.wordinessUserTable.find.push("\u2022 "+r+" \u27f6 "+this.wordinessTable.__zone_symbol__value[r]),this.wordiness.changeWordinessUserTable(this.wordinessUserTable));this.wordinessScore=this.wordinessNumber/this.totalSentences*100,(isNaN(this.wordinessScore)||this.wordinessScore===1/0)&&(this.wordinessScore=0);try{if(this.wordinessScore>0?(this.wordinessFeedback="Your writing seems too wordy. Why use 3 words when you can say it with 1?",this.wordinessAlertColor="red"):(this.wordinessFeedback="Woohoo! Your writing seems concise, precise, and snappy. George Orwell would be proud.",this.wordinessAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.wordinessFeedback="Make sure you enter at least one sentence.",this.wordinessAlertColor="orange",this.wordinessScore=0}this.wordiness.changeWordinessFeedback(this.wordinessFeedback),this.wordiness.changeWordinessScore(Math.round(10*this.wordinessScore)/10),this.wordiness.changeWordinessAlertColor(this.wordinessAlertColor)}wordinessService(){this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessTable.subscribe(t=>this.wordinessTable=t),this.wordiness.currentWordinessUserTable.subscribe(t=>this.wordinessUserTable=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.wordiness.currentWordinessFeedback.subscribe(t=>this.wordinessFeedback=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t)}passiveVoiceFix(t){for(const r in this.passiveVoiceTable.__zone_symbol__value)for(const i in this.passiveVoiceHelperTable){const l=i+r;t.includes(l)&&(this.passivevoice.changePassiveVoiceNumber(this.passiveVoiceNumber+1),this.passiveVoiceUserTable.find.push("\u2022 "+l+" \u27f6 "+this.passiveVoiceTable.__zone_symbol__value[r]),this.passivevoice.changePassiveVoiceUserTable(this.passiveVoiceUserTable))}this.passiveVoiceScore=this.passiveVoiceNumber/this.totalSentences*100,(isNaN(this.passiveVoiceScore)||this.passiveVoiceScore===1/0)&&(this.passiveVoiceScore=0);try{if(this.passiveVoiceScore>0?(this.passiveVoiceFeedback="Generally, writing is clearer in active voice.",this.passiveVoiceAlertColor="red"):(this.passiveVoiceFeedback="Your writing passed the criterion for passive sentences. Congrats!",this.passiveVoiceAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.passiveVoiceFeedback="Make sure you enter at least one sentence.",this.passiveVoiceAlertColor="orange",this.passiveVoiceScore=0}this.passivevoice.changePassiveVoiceFeedback(this.passiveVoiceFeedback),this.passivevoice.changePassiveVoiceScore(Math.round(10*this.passiveVoiceScore)/10),this.passivevoice.changePassiveVoiceAlertColor(this.passiveVoiceAlertColor)}passiveVoiceService(){this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceTable.subscribe(t=>this.passiveVoiceTable=t),this.passivevoice.currentPassiveVoiceHelperTable.subscribe(t=>this.passiveVoiceHelperTable=t),this.passivevoice.currentPassiveVoiceUserTable.subscribe(t=>this.passiveVoiceUserTable=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.passivevoice.currentPassiveVoiceFeedback.subscribe(t=>this.passiveVoiceFeedback=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t)}transitionsFix(t){for(const r in this.transitionsTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.transitions.changeTotalTransitions(this.totalTransitions+1),this.transitionsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.transitionsTable.__zone_symbol__value[r]),this.transitions.changeTransitionsUserTable(this.transitionsUserTable));this.transitionsScore=this.totalTransitions/this.totalSentences*100,(isNaN(this.transitionsScore)||this.transitionsScore===1/0)&&(this.transitionsScore=0);try{if(0==this.transitionsScore?(this.transitionsAlertColor="red",this.transitionsFeedback="Your writing seems to have no transition word"):this.transitionsScore<=10?(this.transitionsFeedback="The number of transition words in your writing seems low",this.transitionsAlertColor="red"):this.transitionsScore<=80?(this.transitionsFeedback="Woot! Your writing seems to have a good proportion of transitions",this.transitionsAlertColor="green"):(this.transitionsFeedback="Woot! Your writing seems to have a lot of transitions. Make sure you're not overusing transition words",this.transitionsAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.transitionsFeedback="Make sure you enter at least one sentence.",this.transitionsAlertColor="orange",this.transitionsScore=0}this.transitions.changeTransitionsScore(Math.round(10*this.transitionsScore)/10),this.transitions.changeTransitionsFeedback(this.transitionsFeedback),this.transitions.changeTransitionsAlertColor(this.transitionsAlertColor)}transitionsService(){this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.transitions.currentTransitionsFeedback.subscribe(t=>this.transitionsFeedback=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsTable.subscribe(t=>this.transitionsTable=t),console.log(),this.transitions.currentTransitionsUserTable.subscribe(t=>{this.transitionsUserTable=t.__zone_symbol__value,console.log("[transition fix] Arrived"+t)})}academicStyleFix(t){for(const l in this.academicStyleTable.__zone_symbol__value)t.includes(l)&&(this.academic.changeTotalNonAcademic(this.totalNonAcademic+1),this.academicStyleUserTable.find.push("\u2022 "+l+" \u27f6 "+this.academicStyleTable.__zone_symbol__value[l]),this.academic.changeAcademicStyleUserTable(this.academicStyleUserTable));let r;r="";var i=0;for(let l=0;l<t.length;l++)/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l]?r+=t[l]:(r="",i++);this.academicStyleScore=this.totalNonAcademic/i*100,(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0);try{if(this.academicStyleScore>0?(this.academicStyleAlertColor="red",this.academicStyleFeedback="Your writing may contain language that is either too casual or too extreme for academic discourse."):(this.academicStyleAlertColor="green",this.academicStyleFeedback="Your writing has a low percentage of casual and/or extreme language. This makes it more acceptable for academic style."),0===this.totalSentences)throw new Error("")}catch(l){this.academicStyleFeedback="Make sure you enter at least one sentence.",this.academicStyleAlertColor="orange",this.academicStyleScore=0}(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0),this.academic.changeAcademicStyleScore(Math.round(10*this.academicStyleScore)/10),this.academic.changeAcademicStyleFeedback(this.academicStyleFeedback),this.academic.changeAcademicStyleAlertColor(this.academicStyleAlertColor)}academicStyleService(){this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.academic.currentAcademicStyleFeedback.subscribe(t=>this.academicStyleFeedback=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleTable.subscribe(t=>{this.academicStyleTable=t.__zone_symbol__value,console.log("[academicStyle fix] Arrived")})}grammarFix(t){for(const r in this.grammarTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.grammar.changeTotalGrammar(this.totalGrammar+1),this.grammarUserTable.find.push("\u2022 "+r+" \u27f6 "+this.grammarTable.__zone_symbol__value[r]),this.grammar.changeGrammarUserTable(this.grammarUserTable));this.grammarScore=this.totalGrammar/this.totalSentences*100,(isNaN(this.grammarScore)||this.grammarScore===1/0)&&(this.grammarScore=0);try{if(0==this.grammarScore?(this.grammarAlertColor="green",this.grammarFeedback="Woohoo! We didn't find any obvious grammark errors. However, beware: Grammark does not check for fragments, comma splices, subject-verb errors, number and pronoun problems. What's the best way to find grammar errors? Read your writing aloud."):this.grammarScore>0&&(this.grammarAlertColor="red",this.grammarFeedback="Your writing includes words or phrases usually considered to be grammar errors"),0===this.totalSentences)throw new Error("")}catch(r){this.grammarFeedback="Make sure you enter at least one sentence.",this.grammarAlertColor="orange",this.grammarScore=0}this.grammar.changeGrammarScore(Math.round(10*this.grammarScore)/10),this.grammar.changeGrammarFeedback(this.grammarFeedback),this.grammar.changeGrammarAlertColor(this.grammarAlertColor)}grammarService(){this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.grammar.currentGrammarFeedback.subscribe(t=>this.grammarFeedback=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarTable.subscribe(t=>this.grammarTable=t),this.grammar.currentGrammarUserTable.subscribe(t=>this.grammarUserTable=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t)}eggcornsFix(t){for(const r in this.eggcornsTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.eggcorns.changeTotalEggcorns(this.totalEggcorns+1),this.eggcornsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.eggcornsTable.__zone_symbol__value[r]),this.eggcorns.changeEggcornsUserTable(this.eggcornsUserTable));this.eggcornsScore=this.totalEggcorns/this.totalSentences*100,(isNaN(this.eggcornsScore)||this.eggcornsScore===1/0)&&(this.eggcornsScore=0);try{if(0==this.eggcornsScore?(this.eggcornsAlertColor="green",this.eggcornsFeedback="Great job Your writing seems to have no Eggcorns."):this.eggcornsScore<=5?(this.eggcornsFeedback="Almost there! The number of Eggcorns words in your writing seems low.",this.eggcornsAlertColor="red"):this.eggcornsScore<=10?(this.eggcornsFeedback="Your writing seems to have a lot of eggcorns.",this.eggcornsAlertColor="red"):(this.eggcornsFeedback="Your writing seems to have many eggcorns. Make sure you're not using eggcorns.",this.eggcornsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(r){this.eggcornsFeedback="Make sure you enter at least one sentence.",this.eggcornsAlertColor="orange",this.eggcornsScore=0}this.eggcorns.changeEggcornsScore(Math.round(10*this.eggcornsScore)/10),this.eggcorns.changeEggcornsFeedback(this.eggcornsFeedback),this.eggcorns.changeEggcornsAlertColor(this.eggcornsAlertColor)}eggcornsService(){this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.eggcorns.currentEggcornsFeedback.subscribe(t=>this.eggcornsFeedback=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsTable.subscribe(t=>this.eggcornsTable=t),this.eggcorns.currentEggcornsUserTable.subscribe(t=>this.eggcornsUserTable=t)}nominalizationsFix(t){let r;r="";let i=0;for(let l=0;l<t.length;l++)if(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l])r+=t[l];else{for(const u in this.nominalizationsTable.__zone_symbol__value)r.length>7&&r.includes(u)&&(this.nominalizationsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.nominalizationsTable.__zone_symbol__value[u]),this.nominalizations.changeNominalizationsNumber(this.nominalizationsNumber+1),this.nominalizations.changeNominalizationsUserTable(this.nominalizationsUserTable));r="",i++}this.nominalizationsScore=this.nominalizationsNumber/i*100,(isNaN(this.nominalizationsScore)||this.nominalizationsScore===1/0)&&(this.nominalizationsScore=0);try{if(this.nominalizationsScore<=6?(this.nominalizationsFeedback='Rock on. Your writing has a reasonable number of "nominalized" word forms, highlighted below. You probably don\'t need to reduce these any further.',this.nominalizationsAlertColor="green"):(this.nominalizationsFeedback='Most of the words below are perfectly acceptable. However, you use many of these "nominalized" (non root-form) words. They bog down writing and decrease readability.',this.nominalizationsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(l){this.nominalizationsFeedback="Make sure you enter at least one sentence.",this.nominalizationsAlertColor="orange",this.nominalizationsScore=0}this.nominalizations.changeNominalizationsFeedback(this.nominalizationsFeedback),this.nominalizations.changeNominalizationsScore(Math.round(10*this.nominalizationsScore)/10),this.nominalizations.changeNominalizationsAlertColor(this.nominalizationsAlertColor)}nominalizationsService(){this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.nominalizations.currentNominalizationsFeedback.subscribe(t=>this.nominalizationsFeedback=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsUserTable.subscribe(t=>this.nominalizationsUserTable=t),this.nominalizations.currentNominalizationsTable.subscribe(t=>this.nominalizationsTable=t)}sentencesFix(t){let r,i,l;r="",i="",l="";let u=!1,f=0;for(let y=0;y<t.length;y++){if(/[a-zA-Z]/.test(t[y])||"\u2019"===t[y]||"'"===t[y])r+=t[y];else{for(const b in this.sentencesTable)r.includes(b)&&(i+=r,u=!0);r="",f++}!0===u&&(/[a-zA-Z]/.test(t[y])||"\u2019"===t[y]||"'"===t[y]||" "===t[y]?i+=t[y]:(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Potential Fragment \u2192 "'+i+'..."'),this.sentences.changeSentencesUserTable(this.sentencesUserTable),u=!1,i="")),"!"===t[y]||"?"===t[y]||"."===t[y]?(f>50&&(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Long Sentence \u2192 "'+l+'..."'),this.sentences.changeSentencesUserTable(this.sentencesUserTable)),l="",f=0):l+=t[y]}this.sentencesScore=this.sentencesNumber/this.totalSentences*100,(Number.isNaN(this.sentencesScore)||this.sentencesScore===1/0)&&(this.sentencesScore=0);try{if(this.sentencesScore>0?(this.sentencesFeedback="Hmmm. Your writing may have some sentence-level issues. Check the list below for potential fragments or run-ons.",this.sentencesAlertColor="red"):(this.sentencesFeedback="Bueno! Your sentences don't show any glaring errors.",this.sentencesAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(y){this.sentencesFeedback="Make sure you enter at least one sentence.",this.sentencesAlertColor="orange",this.sentencesScore=0}this.sentences.changeSentencesFeedback(this.sentencesFeedback),this.sentences.changeSentencesScore(Math.round(10*this.sentencesScore)/10),this.sentences.changeSentencesAlertColor(this.sentencesAlertColor)}sentencesService(){this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesTable.subscribe(t=>this.sentencesTable=t),this.sentences.currentSentencesUserTable.subscribe(t=>this.sentencesUserTable=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t),this.sentences.currentSentencesFeedback.subscribe(t=>this.sentencesFeedback=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rn),a.Y36(Ei),a.Y36(Bf),a.Y36(Dl),a.Y36(xl),a.Y36(kl),a.Y36(Ml),a.Y36(Ol),a.Y36(Nl),a.Y36(Rl),a.Y36(tu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:28,vars:2,consts:[["id","textboxBackground"],[1,"column"],["id","grammarChecker"],["id","grammarDescription"],["id","userinput","name","userinput","placeholder","Type or paste your writing here. It will not be stored or reused in any way.",3,"ngModel","ngModelChange"],["id","submitbutton",3,"click"],["id","attentionGrabber"],[1,"column1"],[1,"homedescription"]],template:function(t,r){1&t&&(a.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"h1",2),a._uU(4,"Grammar Checker"),a.qZA(),a.TgZ(5,"h3",3),a._uU(6,"Check your text for any potential errors"),a.qZA(),a.TgZ(7,"textarea",4),a.NdJ("ngModelChange",function(l){return r.message=l}),a._uU(8),a.qZA(),a._UZ(9,"br")(10,"br"),a.TgZ(11,"button",5),a.NdJ("click",function(){return r.submitClick()}),a._uU(12,"SUBMIT"),a.qZA()(),a._UZ(13,"br"),a.TgZ(14,"h1",6),a._uU(15,"HOW IS GRAMMARK HELPFUL?"),a.qZA(),a.TgZ(16,"div",7)(17,"div",8)(18,"h3"),a._uU(19,"It takes a teacher "),a.TgZ(20,"b"),a._uU(21,"15-30 minutes"),a.qZA(),a._uU(22," to correct 1 paper"),a.qZA(),a.TgZ(23,"h3"),a._uU(24,"It takes Grammark "),a.TgZ(25,"b"),a._uU(26,"0.14 seconds"),a.qZA(),a._uU(27," to locate 6,239 errors"),a.qZA()()()()()),2&t&&(a.xp6(7),a.Q6J("ngModel",r.message),a.xp6(1),a.Oqu(r.message))},dependencies:[Rs,Gr,Lo],styles:['@import"https://fonts.googleapis.com/css2?family=Work+Sans&display=swap";body[_ngcontent-%COMP%]{background-image:linear-gradient(#F3FFF6,#2F6E4D);font-family:Work Sans,sans-serif}.column[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto}#grammarChecker[_ngcontent-%COMP%]{text-align:center;line-height:.1;color:#2f6e4d;font-family:Futura,Trebuchet MS,Arial,sans-serif}#grammarDescription[_ngcontent-%COMP%]{text-align:center;line-height:1;color:#6e8c7c;font-family:Futura,Trebuchet MS,Arial,sans-serif}#textboxBackground[_ngcontent-%COMP%]{width:100%;background:url(backgroundgradient.jpg);margin-top:0%;background-position:center;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;padding-top:35px;padding-bottom:50px}#attentionGrabber[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#2f6e4d;-webkit-text-stroke-width:.25px;text-align:left;margin-bottom:10px;padding-left:7px;font-family:Futura,Trebuchet MS,Arial,sans-serif}.column2[_ngcontent-%COMP%]{float:left;width:300px;padding-right:20px}.c2[_ngcontent-%COMP%]{background-color:#b1b1bd;border-color:#000;border:groove;padding-left:20px;margin-bottom:19px}.c2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:5px}.c2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-bottom:10px}.c2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:5px}.homecolumns[_ngcontent-%COMP%]{padding:20px}.homedescription[_ngcontent-%COMP%]{color:#2f6e4d;text-align:left;font-family:Futura,Trebuchet MS,Arial,sans-serif}.homedescription[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;line-height:.5;padding-left:7px;font-family:Futura,Trebuchet MS,Arial,sans-serif}#userinput[_ngcontent-%COMP%]{height:400px;min-height:100px;width:95%;resize:none;border-width:1.5px;padding:15px;font-size:14px;border-color:#c6dbd0;border-radius:23px;font-family:Futura,Trebuchet MS,Arial,sans-serif}[_ngcontent-%COMP%]::placeholder{color:#adadad}#submitbutton[_ngcontent-%COMP%]{background-color:#2f6e4d;color:#fff;width:250px;height:60px;font-size:25px;font-family:Futura,Trebuchet MS,Arial,sans-serif;margin-left:35%;display:table-cell;vertical-align:middle;border-radius:23px;border:none}#submitbutton[_ngcontent-%COMP%]:hover{background-color:#adadad;color:#2f6e4d;cursor:pointer}ul[_ngcontent-%COMP%]{padding-left:20px;font-size:20px}.selfimage[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}#adminControls[_ngcontent-%COMP%]{text-align:right;padding-top:5px;padding-bottom:5px;border-top:2px solid black}.mat-stroked-button.mat-primary[_ngcontent-%COMP%]{background:#00704a;color:#000;display:inline-block;width:135px;font-size:20px;text-align:center;border-radius:10px;border-color:#000;border-width:2px;margin-right:10px}.mat-stroked-button.mat-primary[_ngcontent-%COMP%]:hover{background:#409e7f;color:#fff;border-radius:10px}']}),n})(),HB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-about"]],decls:81,vars:0,consts:[[1,"aboutcolumn"],[1,"column1"],[1,"title"],[1,"column2"],[1,"c"],["href","https://markfullmer.com/"],["href","https://github.com/ngatrann"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div")(4,"h1",2)(5,"b"),a._uU(6,"About"),a.qZA()(),a.TgZ(7,"p")(8,"b"),a._uU(9,"Grammark Version 4.0 CLAWS (Concise Language and Academic Writing Suggestions)"),a.qZA(),a._uU(10," is a writing tool intended to assist students with their academic writing\u2014specifically persuasive essays common to first-year writing courses and introductory courses in other subject areas. The system points out potential problems with wording, style, grammar, et cetera, and provides suggestions for improvement. By evaluating each specific suggestion generated by Grammark, students can improve their writing by implementing those suggestions they find to be accurate and helpful. "),a.qZA(),a.TgZ(11,"p"),a._uU(12,"Due to the nature of both written language and language checking software tools, the Grammark system cannot always differentiate between proper and improper uses of certain words and phrases, resulting in \u201cfalse positive\u201d flags for words and phrases that may be used correctly. However, instead of viewing these false positives as a shortcoming of the Grammark system, writers should simply view these checks as opportunities to further evaluate their language choices and move forward with confidence when a suggestion does not apply. "),a._UZ(13,"br"),a._uU(14," These are the basic premises the program follows, in plain language:"),a.qZA(),a.TgZ(15,"ol")(16,"li")(17,"b")(18,"mark"),a._uU(19,"Passive voice"),a.qZA()(),a._uU(20," is harder to read and sometimes obscures meaning. Active voice is clearer and punchier. Grammark highlights all instances of passive voice and suggests how to rewrite them actively."),a.qZA(),a.TgZ(21,"li")(22,"b")(23,"mark"),a._uU(24,"Wordiness."),a.qZA()(),a._uU(25," Don't use 3 words when you can say the same thing with 1. Grammark has a database of 973 wordy phrases, like with respect to, a considerable amount of, and as a matter of fact. It finds these and offers concise alternatives (concerning, many, in fact)."),a.qZA(),a.TgZ(26,"li")(27,"b")(28,"mark"),a._uU(29,"Sentence length"),a.qZA()(),a._uU(30," correlates with sophistication of thought. Writing with many short sentences is usually simplistic, while preponderantly long sentences suggest convoluted thought, and if sentences are all about the same length, writing sounds soporific. Grammark provides a sentence variety score (using standard deviation) and average words per sentence."),a.qZA(),a.TgZ(31,"li")(32,"b")(33,"mark"),a._uU(34,"Transitions"),a.qZA()(),a._uU(35," help organize ideas. Text with few transitions is hard to follow. Based on analysis, writing that has less than 1 transition per every 4 sentences may be confusing. Grammark checks your document for 188 common transition words."),a.qZA(),a.TgZ(36,"li")(37,"b")(38,"mark"),a._uU(39,"Academic Style."),a.qZA()(),a._uU(40,' As a college writing teacher, I often find myself scribbling "be more specific" or "be more tentative" on student essays. Grammark checks your document against for casual or extreme language.'),a.qZA(),a.TgZ(41,"li")(42,"b")(43,"mark"),a._uU(44,"Nominalizations."),a.qZA()(),a._uU(45,' Non-root form words (e.g., improvement or improving instead of improve), when overused, can bog down writing. Grammark highlights words with common nominalized endings ("-ization", "-ability", etc.) so you can pinpoint unnecessarily dense sentences.'),a.qZA(),a.TgZ(46,"li")(47,"b")(48,"mark"),a._uU(49,"Grammar"),a.qZA()(),a._uU(50," is, quite simply, a bunch of rules writers follow. As a teacher, I've spent many a Saturday correcting grammar. Grammark searches for 6,239 errors in about 0.144 seconds."),a.qZA()(),a.TgZ(51,"p"),a._uU(52,"There are many more rules of grammar thumb: prepositions at the ends of phrases should be dealt with, to usually avoid split infinitives, and following parallel structure. But many of these have exceptions, and I felt including checks for them would make the tool less efficient and consequently less useful."),a.qZA(),a.TgZ(53,"h2"),a._uU(54,"Make the Project Better"),a.qZA(),a.TgZ(55,"p"),a._uU(56,"The grammark database has 7,060 grammar rules currently, not including algorithms for identifying passive voice and analyzing sentences. Help improve the comprehensiveness of this tool by adding more grammar rules. Go to the submission form and enter a grammar error. If it doesn't yet exist, it will be added to the database after approval."),a.qZA()()(),a.TgZ(57,"div",3)(58,"div",4)(59,"p"),a._uU(60,"The original Grammark open-source web application was created by software developer and former English teacher "),a.TgZ(61,"a",5),a._uU(62,"Mark Fullmer"),a.qZA(),a._uU(63,". This original version can still be found at grammark.org."),a.qZA(),a.TgZ(64,"p"),a._uU(65,"In the fall of 2021, Jason Palmer (English Instructor, Georgia Gwinnett College) sought to adapt and add to the Grammark tool for his composition students. He and a team of software development students at GGC were able to add dozens of specific checks to the system and update the user interface, creating Grammark Version 2.0. They also updated the tool from Angular1 to Angular 10. In the spring of 2022, Palmer and a new team of GGC students created the current version of the tool, adding more checks, refining the identification of existing checks, and further improving both aesthetics and user experience."),a.qZA(),a.TgZ(66,"p"),a._uU(67,"Version 4.0 was launched in Fall of 2022 by Team Grammar Police (Kelan McNally, Bayann Arslan, Mark Bramlett, Kush Patel, Christopher Titus) Important updates include a redesigned user interface and restored feedback functions. The team also worked to create an administrative feature."),a.qZA()(),a.TgZ(68,"div",4)(69,"p"),a._uU(70,"Team CtrlAltSpri4ng(Fawhn Hanlon, Francisco Pomaya Ramos, "),a.TgZ(71,"a",6),a._uU(72,"Nga Tran"),a.qZA(),a._uU(73,", Josue Mayorga)."),a.qZA(),a.TgZ(74,"p"),a._uU(75,"They updated Grammark from Angular1 to Angular10, and they also added additional Academic Style checks."),a.qZA()(),a.TgZ(76,"div",4)(77,"p"),a._uU(78,"Team Gramular(Jawwad Quereshi, Wilmer Batista, Joseph Ongchangco, Chris Hernandez, Sydney Harrell)."),a.qZA(),a.TgZ(79,"p"),a._uU(80,"They updated Grammark by changing the design of the page and updating the 'Dictionary' by adding more checks."),a.qZA()()()()())},styles:["html[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{cursor:default}div[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-family:Futura,Trebuchet MS,Arial,sans-serif}mark[_ngcontent-%COMP%]{background-color:#fdff9f}.title[_ngcontent-%COMP%]{font-size:40px;padding:10px 0;margin-right:-55px}.aboutcolumn[_ngcontent-%COMP%]{padding-left:5%;padding-top:20px;background-color:#f3fff6;display:flex;justify-content:center;cursor:default}.column1[_ngcontent-%COMP%]{float:left;width:60%;padding:20px;max-width:750px;border:1.5px solid #C6DBD0;border-radius:23px;background-color:#fbfbfb}.column2[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.c[_ngcontent-%COMP%]{background-color:#fbfbfb;border-radius:23px;border:1.5px dashed #C6DBD0;padding:20px;margin-bottom:19px}ol[_ngcontent-%COMP%]{padding:10px 30px 20px 20px}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:17px;line-height:1.5}h2[_ngcontent-%COMP%]{font-size:35px;padding:10px 0}a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}"]}),n})(),zB=(()=>{class n{constructor(){this.fileName="downloadabletext"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-download"]],decls:89,vars:0,consts:[[1,"downloadinformation"],[1,"row"],[1,"large-12","small-6","columns"],[1,"panel"],["href","https://github.com/markfullmer/grammark/archive/angular.zip",1,"button","right"],[1,"shell-wrap"],[1,"shell-top-bar"],[1,"shell-body"],["href","https://github.com/markfullmer/grammark/archive/master.zip",1,"button","right"],["href","https://github.com/markfullmer/grammark/archive/Version-2.zip",1,"button","right"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Download"),a.qZA(),a.TgZ(3,"p"),a._uU(4,"I advocate open-source philosophy: things (tools, art, knowledge) should be available for other people to adapt and improve. This includes educational web-tools like grammar checkers. So this website is both free to use and to modify, so long as you allow others to do the same with whatever you create."),a.qZA(),a.TgZ(5,"p"),a._uU(6,'Grammark comes in a variety of flavors. The angularJS version is "real-time" and requires nothing more than a web browser to run. There is also a SQL-based PHP version and a No-SQL version.'),a.qZA(),a.TgZ(7,"div",1)(8,"div",2)(9,"div",3)(10,"a",4),a._uU(11,"Download as zip"),a.qZA(),a.TgZ(12,"h3"),a._uU(13,"AngularJS (Version 4)"),a.qZA(),a.TgZ(14,"ul")(15,"li")(16,"b"),a._uU(17,"Language:"),a.qZA(),a._uU(18," Javascript"),a.qZA(),a.TgZ(19,"li")(20,"b"),a._uU(21,"Dependencies:"),a.qZA(),a._uU(22," none (angular libraries bundled)"),a.qZA(),a.TgZ(23,"li")(24,"b"),a._uU(25,"Features:"),a.qZA(),a._uU(26,' "Real-time" monitoring & scoring'),a.qZA()(),a.TgZ(27,"div",5)(28,"p",6),a._uU(29,"Clone from github"),a.qZA(),a.TgZ(30,"ul",7)(31,"li"),a._uU(32,"git clone https://github.com/markfullmer/grammark.git"),a.qZA(),a.TgZ(33,"li"),a._uU(34,"get fetch && git checkout angular"),a.qZA()()()()(),a.TgZ(35,"div",2)(36,"div",3)(37,"a",8),a._uU(38,"Download as zip"),a.qZA(),a.TgZ(39,"h3"),a._uU(40,"PHP, No-SQL (Version 3)"),a.qZA(),a.TgZ(41,"ul")(42,"li")(43,"b"),a._uU(44,"Language:"),a.qZA(),a._uU(45," PHP, Twig"),a.qZA(),a.TgZ(46,"li")(47,"b"),a._uU(48,"Dependencies:"),a.qZA(),a._uU(49," PHP 5.3+"),a.qZA(),a.TgZ(50,"li")(51,"b"),a._uU(52,"Features:"),a.qZA(),a._uU(53,' Data in file storage; no need for a database connection. Uses "Twig" templating engine'),a.qZA()(),a.TgZ(54,"div",5)(55,"p",6),a._uU(56,"Clone from github"),a.qZA(),a.TgZ(57,"ul",7)(58,"li"),a._uU(59,"git clone https://github.com/markfullmer/grammark.git"),a.qZA(),a.TgZ(60,"li"),a._uU(61,"get fetch && git checkout Version-3"),a.qZA()()()()(),a.TgZ(62,"div",2)(63,"div",3)(64,"a",9),a._uU(65,"Download as zip"),a.qZA(),a.TgZ(66,"h3"),a._uU(67,"PHP, with SQL storage (Version 2)"),a.qZA(),a.TgZ(68,"ul")(69,"li")(70,"b"),a._uU(71,"Language:"),a.qZA(),a._uU(72," PHP, SQL, Twig"),a.qZA(),a.TgZ(73,"li")(74,"b"),a._uU(75,"Dependencies:"),a.qZA(),a._uU(76," PHP 5.3+, MySQL 5.0+ "),a.qZA(),a.TgZ(77,"li")(78,"b"),a._uU(79,"Features:"),a.qZA(),a._uU(80,' Custom ORM SQL mapping for easy database manipulation; uses "Twig" templating engine'),a.qZA()(),a.TgZ(81,"div",5)(82,"p",6),a._uU(83,"Clone from github"),a.qZA(),a.TgZ(84,"ul",7)(85,"li"),a._uU(86,"git clone https://github.com/markfullmer/grammark.git"),a.qZA(),a.TgZ(87,"li"),a._uU(88,"get fetch && git checkout Version-2"),a.qZA()()()()()()())},styles:[".downloadinformation[_ngcontent-%COMP%]{padding:40px;font-size:large;background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}h1[_ngcontent-%COMP%]{font-family:Futura,Trebuchet MS,Arial,sans-serif}"]}),n})(),qB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-resources"]],decls:22,vars:0,consts:[[1,"resources"],[1,"description"],["routerLink","wordiness",1,"linkedpages"],["routerLink","transitions",1,"linkedpages"],["routerLink","grammar",1,"linkedpages"],["routerLink","eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"h1")(2,"b"),a._uU(3,"Resources"),a.qZA()(),a.TgZ(4,"p",1),a._uU(5,"View existing database records for wordiness, grammar errors, and transitions."),a.qZA(),a.TgZ(6,"p")(7,"a",2),a._uU(8,"Wordiness"),a.qZA(),a._uU(9," (987 records)"),a.qZA(),a.TgZ(10,"p")(11,"a",3),a._uU(12,"Transitions"),a.qZA(),a._uU(13," (134 records)"),a.qZA(),a.TgZ(14,"p")(15,"a",4),a._uU(16,"Grammar"),a.qZA(),a._uU(17," (1,323 records)"),a.qZA(),a.TgZ(18,"p")(19,"a",5),a._uU(20,"Eggcorns"),a.qZA(),a._uU(21," (100 records)"),a.qZA()())},dependencies:[sr],styles:[".resources[_ngcontent-%COMP%]{padding-left:22%;padding-top:30px}h1[_ngcontent-%COMP%]{font-size:40px}.description[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{padding:10px 0;font-size:30px}.linkedpages[_ngcontent-%COMP%]{text-decoration:none;color:#00f}"]}),n})();var kF=N(6787),tE=N(2102),$B=N(341),ZB=N(5283);class GB extends _r.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new WB(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,l=r.length;let u;if(this.closed)throw new Sp.N;if(this.isStopped||this.hasError?u=Uo.w.EMPTY:(this.observers.push(e),u=new ZB.W(this,e)),i&&e.add(e=new tE.ht(e,i)),t)for(let f=0;f<l&&!e.closed;f++)e.next(r[f]);else for(let f=0;f<l&&!e.closed;f++)e.next(r[f].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),u}_getNow(){return(this.scheduler||$B.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,l=i.length;let u=0;for(;u<l&&!(e-i[u].time<r);)u++;return l>t&&(u=Math.max(u,l-t)),u>0&&i.splice(0,u),i}}class WB{constructor(e,t){this.time=e,this.value=t}}function MF(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},i=>i.lift(function KB({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let i,u,l=0,f=!1,y=!1;return function(C){l++,(!i||f)&&(f=!1,i=new GB(n,e,r),u=C.subscribe({next(P){i.next(P)},error(P){f=!0,i.error(P)},complete(){y=!0,u=void 0,i.complete()}}));const x=i.subscribe(this);this.add(()=>{l--,x.unsubscribe(),u&&!y&&t&&0===l&&(u.unsubscribe(),u=void 0,i=void 0)})}}(r))}function OF(n,e){return e?Lr(()=>n,e):Lr(()=>n)}var hM=N(8915),gs=N(6351),Fl=N(2011);const pM=new Map,NF={activated:!1,tokenObservers:[]},ej={initialized:!1,enabled:!1};function Hi(n){return pM.get(n)||Object.assign({},NF)}function sI(){return ej}class oj{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function aj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ks=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function FF(n){if(!Hi(n).activated)throw Ks.create("use-before-activation",{appName:n.name})}function yM(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,Te.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const H=yield u.getHeartbeatsHeader();H&&(l["X-Firebase-Client"]=H)}const f={method:"POST",body:JSON.stringify(e),headers:l};let y,b;try{y=yield fetch(n,f)}catch(H){throw Ks.create("fetch-network-error",{originalErrorMessage:null===(r=H)||void 0===r?void 0:r.message})}if(200!==y.status)throw Ks.create("fetch-status-error",{httpStatus:y.status});try{b=yield y.json()}catch(H){throw Ks.create("fetch-parse-error",{originalErrorMessage:null===(i=H)||void 0===i?void 0:i.message})}const C=b.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Ks.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const x=1e3*Number(C[1]),P=Date.now();return{token:b.token,expireTimeMillis:P+x,issuedAtTimeMillis:P}}),_M.apply(this,arguments)}function dj(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const nE="firebase-app-check-store";let lI=null;function LF(){return lI||(lI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(Ks.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(nE,{keyPath:"compositeKey"})}}catch(r){e(Ks.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),lI)}function vM(){return vM=(0,Te.Z)(function*(n,e){const r=(yield LF()).transaction(nE,"readwrite"),l=r.objectStore(nE).put({compositeKey:n,value:e});return new Promise((u,f)=>{l.onsuccess=y=>{u()},r.onerror=y=>{var b;f(Ks.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),vM.apply(this,arguments)}const rE=new js.Yd("@firebase/app-check");function EM(n,e){return(0,Xt.hl)()?function gj(n,e){return function VF(n,e){return vM.apply(this,arguments)}(function BF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{rE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jF(){return sI().enabled}function HF(){return SM.apply(this,arguments)}function SM(){return SM=(0,Te.Z)(function*(){const n=sI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),SM.apply(this,arguments)}const wj={error:"UNKNOWN_ERROR"};function Ej(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function cI(n){return CM.apply(this,arguments)}function CM(){return CM=(0,Te.Z)(function*(n,e=!1){const t=n.app;FF(t);const r=Hi(t);let l,i=r.token;if(i&&!rv(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(rv(y)?i=y:yield EM(t,void 0))}if(!e&&i&&rv(i))return{token:i.token};let f,u=!1;if(jF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yM(dj(t,yield HF()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield EM(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Hi(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?rE.warn(y.message):rE.error(y),l=y}return i?l?f=rv(i)?{token:i.token,internalError:l}:$F(l):(f={token:i.token},r.token=i,yield EM(t,i)):f=$F(l),u&&qF(t,f),f}),CM.apply(this,arguments)}function AM(n,e){const t=Hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function zF(n){const{app:e}=n,t=Hi(e);let r=t.tokenRefresher;r||(r=function Tj(n){const{app:e}=n;return new oj((0,Te.Z)(function*(){let r;if(r=Hi(e).token?yield cI(n,!0):yield cI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qF(n,e){const t=Hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function rv(n){return n.expireTimeMillis-Date.now()>0}function $F(n){return{token:Ej(wj),error:n}}class Sj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hi(this.app);for(const t of e)AM(this.app,t.next);return Promise.resolve()}}const XF="app-check-internal";!function Vj(){(0,ls._registerComponent)(new Kh.wA("app-check",n=>function Cj(n,e){return new Sj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XF).initialize()})),(0,ls._registerComponent)(new Kh.wA(XF,n=>function Ij(n){return{getToken:e=>cI(n,e),addTokenListener:e=>function IM(n,e,t,r){const{app:i}=n,l=Hi(i);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&rv(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),zF(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>zF(n))}(n,"INTERNAL",e),removeTokenListener:e=>AM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ls.registerVersion)("@firebase/app-check","0.5.17")}();class MM{constructor(){return(0,gs.vb)("app-check")}}"undefined"!=typeof window&&window,N(127);const tP=new a.OlP("angularfire2.auth.use-emulator"),nP=new a.OlP("angularfire2.auth.settings"),rP=new a.OlP("angularfire2.auth.tenant-id"),iP=new a.OlP("angularfire2.auth.langugage-code"),sP=new a.OlP("angularfire2.auth.use-device-language"),oP=new a.OlP("angularfire.auth.persistence"),aP=(n,e,t,r,i,l,u,f)=>(0,Fl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),u)for(const[b,C]of Object.entries(u))y.settings[b]=C;return f&&y.setPersistence(f),y},[t,r,i,l,u,f]);let iv=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C,x,P,H){const $=new _r.xQ,ue=(0,it.of)(void 0).pipe((0,tE.QV)(u.outsideAngular),Lr(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,1277)))),(0,bt.U)(()=>(0,Fl.on)(t,l,r)),(0,bt.U)(ve=>aP(ve,l,f,b,C,x,y,P)),MF({bufferSize:1,refCount:!1}));if(Sr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{ue.pipe(_l()).subscribe();const je=ue.pipe(Lr(Ke=>Ke.getRedirectResult().then(Tt=>Tt,()=>null)),gs.iC,MF({bufferSize:1,refCount:!1})),et=ue.pipe(Lr(Ke=>new Zr.y(Tt=>({unsubscribe:l.runOutsideAngular(()=>Ke.onAuthStateChanged(Lt=>Tt.next(Lt),Lt=>Tt.error(Lt),()=>Tt.complete()))})))),ut=ue.pipe(Lr(Ke=>new Zr.y(Tt=>({unsubscribe:l.runOutsideAngular(()=>Ke.onIdTokenChanged(Lt=>Tt.next(Lt),Lt=>Tt.error(Lt),()=>Tt.complete()))}))));this.authState=je.pipe(OF(et),(0,hM.R)(u.outsideAngular),(0,tE.QV)(u.insideAngular)),this.user=je.pipe(OF(ut),(0,hM.R)(u.outsideAngular),(0,tE.QV)(u.insideAngular)),this.idToken=this.user.pipe(Lr(Ke=>Ke?(0,Nn.D)(Ke.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(Lr(Ke=>Ke?(0,Nn.D)(Ke.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,kF.T)(je,$,this.authState.pipe(Vo(Ke=>!Ke))).pipe((0,bt.U)(Ke=>null!=Ke&&Ke.user?Ke:null),(0,hM.R)(u.outsideAngular),(0,tE.QV)(u.insideAngular))}return(0,Fl.pX)(this,ue,l,{spy:{apply:(ve,je,et)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&et.then(ut=>$.next(ut))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Fl.Dh),a.LFG(Fl.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(gs.HU),a.LFG(tP,8),a.LFG(nP,8),a.LFG(rP,8),a.LFG(iP,8),a.LFG(sP,8),a.LFG(oP,8),a.LFG(MM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iE=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r,this.userLoggedIn=!1,this.afAuth.onAuthStateChanged(i=>{this.userLoggedIn=!!i})}loginUser(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(()=>{console.log("Auth Service: loginUser: success")}).catch(i=>{if(console.log("Auth Service: login error..."),console.log("error code",i.code),console.log("error",i),i.code)return{isValid:!1,message:i.message}})}signupUser(t){return this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{t.email.toLowerCase(),r.user.sendEmailVerification()}).catch(r=>{if(console.log("Auth Service: signup error",r),r.code)return{isValid:!1,message:r.message}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rn),a.LFG(iv))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const qj=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function $j(){return(0,a.f3M)(re)}}),Zj=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let NM,Wj=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Gj(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Zj.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qj,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();try{NM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){NM=!1}let sv,Vd=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function lu(n){return n===Ao}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dP(){if(sv)return sv;if("object"!=typeof document||!document)return sv=new Set(uP),sv;let n=document.createElement("input");return sv=new Set(uP.filter(e=>(n.setAttribute("type",e),n.type===e))),sv}let sE,RM;function dI(n){return function Kj(){if(null==sE&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sE=!0}))}finally{sE=sE||!1}return sE}()?n:!!n.capture}function oE(n){return n.composedPath?n.composedPath()[0]:n.target}function hP(n){return e=>e.lift(new s3(n))}class s3{constructor(e){this.total=e}call(e,t){return t.subscribe(new o3(e,this.total))}}class o3 extends Vs.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function fP(n,e){return t=>t.lift(new a3(n,e))}class a3{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new l3(e,this.compare,this.keySelector))}}class l3 extends Vs.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function aE(n){return e=>e.lift(new c3(n))}class c3{constructor(e){this.notifier=e}call(e,t){const r=new u3(e),i=(0,Dh.D)(r,this.notifier);return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class u3 extends Ju.L{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,r,i,l){this.seenValue=!0,this.complete()}notifyComplete(){}}function sm(n){return null!=n&&"false"!=`${n}`}function pP(n){return Array.isArray(n)?n:[n]}function jf(n){return n instanceof a.SBq?n.nativeElement:n}var gP=N(353);function mP(n,e=gP.P){return t=>t.lift(new f3(n,e))}class f3{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new p3(e,this.dueTime,this.scheduler))}}class p3 extends Vs.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(g3,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function g3(n){n.debouncedNext()}const yP=new Set;let ov,m3=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_3}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function y3(n){if(!yP.has(n))try{ov||(ov=document.createElement("style"),ov.setAttribute("type","text/css"),document.head.appendChild(ov)),ov.sheet&&(ov.sheet.insertRule(`@media ${n} {body{ }}`,0),yP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vd))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let v3=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new _r.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return _P(pP(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let l=Rm(_P(pP(t)).map(u=>this._registerQuery(u).observable));return l=Ip(l.pipe(td(1)),l.pipe(hP(1),mP(0))),l.pipe((0,bt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:y,query:b})=>{f.matches=f.matches||y,f.breakpoints[b]=y}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),l={observable:new Zr.y(u=>{const f=y=>this._zone.run(()=>u.next(y));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(bc(r),(0,bt.U)(({matches:u})=>({query:t,matches:u})),aE(this._destroySubject)),mql:r};return this._queries.set(t,l),l}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(m3),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _P(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function EP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function TP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const A3=new a.OlP("cdk-input-modality-detector-options"),D3={ignoreKeys:[18,17,224,91,16]},av=dI({passive:!0,capture:!0});let x3=(()=>{class n{constructor(t,r,i,l){this._platform=t,this._mostRecentTarget=null,this._modality=new oi(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,y;null!==(y=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)&&void 0!==y&&y.some(b=>b===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=oE(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EP(u)?"keyboard":"mouse"),this._mostRecentTarget=oE(u))},this._onTouchstart=u=>{TP(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=oE(u))},this._options=Object.assign(Object.assign({},D3),l),this.modalityDetected=this._modality.pipe(hP(1)),this.modalityChanged=this.modalityDetected.pipe(fP()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,av),i.addEventListener("mousedown",this._onMousedown,av),i.addEventListener("touchstart",this._onTouchstart,av)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,av),document.removeEventListener("mousedown",this._onMousedown,av),document.removeEventListener("touchstart",this._onTouchstart,av))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vd),a.LFG(a.R0b),a.LFG(re),a.LFG(A3,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M3=new a.OlP("cdk-focus-monitor-default-options"),fI=dI({passive:!0,capture:!0});let O3=(()=>{class n{constructor(t,r,i,l,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _r.xQ,this._rootNodeFocusAndBlurListener=f=>{for(let b=oE(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=l,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=jf(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,it.of)(null);const l=function Qj(n){if(function Yj(){if(null==RM){const n="undefined"!=typeof document?document.head:null;RM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return RM}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new _r.xQ,rootNode:l};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=jf(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const l=jf(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,y])=>this._originChanged(f,r,y)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!(null==t||!t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),l=oE(t);!i||!i.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,fI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,fI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(aE(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,l)=>{(l===t||i.checkChildren&&l.contains(t))&&r.push([l,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const l=t.labels;if(l)for(let u=0;u<l.length;u++)if(l[u].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Vd),a.LFG(x3),a.LFG(re,8),a.LFG(M3,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CP="cdk-high-contrast-black-on-white",IP="cdk-high-contrast-white-on-black",FM="cdk-high-contrast-active";let N3=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,a.f3M)(v3).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(FM,CP,IP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(FM,CP):2===r&&t.add(FM,IP)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vd),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F3=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function R3(){return!0}});let Pl=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Jj(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(N3),a.LFG(F3,8),a.LFG(re))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lP,lP]}),n})();function P3(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=sm(e)}}}function PM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function L3(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=sm(e)}}}function V3(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==e&&(this.errorState=l,this.stateChanges.next())}}}let DP=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class B3{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xP={enterDuration:225,exitDuration:150},LM=dI({passive:!0}),kP=["mousedown","touchstart"],MP=["mouseup","mouseleave","touchend","touchcancel"];class H3{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jf(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},xP),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function z3(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,y=t-i.top,b=l.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-u+"px",C.style.top=y-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=r.color&&(C.style.backgroundColor=r.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C);const x=window.getComputedStyle(C),H=x.transitionDuration,$="none"===x.transitionProperty||"0s"===H||"0s, 0s"===H,ue=new B3(this,C,r,$);C.style.transform="scale3d(1, 1, 1)",ue.state=0,r.persistent||(this._mostRecentTransientRipple=ue);let ve=null;return!$&&(b||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(ue),et=()=>this._destroyRipple(ue);C.addEventListener("transitionend",je),C.addEventListener("transitioncancel",et),ve={onTransitionEnd:je,onTransitionCancel:et}}),this._activeRipples.set(ue,ve),($||!b)&&this._finishRippleTransition(ue),ue}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r=Object.assign(Object.assign({},xP),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=jf(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(kP))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(MP),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){var t;const r=null!==(t=this._activeRipples.get(e))&&void 0!==t?t:null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=EP(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!TP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,LM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(kP.forEach(e=>{this._triggerElement.removeEventListener(e,this,LM)}),this._pointerUpEventsRegistered&&MP.forEach(e=>{this._triggerElement.removeEventListener(e,this,LM)}))}}const q3=new a.OlP("mat-ripple-global-options");let OP=(()=>{class n{constructor(t,r,i,l,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new H3(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Vd),a.Y36(q3,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),$3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Pl,Pl]}),n})();const Z3=["mat-button",""],G3=["*"],K3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Y3=PM(P3(L3(class{constructor(n){this._elementRef=n}})));let VM=(()=>{class n extends Y3{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of K3)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(O3),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&a.Gf(OP,5),2&t){let i;a.iGM(i=a.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:Z3,ngContentSelectors:G3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[OP],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[$3,Pl,Pl]}),n})();const J3=["*",[["mat-card-footer"]]],X3=["*","mat-card-footer"];let UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),pI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),lv=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:X3,decls:2,vars:0,template:function(t,r){1&t&&(a.F$t(J3),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),eH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Pl,Pl]}),n})(),NP=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tH=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=jf(t);return new Zr.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new _r.xQ,i=this._mutationObserverFactory.create(l=>r.next(l));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(NP))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nH=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=sm(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function d3(n,e=0){return function h3(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(mP(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(tH),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[NP]}),n})();var iH=N(7043);function RP(n,e,t,r){return(0,iH.m)(t)&&(r=t,t=void 0),r?RP(n,e,t).pipe((0,bt.U)(i=>(0,cc.k)(i)?r(...i):r(i))):new Zr.y(i=>{FP(n,e,function l(u){i.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},i,t)})}function FP(n,e,t,r,i){let l;if(function aH(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(e,t,i),l=()=>u.removeEventListener(e,t,i)}else if(function oH(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(e,t),l=()=>u.off(e,t)}else if(function sH(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(e,t),l=()=>u.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,f=n.length;u<f;u++)FP(n[u],e,t,r,i)}r.add(l)}class PP{}const Ud="*";function cH(n,e){return{type:7,name:n,definitions:e,options:{}}}function uH(n,e=null){return{type:4,styles:e,timings:n}}function LP(n,e=null){return{type:2,steps:n,options:e}}function gI(n){return{type:6,styles:n,offset:null}}function dH(n,e,t){return{type:0,name:n,styles:e,options:t}}function hH(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function VP(n){Promise.resolve().then(n)}class cE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){VP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class UP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?VP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==l&&this._onFinish()}),u.onDestroy(()=>{++r==l&&this._onDestroy()}),u.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const fH=["connectionContainer"],pH=["inputContainer"],gH=["label"];function mH(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function yH(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function _H(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(3),a.Oqu(t._control.placeholder)}}function vH(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function bH(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function wH(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updateOutlineGap())}),a.YNc(2,_H,4,1,"ng-container",12),a.YNc(3,vH,1,0,"ng-content",12),a.YNc(4,bH,2,0,"span",22),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function EH(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function TH(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function SH(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function CH(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function IH(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,CH,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const AH=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],DH=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],xH=new a.OlP("MatError"),kH={transitionMessages:cH("transitionMessages",[dH("enter",gI({opacity:1,transform:"translateY(0%)"})),hH("void => enter",[gI({opacity:0,transform:"translateY(-5px)"}),uH("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const MH=new a.OlP("MatHint");let uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const NH=new a.OlP("MatPrefix"),RH=new a.OlP("MatSuffix");let BP=0;const PH=PM(class{constructor(n){this._elementRef=n}},"primary"),LH=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),HP=new a.OlP("MatFormField");let HM=(()=>{class n extends PH{constructor(t,r,i,l,u,f,y){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=l,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _r.xQ,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+BP++,this._labelId="mat-form-field-label-"+BP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=(null==l?void 0:l.appearance)||"legacy",l&&(this._hideRequiredMarker=Boolean(l.hideRequiredMarker),l.color&&(this.color=this.defaultColor=l.color))}get appearance(){return this._appearance}set appearance(t){var r;const i=this._appearance;this._appearance=t||(null===(r=this._defaults)||void 0===r?void 0:r.appearance)||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=sm(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(bc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(aE(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(aE(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,kF.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(bc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(bc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(aE(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,RP(this._label.nativeElement,"transitionend").pipe(td(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,i=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const C=r.querySelectorAll(`${i}, ${l}`);for(let x=0;x<C.length;x++)C[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const y=r.querySelectorAll(i),b=r.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const C=r.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(C),P=t.children,H=this._getStartEnd(P[0].getBoundingClientRect());let $=0;for(let ue=0;ue<P.length;ue++)$+=P[ue].offsetWidth;u=Math.abs(H-x)-5,f=$>0?.75*$+10:0}for(let C=0;C<y.length;C++)y[C].style.width=`${u}px`;for(let C=0;C<b.length;C++)b[C].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Wj,8),a.Y36(LH,8),a.Y36(Vd),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,jM,5),a.Suo(i,jM,7),a.Suo(i,uE,5),a.Suo(i,uE,7),a.Suo(i,OH,5),a.Suo(i,xH,5),a.Suo(i,MH,5),a.Suo(i,NH,5),a.Suo(i,RH,5)),2&t){let l;a.iGM(l=a.CRH())&&(r._controlNonStatic=l.first),a.iGM(l=a.CRH())&&(r._controlStatic=l.first),a.iGM(l=a.CRH())&&(r._labelChildNonStatic=l.first),a.iGM(l=a.CRH())&&(r._labelChildStatic=l.first),a.iGM(l=a.CRH())&&(r._placeholderChild=l.first),a.iGM(l=a.CRH())&&(r._errorChildren=l),a.iGM(l=a.CRH())&&(r._hintChildren=l),a.iGM(l=a.CRH())&&(r._prefixChildren=l),a.iGM(l=a.CRH())&&(r._suffixChildren=l)}},viewQuery:function(t,r){if(1&t&&(a.Gf(fH,7),a.Gf(pH,5),a.Gf(gH,5)),2&t){let i;a.iGM(i=a.CRH())&&(r._connectionContainerRef=i.first),a.iGM(i=a.CRH())&&(r._inputContainerRef=i.first),a.iGM(i=a.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:HP,useExisting:n}]),a.qOj],ngContentSelectors:DH,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(a.F$t(AH),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),a.YNc(3,mH,9,0,"ng-container",3),a.YNc(4,yH,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,wH,5,16,"label",8),a.qZA()(),a.YNc(10,EH,2,0,"div",9),a.qZA(),a.YNc(11,TH,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,SH,2,1,"div",12),a.YNc(14,IH,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==r.appearance),a.xp6(1),a.Q6J("ngIf",r._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",r._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",r._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=r.appearance),a.xp6(1),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[zr,pn,su,nH],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[kH.transitionMessages]},changeDetection:0}),n})(),zP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Io,Pl,rH,Pl]}),n})();const qP=dI({passive:!0});let VH=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return wa.E;const r=jf(t),i=this._monitoredElements.get(r);if(i)return i.subject;const l=new _r.xQ,u="cdk-text-field-autofilled",f=y=>{"cdk-text-field-autofill-start"!==y.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===y.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>l.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,qP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",f,qP)}}),l}stopMonitoring(t){const r=jf(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Vd),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const UH=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),BH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jH=0;const HH=V3(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new _r.xQ}});let zM=(()=>{class n extends HH{constructor(t,r,i,l,u,f,y,b,C,x){super(f,l,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=b,this._formField=x,this._uid="mat-input-"+jH++,this.focused=!1,this.stateChanges=new _r.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>dP().has($)),this._iOSKeyupListener=$=>{const ue=$.target;!ue.value&&0===ue.selectionStart&&0===ue.selectionEnd&&(ue.setSelectionRange(1,1),ue.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,H=P.nodeName.toLowerCase();this._inputValueAccessor=y||P,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=sm(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(yr.required))&&void 0!==l&&l}set required(t){this._required=sm(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&dP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=sm(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t;const r=this._formField,i=!r||"legacy"!==r.appearance||null!==(t=r._hasLabel)&&void 0!==t&&t.call(r)?this.placeholder:null;if(i!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=i,i?l.setAttribute("placeholder",i):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){BH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Vd),a.Y36(Pr,10),a.Y36(qu,8),a.Y36(yc,8),a.Y36(DP),a.Y36(UH,10),a.Y36(VH),a.Y36(a.R0b),a.Y36(HP,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(a.Ikx("disabled",r.disabled)("required",r.required),a.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),a.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:jM,useExisting:n}]),a.qOj,a.TTD]}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[DP],imports:[$P,zP,Pl,$P,zP]}),n})();function qH(n,e){if(1&n&&(a.TgZ(0,"div",9)(1,"span"),a._uU(2),a.qZA()()),2&n){const t=a.oxw();a.xp6(2),a.Oqu(t.firebaseErrorMessage)}}let $H=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.afAuth=i,this.loginForm=new Sm({email:new mc("",[yr.required,yr.email]),password:new mc("",yr.required)}),this.firebaseErrorMessage=""}ngOnInit(){}loginUser(){this.loginForm.invalid||this.authService.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(t=>{null==t?(console.log("logging in..."),this.router.navigate(["/dashboard"])):0==t.isValid&&(console.log("login error",t),this.firebaseErrorMessage=t.message)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(iE),a.Y36(Rn),a.Y36(iv))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:2,consts:[["id","textboxBackground"],[1,"column"],["id","formHolder"],["type","",3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary"],[1,"error-style"]],template:function(t,r){1&t&&(a.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"mat-card")(4,"div",2)(5,"h3")(6,"b"),a._uU(7,"Log In:"),a.qZA()(),a.TgZ(8,"form",3),a.NdJ("ngSubmit",function(){return r.loginUser()}),a.TgZ(9,"p")(10,"mat-form-field",4)(11,"mat-label"),a._uU(12,"Email"),a.qZA(),a._UZ(13,"input",5),a.qZA()(),a.TgZ(14,"p")(15,"mat-form-field",4)(16,"mat-label"),a._uU(17,"Password"),a.qZA(),a._UZ(18,"input",6),a.qZA()(),a.YNc(19,qH,3,1,"div",7),a.TgZ(20,"button",8),a._uU(21,"Login"),a.qZA()()()()()()()),2&t&&(a.xp6(8),a.Q6J("formGroup",r.loginForm),a.xp6(11),a.Q6J("ngIf",""!=r.firebaseErrorMessage))},dependencies:[zr,vh,Rs,Gr,Pi,VM,lv,HM,uE,zM,yc,vc],styles:["body[_ngcontent-%COMP%]{background-image:linear-gradient(#F3FFF6,#2F6E4D);background:url(backgroundgradient.jpg);font-family:Work Sans,sans-serif;width:100%}.column[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto}#textboxBackground[_ngcontent-%COMP%]{width:100%;background:url(backgroundgradient.jpg);margin-top:0%;background-position:center;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;padding-top:35px;padding-bottom:50px;height:-webkit-calc(100% - 85px)}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;height:-webkit-calc(100% - 85px)}.mat-card[_ngcontent-%COMP%]{margin:auto;background-color:#00704a;border:3px solid black;min-width:300px;max-width:300px}#formHolder[_ngcontent-%COMP%]{background-color:#fff;border:5px solid #00704a;border-radius:10px;padding:5px;text-align:center}.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#85c446;color:#000}"]}),n})();function ZH(n,e){if(1&n&&(a.TgZ(0,"div",7)(1,"span"),a._uU(2),a.qZA()()),2&n){const t=a.oxw();a.xp6(2),a.Oqu(t.firebaseErrorMessage)}}let GH=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.afAuth=i,this.firebaseErrorMessage=""}ngOnInit(){this.signupForm=new Sm({displayName:new mc("",yr.required),email:new mc("",[yr.required,yr.email]),password:new mc("",yr.required)})}signup(){this.signupForm.invalid||this.authService.signupUser(this.signupForm.value).then(t=>{null==t?this.router.navigate(["/dashboard"]):0==t.isValid&&(this.firebaseErrorMessage=t.message)}).catch(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(iE),a.Y36(Rn),a.Y36(iv))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-signup"]],decls:20,vars:2,consts:[[3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","displayName","type","text","matInput","","placeholder","Display Name"],["formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary"],[1,"error-style"]],template:function(t,r){1&t&&(a.TgZ(0,"mat-card")(1,"form",0),a.NdJ("ngSubmit",function(){return r.signup()}),a.TgZ(2,"p")(3,"mat-form-field",1)(4,"mat-label"),a._uU(5,"Full Name"),a.qZA(),a._UZ(6,"input",2),a.qZA()(),a.TgZ(7,"p")(8,"mat-form-field",1)(9,"mat-label"),a._uU(10,"Email"),a.qZA(),a._UZ(11,"input",3),a.qZA()(),a.TgZ(12,"p")(13,"mat-form-field",1)(14,"mat-label"),a._uU(15,"Password"),a.qZA(),a._UZ(16,"input",4),a.qZA()(),a.YNc(17,ZH,3,1,"div",5),a.TgZ(18,"button",6),a._uU(19,"Signup"),a.qZA()()()),2&t&&(a.xp6(1),a.Q6J("formGroup",r.signupForm),a.xp6(16),a.Q6J("ngIf",""!=r.firebaseErrorMessage))},dependencies:[zr,vh,Rs,Gr,Pi,VM,lv,HM,uE,zM,yc,vc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}"]}),n})();function qM(){return n=>n.lift(new WH)}class WH{call(e,t){return t.subscribe(new KH(e))}}class KH extends Vs.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function ZP(n,e){return function YH(n,e=gP.P){return new Zr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function $M(n,e){return ZP(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function mI(n,e){return $M(n,e).pipe(bc(void 0),qM(),(0,bt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const y=i.find(C=>C.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function GP(n,e,t){return mI(n,t).pipe(Dp((r,i)=>function JH(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function XH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ZM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ZM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),fP(),(0,bt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function ZM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function WP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}N(1277);class KP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(bc(void 0),qM(),Vo(([r,i])=>i.length>0||!r),(0,bt.U)(([r,i])=>i),gs.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WP(e);return GP(this.query,t,this.afs.schedulers.outsideAngular).pipe(gs.iC)}valueChanges(e={}){return $M(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gs.iC)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(gs.iC)}add(e){return this.ref.add(e)}doc(e){return new YP(this.ref.doc(e),this.afs)}}class YP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=QP(r,t);return new KP(i,l,this.afs)}snapshotChanges(){return function QH(n,e){return ZP(n,e).pipe(bc(void 0),qM(),(0,bt.U)(([t,r])=>r.exists?null!=t&&t.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gs.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Nn.D)(this.ref.get(e)).pipe(gs.iC)}}class ez{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mI(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Vo(t=>t.length>0),gs.iC):mI(this.query,this.afs.schedulers.outsideAngular).pipe(gs.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WP(e);return GP(this.query,t,this.afs.schedulers.outsideAngular).pipe(gs.iC)}valueChanges(e={}){return $M(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gs.iC)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(gs.iC)}}const tz=new a.OlP("angularfire2.enableFirestorePersistence"),nz=new a.OlP("angularfire2.firestore.persistenceSettings"),rz=new a.OlP("angularfire2.firestore.settings"),iz=new a.OlP("angularfire2.firestore.use-emulator");function QP(n,e=(t=>t)){return{query:e(n),ref:n}}let sz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C,x,P,H,$,ue,ve,je,et){this.schedulers=y;const ut=(0,Fl.on)(t,f,r),Ke=C;x&&aP(ut,f,P,$,ue,ve,H,je),[this.firestore,this.persistenceEnabled$]=(0,Fl.cc)(`${ut.name}.firestore`,"AngularFirestore",ut.name,()=>{const Tt=f.runOutsideAngular(()=>ut.firestore());if(l&&Tt.settings(l),Ke&&Tt.useEmulator(...Ke),i&&!Sr(u)){const Lt=()=>{try{return(0,Nn.D)(Tt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(mn){return"undefined"!=typeof console&&console.warn(mn),(0,it.of)(!1)}};return[Tt,f.runOutsideAngular(Lt)]}return[Tt,(0,it.of)(!1)]},[l,Ke,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:u}=QP(i,r),f=this.schedulers.ngZone.run(()=>l);return new KP(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),l=this.firestore.collectionGroup(t);return new ez(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new YP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Fl.Dh),a.LFG(Fl.xv,8),a.LFG(tz,8),a.LFG(rz,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(gs.HU),a.LFG(nz,8),a.LFG(iz,8),a.LFG(iv,8),a.LFG(tP,8),a.LFG(nP,8),a.LFG(rP,8),a.LFG(iP,8),a.LFG(sP,8),a.LFG(oP,8),a.LFG(MM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function oz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",11)(1,"form",12),a.NdJ("ngSubmit",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.add())}),a.TgZ(2,"p")(3,"mat-form-field",13)(4,"mat-label"),a._uU(5,"Rule Check"),a.qZA(),a._UZ(6,"input",14),a.qZA()(),a.TgZ(7,"p")(8,"mat-form-field",13)(9,"mat-label"),a._uU(10,"Feedback"),a.qZA(),a._UZ(11,"input",15),a.qZA()(),a.TgZ(12,"button",16),a._uU(13,"Add"),a.qZA()()()}if(2&n){const t=a.oxw();a.xp6(1),a.Q6J("formGroup",t.addRule)}}function az(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",17)(1,"div",18)(2,"mat-card")(3,"mat-card-body")(4,"mat-card-title")(5,"h4"),a._uU(6),a.qZA()(),a.TgZ(7,"mat-card-title")(8,"h4"),a._uU(9),a.qZA()(),a.TgZ(10,"button",19),a.NdJ("click",function(){const l=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.delete(l))}),a._uU(11,"Delete"),a.qZA()()()()()}if(2&n){const t=e.$implicit;a.xp6(6),a.Oqu(t.rule),a.xp6(3),a.Oqu(t.suggestion)}}let lz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C,x){this.router=t,this.data=r,this.passivevoice=i,this.wordiness=l,this.transitions=u,this.grammar=f,this.eggcorns=y,this.academic=b,this.nominalizations=C,this.firestore=x}ngOnInit(){this.ruleCards=[],this.addRule=new Sm({rule:new mc("",yr.required),fix:new mc("",yr.required)}),this.academic.currentAcademicStyleTable.subscribe(t=>this.academicStyleTable=t),this.wordiness.currentWordinessTable.subscribe(t=>this.wordinessTable=t),this.transitions.currentTransitionsTable.subscribe(t=>this.transitionsTable=t),this.passivevoice.currentPassiveVoiceTable.subscribe(t=>this.passiveVoiceTable=t),this.passivevoice.currentPassiveVoiceHelperTable.subscribe(t=>this.passiveVoiceHelperTable=t),this.grammar.currentGrammarTable.subscribe(t=>this.grammarTable=t),this.eggcorns.currentEggcornsTable.subscribe(t=>this.eggcornsTable=t),this.nominalizations.currentNominalizationsTable.subscribe(t=>this.nominalizationsTable=t)}academicLoad(){this.activeTable="academicstyle",this.ruleCards=[];for(const t in this.academicStyleTable.__zone_symbol__value)this.ruleCards.push({rule:t,suggestion:this.academicStyleTable.__zone_symbol__value[t]})}grammarLoad(){this.activeTable="grammar",this.ruleCards=[];for(const t in this.grammarTable.__zone_symbol__value)this.ruleCards.push({rule:t,suggestion:this.grammarTable.__zone_symbol__value[t]})}nominalizationsLoad(){this.activeTable="norminlizations",this.ruleCards=[];for(const t in this.nominalizationsTable.__zone_symbol__value)this.ruleCards.push({rule:t,suggestion:this.nominalizationsTable.__zone_symbol__value[t]})}eggcornsLoad(){this.activeTable="eggcorns",this.ruleCards=[];for(const t in this.eggcornsTable.__zone_symbol__value)this.ruleCards.push({rule:t,suggestion:this.eggcornsTable.__zone_symbol__value[t]})}wordinessLoad(){this.activeTable="wordiness",this.ruleCards=[];for(const t in this.wordinessTable.__zone_symbol__value)this.ruleCards.push({rule:t,suggestion:this.wordinessTable.__zone_symbol__value[t]})}transitionsLoad(){this.activeTable="transitions",this.ruleCards=[];for(const t in this.transitionsTable.__zone_symbol__value)this.ruleCards.push({rule:t,suggestion:this.transitionsTable.__zone_symbol__value[t]})}passiveLoad(){this.activeTable="passivevoice",this.ruleCards=[];for(const t in this.passiveVoiceTable.__zone_symbol__value)this.ruleCards.push({rule:t,suggestion:this.passiveVoiceTable.__zone_symbol__value[t]})}add(){this.ruleCards.push({rule:this.addRule.get("rule").value,suggestion:this.addRule.get("fix").value}),this.firestore.collection(this.activeTable).add({fixed:this.addRule.get("fix").value,wrong:this.addRule.get("rule").value}),this.addRule.reset()}delete(t){const i=this.ruleCards.indexOf(t,0);this.ruleCards.splice(i,1),this.firestore.collection(this.activeTable,l=>l.where("wrong","==",t.rule).where("fixed","==",t.suggestion)).get().subscribe(l=>{l.docs.forEach(u=>{u.ref.delete()})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rn),a.Y36(Ei),a.Y36(Dl),a.Y36(xl),a.Y36(kl),a.Y36(Ml),a.Y36(Ol),a.Y36(Nl),a.Y36(Rl),a.Y36(sz))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:37,vars:2,consts:[[1,"adminHolder"],[1,"tableDiv"],[1,"dashNav"],[1,"dashOption"],[1,"optionSection"],[1,"optionText",3,"click"],[1,"cardDiv"],[1,"container"],[1,"row"],["class","addRuleDiv",4,"ngIf"],["class","col-md-3 mx-auto my-5 rules",4,"ngFor","ngForOf"],[1,"addRuleDiv"],[3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","rule","type","text","matInput","","placeholder","Display Name"],["autocomplete","off","formControlName","fix","type","text","matInput","","placeholder","Display Name"],["mat-raised-button","","color","primary"],[1,"col-md-3","mx-auto","my-5","rules"],[1,"ruleHolder"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tbody")(4,"tr",3)(5,"td",4)(6,"a",5),a.NdJ("click",function(){return r.passiveLoad()}),a._uU(7,"Passive Voice"),a.qZA()()(),a.TgZ(8,"tr",3)(9,"td",4)(10,"a",5),a.NdJ("click",function(){return r.wordinessLoad()}),a._uU(11,"Wordiness"),a.qZA()()(),a.TgZ(12,"tr",3)(13,"td",4)(14,"a",5),a.NdJ("click",function(){return r.academicLoad()}),a._uU(15,"Academic Style"),a.qZA()()(),a.TgZ(16,"tr",3)(17,"td",4)(18,"a",5),a.NdJ("click",function(){return r.grammarLoad()}),a._uU(19,"Grammar"),a.qZA()()(),a.TgZ(20,"tr",3)(21,"td",4)(22,"a",5),a.NdJ("click",function(){return r.nominalizationsLoad()}),a._uU(23,"Nominalizations"),a.qZA()()(),a.TgZ(24,"tr",3)(25,"td",4)(26,"a",5),a.NdJ("click",function(){return r.eggcornsLoad()}),a._uU(27,"Eggcorns"),a.qZA()()(),a.TgZ(28,"tr",3)(29,"td",4)(30,"a",5),a.NdJ("click",function(){return r.transitionsLoad()}),a._uU(31,"Transitions"),a.qZA()()()()()(),a.TgZ(32,"div",6)(33,"div",7)(34,"div",8),a.YNc(35,oz,14,1,"div",9),a.YNc(36,az,12,2,"div",10),a.qZA()()()()),2&t&&(a.xp6(35),a.Q6J("ngIf",r.ruleCards.length>0),a.xp6(1),a.Q6J("ngForOf",r.ruleCards))},dependencies:[Bn,zr,vh,Rs,Gr,Pi,VM,lv,pI,HM,uE,zM,yc,vc],styles:[".tableDiv[_ngcontent-%COMP%]{height:-webkit-calc(100% - 85px);float:left;width:15%}.cardDiv[_ngcontent-%COMP%]{height:-webkit-calc(100% - 85px);float:left;width:85%}.adminHolder[_ngcontent-%COMP%]{height:-webkit-calc(100% - 85px)}.optionText[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:inline-block;text-align:center;font-size:25px;font-family:Futura,Trebuchet MS,Arial,sans-serif}.optionText[_ngcontent-%COMP%]:hover{color:#adadad}.dashOption[_ngcontent-%COMP%]{width:100%}.optionSection[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;text-align:center;padding-top:5%;padding-bottom:5%}.dashNav[_ngcontent-%COMP%]{width:90%;background-color:#00704a;border-radius:23px;margin:auto}.container[_ngcontent-%COMP%]{width:85%;height:85%;margin:auto;background-color:#00704a;padding:5%;padding:top 2%;border-radius:23px;overflow-y:scroll}.addRuleDiv[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:23px;margin:auto;width:50%;text-align:center;padding:top 5%}.mat-card[_ngcontent-%COMP%]{margin:auto;background-color:#f0f8ff;border:3px solid black;min-width:100%;max-width:100%}.ruleHolder[_ngcontent-%COMP%]{max-width:40%;padding:10px}.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#85c446;color:#000}.rules[_ngcontent-%COMP%]{padding:top 10px;display:table;width:100%}"]}),n})(),GM=(()=>{class n{constructor(t,r){this.router=t,this.auth=r}canActivate(t,r){return!!this.auth.userLoggedIn||(this.router.navigate(["/home"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rn),a.LFG(iE))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function cz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function uz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let dz=(()=>{class n{constructor(){this.title="Wordiness",this.values={"absolutely essential":"essential",aforementioned:"DELETE","a bigger degree of":"more","a greater degree of":"more","a higher degree of":"more","a larger degree of":"more","a considerable amount of":"DELETE OR BE SPECIFIC","a decreased number of":"fewer","a distance of":"just state the distance","a lesser degree of":"less","a smaller degree of":"fewer","a lot of":"many, much","a majority of":"most, much of, many","a person who is":"a xxx person","a total of":"just state the number","added bonus":"bonus","advance notice":"notice","advance reservations":"reservations","advance warning":"warning","advance planning":"planning","after all is said and done":"DELETE","all across":"across","all of":"all","all of a sudden":"suddenly","all of these":"these","all-time record":"record","almost never":"seldom","along the lines of":"like","any and all":"all","are such that":"DELETE","is such that":"DELETE","are able to":"can, OR DELETE","was able to":'could, OR remove and change the verb after "to" into past tense',"were able to":'could, OR remove and change the verb after "to" into past tense',"armed gunman":"gunman","assemble together":"assemble","attach together":"attach","as a matter of fact":"in fact OR DELETE","as a means to":"to","as a result of":"because of","as a whole":"DELETE","as a way to":"to","as being a":"as OR DELETE","as it truly is":"DELETE","as of the moment":"DELETE","as the case may be":"DELETE","at a later date":"later","at the conclusion of":"after","at all times":"always OR DELETE","at first glance":"DELETE","at the present time":"currently, now","at the same time that":"while","at this point in time":"now OR DELETE","autobiography of his [or her] life":"autobiography","bald-headed":"bald","based in large part on":"based on","based on the fact that":"since/because","basic necessity":"necessity","basic fundamentals":"basics OR fundamentals","because of the fact of":"because of",being:"DELETE","being that":"because","best ever":"best","beyond a shadow of a doubt":"DELETE","blend together":"blend","both of these":"both","both of them":"both","both of the":"both","brings to mind":"recalls/suggests","brief moment":"moment","brief summary":"summary","but yet":"but OR yet","burning embers":"embers","by and large":"DELETE","by definition":"DELETE","by leaps and bounds":"DELETE","by means of":"by","by the same token":"DELETE OR similarly/likewise","by the use of":"using","came to a realization":"realized/recognized","came to an abrupt end":"end[ed] abruptly","careful scrutiny":"scrutiny","can be seen as":"is OR DELETE","classify into groups":"classify","clearly articulate":"articulate","close scrutiny":"scrutiny","close down":"close","close up":"close","collaborate together":"collaborate","combine together":"combine","come to the understanding":"understand","common similarities":"similarities","comparatively larger than":"larger than/smaller than","comparatatively smaller than":"smaller than","compare and contrast":"compare","compete with each other":"compete","complete stranger":"stranger",completely:"DELETE","concerning the matter of":"about/regarding","conduct an investigation into":"investigate","connected together":"connected","continue into the future":"continue OR DELETE","continue on":"continue","consensus of opinion":"consensus","consider to be":"DELETE","considered to be":"DELETE","core essence":"DELETE","correctional facility":"jail","crisis situation":"crisis","dates back to":"dates to","depreciate in value":"depreciate","great pleasure from":"enjoy, appreciate, etc.","despite the fact that":"although","did not succeed":"failed","disappear from sight":"disappear","doomed to perish":"doomed","due to the effects":"because","due to the fact that":"because","dull in appearance":"dull","during the course of":"during, while","each and every":"each, every","each individual":"DELETE OR everyone","each of":"each","early on in the":"early in the","each separate incident":"each incident","economically deprived":"poor","eliminate altogether":"eliminate","emergency situation":"emergency","enclosed herewith":"enclosed","end result":"result","engaged in":"DELETE","enter into":"enter OR DELETE","epic quest":"quest OR epic","equal to one another":"equal","equally as good":"equally good OR equal","erode away":"erode","every single one":"each one, all, each","exactly identical":"identical","exactly the same":"the same   For Jack, every well was exactly the same","fair amount":"DELETE [or be specific]","fall down":"fall","few and far between":"rare, unusual OR DELETE","few in number":"few","filled to capacity":"filled [full]","final outcome":"final OR DELETE","first priority":"priority","first and foremost":"first","fly through the air":"fly","foreign imports":"imports","for all intents and purposes":"DELETE","for that which is":"for the","for the manner in which":"the way","for the purpose of":"to, for","foreseeable future":"[when exactly?]","free gift":"gift","frozen ice":"ice","future plans":"plans OR prospects","gain entry into":"enter","general consensus":"consensus","general public":"public","give an indication of":"indicate","give consideration to":"consider","grave crisis":"crisis","grow in size":"grow","hand in hand":"together","has the ability to":"can","a tendency to":"often OR DELETE","been found to be":"is/was/are","the ability to":"can/could","the capacity for":"can/could","the effect of":"DELETE","the opportunity to":"can/could","an effect upon":"influenced","hear the sound of":"hear","heat up":"heat","I myself":"I","clear and concise":"[concisely] concise","a situation in which":"eperienced","in a very real sense":"DELETE","in a way that is clear":"clearly OR clear way","in actuality":"DELETE","in all probability":"probably/likely","in close proximity":"near","in light of the fact that":"because","in itself":"DELETE","in nature":"DELETE","in order to":"to","in reality":"DELETE","in reference to":"about/regarding","in the event that":"if","in the neighborhood of":"about","in the vicinity of":"near","in today's society":"today","in spite of":"despite","in spite of the fact that":"although","in such a way":"in a way","in terms of":"DELETE","in the area of":"in OR around","in the course of":"during, while","in the final analysis":"finally OR DELETE","in light of":"considering OR DELETE","in a majority of instances":"usually","in the midst of":"during, amid","the nature of":"DELETE","in the near future":"soon OR DELETE","in the not too distant future":"soon OR DELETE","in their own right":"DELETE","in this day and age":"currently, now, today","in view of the fact that":"because","in which":"DELETE","inadvertent error":"error","inner feelings":"feelings","interestingly enough":"DELETE","intertwined together":"intertwined","intertwine together":"intertwine",irregardless:"DELETE","is a reflection of":"reflects","is able to":"can OR DELETE","is an important factor in":"DELETE","is aware of the fact that":"knows","is described as being":"is OR is described as","is found to be":"is","is going to":"will","is helpful in understanding":"clarifies","is in conflict with":"conflicts with/is against","is in contrast to":"contrasts with","is of significant importance":"is significant OR is important","is scared of":"fears","is seen as":"is","is something that is":"is","is well aware that":"understands","is when":"is OR DELETE","is where":"DELETE","appears as though":"appears OR DELETE","seems as though":"seems","can be seen that":"DELETE","could happen that":"could/may/might","goes to show that":"DELETE","clear that":"DELETE","evident that":"DELETE","apparent that":"DELETE","it is crucial that":"must/should OR DELETE","it is important that":"must/should OR DELETE",interesting:"BE MORE SPECIFIC","necessary that":"must/should OR DELETE","it is possible that":"DELETE","it is rarely the case that":"[X] rarely happens","should be noted that":"DELETE OR note that","should be pointed out that":"note that","would seem that":"DELETE","would appear that":"DELETE","gather together":"join/gather","join together":"gather/join","joint collaboration":"collaboration","joyous celebration":"celebration","kind of":"DELETE","kneel down":"kneel","lag behind":"lag","last but not least":"finally","last but not the least":"finally","later on":"later","lift up":"lift","local residents":"residents","longer/shorter in length":"longer/shorter","look ahead to the future":"look ahead, plan OR DELETE","made out of":"made from, made of","mainly focuses on":"focuses on","major breakthrough":"breakthrough","make a decision":"decide","make a determination":"decide","make an assumption":"assume","make an effort":"try","made an effort":"try","make contact with":"contact","with reference to":"about","manner in which":"way","many different kinds of":"many","many different ways":"many ways","meet together":"meet","mental attitude":"attitude","merge together":"merge","mix together":"mix","more or less":"be specific","more preferable":"preferable","mutual agreement":"agreement","mutual respect for":"respect","nape of the neck":"nape","native habitat":"habitat","natural instinct":"instinct","necessary prerequisite":"prerequisite","never before":"never","new invention":"invention/innovation","new innovation":"innovation/invention","new record":"record","new recruit":"recruit","none at all":"none","nostalgia for the past":"nostalgia","not the least of them being":"AVOID","of great importance":"DELETE OR is important","off of":"off OR from","old custom":"custom/adage","on a daily basis":"daily","on account of the fact that":"because","on the basis of":"because, based on","the grounds that":"because","the occasion of":"on/preparing for","the situation of":"about","the subject of":"about OR DELETE","surface level":"surface","on the whole":"DELETE","on top of this":"moreover OR DELETE","on top of that":"moreover","one of the more":"DELETE","one of the most":"DELETE","only serves to":"DELETE","open up":"open","over again":"repeatedly","over exaggerate":"exaggerate","overall goal":"goal","overall structure":"structure",overexaggerate:"exaggerate","owing to the fact that":"because","particular type of":"DELETE","past experience":"experience","past history":"history","past memories":"memories","the amount of":"DELETE","penetrate into":"penetrate","period of time":"period, time, or DELETE","personal friend":"friend","personal opinion":"opinion",personally:"DELETE","pick and choose":"choose","plan ahead":"plan","plan in advance":"plan","play an important role":"DELETE [be specific]","plays an important role":"DELETE [be specific]","polar opposites":"opposites","possible course of action":"choice","possible courses of action":"choices","previous/prior to":"before","proceed ahead":"proceed","prior to":"before","protest against":"protest","providing that":"provided","put to use":"use","puzzling in nature":"puzzling","quite clearly":"DELETE","readily apparent":"apparent","real life":"TRUE","reconsider again":"reconsider","refer back":"refer","reply back":"reply","reflect back":"reflect","regardless of the fact that":"although",respective:"DELETE",respectively:"DELETE","right up to the":"to the","rise up":"rise","in shape":"DELETE","safe haven":"haven","exactly the same thing":"repeat","scrutinize carefully":"scrutinize","prefer to have":"prefer","serious danger":"danger","serve the purpose of":"DELETE","serves to show":"shows","serve to show":"show","set a new record":"set a record","shout loudly":"shout","in size":"DELETE","some kind of":"DELETE","sort of":"DELETE","spell out in detail":"spell out OR DELETE","state of affairs":"DELETE [vague]   Their accident was a terrible state","still has yet":"has yet","study in depth":"study","subsequent to":"after","subsequent to the use of":"after using","sudden impulse":"impulse","sum total":"total OR sum","summarize briefly":"summarize","surrounded on all sides":"surrounded","sworn affidavit":"affidavit","symbolically represents":"represents OR symbolizes","take action":"act","take into account":"consider","taken the time":"DELETE","in height":"DELETE","terrible tragedy":"tragedy","this being said":"DELETE","that being said":"DELETE","that exists":"DELETE","that exists between":"between/with/among","that exists among":"between/with/among","that exists with":"between/with/among","that is":"DELETE when possible","that are":"DELETE when possible","that were":"DELETE when possible","that is to say":"DELETE","the color":"just state the name of the color","complete opposite of":"the opposite of","final result":"result","human race":"humanity OR people","the fact that":"that OR DELETE","the fact remains":"DELETE","final conclusion":"conclusion","majority of":"most/many","means by which":"how","manner by which":"how","the month of":"DELETE","overall plan":"plan","possibility exists":"may/might/could","is to illustrate":"wordy","is to show":"wordy","is to determine":"wordy","is to demonstrate":"wordy","the reason is because":"the reason/because","the reason why":"the reason, why, because","type of":"DELETE","a tendency":"DELETE OR BE SPECIFIC","there is":"DELETE","there are":"DELETE","there was":"DELETE","there were":"DELETE","total destruction":"destruction","to a certain extent":"DELETE OR BE SPECIFIC","to be in a position to":"to","to make a plan":"to plan","to make a decision":"to decide","to make an acquisition":"to acquire","to make an arrangement":"to arrange","true fact":"fact","in the afternoon":"p.m.","in the morning":"a.m.","ultimate fate":"fate","ultimate objective OR goal":"objective OR goal","unexpected emergency":"emergency","unexpected surprise":"surprise","unintentional mistake":"mistake","unique in his own way":"DELETE","united as one":"united","until such time as":"until","useless in function":"useless","utmost perfection":"perfection","vacillate back and forth":"vacillate","valuable asset":"asset","various different":"various","very unique":"unique","violent explosion":"explosion",virtually:"DELETE","visible to the eye":"visible","warn in advance":"warn","of the opinion that":"believe","as a society":"society","can see that":"AVOID","we were found to be in agreement":"we agreed","well aware of":"aware","in attendance":"attend[ed]","what is important is":"DELETE","when all is said and done":"DELETE","whether or not":"whether/if OR DELETE","which have been found to be":"are OR DELETE","which is":"DELETE when possible","which are":"DELETE when possible","which were":"DELETE when possible","will come in the future":"will come","will have an effect on":"will effect","with the possible exception of":"except for","who are":"DELETE","who was":"DELETE","who were":"DELETE","the way it does":"that way","with regard to":"about/regarding","with the exception of":"except for","witnessed first hand":"witnessed","young in age":"young","at the risk of":"risking","at / by one":"near","at / for a fraction of":"discounted","at / from the outset":"initially","at / in the end":"finally","at / on sight":"immediately","at / on the double":"quickly","at one time":"once","at a disadvantage":"disadvantaged","at a discount":"discounted","at a distance":"far","at a glance":"immediately","at a guess":"estimate","at a loss":"unable","at a moment":"instantly","at a price":"costing","at a rate of":"at","at a speed of":"travelling","at a standstill":"stopped","at all events":"regardless","at an advantage":"advantaged","at breakfast":"breakfasting/ed","at ease with":"peaceful","at fault":"responsible","at hand":"near","at home with":"accepting","at issue":"disputing","at large":"roaming","at length":"eventually","at liberty":"free","at odds with":"disputing","at once":"immediately","at peace with":"accept","at play":"playing","at present":"now","at random":"randomly","in front of":"before","at the age of":"X years old","at the beginning":"initially","at the expense of":"costing","at the foot of":"beneath","at the hands of":"subservient to","at the height of":"peaking","at the latest":"most recent","at the peak of":"cresting","at the same time":"simultaneously","at the thought of":"thinking","at the time of":"during","at the top of":"topping","at this juncture":"now","at times":"sometimes","at war with":"fighting","at work":"working","behind the scenes":"incognito","by chance":"possibly","by the name of":"named","with luck":"luckily","by accident":"accidentally","by all means":"certainly","by coincidence":"coincidentally","by courtesy of":"thanks to","by degrees":"gradually","by design":"intentional","by far":"clearly","by force":"forcefully","by hand":"manually","by heart":"memorized","by mistake":"mistakenly","by nature":"innately","by rights":"deserve(d)","by sight":"immediately","by surprise":"surprised","by the side of":"aside","by virtue of":"by","by way of":"via","for a good cause":"philathropically","for the benefit":"for","for a good reason":"justly","for certain":"certainly","for fear of":"fearing","for good":"completely","for granted":"assume(d)","for lack of":"lacking","for my part":"DELETE","for his part":"DELETE","for her part":"DELETE","for real":"truly","for the good of":"benefitting","for the sake of":"for","for want of":"lacking","in no time":"quickly","at the forefront of":"leading","in the forefront of":"leading","in demand":"demanded/wanted","on demand":"demanded/wanted","out of focus":"unclear","in focus":"clear","in one's element":"familiar","out of season":"not current","in season":"current","in stock":"available","out of touch with":"unfamiliar with","in touch with":"familiar with","out of use":"obsolete/unused/old","in use":"current/used/relevant","with difficulty":"not easily","in difficulty":"challenged","within sight of":"near","in sight of":"near","in a deep sleep":"slumbering/sleeping","in a flash":"quickly","in a heap":"heaped","in a hurry":"rushing","in a mess":"scattered/messy","in a pile":"piled","in a sense":"somewhat","in a temper":"angry","in abeyance":"receding/abeying/waning","in abundance":"frequent/abundant","in accordance with":"DELETE","in action":"active","in addition to":"and","in advance":"before/previous","in agony":"agonizing","in agreement with":"agreeing","in aid of":"helping","in all likelihood":"likely","in an instant":"instantly","in an uproar":"furious/upset/crazed","in answer to":"answering","in anticipation of":"anticipating","in arrears":"late","in awe of":"awed by","in blossom":"blooming","in brief":"briefly","in character":"DELETE","in charge of":"leading","in collaboration with":"with","in combination with":"with","in command of":"controlling/commanding","in common":"sharing","in comparison with":"and","in compensation for":"for","in conclusion":"DELETE","in confidence":"confidentially","in confinement":"confined","in confusion":"confused","in conjunction with":"with","in connection with":"with","in consequence of":"resulting in","in contact with":"known/knowing","in contrast to":"and/unlike/or","in contrast with":"and/unlike/or","in control of":"controlling/leading","in debt":"owing","in decline":"declining","in defense of":"defending","in detail":"specifically/detailed","in disgrace":"disgracefully","in disguise":"disguised","in disorder":"disordered","in dispute":"disputing","in distress":"distressed","in doubt":"doubting","in due course":"DELETE or eventually","in duplicate":"twice/repeated/doubled","in earnest":"earnestly","in effect":"DELETE","in error":"wrong","in essence":"essentially","in excess of":"exceeding","in exchange for":"for","in existence":"existing/exists","in fact":"DELETE","in fairness to":"acknowledging","in favor of":"favoring","in fear of":"fearing","in flames":"flaming/burning","in flower":"blooming","in full":"fully","in the future":"next/soon/ahead","in gear":"moving","in general":"generally","in good condition":"pristine/well-maintained","in bad condition":"wrecked/worn down","in good faith":"sincere(ly)","in hand":"holding","in harmony with":"agreeing/harmonizing with","in haste":"quickly","in hiding":"secretly/incognito","in high spirits":"upbeat","in honor of":"honoring","in horror of":"abhorring","in isolation":"isolated","in its infancy":"beginning/inception","in jeopardy":"risking","in keeping with":"maintaining","in labor":"laboring/giving birth","in league with":"allied","in length":"DELETE","in line with":"follows","in love with":"loves","in memory of":"remembering/honoring","in mid-air":"mid-air","in mind":"thinking","in moderation":"moderately","in mourning":"mourning","in name only":"artificial/sinecure","in office":"elected/representing","in operation":"using/used","in opposition to":"opposing","in origin":"originally","in other words":"basically","in pain":"hurting","in particular":"specifically","in person":"DELETE","in pieces":"broken","in place of":"replacing","in possession of":"owning/possessing","in poverty":"impoverished","in practice":"traditionally","in preference to":"preferring","in preparation for":"for/preparing for","in principle":"theoretically","in private":"privately","in progress":"progressing","in proportion to":"proportionally/proportionately","in proportion with":"proportionately/proportionally","in public":"publically","in pursuit of":"pursuing","in quantity":"amount","in question":"DELETE","in recognition of":"recognizing","in relation to":"relates/relating (to)","in reply to":"replying","in reserve":"reserved","in residence":"residing","in respect of":"respecting","in response to":"responding to","in revenge for":"to avenge","in reverse":"backwards/reverse","in ruins":"ruined","in safety":"safe","best interest":"DELETE","her opinion":"DELETE or thinks","my opinion":"DELETE or think","his opinion":"DELETE or thinks","in search of":"searching for","in secret":"secretly/incognito","in self-defense":"defensively","in settlement of":"DELETE","in silence":"silently","in store":"expecting/imminent","in succession":"succeeding","in support of":"supporting","in sympathy with":"sympathizing with","in tears":"crying","in terror":"terrified","in the absence of":"lacking/without","in the aftermath":"resulting in","in the balance":"DELETE","in the case of":"for","in the distance":"distantly","in the event of":"if","in the extreme":"extremely","in the eyes of":"according to","in the flesh":"DELETE","in the form of":"DELETE","in the habit of":"usually","in the interests of":"for","in the lead":"leading","in the long run":"eventually","in the making":"forming OR REWRITE","in the meantime":"meanwhile/simultaneously","in the mood for":"desiring/wanting","in the name of":"for","in the night":"at night","in the open":"openly","in the process of":"beginning to/starting to","in the right":"correct","in the seclusion of":"secluded by","in the shade":"shaded","in the space of":"within","in the wake of":"after","in the way of":"like","in the wrong":"wrong","in theory":"theoretically","in times of":"during","in town":"here/there","in trouble":"troubled/embattled","in tune with":"agreeing with","in turmoil":"disagreeing","in turn":"DELETE","in unison":"together","in vain":"vainly","in view of":"considering","in vogue":"hip/fashionable/chic","of the opinion":"thinks or DELETE","on duty":"working","off duty":"off","off their rocker":"crazy","on the watch for":"waiting for/expecting",behind:"late","on schedule":"punctual","off the record":"private(ly)","on the record":"public(ly)","on the road":"travelling","under oath":"sworn","under pain of":"DELETE","on the air":"playing","off the air":"discontinued","off balance":"unbalanced","on a diet":"dieting","on a large scale":"generally","on a small scale":"specifically","on a regular basis":"regularly","on account of":"due to/because of","on average":"generally","on behalf of":"for","on condition that":"assuming/if","on credit":"borrowing/lending","on display":"displayed","on edge":"worried","on end":"DELETE","on file":"recorded","on fire":"burning","on foot":"walking","on good terms":"amicable/friendly","on guard":"guarding","on hand":"DELETE","on horseback":"horseriding","on impulse":"impulsively","on leave":"absent/vacationing/travelling","on no account":"never","on occasion":"occasionally","own terms":"DELETE","on your own":"individually","on her own":"individually","on his own":"individually","on their own":"individually","on one":"individually","on paper":"recorded","on patrol":"patroling","on purpose":"intentionally","upon reflection":"DELETE","on reflection":"DELETE","on sale":"discounted","on second thought":"however","on show":"displayed","on strike":"striking","on suspicion of":"suspecting","on the agenda":"planned","on the assumption":"assuming/if","on the brink of":"nearly/almost","on the dot":"exactly","on the edge of":"nearly/almost","on the eve of":"near","on the grounds of":"because of","on the horizon":"near/soon","on the hour":"prompt","on the increase":"increasing","on the job":"working","on the move":"moving","on the off-chance":"if","on the outskirts":"nearby/near","on the part of":"for","on the phone":"talking","on the point of":"near/close to","on the run":"running","on the strength of":"based on","on the stroke of":"DELETE","on the tip of":"near to","on the top of":"leading","on the understanding that":"given/assuming","on the verge of":"almost","on the way to":"heading to/toward","on time":"prompt","on vacation":"vacationing","in fashion":"fashionable","out of fashion":"unfashionable","in print":"current","out of print":"discontinued","in step":"following","out of step":"not following","out of breath":"winded/exhausted/tired","out of control":"uncontrollable","out of curiosity":"DELETE","out of date":"outdated","out of doors":"outside","out of order":"broken","out of pity":"sympathizing/pitying","out of place":"improper","out of reach":"unreachable","out of respect for":"honoring","out of sight":"unattainable","out of spite":"spiteing","out of stock":"unavailable","out of the ordinary":"unusual","out of the question":"impossible","out of work":"unemployed","through no fault of":"innocently","on the contrary":"instead","to an extent":"DELETE","to date":"DELETE","to excess":"excessively","to one":"surprisingly","to his face":"directly","to her face":"directly","to my face":"directly","to this day":"until now","to the best of":"DELETE","to the detriment of":"harming","to the exclusion of":"excluding","to the full":"fully","under age":"a minor","under arrest":"arrested","under consideration":"X is considering","under construction":"X is constructing","under discussion":"discussing","under lock and key":"protected/safeguarded","under pressure":"pressured","under regulations":"expected","under repair":"X is repairing","under strain":"straining to","under stress":"stressed","under suspicion":"suspected of","under the command of":"commanded by","under the impression that":"thinking/believing that","under the influence":"intoxicated/high/drunk","under the misapprehension":"assuming","without success":"unsuccessfully","with success":"successfully","with a view to":"DELETE or to","with an eye to":"DELETE or to","with regret":"regretfully","with respect to":"regarding","with the aid of":"with","with the compliments of":"thanks to","with the help of":"thanks to","with the intention of":"intending to","within reason":"reasonably","within grasp":"near","within reach of":"attainable/can attain","within walking distance":"nearby/near","without a doubt":"undoubtedly","without doubt":"undoubtedly","without a break":"unceasingly","without a hitch":"easily","without delay":"directly","without exception":"universally","without fail":"dependably","without foundation":"baseless","without precedent":"unprecedented","without question":"unquestionably","without warning":"unexpected","whole different":"different","do not like":"dislike"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-wordiness"]],decls:37,vars:3,consts:[[1,"wordinessTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"h1"),a._uU(2),a.qZA(),a.TgZ(3,"div",0)(4,"table")(5,"thead")(6,"tr")(7,"td")(8,"b"),a._uU(9,"Flag"),a.qZA()(),a.TgZ(10,"td")(11,"b"),a._uU(12,"Suggestion"),a.qZA()()()(),a.TgZ(13,"td"),a.YNc(14,cz,2,1,"tr",1),a.qZA(),a.TgZ(15,"td"),a.YNc(16,uz,2,1,"tr",1),a.qZA()()(),a.TgZ(17,"div",2)(18,"div",3)(19,"h2"),a._uU(20,"Database Listings"),a.qZA(),a.TgZ(21,"p")(22,"a",4),a._uU(23,"Wordiness"),a.qZA(),a._uU(24," (987 records)"),a.qZA(),a.TgZ(25,"p")(26,"a",5),a._uU(27,"Transitions"),a.qZA(),a._uU(28," (134 records)"),a.qZA(),a.TgZ(29,"p")(30,"a",6),a._uU(31,"Grammar"),a.qZA(),a._uU(32," (1,323 records)"),a.qZA(),a.TgZ(33,"p")(34,"a",7),a._uU(35,"Eggcorns"),a.qZA(),a._uU(36," (100 records)"),a.qZA()()()()),2&t&&(a.xp6(2),a.Oqu(r.title),a.xp6(12),a.Q6J("ngForOf",r.table.find),a.xp6(2),a.Q6J("ngForOf",r.table.suggestion))},dependencies:[Bn,sr],styles:[".wordinessTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function hz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function fz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let pz=(()=>{class n{constructor(){this.title="Transitions",this.values={"above all":"",accordingly:"",additionally:"","after all":"",afterward:"",albeit:"","all in all":"","all of a sudden":"","all things considered":"",also:"",although:"",altogether:"","another key point":"","as a matter of fact":"","as a result":"","as an illustration":"","as can be seen":"","as has been noted":"","as shown above":"","as soon as":"","as well as":"","at the present time":"","at the same time":"","at this instant":"",basically:"","be that as it may":"","because of":"",besides:"","by all means":"","by and large":"","by the same token":"",certainly:"",chiefly:"",comparatively:"",consequently:"",conversely:"",correspondingly:"",despite:"","different from":"","due to":"",equally:"","equally important":"",especially:"","even so":"",eventually:"",expressively:"",finally:"",firstly:"","first thing to remember":"",following:"","for example":"","for fear that":"","for instance":"","for one thing":"","for the most part":"","for the purpose of":"","for this reason":"",formerly:"",forthwith:"",frequently:"","from time to time":"",further:"",furthermore:"","generally speaking":"","given that":"","given these points":"",hence:"",henceforth:"",however:"",identically:"",immediately:"","important to realize":"","in a moment":"","in a word":"","in addition":"","in any event":"","in brief":"","in case":"","in conclusion":"","in contrast":"","in detail":"","in due time":"","in either case":"","in essence":"","in fact":"","in general":"","in light of":"","in like manner":"","in order to":"","in other words":"","in particular":"","in reality":"","in short":"","in spite of":"","in summary":"","in that case":"","in the event that":"","in the final analysis":"","in the first place":"","in the hope that":"","in the long run":"","in the meantime":"","in the same way":"","in this case":"","in time":"","in view of":"","inasmuch as":"",indeed:""," lest ":"",likewise:"",markedly:"",meanwhile:"",moreover:"","most compelling evidence":"","must be remembered":"",namely:"",nevertheless:"",next:"","not only":"","not to mention":"",notably:"",notwithstanding:"","of course":"","on balance":"","on the condition that":"","on the contrary":"","on the other hand":"","on the positive / negative side":"","on the whole":"",ordinarily:"",otherwise:"",overall:"","owing to":"","point often overlooked":"","prior to":"","provided that":"",quickly:"",rather:"",regardless:"",secondly:"",significantly:"",similarly:"",since:"","so as to":"","so long as":"","so that":"","sooner or later":"",specifically:"",straightaway:"",subsequently:"","such as":"",surely:"",surprisingly:"","that is to say":"","then again":"",therefore:"",thereupon:"",thirdly:"",thus:"","to be sure":"","to begin with":"","to clarify":"","to demonstrate":"","to emphasize":"","to enumerate":"","to explain":"","to point out":"","to put it another way":"","to put it differently":"","to repeat":"","to say nothing of":"","to sum up":"","to summarize":"","to the end that":"","together with":"",truly:"","under those circumstances":"",uniquely:"",unless:"","until now":"","up to the present time":"",usually:"",whenever:"",whereas:"","with attention to":"","with this in mind":"","with this intention":"","without delay":""},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-transitions"]],decls:37,vars:3,consts:[[1,"transitionsTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"h1"),a._uU(2),a.qZA(),a.TgZ(3,"div",0)(4,"table")(5,"thead")(6,"tr")(7,"td")(8,"b"),a._uU(9,"Flag"),a.qZA()(),a.TgZ(10,"td")(11,"b"),a._uU(12,"Suggestion"),a.qZA()()()(),a.TgZ(13,"td"),a.YNc(14,hz,2,1,"tr",1),a.qZA(),a.TgZ(15,"td"),a.YNc(16,fz,2,1,"tr",1),a.qZA()()(),a.TgZ(17,"div",2)(18,"div",3)(19,"h2"),a._uU(20,"Database Listings"),a.qZA(),a.TgZ(21,"p")(22,"a",4),a._uU(23,"Wordiness"),a.qZA(),a._uU(24," (987 records)"),a.qZA(),a.TgZ(25,"p")(26,"a",5),a._uU(27,"Transitions"),a.qZA(),a._uU(28," (134 records)"),a.qZA(),a.TgZ(29,"p")(30,"a",6),a._uU(31,"Grammar"),a.qZA(),a._uU(32," (1,323 records)"),a.qZA(),a.TgZ(33,"p")(34,"a",7),a._uU(35,"Eggcorns"),a.qZA(),a._uU(36," (100 records)"),a.qZA()()()()),2&t&&(a.xp6(2),a.Oqu(r.title),a.xp6(12),a.Q6J("ngForOf",r.table.find),a.xp6(2),a.Q6J("ngForOf",r.table.suggestion))},dependencies:[Bn,sr],styles:[".transitionsTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function gz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function mz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let yz=(()=>{class n{constructor(){this.title="Grammar",this.values={"a 100":"100, a hundred, one hundred","a 1000":"1000, a thousand, one thousand","a 11":"an 11","a 11th":"an 11th","a 18":"an 18","a 18th":"an 18th","a 8":"an 8","a 80":"an 80","a 8th":"an 8th","a absolute":"an absolute","a accident":"an accident","a acoustic":"an acoustic","a acronym":"an acronym","a action":"an action","a actual":"an actual","a additional":"an additional","a affair":"an affair","a African":"an African","a album":"an album","a Algerian":"an Algerian","a alien":"an alien","a alternative":"an alternative","a AM":"an AM","a amateur":"an amateur","a American":"an American","a amount":"an amount","Although,":"However,","a analog":"an analog","a analogue":"an analogue","a angle":"an angle","a Angolan":"an Angolan","a annual":"an annual","a another":"another","a antenna":"an antenna","a anti":"an anti","a Arabian":"an Arabian","a Arabic":"an Arabic","a Argentine":"an Argentine","a Armenian":"an Armenian","a Asian":"an Asian","a assistant":"an assistant","a associate":"an associate","a Australian":"an Australian","a Austrian":"an Austrian","a average":"an average","a back up":"a back-up, a backup","a bacteria":"a bacterium [singular], bacteria [plural]","a batsmen":"a batsman [singular]","a businessmen":"a businessman [singular]","a businesswomen":"a businesswoman","a consortia":"a consortium [singular]","a criteria":"a criterion [singular]","a dominate":"a dominant","a early":"an early","a effective":"an effective","a Egyptian":"an Egyptian","a eight":"an eight","a eighth":"an eighth","a eighteen":"an eighteen","a eighteenth":"an eighteenth","a eighty":"an eighty","a electric":"an electric","a electronic":"an electronic","a eleven":"an eleven","a eleventh":"an eleventh","a elite":"an elite","a embedded":"an embedded","a English":"an English","a entire":"an entire","a EP":"an EP","a epic":"an epic","a episode":"an episode","a equal":"an equal","a estimate":"an estimate","a Ethiopian":"an Ethiopian","a ethnic":"an ethnic","a example":"an example","a extra":"an extra","a falling out":"a falling-out [though Wiktionary has both]","a firemen":"a fireman [singular]","a flagella":"a flagellum [singular]","a FM":"an FM","a freshmen":"a freshman [singular]","a fungi":"a fungus [singular]","a gunmen":"a gunman [singular]","a impact":"an impact","a independent":"an independent","a Indian":"an Indian","a individual":"an individual","a Indonesian":"an Indonesian","a indoor":"an indoor","a information":"an information","a initiative":"an initiative","a intelligent":"an intelligent","a interesting":"an interesting","a interim":"an interim","a interior":"an interior","a intermediate":"an intermediate","a international":"an international","a Internet":"an Internet","a intersection":"an intersection","a interview":"an interview","a introduction":"an introduction","a Iranian":"an Iranian","a Iraqi":"an Iraqi","a Irish":"an Irish","a iron":"an iron","a island":"an island","a Israeli":"an Israeli","a issue":"an issue","a Italian":"an Italian","a larvae":"a larva [singular]","a line up":"a line-up, a lineup","a lock out":"a lockout","a lose":"a loss","a match up":"a match-up, a matchup","a media for":"a medium for","a nuclei":"a nucleus [singular]","a ocean":"an ocean","a official":"an official","a Ohio":"an Ohio","a oil":"an oil","a old":"an old","a one of the":"one of the","a online":"an online","a only":"an only, only a","a only a":"only a","a opinion":"an opinion","a organization":"an organization","a original":"an original","a other":"an other","a outbreak":"an outbreak","a outdoor":"an outdoor","a outside":"an outside","a overtime":"an overtime","a owner":"an owner","a paparazzi":"a paparazzo [singular], paparazzi [plural]","a parentheses":"a parenthesis [singular]","a phenomena":"a phenomenon [singular], phenomena [plural]","a protozoa":"a protozoon [singular], protozoa [plural]","a pupae":"a pupa [singular]","a radii":"a radius [singular]","a run in":"a run-in","a set back":"a set-back, a setback","a set up":"a setup","a simple as":"as simple as","a spermatozoa":"a spermatozoon [singular]","a statesmen":"a statesman [singular]","a taxa":"a taxon [singular]","a toss up":"a toss-up, a tossup","a two months":"a two-month","a ultimate":"an ultimate","a undercover":"an undercover","a underground":"an underground","a unfortunate":"an unfortunate","a unusual":"an unusual","a upper":"an upper","a urban":"an urban","a vertebrae":"a vertebra [singular]","a women":"a woman [singular]","a work out":"a workout","Aboriginal decent":"Aboriginal descent","about it's":" about its [possessive]","about they're":" about their [possessive]","about who to":"about whom to","about who's":" about whose [possessive]","above it's":" above its [possessive]","AC current":"AC, alternating current","ACL ligament":"ACL, anterior cruciate ligament","across it's":" across its [possessive]","affect on":"effect on","affect upon":"effect upon","affects of":"effects of","African decent":"African descent","after along time":"after a long time","after awhile":"after a while [noun]","after been":"after being","after it's":" after its [possessive]","after quite awhile":"after quite a while","against it's":" against its [possessive]","against who":"against whom","ago since":"since","agree in principal":"agree in principle","agreement in principal":"agreement in principle","Air Canada Center":"Air Canada Centre","airplane hanger":"airplane hangar","Albanian decent":"Albanian descent","all for not":"all for naught","all it's":" all its","all though":"although","all tolled":"all told","allot of":"a lot of","alma matter":"alma mater","along it's":" along its [possessive]","along side":"alongside","along time":"a long time","alongside it's":" alongside its [possessive]","alongside with":"along with, alongside","also know as":"also known as","also know by":"also known by","also know for":"also known for","alter boy":"altar boy","alter server":"altar server","AM in the morning":"AM, in the morning","am loathe to":"am loath to [adjective]","American decent":"American descent","amid it's":" amid its [possessive]","amidst it's":" amidst its [possessive]","among it's":" among its [possessive]","among others things":"among other things","amongst it's":" amongst its [possessive]","an affect":"an effect","an alumnae of":"an alumna of [singular]","an alumni of":"an alumnus of [singular]","an another":"another","an antennae":"an antenna [singular]","an British":"a British","an Canadian":"a Canadian","an European":"a European","an head":"a head","an hero":"a hero","an new":"a new","an nine":"a nine","an number":"a number","an other":"another","an Scottish":"a Scottish","an seven":"a seven","an six":"a six","an ten":"a ten","an unit":"a unit","an Unix":"a Unix","an USB":"a USB","and etc":"etc","and so fourth":"and so forth","another criteria":"another criterion [singular]","another wise":"an otherwise","another words":"in other words, other words","any where":"anywhere",anyways:"anyway","apart form":"apart from","apart of":"a part of, apart from","are aloud to":"are allowed to","are been":"are being, have been","are build":"are built","are can":"can","are have":"have","are it's":" are its [possessive]","are know as":"are known as","are know by":"are known by","are know for":"are known for","are know to":"are known to","are lain":"are laid","are lead by":"are led by","are loathe to":"are loath to [adjective]","are ran by":"are run by","are renown":"are renowned","are set-up":"are set up","are setup":"are set up","are shutdown":"are shut down","are shutout":"are shut out","are suppose to":"are supposed to","are the dominate":"are the dominant","are use to":"are used to","are were":"are, are where, were","Armenian decent":"Armenian descent","around it's":" around its [possessive]","as a resulted":"as a result","as apposed to":"as opposed to","as back up":"as backup","as been":"as being, has been","as followed":"as follows","as it's":" as its [possessive]","as oppose to":"as opposed to","Asian decent":"Asian descent","aside it's":" aside its [possessive]","assume the reigns":"assume the reins","assume the roll":"assume the role","at it's":" at its [possessive]","at the alter":"at the altar","at the reigns":"at the reins","ATM machine":"ATM, automated teller machine","away form":"away from","back and fourth":"back and forth","back drop":"backdrop","back fire":"backfire [verb]","back in forth":"back and forth","back peddle":"backpedal","back round":"background","badly effected":"badly affected","baited breath":"bated breath","baled out":"bailed out [though Wiktionary and the COD allow both spellings]","baling out":"bailing out [ditto]","barb wire":"barbed wire","bare in mind":"bear in mind","based off":"based on","based out of":"based in","basic principal":"basic principle","be build":"be built","be cause":"because","be drew":"be drawn","be it's":" be its","be know as":"be known as","be lain":"be laid","be lead by":"be led by","be loathe to":"be loath to","be ran":"be run","be rode":"be ridden","be set-up":"be set up","be setup":"be set up","be use to":"be used to","be ware":"beware","became know":"became known","became to be":"became, came to be","because of it's":" because of its","because of the fact that":"because","been a while":"been awhile","been build":"been built","been it's":" been its","been know":"been known","been lain":"been laid","been lead by":"been led by","been loathe to":"been loath to","been ran":"been run","been rode":"been ridden","been set-up":"been set up [verb]","been setup":"been set up","been show on":"been shown on","been use to":"been used to","before hand":"beforehand","before it's":" before its","behind it's":" behind its","being build":"being built","being giving":"been giving, being given","being it's":" being its","being lain":"being laid","being lead by":"being led by","being loathe to":"being loath to","being ran":"being run","being rode":"being ridden","being set-up":"being set up","being setup":"being set up","being show on":"being shown on","being taking":"been taking, being taken","below it's":" below its","beneath it's":" beneath its","beside it's":" beside its","besides it's":" besides its","better know as":"better known as","better know for":"better known for","better that":"better than","better then":"better than","between he and":"between him and","between I and":"between me and","between it's":" between its","between she and":"between her and","between they and":"between them and","beyond it's":" beyond its","Bogota, Columbia ":"Bogot","both it's":" both its","both of it's":" both of its","both of them is":"both of them are","brake away":"break away","breath fire":"breathe fire","breathe a sign of relief":"breathe a sigh of relief","brew haha":"brouhaha","Brinsley Schwartz":"Brinsley Schwarz","by fisherman":"by fishermen","by it's":" by its","by who's":" by whose","can backup":"can back up","can been":"can be","can blackout":"can black out","can breath":"can breathe","can checkout":"can check out","can playback":"can play back","can setup":"can set up","can tryout":"can try out","can workout":"can work out","can't breath":" can't breathe","card shark":"card sharp","chalk full":"chock-full","chocked full":"chock-full","chomping at the bit":"champing at the bit","close proximity":"closeness, proximity","commonly know as":"commonly known as","commonly know for":"commonly known for","comprise of":"comprise, consist of","comprised almost entirely of":"composed almost entirely of, consisting almost entirely of","comprised chiefly of":"composed chiefly of, comprised chiefly, consisting chiefly of","comprised entirely of":"composed entirely of, consisting entirely of","comprised exclusively of":"composed exclusively of, consisting exclusively of","comprised generally of":"composed generally of, comprised generally, consisting generally of","comprised largely of":"composed largely of, consisting largely of","comprised mainly of":"composed mainly of, comprised mainly, consisting mainly of","comprised mostly of":"composed mostly of, consisting mostly of","comprised of":"composed of, comprised, consisting of","comprised only of":"composed only of, comprised only, consisting only of","comprised primarily of":"composed primarily of","comprised principally of":"composed principally of","comprised totally of":"composed totally of, comprised totally, consisting totally of","comprised wholly of":"composed wholly of, consisting wholly of","comprises entirely of":"comprises entirely, consists entirely of","comprises exclusively of":"comprises exclusively, composed exclusively of","comprises mainly of":"comprises mainly, consists mainly of","comprises mostly of":"comprises mostly, consists mostly of","comprises of":"comprises, consists of","comprises only of":"comprises only, composed only of, consists only of","comprising chiefly of":"comprising chiefly, consisting chiefly of","comprising entirely of":"comprising entirely, consisting entirely of","comprising exclusively of":"comprising exclusively, consisting exclusively of","comprising generally of":"comprising generally, consisting generally of","comprising largely of":"comprising largely, consisting largely of","comprising mainly of":"comprising mainly, consisting mainly of","comprising mostly of":"comprising mostly, consisting mostly of","comprising of":"comprising, consisting of","comprising only of":"comprising only, consisting only of","comprising primarily of":"comprising primarily, consisting primarily of","comprising principally of":"comprising principally, consisting principally of","comprising totally of":"comprising totally, consisting totally of","comprising wholly of":"comprising wholly, consisting wholly of","constellation prize":"consolation prize","constitutes of":"consists of, constitutes","construction sight":"construction site","contains of":"consists of, contains","could backup":"could back up","could breath":"could breathe","could care less":" couldn't care less","could of":"could have","couldn't breath":" couldn't breathe","daily regiment":"daily regimen","DC current":"DC, direct current","de factor":"de facto","different tact":"different tack","diffuse the situation":"defuse the situation","diffuse the tension":"defuse the tension","disc break":"disc brake","dominate player":"dominant player","dominate role":"dominant role}","door jam":"door jamb","down side":"downside","drum breaks":"drum brakes","due to the fact":"because","during in":"during","during it's":" during its","during they're":" during their","each alumni":"each alumnus [singular]","each are":"each is","each criteria":"each criterion [singular]","each has their":"each has its","each phenomena":"each phenomenon [singular]","each vertebrae":"each vertebra [singular]","easier then":"easier than","egg yoke":"egg yolk","either criteria":"either criterion","either phenomena":"either phenomenon","electrical current":"electric current","eluded to":"alluded to","en mass":"en masse","even thought":"even though","even tough":"even though","eye brow":"eyebrow","eye lash":"eyelash","eye lid":"eyelid","eye sight":"eyesight","eye sore":"eyesore","faired as well":"fared as well","faired badly":"fared badly","faired better":"fared better","faired far":"fared far","faired less":"fared less","faired little":"fared little","faired much":"fared much","faired no better":"fared no better","faired poorly":"fared poorly","faired quite":"fared quite","faired rather":"fared rather","faired slightly":"fared slightly","faired somewhat":"fared somewhat","faired well":"fared well","faired worse":"fared worse","farther then":"farther than","faster then":"faster than","figure head":"figurehead","first and foremost":"first, foremost","First Word War":"First World War","flag ship":"flagship","flow of current":"current, flow of charge","flow of electric current":"electric current, flow of electric charge","follow suite":"follow suit","for all intensive purposes":"for all intents and purposes","for along time":"for a long time","for awhile":"for a while","for it's":" for its","for quite awhile":"for quite a while","forgone conclusion":"foregone conclusion","formally know as":"formerly known as - but only if the change can be verified","formerly know as":"formerly known as","forth place":"fourth place","free reign":"free rein","freshman are":"freshman is, freshmen are","full compliment of":"full complement of","get pass":"get past","get setup":"get set up","get use to":"get used to","getting use to":"getting used to","going threw":"going through","got ran":"got run","got setup":"got set up","got shutdown":"got shut down","got shutout":"got shut out","ground work":"groundwork","guest stared":"guest-starred","had arose":"had arisen","had aroke":"had awoken","had became":"had become","had began":"had begun","had being":"had been","had bore":"had borne","had broke":"had broken","had brung":"had brought","had came":"had come","had chose":"had chosen","had comeback":"had come back","had did":"had done","had drank":"had drunk","had drew":"had drawn","had drove":"had driven","had fell":"had fallen","had flew":"had flown","had forbad":"had forbidden","had forbade":"had forbidden","had gave":"had given","had grew":"had grown","had it's":" had its","had lead to":"had led to","had overtook":"had overtaken","had plead":"had pleaded, had pled","had ran":"had run","had rang":"had rung","had rode":"had ridden","had rose":"had risen","had sang":"had sung","had saw":"had seen","had set-up":"had set up","had setup":"had set up","had shook":"had shaken","had sowed":"had sown","had spoke":"had spoken","had sprang":"had sprung","had swam":"had swum","had threw":"had thrown","had throve":"had thriven, had thrived","had thunk":"had thought","had took":"had taken","had trod":"had trodden","had undertook":"had undertaken","had underwent":"had undergone","had went":"had gone","had woke":"had woken","had wrote":"had written","hand the reigns":"hand the reins","has arose":"has arisen","has became":"has become","has began":"began, has begun","has build":"has built","has drank":"has drunk","has it's":" has its","has lead to":"has led to","has ran":"has run","has sang":"has sung","has setup":"has set up","has shook":"has shaken","has spoke":"has spoken","has sprang":"has sprung","has swam":"has swum","has threw":"has thrown","has throve":"has thriven, has thrived","has thunk":"has thought","has took":"has taken","has trod":"has trodden","has undertook":"has undertaken","has underwent":"has undergone","has was":"he was, was","has went":"has gone","has woke":"has woken","has wrote":"has written","have drank":"have drunken","have it's":" have its","have lead to":"have led to","have ran":"have run","have sang":"have sung","have setup":"have set up","have sprang":"have sprung","have swam":"have swum","have took":"have taken","have underwent":"have undergone","have went":"have gone","having being":"having been","having ran":"having run","having sang":"having sung","having setup":"having set up","having swam":"having swum","having took":"having taken","having went":"having gone","hay day":"heyday","he begun":"he began","he garnished":"he garnered","he let's":" he lets","he plead":"he pleaded, he pled","he seen":"he saw","he use to":"he used to","he's drank":" he's drunk","head gear":"headgear","head quarters":"headquarters","head stone":"headstone","head wear":"headwear","held the reigns":"held the reins","help and make":"help to make","higher then":"higher than","hit the breaks":"hit the brakes","hold onto":"hold on to","hold the reigns":"hold the reins","holding the reigns":"holding the reins","holds the reigns":"holds the reins","hone in on":"home in on","how ever":"however","imminent domain":"eminent domain","in affect":"in effect","in along time":"in a long time","in anyway":"in any way","in awhile":"in a while","in close proximity to":"close to, in proximity to","in edition to":"in addition to","in it's":" in its","in January 1":"on January 1, etc.","in masse":"en masse, in massam","in parenthesis":"in parentheses","in placed":"in place","in principal":"in principle","in quite awhile":"in quite a while","in stead of":"instead of","in tact":"intact","in the long-term":"in the long term","in the short-term":"in the short term","in titled":"entitled","in vein":"in vain","incase of":"in case of","inorder to":"in order to","into affect":"into effect","is also know":"is also known","is be ":"is, is to be","is been":"has been, is being","is comprised from":"comprises","is comprised with":"comprises","is contained of":"contains","is front of":"in front of, is in front of","is has":"has, it has","is know to be":"is known to be","is lead by":"is led by","is loathe to":"is loath to","is ran by":"is run by","is renown for":"is renowned for","is setup":"is set up","is use to":"is used to","it begun":"it began","it comprises of":"it comprises","it lead to":"it led to","it lied":"it lay","it self":"itself","it setup":"it set up","it use to":"it used to","it's 10th":" its 10th","it's 4th":" its 4th","it's 5th":" its 5th","it's advantage":" its advantage","it's aim":" its aim","it's annual":" its annual","it's best":" its best","it's class":" its class","it's color":" its color [Amer]","it's colour":" its colour [Brit]","it's contents":" its contents","it's course":" its course","it's current":" its current","it's debut":" its debut","it's doors":" its doors","it's eastern":" its eastern","it's end":" its end","it's entire":" its entire","it's final":" its final","it's first":" its first","it's former":" its former","it's fourth":" its fourth","it's goal":" its goal","it's highest":" its highest","it's history":" its history","it's home":" its home","it's inception":" its inception","it's initial":" its initial","it's junction":" its junction","it's kind":" its kind","it's lack":" its lack","it's last":" its last","it's latest":" its latest","it's lead":" its lead","it's leader":" its leader","it's length":" its length","it's lowest":" its lowest","it's maximum":" its maximum","it's minimum":" its minimum","it's money":" its money","it's name":" its name","it's north":" its north","it's northern":" its northern","it's original":" its original","it's own":" its own","it's peak":" its peak","it's period":" its period","it's previous":" its previous","it's price":" its price","it's primary":" its primary","it's prime":" its prime","it's purpose":" its purpose","it's release":" its release","it's rival":" its rival","it's second":" its second","it's south":" its south","it's southern":" its southern","it's successor":" its successor","it's tail":" its tail","it's target":" its target","it's tenth":" its tenth","it's theme":" its theme","it's third":" its third","it's timeslot":" its timeslot","it's toll":" its toll","it's total":" its total","it's type":" its type","it's way":" its way","it's western":" its western","it's worst":" its worst","its is":"it is","Jimmy Buffet":"Jimmy Buffett","Jimmy Hendrix":"Jimi Hendrix","jive with":"jibe with","key note":"keynote","lack there of":"lack thereof","laid ahead":"lay ahead","laid dormant":"lay dormant","laid empty":"lay empty","laid fallow":"lay fallow","laid in state":"lay in state","larger that":"larger than","larger then":"larger than","laughing stock":"laughingstock","law suite":"lawsuit","lay around":"lie around","lay low":"lie low","laying around":"lying around","laying awake":"lying awake","laying low":"lying low","lays atop":"lies atop","lays beside":"lies beside","lays in":"lies in","lays low":"lies low","lays near":"lies near","lays on":"lies on","lead by":"led by","lead roll":"lead role","leading roll":"leading role","less dominate":"less dominant","less that":"less than","less then":"less than","lesser then":"less than","life time":"lifetime","lighter then":"lighter than","lions share":" lion's share","loose to":"lose to","loosing effort":"losing effort","loosing record":"losing record","loosing season":"losing season","loosing streak":"losing streak","loosing team":"losing team","loosing the":"losing the","loosing to":"losing to","lot's of":"lots of, many, much","lower that":"lower than","lower then":"lower than","made it's":" made its","mainly know as":"mainly known as","mainly know for":"mainly known for","major roll":"major role","make it's":" make its","managerial reigns":"managerial reins","mash potatoes":"mashed potatoes","may been":"may be, may have been","maybe be":"may be","MCL ligament":"MCL, medial collateral ligament","mean while":"meanwhile","might of":"might have","Milwaukee, Oregon ":"Milwaukie, Oregon","minor roll":"minor role","more dominate":"more dominant","more often then":"more often than [comparative]","more optimal":"better","more that":"more than","more then":"more than [comparative]","most dominate":"most dominant","most optimal":"best, optimal","most populace":"most populous","most well-known":"best-known","mostly know as":"mostly known as","mostly know for":"mostly known for","must of":"must have","mute point":"moot point","nation wide":"nationwide","near by":"nearby","neither criteria":"neither criterion","neither phenomena":"neither phenomenon","Netherland Antilles":"Netherlands Antilles","new comer":"newcomer","next store":"next-door","no where to":"nowhere to","note worthy":"noteworthy","now a days":"nowadays","of been":"have been, of being","of it's own":" of its own","of who to":"of whom to","oil barron":"oil baron","on going":"ongoing","on it's own":" on its own","on-going":"ongoing","one in the same":"one and the same","one criteria":"one criterion","one phenomena":"one phenomenon","originally born in":"born in","originally know as":"originally known as","other then":"other than","out grow":"outgrow","out of sink":"out of sync","out side":"outside","over a 100":"over 100, over a hundred, over one hundred","over a 1000":"over 1000, over a thousand, over one thousand","over hear":"overhear","over heard":"overheard","over look":"overlook","over looked":"overlooked","over looking":"overlooking","over rated":"overrated","over seas":"overseas","over see":"oversee","over who to":"over whom to","parent's house":" parents' house","past away":"passed away, died","past down":"passed down","peak his interest":"pique his interest","per say":"per se","Phillips Arena":"Philips Arena","player's union":" players' union","playoff birth":"playoff berth","Portland Trailblazers":"Portland Trail Blazers","premier episode":"premiere episode","principle action":"principal action","principle activity":"principal activity","principle actor":"principal actor","principle advantage":"principal advantage","principle advocate":"principal advocate","principle agent":"principal agent","principle aim":"principal aim","principle area":"principal area","principle artist":"principal artist","principle assistant":"principal assistant","principle attraction":"principal attraction","principle author":"principal author","principle branch":"principal branch","principle cast":"principal cast","principle caste":"principal caste","principle cause":"principal cause","principle character":"principal character","principle church":"principal church","principle city":"principal city","principle component":"principal component","principle composer":"principal composer","principle goal":"principal goal","principle group":"principal group","principle method":"principal method","principle office":"principal office","principle officer":"principal officer","principle owner":"principal owner","principle photography":"principal photography","principle source":"principal source","principle student":"principal student","principle town":"principal town","put fourth":"put forth","rather then":"rather than","reek havoc":"wreak havoc","reign in":"rein in","reigned in":"reined in","reigns of power":"reins of power","reticence to":"reluctance to","reticent to":"reluctant to","role call":"roll call","roll player":"role player","runner up":"runner-up","saddle up to":"sidle up to","Second Word War":"Second World War","set backs":"setbacks","she begun":"she began","she let's":" she lets","she seen":"she saw","she weighted":"she waited, she weighed","short coming":"shortcoming","shorter then":"shorter than","shortly there after":"shortly thereafter","should backup":"should back up","should been":"should be, should have been","should not of":"should not have","should of":"should have","should've went":" should have gone","side affect":"side effect","side kick":"sidekick [person]","simply know as":"simply known as","since it's":" since its","since many years":"for many years","since years":"for years","single handily":"single-handedly","site lines":"sight lines","slight of hand":"sleight of hand","slue of":"slew of","smaller then":"smaller than","smarter then":"smarter than","sneak peak":"sneak peek","some how":"somehow","some one":"someone","some what":"somewhat","some where":"somewhere","sometimes know as":"sometimes known as","soon there after":"soon thereafter","sooner then":"sooner than","sophomore album":"second album","sophomore single":"second single","spilt among":"split among","spilt between":"split between","spilt into":"split into","spilt up":"split up","spinal chord":"spinal cord","spitting image":"spit and image","split in to":"split into","sq ft":"ft","sq in":"in","sq km":"km","sq mi":"mi","squared feet":"square feet","squared inches":"square inches","squared kilometers":"square kilometers","squared meters":"square meters","squared miles":"square miles","stale mate":"stalemate","staring role":"starring role","starring roll":"starring role","stay a while":"stay awhile","Stevie Ray Vaughn":"Stevie Ray Vaughan","Straight of":"Strait of [geography]","strike outs":"strikeouts","stronger then":"stronger than","suppose to":"supposed to","take affect":"take effect","take over the reigns":"take over the reins","take the reigns":"take the reins","taken the reigns":"taken the reins","taking the reigns":"taking the reins","teacher's union":" teachers' union","ten times less than":"one tenth as much as","than it's":" than its","that maybe":"that may be","the 1st of January":"1 January etc","the are":"they are","the break down":"the breakdown","the break up":"the breakup","the clamp down":"the clampdown","the follow up":"they follow-up","the had":"they had","the much of the":"much of the","the one of the":"one of the","the were":"they were","their are":"there are","their had":"there had","their has":"there has","their have":"there have","their is":"there is","their was":"there was","their were":"there were","their would":"there would","them selves":"themselves","there after":"thereafter","there by":"thereby","there maybe":"there may be","there of":"thereof","there own":"their own","there where":"there were","these maybe":"these may be","these where":"these were","they garnished":"they garnered","they maybe":"they may be","they way":"the way","they where":"they were","this criteria":"these criteria [plural], this criterion [singular]","this lead to":"this led to","this maybe":"this may be","this phenomena":"this phenomenon [singular]","those maybe":"those may be","through it's":" through its","through out":"threw out, throughout","through the ringer":"through the wringer","throughout it's":" throughout its","time outs":"timeouts","to back fire":"to backfire","to back-off":"to back off","to back-up":"to back up [verb]","to backoff":"to back off","to backout":"to back out","to backup":"to back up [verb]","to bailout":"to bail out","to bath":"to bathe","to be build":"to be built","to be setup":"to be set up","to blackout":"to black out","to blastoff":"to blast off [verb]","to blowout":"to blow out [verb]","to blowup":"to blow up [verb]","to breakdown":"to break down [verb]","to breath":"to breathe","to buildup":"to build up","to built":"to build","to buyout":"to buy out [verb]","to chose":"to choose","to comeback":"to come back [verb]","to crackdown":"to crack down [verb]","to cutback":"to cut back [verb]","to dropout":"to drop out [verb]","to forego":"to forgo","to grown":"to grow","to have lead to":"to have led to","to holdout":"to hold out [verb]","to kickoff":"to kick off [verb]","to lit":"to light","to loath":"to loathe [verb]","to lockout":"to lock out [verb]","to markup":"to mark up [verb]","to pickup":"to pick up [verb]","to playback":"to play back [verb]","to rollback":"to roll back [verb]","to runaway":"to run away [verb]","to setup":"to set up [verb]","to shut-down":"to shut down","to shutdown":"to shut down","to spin-off":"to spin off","to spinoff":"to spin off","to takeover":"to take over [verb]","to that affect":"to that effect","to they're":" to their","to together":"together","to try and":"to try to","to tryout":"to try out [verb]","to turnaround":"to turn around","to turnoff":"to turn off","to turnout":"to turn out","to turnover":"to turn over","to wakeup":"to wake up","to walkout":"to walk out","to workaround":"to work around","to workout":"to work out","too also":"also, to also, too","too be":"to be","took affect":"took effect","took and interest":"took an interest","took over the reigns":"took over the reins","took the reigns":"took the reins","tot he":"to the","tried to used":"tried to use","try and achieve":"try to achieve","try and add":"try to add","try and answer":"try to answer","try and attract":"try to attract","try and avoid":"try to avoid","try and be":"try to be","try and beat":"try to beat","try and become":"try to become","try and bring":"try to bring","try and build":"try to build","try and catch":"try to catch","try and change":"try to change","try and come":"try to come","try and decide":"try to decide","try and do":"try to do","try and eat":"try to eat","try and escape":"try to escape","try and figure":"try to figure","try and find":"try to find","try and fix":"try to fix","try and gain":"try to gain","try and get":"try to get","try and give":"try to give","try and go":"try to go","try and help":"try to help","try and hide":"try to hide","try and hit":"try to hit","try and hold":"try to hold","try and keep":"try to keep","try and locate":"try to locate","try and make":"try to make","try and move":"try to move","try and obtain":"try to obtain","try and play":"try to play","try and prevent":"try to prevent","try and protect":"try to prove","try and prove":"try to prove","try and see":"try to see","try and show":"try to show","try and slow":"try to slow","try and solve":"try to solve","try and spare":"try to spare","try and start":"try to start","try and stay":"try to stay","try and stop":"try to stop","try and support":"try to support","try and take":"try to take","try and talk":"try to talk","try and tell":"try to tell","try and understand":"try to understand","try and use":"try to use","try and win":"try to win","turn for the worst":"turn for the worse","twice as much than":"twice as much as","two in a half":"two and a half","two times less than":"half as much as","under go":"undergo","under going":"undergoing","under gone":"undergone","under it's":" under its","under rated":"underrated","under take":"undertake","under wear":"underwear","under went":"underwent","underneath it's":" underneath its","United State's":" United States'","United Stats":"United States","Unites States":"United States","unlike it's":" unlike its","until it's":" until its","up field":"upfield","up it's":" up its","up side":"upside","up until":"until","upon it's":" upon its","USD dollars":"US dollars, USD",USD$:"US dollars, US$","use to":"used to, commonly","use to be":"used to be","use to have":"used to have","usually know as":"usually known as","usually know by":"usually known by","usually know for":"usually known for","very minimal":"minimal, very little, very small","very optimal":"optimal, very good","very unique":"unique, very unusual","via it's":" via its","VIN number":"vehicle identification number, VIN","vise versa":"vice versa","vocal chords":"vocal cords, vocal folds","waived off":"waved off","warn out":"worn out","was aloud":"was allowed","was be ":"was, was being, was to be","was been":"has been, was being","was began":"was begun","was build":"was built","was comprised from":"comprised, was composed from","was comprised with":"comprised","was do to":"was due to","was drew":"was drawn","was knew":"was known","was lain":"was laid","was laying on":"was lying on","was lead by":"was led by","was loathe to":"was loath to","was meet by":"was met by","was meet with":"was met with","was ran":"was run","was release":"was released","was reran":"was rerun","was rode":"was ridden","was sang":"was sung","was setup":"was set up","was shook":"was shaken","was show on":"was shown on","was showed":"was shown","was shutdown":"was shut down","was shutout":"was shut out","was sold-out":"was sold out","was suppose to":"was supposed to","was though that":"was thought that","was took":"was taken","was tore":"was torn","was wrote":"was written","was use to":"was used to","way side":"wayside","weather or not":"whether or not","went threw":"went through","were aloud":"were allowed","were been":"have been, were being","were began":"were begun","were build":"were built","were comprised with":"comprised","were drew":"were drawn","were lain":"were laid","were lead by":"were led by","were loathe to":"were loath to","were meet by":"were met by","were meet with":"were met with","were ran":"were run","were rode":"were ridden","were sang":"were sung","were setup":"were set up","were showed":"were shown","were shutdown":"were shut down","were shutout":"were shut out","were suppose to":"were supposed to","were took":"were taken","were tore":"were torn","were use to":"were used to","were wrote":"were written","wether or not":"whether or not","when into":"went into","when on to":"went on to","where abouts":"whereabouts","where as":"whereas","where being":"were being","where by":"whereby","where made":"were made","where taken":"were taken","where upon":"whereupon","which breakdown":"which break down","which had lead":"which had led","which has lead":"which has led","which have lead":"which have led","which maybe":"which may be","which where":"which were","who had lead":"who had led","who has lead":"who has led","who have lead":"who have led","who he led":"whom he led","who he married":"whom he married","who he met":"whom he met","who he took":"whom he took","who lead":"who led","who maybe":"who may be","who setup":"who set up","who to believe":"whom to believe","who to blame":"whom to blame","who to call":"whom to call","who to invite":"whom to invite","who to send":"whom to send","who use to":"who used to","who where":"who were","who's actual":" whose actual","who's brother":" whose brother","who's father":" whose father","who's first":" whose first","who's last":" whose last","who's mother":" whose mother","who's name":" whose name","who's own":" whose own","who's previous":" whose previous","whom also":"who also","whom is":"who is","whom was":"who was","will backup":"will back up","will comprise of":"will be composed of, will comprise, will consist of","will likely":"will probably","will workout":"will work out","with he":"with him, with the","with in":"within","with it's":" with its","with out":"without","with who":"with whom","within it's":" within its","within site of":"within sight of","without it's":" without its","Word War I":"World War I","Word War II":"World War II","working progress":"work in progress","world wide":"worldwide","worse that":"worse than","worse then":"worse than","worse-case scenario":"worst-case scenario","worst comes to worst":"worse comes to worst","worst than":"worse than","worth while":"worthwhile","would been":"would be, would have been","would comeback":"would come back","would comprise of":"would comprise, would consist of","would of":"would have","would workout":"would work out","wreck havoc":"wreak havoc","younger that":"younger than","younger then":"younger than","%er then":"than","base on":"based on ('base on' may be acceptable, depending on context)","its an":"it's an"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-grammar"]],decls:37,vars:3,consts:[[1,"grammarTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"h1"),a._uU(2),a.qZA(),a.TgZ(3,"div",0)(4,"table")(5,"thead")(6,"tr")(7,"td")(8,"b"),a._uU(9,"Flag"),a.qZA()(),a.TgZ(10,"td")(11,"b"),a._uU(12,"Suggestion"),a.qZA()()()(),a.TgZ(13,"td"),a.YNc(14,gz,2,1,"tr",1),a.qZA(),a.TgZ(15,"td"),a.YNc(16,mz,2,1,"tr",1),a.qZA()()(),a.TgZ(17,"div",2)(18,"div",3)(19,"h2"),a._uU(20,"Database Listings"),a.qZA(),a.TgZ(21,"p")(22,"a",4),a._uU(23,"Wordiness"),a.qZA(),a._uU(24," (987 records)"),a.qZA(),a.TgZ(25,"p")(26,"a",5),a._uU(27,"Transitions"),a.qZA(),a._uU(28," (134 records)"),a.qZA(),a.TgZ(29,"p")(30,"a",6),a._uU(31,"Grammar"),a.qZA(),a._uU(32," (1,323 records)"),a.qZA(),a.TgZ(33,"p")(34,"a",7),a._uU(35,"Eggcorns"),a.qZA(),a._uU(36," (100 records)"),a.qZA()()()()),2&t&&(a.xp6(2),a.Oqu(r.title),a.xp6(12),a.Q6J("ngForOf",r.table.find),a.xp6(2),a.Q6J("ngForOf",r.table.suggestion))},dependencies:[Bn,sr],styles:[".grammarTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function _z(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function vz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let bz=(()=>{class n{constructor(){this.title="Eggcorns",this.values={"all intensive purposes":"all intents and purposes","per say":"per se","another thing coming":"another think coming",ascared:"afraid","as dust fell":"as dusk fell","biting my time":"biding my time","biting your time":"biding your time","best thing since life's bread":"best thing since sliced bread",bondfire:"bonfire",callapitter:"caterpillar",chesterdraws:"chest of drawers",civilware:"silverware",consinct:"concise","curly roads":"curvy roads","daring-do":"derring-do","doggy-dog-world":"dog-eat-dog","duck tape":"duct tape","escape goat":"scape goat",expresso:"espresso",eyebulbs:"eyeballs",facetube:"youtube","flush out":"flesh out",flustrated:"frustrated",flutterby:"butterfly","free examples":"free samples","genetic brands":"generic brands","growth sprout":"growth spurt","guilt trap":"guilt trip","handy-downs":"hand-me-downs","handy downs":"hand-me-downs","happy as a clown":"happy as a clam",hearbuds:"earbuds","hell in a handbag":"hell in a handbasket","ice tea":"iced tea","illicit a response":"elicit a response","in other worlds":"in other words","junk start":"jump start","just deserves":"just deserts",labtop:"laptop",lapkin:"napkin","last stitch effort":"last ditch effort","lesser of two equals":"lesser of two evils",magnaphone:"megaphone","mist of things":"midst of things","mute point":"moot point","nerve-wrecking":"nerve-wracking","nerve wrecking":"nerve-wracking","nip it in the butt":"nip it in the bud","nip in the butt":"nip in the bud","nip this in the butt":"nip this in the bud","old timers disease":"Alzheimer's disease","old-timers disease":"Alzheimer's disease","old wise tale":"old wives tale","on the lamb":"on the lam","optical delusion":"optical illusion","out of bounce":"out of bounds",overfloating:"overflowing","pass mustard":"pass muster",platemats:"placemats","rebel rouser":"rabble rouser","real goal-getter":"real go-getter","rot iron fences":"wrought-iron fences","scandally clad":"scantily clad","self of steam":"self esteem",skyscratcher:"skyscraper","stand at a tension":"stand at attention","take it for granite":"take it for granted","took it for granite":"took it for granted","takes two to tangle":"takes two to tango","towing the line":"toeing the line",tremblor:"temblor","very close veins":"Varicose veins","vim and vinegar":"vim and vigor","wet your appetite":"whet your appetite","wet my appetite":"whet my appetite","wet the appetite":"whet the appetite",wheelbarrel:"wheelbarrow","wild variety":"wide variety","wind charms":"wind chimes","windshield factor":"windchill factor",wonderlust:"wanderlust","world wind romance":"whirlwind romance","world wind tour":"whirlwind tour","worth ethic":"work ethic"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-eggcorns"]],decls:37,vars:3,consts:[[1,"eggcornsTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"h1"),a._uU(2),a.qZA(),a.TgZ(3,"div",0)(4,"table")(5,"thead")(6,"tr")(7,"td")(8,"b"),a._uU(9,"Flag"),a.qZA()(),a.TgZ(10,"td")(11,"b"),a._uU(12,"Suggestion"),a.qZA()()()(),a.TgZ(13,"td"),a.YNc(14,_z,2,1,"tr",1),a.qZA(),a.TgZ(15,"td"),a.YNc(16,vz,2,1,"tr",1),a.qZA()()(),a.TgZ(17,"div",2)(18,"div",3)(19,"h2"),a._uU(20,"Database Listings"),a.qZA(),a.TgZ(21,"p")(22,"a",4),a._uU(23,"Wordiness"),a.qZA(),a._uU(24," (987 records)"),a.qZA(),a.TgZ(25,"p")(26,"a",5),a._uU(27,"Transitions"),a.qZA(),a._uU(28," (134 records)"),a.qZA(),a.TgZ(29,"p")(30,"a",6),a._uU(31,"Grammar"),a.qZA(),a._uU(32," (1,323 records)"),a.qZA(),a.TgZ(33,"p")(34,"a",7),a._uU(35,"Eggcorns"),a.qZA(),a._uU(36," (100 records)"),a.qZA()()()()),2&t&&(a.xp6(2),a.Oqu(r.title),a.xp6(12),a.Q6J("ngForOf",r.table.find),a.xp6(2),a.Q6J("ngForOf",r.table.suggestion))},dependencies:[Bn,sr],styles:[".eggcornsTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})(),wz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C,x){this.router=t,this.data=r,this.passivevoice=i,this.wordiness=l,this.transitions=u,this.grammar=f,this.academic=y,this.eggcorns=b,this.nominalizations=C,this.sentences=x}startOverClick(){this.data.changeMessage("")}startOverClickButton(){this.data.changeMessage(""),this.router.navigate([""])}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentGrade.subscribe(t=>this.grade=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalErrors.subscribe(t=>this.totalErrors=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t),this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t),this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t),this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Rn),a.Y36(Ei),a.Y36(Dl),a.Y36(xl),a.Y36(kl),a.Y36(Ml),a.Y36(Nl),a.Y36(Ol),a.Y36(Rl),a.Y36(tu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-overview"]],decls:67,vars:33,consts:[[1,"columns"],[1,"column1"],[1,"resultdescription"],[1,"tablediv"],[1,"categoryHead"],[1,"resultsHead"],[1,"odd"],["routerLink","../fixes/passive-voice-fix",1,"tablerow"],[1,"even"],["routerLink","../fixes/wordiness-fix",1,"tablerow"],["routerLink","../fixes/academic-style-fix",1,"tablerow"],["routerLink","../fixes/grammar-fix",1,"tablerow"],["routerLink","../fixes/nominalizations-fix",1,"tablerow"],["routerLink","../fixes/sentences-fix",1,"tablerow"],["routerLink","../fixes/eggcorns-fix",1,"tablerow"],[1,"lastRowName"],["routerLink","../fixes/transitions-fix",1,"tablerow"],[1,"lastRow"],[1,"startoverbutton",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"body")(1,"div",0)(2,"div",1)(3,"h1",2)(4,"b"),a._uU(5),a.qZA()(),a.TgZ(6,"div",3)(7,"p"),a._uU(8,"Click on a category to start reviewing your specific potential problems."),a.qZA(),a.TgZ(9,"table")(10,"thead")(11,"tr")(12,"th",4),a._uU(13,"CATEGORY"),a.qZA(),a.TgZ(14,"th",5),a._uU(15,"RESULTS"),a.qZA()()(),a.TgZ(16,"tbody")(17,"tr",6)(18,"td")(19,"a",7),a._uU(20,"Passive Voice"),a.qZA()(),a.TgZ(21,"td"),a._uU(22),a.qZA()(),a.TgZ(23,"tr",8)(24,"td")(25,"a",9),a._uU(26,"Wordiness"),a.qZA()(),a.TgZ(27,"td"),a._uU(28),a.qZA()(),a.TgZ(29,"tr",6)(30,"td")(31,"a",10),a._uU(32,"Academic Style"),a.qZA()(),a.TgZ(33,"td"),a._uU(34),a.qZA()(),a.TgZ(35,"tr",8)(36,"td")(37,"a",11),a._uU(38,"Grammar"),a.qZA()(),a.TgZ(39,"td"),a._uU(40),a.qZA()(),a.TgZ(41,"tr",6)(42,"td")(43,"a",12),a._uU(44,"Nominalizations"),a.qZA()(),a.TgZ(45,"td"),a._uU(46),a.qZA()(),a.TgZ(47,"tr",8)(48,"td")(49,"a",13),a._uU(50,"Sentences"),a.qZA()(),a.TgZ(51,"td"),a._uU(52),a.qZA()(),a.TgZ(53,"tr",6)(54,"td")(55,"a",14),a._uU(56,"Eggcorns"),a.qZA()(),a.TgZ(57,"td"),a._uU(58),a.qZA()(),a.TgZ(59,"tr",8)(60,"td",15)(61,"a",16),a._uU(62,"Transitions"),a.qZA()(),a.TgZ(63,"td",17),a._uU(64),a.qZA()()()()(),a.TgZ(65,"button",18),a.NdJ("click",function(){return r.startOverClickButton()}),a._uU(66,"CLEAR"),a.qZA()()()()),2&t&&(a.xp6(5),a.Oqu(r.totalErrors),a.xp6(12),a.Udp("background-color",r.passiveVoiceAlertColor),a.xp6(5),a.AsE("",r.passiveVoiceNumber,"(",r.passiveVoiceScore,"%)"),a.xp6(1),a.Udp("background-color",r.wordinessAlertColor),a.xp6(5),a.AsE("",r.wordinessNumber,"(",r.wordinessScore,"%)"),a.xp6(1),a.Udp("background-color",r.academicStyleAlertColor),a.xp6(5),a.AsE("",r.totalNonAcademic,"(",r.academicStyleScore,"%)"),a.xp6(1),a.Udp("background-color",r.grammarAlertColor),a.xp6(5),a.AsE("",r.totalGrammar,"(",r.grammarScore,"%)"),a.xp6(1),a.Udp("background-color",r.nominalizationsAlertColor),a.xp6(5),a.AsE("",r.nominalizationsNumber,"(",r.nominalizationsScore,"%)"),a.xp6(1),a.Udp("background-color",r.sentencesAlertColor),a.xp6(5),a.AsE("",r.sentencesNumber,"(",r.sentencesScore,"%)"),a.xp6(1),a.Udp("background-color",r.eggcornsAlertColor),a.xp6(5),a.AsE("",r.totalEggcorns,"(",r.eggcornsScore,"%)"),a.xp6(1),a.Udp("background-color",r.transitionsAlertColor),a.xp6(5),a.AsE("",r.totalTransitions,"(",r.transitionsScore,"%)"))},dependencies:[sr],styles:["body[_ngcontent-%COMP%]{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.resultdescription[_ngcontent-%COMP%]{font-family:Futura,Trebuchet MS,Arial,sans-serif;font-size:25px;padding:10px 0 10px 9%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1.5px solid #C6DBD0;padding:20px}.odd[_ngcontent-%COMP%]{background-color:#87cefa}.even[_ngcontent-%COMP%]{background-color:#00ced1}.categoryHead[_ngcontent-%COMP%]{font-size:25px;background-color:#fbfbfb;border-top-left-radius:23px;font-weight:100}.resultsHead[_ngcontent-%COMP%]{font-size:25px;background-color:#fbfbfb;border-top-right-radius:23px;font-weight:100}.lastRow[_ngcontent-%COMP%]{border-bottom-right-radius:23px}.lastRowName[_ngcontent-%COMP%]{border-bottom-left-radius:23px}.tablerow[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:23px}.tablecss[_ngcontent-%COMP%]{background-color:#fff}.startoverbutton[_ngcontent-%COMP%]{margin-top:20px;background-color:#2f6e4d;color:#fff;width:250px;height:60px;border-radius:23px;font-size:25px;margin-left:14%;display:table-cell;vertical-align:middle;border:none;font-family:Futura,Trebuchet MS,Arial,sans-serif}.startoverbutton[_ngcontent-%COMP%]:hover{background-color:#adadad;color:#2f6e4d;cursor:pointer}.tablediv[_ngcontent-%COMP%]{padding-left:6%}.columns[_ngcontent-%COMP%]{padding:20px 30px}.column1[_ngcontent-%COMP%]{float:left;width:50%;padding-bottom:40px}"]}),n})();const Ez=["*",[["mat-toolbar-row"]]],Tz=["*","mat-toolbar-row"],Sz=PM(class{constructor(n){this._elementRef=n}});let Bd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),jd=(()=>{class n extends Sz{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Vd),a.Y36(re))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,Bd,5),2&t){let l;a.iGM(l=a.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:Tz,decls:2,vars:0,template:function(t,r){1&t&&(a.F$t(Ez),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Pl,Pl]}),n})();function Iz(n,e){1&n&&(a.TgZ(0,"mat-card",23)(1,"mat-card-title"),a._uU(2,"Generic Feedback"),a.qZA(),a.TgZ(3,"mat-card-content")(4,"b"),a._uU(5,"Compare:"),a.qZA(),a.TgZ(6,"ul")(7,"li"),a._uU(8,'"Mark ate Planet Mars." (active)'),a.qZA(),a.TgZ(9,"li"),a._uU(10,'"Planet Mars was eaten by Mark" (passive)'),a.qZA()(),a.TgZ(11,"b"),a._uU(12,"What to do:"),a.qZA(),a._UZ(13,"br"),a._uU(14,' Think "who did what", not "what was done by whom"(you\\\'ll probably need to reverse the sentence order). In grammar-speak, avoid '),a.TgZ(15,"i"),a._uU(16,"is, was, were or be, being, been"),a.qZA(),a._uU(17," followed by a past tense verb. "),a._UZ(18,"br"),a.TgZ(19,"b"),a._uU(20,"Example fixes"),a.qZA(),a.TgZ(21,"ul")(22,"li"),a._uU(23,"it "),a.TgZ(24,"mark")(25,"del"),a._uU(26,"is"),a.qZA(),a._uU(27," accept"),a.TgZ(28,"del"),a._uU(29,"ed"),a.qZA()(),a._uU(30," that... --\x3e we accept that..."),a.qZA(),a.TgZ(31,"li"),a._uU(32,"needs to "),a.TgZ(33,"mark")(34,"del"),a._uU(35,"be"),a.qZA(),a._uU(36," fund"),a.TgZ(37,"del"),a._uU(38,"ed"),a.qZA()(),a._uU(39," by Britain... --\x3e Britain needs to fund..."),a.qZA()()()())}function Az(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function Dz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let xz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=l,this.nominalizations=u,this.passivevoice=f,this.wordiness=y,this.sentences=b,this.transitions=C,this.title="Passive-Voice-Fix"}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.passiveVoiceUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,"");console.log(t);let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);this.passiveVoiceFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.passiveVoiceService(),this.needHighlight=!0}passiveVoiceFix(t){for(const r in this.passiveVoiceTable.__zone_symbol__value)for(const i in this.passiveVoiceHelperTable){const l=i+r;t.includes(l)&&(this.passivevoice.changePassiveVoiceNumber(this.passiveVoiceNumber+1),this.passiveVoiceUserTable.find.push("\u2022 "+l),this.passivevoice.changePassiveVoiceUserTable(this.passiveVoiceUserTable),this.highlight(r))}this.passiveVoiceScore=this.passiveVoiceNumber/this.totalSentences*100,(isNaN(this.passiveVoiceScore)||this.passiveVoiceScore===1/0)&&(this.passiveVoiceScore=0);try{if(this.passiveVoiceScore>0?(this.passiveVoiceFeedback="Generally, writing is clearer in active voice.",this.passiveVoiceAlertColor="red"):(this.passiveVoiceFeedback="Your writing passed the criterion for passive sentences. Congrats!",this.passiveVoiceAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.passiveVoiceFeedback="Make sure you enter at least one sentence.",this.passiveVoiceAlertColor="orange",this.passiveVoiceScore=0}this.passivevoice.changePassiveVoiceFeedback(this.passiveVoiceFeedback),this.passivevoice.changePassiveVoiceScore(Math.round(10*this.passiveVoiceScore)/10),this.passivevoice.changePassiveVoiceAlertColor(this.passiveVoiceAlertColor)}passiveVoiceService(){this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceTable.subscribe(t=>this.passiveVoiceTable=t),this.passivevoice.currentPassiveVoiceHelperTable.subscribe(t=>this.passiveVoiceHelperTable=t),this.passivevoice.currentPassiveVoiceUserTable.subscribe(t=>this.passiveVoiceUserTable=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.passivevoice.currentPassiveVoiceFeedback.subscribe(t=>this.passiveVoiceFeedback=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span class="highlight" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(Nl),a.Y36(Ol),a.Y36(Ml),a.Y36(Rl),a.Y36(Dl),a.Y36(xl),a.Y36(tu),a.Y36(kl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-passive-voice-fix"]],decls:47,vars:10,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["class","inDepth",4,"ngIf"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"],[1,"inDepth"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Passive Voice"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17),a.YNc(34,Iz,40,0,"mat-card",18),a.TgZ(35,"p",19),a._uU(36),a.qZA(),a._UZ(37,"br"),a.qZA(),a.TgZ(38,"div",20)(39,"h1",21)(40,"b"),a._uU(41),a.qZA()(),a.TgZ(42,"table")(43,"td"),a.YNc(44,Az,2,1,"tr",22),a.qZA(),a.TgZ(45,"td"),a.YNc(46,Dz,2,1,"tr",22),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.passiveVoiceAlertColor),a.xp6(2),a.AsE("",r.passiveVoiceNumber," instances (",r.passiveVoiceScore,"% of sentences)"),a.xp6(6),a.Oqu(r.passiveVoiceFeedback),a.xp6(3),a.Q6J("ngIf",r.passiveVoiceScore>0),a.xp6(2),a.Oqu(r.message),a.xp6(5),a.hij("Passive Voice Found - ",r.passiveVoiceNumber," error(s)"),a.xp6(3),a.Q6J("ngForOf",r.passiveVoiceUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.passiveVoiceUserTable.suggestion))},dependencies:[Bn,zr,sr,lv,UM,pI,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}.inDepth{background:#f5f5f5;width:95%}\n"],encapsulation:2}),n})();function kz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}function Mz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}let Oz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.wordiness=r,this.passivevoice=i,this.academic=l,this.eggcorns=u,this.grammar=f,this.nominalizations=y,this.sentences=b,this.transitions=C,this.title="Wordiness-Fix",this.wordinessFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.wordiness.changeWordinessNumber(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.wordinessUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);this.wordinessFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.wordinessService(),this.needHighlight=!0}wordinessFix(t){for(const r in this.wordinessTable.__zone_symbol__value)t.includes(r)&&(this.wordiness.changeWordinessNumber(this.wordinessNumber+1),this.wordinessUserTable.find.push("\u2022 "+r+" \u27f6 "+this.wordinessTable.__zone_symbol__value[r]),this.wordiness.changeWordinessUserTable(this.wordinessUserTable),this.highlight(r,this.wordinessTable.__zone_symbol__value[r]));this.wordinessScore=this.wordinessNumber/this.totalSentences*100,(isNaN(this.wordinessScore)||this.wordinessScore===1/0)&&(this.wordinessScore=0);try{if(this.wordinessScore>0?(this.wordinessFeedback="Your writing seems too wordy. Why use 3 words when you can say it with 1?",this.wordinessAlertColor="red"):(this.wordinessFeedback="Woohoo! Your writing seems concise, precise, and snappy. George Orwell would be proud.",this.wordinessAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.wordinessFeedback="Make sure you enter at least one sentence.",this.wordinessAlertColor="orange",this.wordinessScore=0}this.wordiness.changeWordinessFeedback(this.wordinessFeedback),this.wordiness.changeWordinessScore(Math.round(10*this.wordinessScore)/10),this.wordiness.changeWordinessAlertColor(this.wordinessAlertColor)}wordinessService(){this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessTable.subscribe(t=>this.wordinessTable=t),this.wordiness.currentWordinessUserTable.subscribe(t=>this.wordinessUserTable=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.wordiness.currentWordinessFeedback.subscribe(t=>this.wordinessFeedback=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t)}highlight(t,r){var i=document.getElementById("userinput");let l=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(l,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(xl),a.Y36(Dl),a.Y36(Nl),a.Y36(Ol),a.Y36(Ml),a.Y36(Rl),a.Y36(tu),a.Y36(kl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-wordiness-fix"]],decls:46,vars:9,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Wordiness"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17)(34,"p",18),a._uU(35),a.qZA(),a._UZ(36,"br"),a.qZA(),a.TgZ(37,"div",19)(38,"h1",20)(39,"b"),a._uU(40),a.qZA()(),a.TgZ(41,"table")(42,"td"),a.YNc(43,kz,2,1,"tr",21),a.qZA(),a.TgZ(44,"td"),a.YNc(45,Mz,2,1,"tr",21),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.wordinessAlertColor),a.xp6(2),a.AsE(" ",r.wordinessNumber," instances (",r.wordinessScore,"% of sentences) "),a.xp6(6),a.Oqu(r.wordinessFeedback),a.xp6(4),a.Oqu(r.message),a.xp6(5),a.hij("Instances of Wordiness Found - ",r.wordinessNumber," error(s)"),a.xp6(3),a.Q6J("ngForOf",r.wordinessUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.wordinessUserTable.suggestion))},dependencies:[Bn,sr,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})();function Nz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}function Rz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}let Fz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=l,this.nominalizations=u,this.passivevoice=f,this.wordiness=y,this.sentences=b,this.transitions=C,this.title="Academic-Style-Fix",this.academicStyleFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.academic.changeTotalNonAcademic(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.academicStyleUserTable=[];let t=this.message.replace(/<\/?span[^>]*>/g,"");console.log(t);let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);console.log("Fixing academic style"),this.academicStyleFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.academicStyleService(),this.needHighlight=!0}academicStyleFix(t){const r=new Map;for(const f in this.academicStyleTable.__zone_symbol__value)if(t.includes(f)){let y=t.indexOf(f);for(r.set(y,"\u2022 "+f+" \u27f6 "+this.academicStyleTable.__zone_symbol__value[f]),this.academic.changeTotalNonAcademic(this.totalNonAcademic+1),this.highlight(f,this.academicStyleTable.__zone_symbol__value[f]);t.indexOf(f,y+1)>y;)y=t.indexOf(f,y+1),r.set(y,"\u2022 "+f+" \u27f6 "+this.academicStyleTable.__zone_symbol__value[f]),this.academic.changeTotalNonAcademic(this.totalNonAcademic+1)}const i=Array.from(new Map([...r.entries()].sort(([f],[y])=>f-y)).values());let l;this.academicStyleUserTable=i,this.academicStyleUserTable.find=this.academicStyleUserTable,this.academic.changeAcademicStyleUserTable(this.academicStyleUserTable.find),l="";let u=0;for(let f=0;f<t.length;f++)/[a-zA-Z]/.test(t[f])||"\u2019"===t[f]||"'"===t[f]?l+=t[f]:(l="",u++);this.academicStyleScore=this.totalNonAcademic/u*100,(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0);try{if(this.academicStyleScore>0?(this.academicStyleAlertColor="red",this.academicStyleFeedback="Your writing may contain language that is either too casual or too extreme for academic discourse."):(this.academicStyleAlertColor="green",this.academicStyleFeedback="Your writing has a low percentage of casual and/or extreme language. This makes it more acceptable for academic style."),0===this.totalSentences)throw new Error("")}catch(f){this.academicStyleFeedback="Make sure you enter at least one sentence.",this.academicStyleAlertColor="orange",this.academicStyleScore=0}(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0),this.academic.changeAcademicStyleScore(Math.round(10*this.academicStyleScore)/10),this.academic.changeAcademicStyleFeedback(this.academicStyleFeedback),this.academic.changeAcademicStyleAlertColor(this.academicStyleAlertColor)}academicStyleService(){this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.academic.currentAcademicStyleFeedback.subscribe(t=>this.academicStyleFeedback=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleTable.subscribe(t=>this.academicStyleTable=t),this.academic.currentAcademicStyleUserTable.subscribe(t=>this.academicStyleUserTable=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t)}highlight(t,r){var i=document.getElementById("userinput");console.log("Highighting now");let l=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(l,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(Nl),a.Y36(Ol),a.Y36(Ml),a.Y36(Rl),a.Y36(Dl),a.Y36(xl),a.Y36(tu),a.Y36(kl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-academic-style-fix"]],decls:46,vars:9,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Academic Style"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17)(34,"p",18),a._uU(35),a.qZA(),a._UZ(36,"br"),a.qZA(),a.TgZ(37,"div",19)(38,"h1",20)(39,"b"),a._uU(40),a.qZA()(),a.TgZ(41,"table")(42,"td"),a.YNc(43,Nz,2,1,"tr",21),a.qZA(),a.TgZ(44,"td"),a.YNc(45,Rz,2,1,"tr",21),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.academicStyleAlertColor),a.xp6(2),a.AsE(" ",r.totalNonAcademic," instances (",r.academicStyleScore,"% of sentences) "),a.xp6(6),a.Oqu(r.academicStyleFeedback),a.xp6(4),a.Oqu(r.message),a.xp6(5),a.hij("Non Academic Style Found - ",r.totalNonAcademic," instance(s)"),a.xp6(3),a.Q6J("ngForOf",r.academicStyleUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.academicStyleUserTable.suggestion))},dependencies:[Bn,sr,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})();function Pz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function Lz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let Vz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.grammar=r,this.academic=i,this.eggcorns=l,this.nominalizations=u,this.passivevoice=f,this.wordiness=y,this.sentences=b,this.transitions=C,this.title="Grammar-Fix",this.grammarFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.data.changeTotalSentences(0),this.data.changeGrade(0),this.grammar.changeTotalGrammar(0),this.grammarUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);this.grammarFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.grammarService(),this.needHighlight=!0}grammarFix(t){for(const r in this.grammarTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.grammar.changeTotalGrammar(this.totalGrammar+1),this.grammarUserTable.find.push("\u2022 "+r+" \u27f6 "+this.grammarTable.__zone_symbol__value[r]),this.highlight(r,this.grammarTable.__zone_symbol__value[r]),this.grammar.changeGrammarUserTable(this.grammarUserTable));this.grammarScore=this.totalGrammar/this.totalSentences*100,(isNaN(this.grammarScore)||this.grammarScore===1/0)&&(this.grammarScore=0);try{if(0==this.totalGrammar?(this.grammarAlertColor="green",this.grammarFeedback="Woohoo! We didn't find any obvious grammark errors. However, beware: Grammark does not check for fragments, comma splices, subject-verb errors, number and pronoun problems. What's the best way to find grammar errors? Read your writing aloud."):this.totalGrammar>0&&(this.grammarAlertColor="red",this.grammarFeedback="Your writing includes words or phrases usually considered to be grammar errors."),0===this.totalSentences)throw new Error("")}catch(r){this.grammarFeedback="Make sure you enter at least one sentence.",this.grammarAlertColor="orange",this.grammarScore=0}this.grammar.changeGrammarScore(Math.round(10*this.grammarScore)/10),this.grammar.changeGrammarFeedback(this.grammarFeedback),this.grammar.changeGrammarAlertColor(this.grammarAlertColor)}grammarService(){this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.grammar.currentGrammarFeedback.subscribe(t=>this.grammarFeedback=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarTable.subscribe(t=>this.grammarTable=t),this.grammar.currentGrammarUserTable.subscribe(t=>this.grammarUserTable=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t)}highlight(t,r){var i=document.getElementById("userinput");let l=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(l,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(Ml),a.Y36(Nl),a.Y36(Ol),a.Y36(Rl),a.Y36(Dl),a.Y36(xl),a.Y36(tu),a.Y36(kl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-grammar-fix"]],decls:46,vars:9,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Grammar"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17)(34,"p",18),a._uU(35),a.qZA(),a._UZ(36,"br"),a.qZA(),a.TgZ(37,"div",19)(38,"h1",20)(39,"b"),a._uU(40),a.qZA()(),a.TgZ(41,"table")(42,"td"),a.YNc(43,Pz,2,1,"tr",21),a.qZA(),a.TgZ(44,"td"),a.YNc(45,Lz,2,1,"tr",21),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.grammarAlertColor),a.xp6(2),a.AsE("",r.totalGrammar," instances (",r.grammarScore,"% of sentences)"),a.xp6(6),a.Oqu(r.grammarFeedback),a.xp6(4),a.Oqu(r.message),a.xp6(5),a.hij("Grammar Traps Found - ",r.totalGrammar," instance(s)"),a.xp6(3),a.Q6J("ngForOf",r.grammarUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.grammarUserTable.suggestion))},dependencies:[Bn,sr,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.title{font-size:36px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.feedback{font-size:30px}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})();function Uz(n,e){1&n&&(a.TgZ(0,"mat-card",23)(1,"mat-card-title"),a._uU(2,"Generic Feedback"),a.qZA(),a.TgZ(3,"mat-card-content"),a._uU(4," Try to use more words in their root form. "),a.TgZ(5,"b"),a._uU(6,"Example:"),a.qZA(),a.TgZ(7,"ul")(8,"li")(9,"b"),a._uU(10,"Nominalized usage: "),a.qZA(),a._uU(11,"The "),a.TgZ(12,"mark"),a._uU(13,"distribution"),a.qZA(),a._uU(14," of "),a.TgZ(15,"mark"),a._uU(16,"monetization"),a.qZA(),a._uU(17," will show "),a.TgZ(18,"mark"),a._uU(19,"financial"),a.qZA(),a.TgZ(20,"mark"),a._uU(21,"improvement"),a.qZA(),a._uU(22,"."),a.qZA(),a.TgZ(23,"li")(24,"b"),a._uU(25,"Root form usage: "),a.qZA(),a.TgZ(26,"mark"),a._uU(27,"Finances"),a.qZA(),a._uU(28," will "),a.TgZ(29,"mark"),a._uU(30,"improve"),a.qZA(),a._uU(31," if we "),a.TgZ(32,"mark"),a._uU(33,"distribute"),a.qZA(),a.TgZ(34,"mark"),a._uU(35,"money"),a.qZA(),a._uU(36,"."),a.qZA()(),a._uU(37,' Pick a number of the more glaringly obvious nominalized forms below and ask yourself, "How can I say the same thing with a root form word?" '),a.qZA()())}function Bz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function jz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let Hz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.nominalizations=r,this.academic=i,this.eggcorns=l,this.grammar=u,this.passivevoice=f,this.wordiness=y,this.sentences=b,this.transitions=C,this.title="Nominalizations-Fix"}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.nominalizations.changeNominalizationsNumber(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.nominalizationsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);this.nominalizationsFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.nominalizationsService(),this.needHighlight=!0}nominalizationsFix(t){let r;r="";let i=0;for(let l=0;l<t.length;l++)if(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l])r+=t[l];else{for(const u in this.nominalizationsTable.__zone_symbol__value)r.length>7&&r.includes(u)&&(this.nominalizationsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.nominalizationsTable.__zone_symbol__value[u]),this.nominalizations.changeNominalizationsNumber(this.nominalizationsNumber+1),this.nominalizations.changeNominalizationsUserTable(this.nominalizationsUserTable),this.highlight(r,this.nominalizationsTable.__zone_symbol__value[u]));r="",i++}this.nominalizationsScore=this.nominalizationsNumber/i*100,(isNaN(this.nominalizationsScore)||this.nominalizationsScore===1/0)&&(this.nominalizationsScore=0);try{if(this.nominalizationsScore<=6?(this.nominalizationsFeedback='Rock on. Your writing has a reasonable number of "nominalized" word forms, highlighted below. You probably don\'t need to reduce these any further.',this.nominalizationsAlertColor="green"):(this.nominalizationsFeedback='Most of the words below are perfectly acceptable. However, you use many of these "nominalized" (non root-form) words. They bog down writing and decrease readability.',this.nominalizationsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(l){this.nominalizationsFeedback="Make sure you enter at least one sentence.",this.nominalizationsAlertColor="orange",this.nominalizationsScore=0}this.nominalizations.changeNominalizationsFeedback(this.nominalizationsFeedback),this.nominalizations.changeNominalizationsScore(Math.round(10*this.nominalizationsScore)/10),this.nominalizations.changeNominalizationsAlertColor(this.nominalizationsAlertColor)}nominalizationsService(){this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.nominalizations.currentNominalizationsFeedback.subscribe(t=>this.nominalizationsFeedback=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsUserTable.subscribe(t=>this.nominalizationsUserTable=t),this.nominalizations.currentNominalizationsTable.subscribe(t=>this.nominalizationsTable=t)}highlight(t,r){var i=document.getElementById("userinput");let l=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(l,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(Rl),a.Y36(Nl),a.Y36(Ol),a.Y36(Ml),a.Y36(Dl),a.Y36(xl),a.Y36(tu),a.Y36(kl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-nominalizations-fix"]],decls:47,vars:10,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["class","inDepth",4,"ngIf"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"],[1,"inDepth"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Nominalizations"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17),a.YNc(34,Uz,38,0,"mat-card",18),a.TgZ(35,"p",19),a._uU(36),a.qZA(),a._UZ(37,"br"),a.qZA(),a.TgZ(38,"div",20)(39,"h1",21)(40,"b"),a._uU(41),a.qZA()(),a.TgZ(42,"table")(43,"td"),a.YNc(44,Bz,2,1,"tr",22),a.qZA(),a.TgZ(45,"td"),a.YNc(46,jz,2,1,"tr",22),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.nominalizationsAlertColor),a.xp6(2),a.AsE("",r.nominalizationsNumber," instances (",r.nominalizationsScore,"% of words)"),a.xp6(6),a.Oqu(r.nominalizationsFeedback),a.xp6(3),a.Q6J("ngIf",r.nominalizationsScore>6),a.xp6(2),a.Oqu(r.message),a.xp6(5),a.hij("Nominalizations Found - ",r.nominalizationsNumber," error(s)"),a.xp6(3),a.Q6J("ngForOf",r.nominalizationsUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.nominalizationsUserTable.suggestion))},dependencies:[Bn,zr,sr,lv,UM,pI,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}.inDepth{background:#f5f5f5;width:95%}\n"],encapsulation:2}),n})();function zz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}function qz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}let $z=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=l,this.nominalizations=u,this.passivevoice=f,this.wordiness=y,this.sentences=b,this.transitions=C,this.title="Sentences-Fix",this.sentencesFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.sentences.changeSentencesNumber(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.sentencesUserTable={find:[],suggestion:[]};let t=this.getContent(),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);this.sentencesFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.sentencesService(),this.needHighlight=!0}sentencesFix(t){let r,i,l;r="",i="",l="";let u=!1,f=0;for(let y=0;y<t.length;y++){if(/[a-zA-Z]/.test(t[y])||"\u2019"===t[y]||"'"===t[y])r+=t[y];else{for(const b in this.sentencesTable)r.includes(b)&&(i+=r,u=!0);r="",f++}!0===u&&(/[a-zA-Z]/.test(t[y])||"\u2019"===t[y]||"'"===t[y]||" "===t[y]?i+=t[y]:(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Potential Fragment \u27f6 "'+i+'..."'),this.highlight(i,"Potential Fragment"),this.sentences.changeSentencesUserTable(this.sentencesUserTable),u=!1,i="")),"!"===t[y]||"?"===t[y]||"."===t[y]?(f>50&&(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Long Sentence \u27f6 "'+l+'..."'),this.highlight(l,"Long Sentence"),this.sentences.changeSentencesUserTable(this.sentencesUserTable)),l="",f=0):l+=t[y]}this.sentencesScore=this.sentencesNumber/this.totalSentences*100,(NaN===this.sentencesScore||this.sentencesScore===1/0)&&(this.sentencesScore=0);try{if(this.sentencesScore>0?(this.sentencesFeedback="Hmmm. Your writing may have some sentence-level issues. Check the list below for potential fragments or run-ons.",this.sentencesAlertColor="red"):(this.sentencesFeedback="Bueno! Your sentences don't show any glaring errors.",this.sentencesAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(y){this.sentencesFeedback="Make sure you enter at least one sentence.",this.sentencesAlertColor="orange",this.sentencesScore=0}this.sentences.changeSentencesFeedback(this.sentencesFeedback),this.sentences.changeSentencesScore(Math.round(10*this.sentencesScore)/10),this.sentences.changeSentencesAlertColor(this.sentencesAlertColor)}sentencesService(){this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesTable.subscribe(t=>this.sentencesTable=t),this.sentences.currentSentencesUserTable.subscribe(t=>this.sentencesUserTable=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t),this.sentences.currentSentencesFeedback.subscribe(t=>this.sentencesFeedback=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t)}highlight(t,r){var i=document.getElementById("userinput");let l=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(l,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(Nl),a.Y36(Ol),a.Y36(Ml),a.Y36(Rl),a.Y36(Dl),a.Y36(xl),a.Y36(tu),a.Y36(kl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sentences-fix"]],decls:46,vars:9,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Sentences"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17)(34,"p",18),a._uU(35),a.qZA(),a._UZ(36,"br"),a.qZA(),a.TgZ(37,"div",19)(38,"h1",20)(39,"b"),a._uU(40),a.qZA()(),a.TgZ(41,"table")(42,"td"),a.YNc(43,zz,2,1,"tr",21),a.qZA(),a.TgZ(44,"td"),a.YNc(45,qz,2,1,"tr",21),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.sentencesAlertColor),a.xp6(2),a.AsE(" ",r.sentencesNumber," instances (",r.sentencesScore,"% of sentences) "),a.xp6(6),a.Oqu(r.sentencesFeedback),a.xp6(4),a.Oqu(r.message),a.xp6(5),a.hij("Instances of Sentences Found - ",r.sentencesNumber," error(s)"),a.xp6(3),a.Q6J("ngForOf",r.sentencesUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.sentencesUserTable.suggestion))},dependencies:[Bn,sr,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})();function Zz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function Gz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}let Wz=(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.eggcorns=r,this.academic=i,this.grammar=l,this.nominalizations=u,this.passivevoice=f,this.wordiness=y,this.sentences=b,this.transitions=C,this.title="Eggcorns-Fix",this.eggcornsFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.eggcorns.changeTotalEggcorns(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.eggcornsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);this.eggcornsFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.eggcornnsService(),this.needHighlight=!0}eggcornsFix(t){console.log("eggcorns");for(const r in this.eggcornsTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.eggcorns.changeTotalEggcorns(this.totalEggcorns+1),this.eggcornsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.eggcornsTable.__zone_symbol__value[r]),this.highlight(r,this.eggcornsTable.__zone_symbol__value[r]),this.eggcorns.changeEggcornsUserTable(this.eggcornsUserTable));this.eggcornsScore=this.totalEggcorns/this.totalSentences*100;try{if(0==this.eggcornsScore?(this.eggcornsAlertColor="green",this.eggcornsFeedback="Great job! Your writing seems to have no Eggcorns."):this.eggcornsScore<=5?(this.eggcornsFeedback="Almost there! The number of Eggcorns words in your writing seems low",this.eggcornsAlertColor="red"):this.eggcornsScore<=10?(this.eggcornsFeedback="Your writing seems to have a lot of eggcorns",this.eggcornsAlertColor="red"):(this.eggcornsFeedback="Your writing seems to have a many eggcorns. Make sure you're not using eggcorns",this.eggcornsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(r){this.eggcornsFeedback="Make sure you enter at least one sentence.",this.eggcornsAlertColor="orange",this.eggcornsScore=0}this.eggcorns.changeEggcornsScore(Math.round(this.eggcornsScore)),this.eggcorns.changeEggcornsFeedback(this.eggcornsFeedback),this.eggcorns.changeEggcornsAlertColor(this.eggcornsAlertColor)}eggcornnsService(){this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.eggcorns.currentEggcornsFeedback.subscribe(t=>this.eggcornsFeedback=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsTable.subscribe(t=>this.eggcornsTable=t),this.eggcorns.currentEggcornsUserTable.subscribe(t=>this.eggcornsUserTable=t)}highlight(t,r){var i=document.getElementById("userinput");let l=new RegExp(`\\b${t}\\b`,"gi");i.innerHTML=i.innerHTML.replace(l,'<span class="highlight" >'+t+'<span class="feedbackPopup" >'+r+"</span> </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(Ol),a.Y36(Nl),a.Y36(Ml),a.Y36(Rl),a.Y36(Dl),a.Y36(xl),a.Y36(tu),a.Y36(kl))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-eggcorns-fix"]],decls:46,vars:9,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Eggcorns"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17)(34,"p",18),a._uU(35),a.qZA(),a._UZ(36,"br"),a.qZA(),a.TgZ(37,"div",19)(38,"h1",20)(39,"b"),a._uU(40),a.qZA()(),a.TgZ(41,"table")(42,"td"),a.YNc(43,Zz,2,1,"tr",21),a.qZA(),a.TgZ(44,"td"),a.YNc(45,Gz,2,1,"tr",21),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.eggcornsAlertColor),a.xp6(2),a.AsE("",r.totalEggcorns," instances (",r.eggcornsScore,"% of sentences)"),a.xp6(6),a.Oqu(r.eggcornsFeedback),a.xp6(4),a.Oqu(r.message),a.xp6(5),a.hij("Eggcorns Found - ",r.totalEggcorns," instance(s)"),a.xp6(3),a.Q6J("ngForOf",r.eggcornsUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.eggcornsUserTable.suggestion))},dependencies:[Bn,sr,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title{font-size:36px}.feedback{font-size:30px}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}\n"],encapsulation:2}),n})();function Kz(n,e){1&n&&(a.TgZ(0,"mat-card",23)(1,"mat-card-title"),a._uU(2,"Generic Feedback"),a.qZA(),a.TgZ(3,"mat-card-content"),a._uU(4," Transitions help readers see your organization and thought process."),a._UZ(5,"br"),a.TgZ(6,"b"),a._uU(7,"Example:"),a.qZA(),a.TgZ(8,"ul")(9,"li")(10,"b"),a._uU(11,"No transition: "),a.qZA(),a._uU(12,"Martinez says the wealthiest 10% pay 70% of taxes. The governor's argument about tax brackets seems.."),a.qZA(),a.TgZ(13,"li")(14,"b"),a._uU(15,"Has transition: "),a.qZA(),a._uU(16,"Martinez says the wealthiest 10% pay 70% of taxes. "),a.TgZ(17,"mark"),a._uU(18,"Given this"),a.qZA(),a._uU(19," statistic, the governor's argument about tax brackets seems..."),a.qZA()()()())}function Yz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}function Qz(n,e){if(1&n&&(a.TgZ(0,"tr"),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}const Jz=[{path:"",pathMatch:"full",component:jB},{path:"about",component:HB},{path:"download",component:zB},{path:"resources",component:qB},{path:"login",component:$H},{path:"signup",component:GH,canActivate:[GM]},{path:"dashboard",component:lz,canActivate:[GM]},{path:"resources/wordiness",component:dz},{path:"resources/transitions",component:pz},{path:"resources/grammar",component:yz},{path:"resources/eggcorns",component:bz},{path:"home/overview",component:wz},{path:"home/fixes/passive-voice-fix",component:xz},{path:"home/fixes/wordiness-fix",component:Oz},{path:"home/fixes/academic-style-fix",component:Fz},{path:"home/fixes/grammar-fix",component:Vz},{path:"home/fixes/nominalizations-fix",component:Hz},{path:"home/fixes/sentences-fix",component:$z},{path:"home/fixes/eggcorns-fix",component:Wz},{path:"home/fixes/transitions-fix",component:(()=>{class n{constructor(t,r,i,l,u,f,y,b,C){this.data=t,this.transitions=r,this.academic=i,this.eggcorns=l,this.grammar=u,this.nominalizations=f,this.passivevoice=y,this.wordiness=b,this.sentences=C,this.title="Tranistions-Fix",this.transitionsFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){if(this.needHighlight){this.needHighlight=!1,this.transitions.changeTotalTransitions(0),this.data.changeTotalSentences(0),this.data.changeGrade(0),this.transitionsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let l=0;l<t.length;l++)("."===t.charAt(l)||"!"===t.charAt(l)||"?"===t.charAt(l))&&this.data.changeTotalSentences(this.totalSentences+1);this.transitionsFix(t)}}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.transitionsService(),this.needHighlight=!0}transitionsFix(t){for(const r in this.transitionsTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.transitions.changeTotalTransitions(this.totalTransitions+1),this.transitionsUserTable.find.push("\u2022 "+r),this.transitions.changeTransitionsUserTable(this.transitionsUserTable),this.highlight(r));this.transitionsScore=this.totalTransitions/this.totalSentences*100,(isNaN(this.transitionsScore)||this.transitionsScore===1/0)&&(this.transitionsScore=0);try{if(0==this.transitionsScore?(this.transitionsAlertColor="red",this.transitionsFeedback="Your writing seems to have no transition words."):this.transitionsScore<=10?(this.transitionsFeedback="The number of transition words in your writing seems low.",this.transitionsAlertColor="red"):this.transitionsScore<=80?(this.transitionsFeedback="Woot! Your writing seems to have a good proportion of transitions.",this.transitionsAlertColor="green"):(this.transitionsFeedback="Woot! Your writing seems to have a lot of transitions. Make sure you're not overusing transition words.",this.transitionsAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.transitionsFeedback="Make sure you enter at least one sentence.",this.transitionsAlertColor="orange",this.transitionsScore=0}this.transitions.changeTransitionsScore(Math.round(10*this.transitionsScore)/10),this.transitions.changeTransitionsFeedback(this.transitionsFeedback),this.transitions.changeTransitionsAlertColor(this.transitionsAlertColor)}transitionsService(){this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.transitions.currentTransitionsFeedback.subscribe(t=>this.transitionsFeedback=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsTable.subscribe(t=>this.transitionsTable=t),this.transitions.currentTransitionsUserTable.subscribe(t=>this.transitionsUserTable=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span class="highlight" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ei),a.Y36(kl),a.Y36(Nl),a.Y36(Ol),a.Y36(Ml),a.Y36(Rl),a.Y36(Dl),a.Y36(xl),a.Y36(tu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-transitions-fix"]],decls:47,vars:10,consts:[[3,"mouseenter"],["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],["class","inDepth",4,"ngIf"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"],[1,"inDepth"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.NdJ("mouseenter",function(){return r.reHighlight()}),a.TgZ(1,"mat-toolbar",1)(2,"a",2),a._uU(3,"Overview"),a.qZA(),a.TgZ(4,"a",3),a._uU(5,"Passive Voice"),a.qZA(),a.TgZ(6,"a",4),a._uU(7,"Wordiness"),a.qZA(),a.TgZ(8,"a",5),a._uU(9,"Academic Style"),a.qZA(),a.TgZ(10,"a",6),a._uU(11,"Grammar"),a.qZA(),a.TgZ(12,"a",7),a._uU(13,"Nominalizations"),a.qZA(),a.TgZ(14,"a",8),a._uU(15,"Sentences"),a.qZA(),a.TgZ(16,"a",9),a._uU(17,"Eggcorns"),a.qZA(),a.TgZ(18,"a",10),a._uU(19,"Transitions"),a.qZA(),a.TgZ(20,"a",11),a.NdJ("click",function(){return r.startOverClick()}),a._uU(21,"Start Over"),a.qZA()(),a.TgZ(22,"body")(23,"div",12)(24,"b",13),a._uU(25),a.qZA()(),a.TgZ(26,"mat-toolbar",14)(27,"mat-toolbar-row",15)(28,"b"),a._uU(29,"Transitions"),a.qZA()(),a.TgZ(30,"mat-toolbar-row",16),a._uU(31),a.qZA()(),a.TgZ(32,"div")(33,"div",17),a.YNc(34,Kz,20,0,"mat-card",18),a.TgZ(35,"p",19),a._uU(36),a.qZA(),a._UZ(37,"br"),a.qZA(),a.TgZ(38,"div",20)(39,"h1",21)(40,"b"),a._uU(41),a.qZA()(),a.TgZ(42,"table")(43,"td"),a.YNc(44,Yz,2,1,"tr",22),a.qZA(),a.TgZ(45,"td"),a.YNc(46,Qz,2,1,"tr",22),a.qZA()()()()()()),2&t&&(a.xp6(23),a.Udp("background-color",r.transitionsAlertColor),a.xp6(2),a.AsE(" ",r.totalTransitions," instances (",r.transitionsScore,"% of sentences) "),a.xp6(6),a.Oqu(r.transitionsFeedback),a.xp6(3),a.Q6J("ngIf",r.transitionsScore<80),a.xp6(2),a.Oqu(r.message),a.xp6(5),a.hij("Transitions Found - ",r.totalTransitions," instance(s)"),a.xp6(3),a.Q6J("ngForOf",r.transitionsUserTable.find),a.xp6(2),a.Q6J("ngForOf",r.transitionsUserTable.suggestion))},dependencies:[Bn,zr,sr,lv,UM,pI,jd,Bd],styles:[".linkedpages{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}body{background-color:#f3fff6;font-family:Futura,Trebuchet MS,Arial,sans-serif}.navbar{margin:0;padding:0}.category{margin:20px 0;padding:10px 20px}.title{font-size:36px}.description{font-size:20px}.column1{float:left;width:65%;padding-left:20px}.column2{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:700;display:table-cell}.rehighlight:hover{background-color:#00704a;border-color:#fff;color:#fff}.feedback{font-size:30px}.linkedpages{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.alert-box{background-color:#d39898;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td{padding-right:10px}.box{font-size:20px}.highlight{background-color:#d39898;font-family:Futura,Trebuchet MS,Arial,sans-serif}.feedbackPopup{visibility:hidden;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;z-index:1}.highlight:hover .feedbackPopup{visibility:visible}.feedbackPopup .highlight{background-color:#000}.feedbackPopup .highlight .feedbackPopup{visibility:hidden}.inDepth{background:#f5f5f5;width:95%}\n"],encapsulation:2}),n})()}];let Xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xc.forRoot(Jz,{relativeLinkResolution:"legacy"}),xc]}),n})();function eq(n,e){1&n&&(a.TgZ(0,"a",11),a._uU(1,"ADMIN Page"),a.qZA())}function tq(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",12),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.logout())}),a._uU(1,"Log Out"),a.qZA()}}function nq(n,e){1&n&&(a.TgZ(0,"a",13),a._uU(1,"ADMIN Log In"),a.qZA())}let rq=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.auth=r,this.router=i,this.title="Grammark"}ngOnInit(){}logout(){this.afAuth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(iv),a.Y36(iE),a.Y36(Rn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:22,vars:3,consts:[["color","primary",1,"navbar"],[1,"grammark"],[1,"linksHighlight"],["routerLink","",1,"linkedpages"],["routerLink","about",1,"linkedpages"],["href","https://github.com/markfullmer/grammark",1,"linkedpages"],["routerLink","download",1,"linkedpages"],["routerLink","resources",1,"linkedpages"],["class","linkedpages","routerLink","/dashboard",4,"ngIf"],["class","linkedpages","routerLink","",3,"click",4,"ngIf"],["class","linkedpages","routerLink","/login",4,"ngIf"],["routerLink","/dashboard",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],["routerLink","/login",1,"linkedpages"]],template:function(t,r){1&t&&(a.TgZ(0,"mat-toolbar",0)(1,"div")(2,"a",1)(3,"h1"),a._uU(4,"Grammark 4.0 Project CLAWS:"),a.qZA(),a.TgZ(5,"h3"),a._uU(6,"Concise Language and Academic Writing Suggestions"),a.qZA()()(),a.TgZ(7,"div",2)(8,"a",3),a._uU(9,"HOME"),a.qZA(),a.TgZ(10,"a",4),a._uU(11,"ABOUT"),a.qZA(),a.TgZ(12,"a",5),a._uU(13,"SOURCE CODE"),a.qZA(),a.TgZ(14,"a",6),a._uU(15,"DOWNLOAD"),a.qZA(),a.TgZ(16,"a",7),a._uU(17,"RESOURCES"),a.qZA(),a.YNc(18,eq,2,0,"a",8),a.YNc(19,tq,2,0,"a",9),a.YNc(20,nq,2,0,"a",10),a.qZA()(),a._UZ(21,"router-outlet")),2&t&&(a.xp6(18),a.Q6J("ngIf",r.auth.userLoggedIn),a.xp6(1),a.Q6J("ngIf",r.auth.userLoggedIn),a.xp6(1),a.Q6J("ngIf",!r.auth.userLoggedIn))},dependencies:[zr,Up,sr,jd],styles:[".mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#00704a;color:#fff;height:80px}.navbar[_ngcontent-%COMP%]{justify-content:space-between}.highlight[_ngcontent-%COMP%]{background-color:#eef43b}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:18px;line-height:1;font-family:Futura,Trebuchet MS,Arial,sans-serif}.linkedpages[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:inline-block;width:110px;text-align:center;font-size:13px;font-family:Futura,Trebuchet MS,Arial,sans-serif}.linkedpages[_ngcontent-%COMP%]:hover{color:#adadad}a[_ngcontent-%COMP%]:active{color:#00f}"]}),n})();const JP_firebase={apiKey:"AIzaSyCSYHn4OMZfXeoW0TEFTqnwgwuS_I0FqCI",authDomain:"gramulardatabase.firebaseapp.com",databaseURL:"https://gramulardatabase-default-rtdb.firebaseio.com",projectId:"gramulardatabase",storageBucket:"gramulardatabase.appspot.com",messagingSenderId:"765198495430",appId:"1:765198495430:web:c54cd6006c9b84307031c7",measurementId:"G-KGM1GEWG1T"};function XP(n){return new a.vHH(3e3,!1)}function Vq(){return"undefined"!=typeof window&&void 0!==window.document}function WM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hf(n){switch(n.length){case 0:return new cE;case 1:return n[0];default:return new UP(n)}}function eL(n,e,t,r,i=new Map,l=new Map){const u=[],f=[];let y=-1,b=null;if(r.forEach(C=>{const x=C.get("offset"),P=x==y,H=P&&b||new Map;C.forEach(($,ue)=>{let ve=ue,je=$;if("offset"!==ue)switch(ve=e.normalizePropertyName(ve,u),je){case"!":je=i.get(ue);break;case Ud:je=l.get(ue);break;default:je=e.normalizeStyleValue(ue,ve,je,u)}H.set(ve,je)}),P||f.push(H),b=H,y=x}),u.length)throw function Iq(n){return new a.vHH(3502,!1)}();return f}function KM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&YM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&YM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&YM(t,"destroy",n)))}}function YM(n,e,t){const r=t.totalTime,l=QM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function QM(n,e,t,r,i="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!u}}function Go(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function tL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let JM=(n,e)=>!1,nL=(n,e,t)=>[],rL=null;function XM(n){const e=n.parentNode||n.host;return e===rL?null:e}(WM()||"undefined"!=typeof Element)&&(Vq()?(rL=(()=>document.documentElement)(),JM=(n,e)=>{for(;e;){if(e===n)return!0;e=XM(e)}return!1}):JM=(n,e)=>n.contains(e),nL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let om=null,iL=!1;const sL=JM,oL=nL;let aL=(()=>{class n{validateStyleProperty(t){return function Bq(n){om||(om=function jq(){return"undefined"!=typeof document?document.body:null}()||{},iL=!!om.style&&"WebkitAppearance"in om.style);let e=!0;return om.style&&!function Uq(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in om.style,!e&&iL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in om.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return sL(t,r)}getParentElement(t){return XM(t)}query(t,r,i){return oL(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,u,f=[],y){return new cE(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),e1=(()=>{class n{}return n.NOOP=new aL,n})();const t1="ng-enter",yI="ng-leave",_I="ng-trigger",vI=".ng-trigger",cL="ng-animating",n1=".ng-animating";function Hd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:r1(parseFloat(e[1]),e[2])}function r1(n,e){return"s"===e?1e3*n:n}function bI(n,e,t){return n.hasOwnProperty("duration")?n:function qq(n,e,t){let i,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(XP()),{duration:0,delay:0,easing:""};i=r1(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(l=r1(parseFloat(y),f[4]));const b=f[5];b&&(u=b)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function iq(){return new a.vHH(3100,!1)}()),f=!0),l<0&&(e.push(function sq(){return new a.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,XP())}return{duration:i,delay:l,easing:u}}(n,e,t)}function dE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function uL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function zf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function hL(n,e,t){return t?e+":"+t+";":""}function fL(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=hL(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=hL(0,Wq(t),n.style[t]));n.setAttribute("style",e)}function nu(n,e,t){n.style&&(e.forEach((r,i)=>{const l=o1(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),WM()&&fL(n))}function am(n,e){n.style&&(e.forEach((t,r)=>{const i=o1(r);n.style[i]=""}),WM()&&fL(n))}function hE(n){return Array.isArray(n)?1==n.length?n[0]:LP(n):n}const s1=new RegExp("{{\\s*(.+?)\\s*}}","g");function pL(n){let e=[];if("string"==typeof n){let t;for(;t=s1.exec(n);)e.push(t[1]);s1.lastIndex=0}return e}function fE(n,e,t){const r=n.toString(),i=r.replace(s1,(l,u)=>{let f=e[u];return null==f&&(t.push(function aq(n){return new a.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function wI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Gq=/-+([a-z0-9])/g;function o1(n){return n.replace(Gq,(...e)=>e[1].toUpperCase())}function Wq(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function lq(n){return new a.vHH(3004,!1)}()}}function gL(n,e){return window.getComputedStyle(n)[e]}function e$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function t$(n,e,t){if(":"==n[0]){const y=function n$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Eq(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function wq(n){return new a.vHH(3015,!1)}()),e;const i=r[1],l=r[2],u=r[3];e.push(mL(i,u));"<"==l[0]&&!("*"==i&&"*"==u)&&e.push(mL(u,i))}(r,t,e)):t.push(n),t}const CI=new Set(["true","1"]),II=new Set(["false","0"]);function mL(n,e){const t=CI.has(n)||II.has(n),r=CI.has(e)||II.has(e);return(i,l)=>{let u="*"==n||n==i,f="*"==e||e==l;return!u&&t&&"boolean"==typeof i&&(u=i?CI.has(n):II.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?CI.has(e):II.has(e)),u&&f}}const r$=new RegExp("s*:selfs*,?","g");function a1(n,e,t,r){return new i$(n).build(e,t,r)}class i${constructor(e){this._driver=e}build(e,t,r){const i=new a$(t);return this._resetContextStyleTimingState(i),Wo(this,hE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function uq(){return new a.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,b=y.name;b.toString().split(/\s*,\s*/).forEach(C=>{y.name=C,l.push(this.visitState(y,t))}),y.name=b}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,u.push(y)}else t.errors.push(function dq(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,u=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{pL(y).forEach(b=>{u.hasOwnProperty(b)||l.add(b)})})}),l.size&&(wI(l.values()),t.errors.push(function hq(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wo(this,hE(e.animation),t);return{type:1,matchers:e$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:lm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wo(this,r,t)),options:lm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(u=>{t.currentTime=r;const f=Wo(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:lm(e.options)}}visitAnimate(e,t){const r=function c$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return l1(bI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=l1(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=bI(t,e);return l1(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:gI({});if(5==l.type)i=this.visitKeyframes(l,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};r.easing&&(b.easing=r.easing),u=gI(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(u,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Ud?r.push(f):t.errors.push(new a.vHH(3002,!1)):r.push(uL(f));let l=!1,u=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!l))for(let y of f.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,y)=>{const b=t.collectedStyles.get(t.currentQuerySelector),C=b.get(y);let x=!0;C&&(l!=i&&l>=C.startTime&&i<=C.endTime&&(t.errors.push(function pq(n,e,t,r,i){return new a.vHH(3010,!1)}()),x=!1),l=C.startTime),x&&b.set(y,{startTime:l,endTime:i}),t.options&&function Zq(n,e,t){const r=e.params||{},i=pL(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function oq(n){return new a.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gq(){return new a.vHH(3011,!1)}()),r;let l=0;const u=[];let f=!1,y=!1,b=0;const C=e.steps.map(je=>{const et=this._makeStyleAst(je,t);let ut=null!=et.offset?et.offset:function l$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(et.styles),Ke=0;return null!=ut&&(l++,Ke=et.offset=ut),y=y||Ke<0||Ke>1,f=f||Ke<b,b=Ke,u.push(Ke),et});y&&t.errors.push(function mq(){return new a.vHH(3012,!1)}()),f&&t.errors.push(function yq(){return new a.vHH(3200,!1)}());const x=e.steps.length;let P=0;l>0&&l<x?t.errors.push(function _q(){return new a.vHH(3202,!1)}()):0==l&&(P=1/(x-1));const H=x-1,$=t.currentTime,ue=t.currentAnimateTimings,ve=ue.duration;return C.forEach((je,et)=>{const ut=P>0?et==H?1:P*et:u[et],Ke=ut*ve;t.currentTime=$+ue.delay+Ke,ue.duration=Ke,this._validateStyleAst(je,t),je.offset=ut,r.styles.push(je)}),r}visitReference(e,t){return{type:8,animation:Wo(this,hE(e.animation),t),options:lm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:lm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:lm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function s$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(r$,"")),n=n.replace(/@\*/g,vI).replace(/@\w+/g,t=>vI+"-"+t.slice(1)).replace(/:animating/g,n1),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Go(t.collectedStyles,t.currentQuerySelector,new Map);const f=Wo(this,hE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:lm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function vq(){return new a.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:bI(e.timings,t.errors,!0);return{type:12,animation:Wo(this,hE(e.animation),t),timings:r,options:null}}}class a${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lm(n){return n?(n=dE(n)).params&&(n.params=function o$(n){return n?dE(n):null}(n.params)):n={},n}function l1(n,e,t){return{duration:n,delay:e,easing:t}}function c1(n,e,t,r,i,l,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:u,subTimeline:f}}class AI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const h$=new RegExp(":enter","g"),p$=new RegExp(":leave","g");function u1(n,e,t,r,i,l=new Map,u=new Map,f,y,b=[]){return(new g$).buildKeyframes(n,e,t,r,i,l,u,f,y,b)}class g${buildKeyframes(e,t,r,i,l,u,f,y,b,C=[]){b=b||new AI;const x=new d1(e,t,b,i,l,C,[]);x.options=y;const P=y.delay?Hd(y.delay):0;x.currentTimeline.delayNextStep(P),x.currentTimeline.setStyles([u],null,x.errors,y),Wo(this,r,x);const H=x.timelines.filter($=>$.containsAnimation());if(H.length&&f.size){let $;for(let ue=H.length-1;ue>=0;ue--){const ve=H[ue];if(ve.element===t){$=ve;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,x.errors,y)}return H.length?H.map($=>$.buildKeyframes()):[c1(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){var i;for(const l of e){const u=null==l?void 0:l.delay;if(u){const f="number"==typeof u?u:Hd(fE(u,null!==(i=null==l?void 0:l.params)&&void 0!==i?i:{},t.errors));r.delayNextStep(f)}}}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const u=null!=r.duration?Hd(r.duration):null,f=null!=r.delay?Hd(r.delay):null;return 0!==u&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,u,f);l=Math.max(l,b.duration+b.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Wo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=DI);const u=Hd(l.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Wo(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Hd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),Wo(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return bI(t.params?fE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*l),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Hd(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=DI);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((b,C)=>{t.currentQueryIndex=C;const x=t.createSubContext(e.options,b);l&&x.delayNextStep(l),b===t.element&&(y=x.currentTimeline),Wo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),f=u*(t.currentQueryTotal-1);let y=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const C=t.currentTimeline;y&&C.delayNextStep(y);const x=C.currentTime;Wo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const DI={};class d1{constructor(e,t,r,i,l,u,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new xI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Hd(r.duration)),null!=r.delay&&(i.delay=Hd(r.delay));const l=r.params;if(l){let u=i.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=fE(l[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new d1(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=DI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new m$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(h$,"."+this._enterClassName)).replace(p$,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!l&&0==f.length&&u.push(function bq(n){return new a.vHH(3014,!1)}()),f}}class xI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ud),this._currentKeyframe.set(t,Ud);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){var l;t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},f=function y$(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,Ud)}else zf(i,t)}),t}(e,this._globalTimelineStyles);for(let[y,b]of f){const C=fE(b,u,r);this._pendingStyles.set(y,C),this._localTimelineStyles.has(y)||this._backFill.set(y,null!==(l=this._globalTimelineStyles.get(y))&&void 0!==l?l:Ud),this._updateStyle(y,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const b=zf(f,new Map,this._backFill);b.forEach((C,x)=>{"!"===C?e.add(x):C===Ud&&t.add(x)}),r||b.set("offset",y/this.duration),i.push(b)});const l=e.size?wI(e.values()):[],u=t.size?wI(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return c1(this.element,i,l,u,this.duration,this.startTime,this.easing,!1)}}class m$ extends xI{constructor(e,t,r,i,l,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=r+t,f=t/u,y=zf(e[0]);y.set("offset",0),l.push(y);const b=zf(e[0]);b.set("offset",vL(f)),l.push(b);const C=e.length-1;for(let x=1;x<=C;x++){let P=zf(e[x]);const H=P.get("offset");P.set("offset",vL((t+H*r)/u)),l.push(P)}r=u,t=0,i="",e=l}return c1(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function vL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class h1{}const _$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class v$ extends h1{normalizePropertyName(e,t){return o1(e)}normalizeStyleValue(e,t,r,i){let l="";const u=r.toString().trim();if(_$.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function cq(n,e){return new a.vHH(3005,!1)}())}return u+l}}function bL(n,e,t,r,i,l,u,f,y,b,C,x,P){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:u,timelines:f,queriedElements:y,preStyleProps:b,postStyleProps:C,totalTime:x,errors:P}}const f1={};class wL{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function b$(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(null==e?void 0:e.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,u,f,y,b,C){var x;const P=[],H=this.ast.options&&this.ast.options.params||f1,ue=this.buildStyles(r,f&&f.params||f1,P),ve=y&&y.params||f1,je=this.buildStyles(i,ve,P),et=new Set,ut=new Map,Ke=new Map,Tt="void"===i,Lt={params:w$(ve,H),delay:null===(x=this.ast.options)||void 0===x?void 0:x.delay},mn=C?[]:u1(e,t,this.ast.animation,l,u,ue,je,Lt,b,P);let ki=0;if(mn.forEach(Ll=>{ki=Math.max(Ll.duration+Ll.delay,ki)}),P.length)return bL(t,this._triggerName,r,i,Tt,ue,je,[],[],ut,Ke,ki,P);mn.forEach(Ll=>{const gE=Ll.element,mE=Go(ut,gE,new Set);Ll.preStyleProps.forEach(uv=>mE.add(uv));const yE=Go(Ke,gE,new Set);Ll.postStyleProps.forEach(uv=>yE.add(uv)),gE!==t&&et.add(gE)});const NI=wI(et.values());return bL(t,this._triggerName,r,i,Tt,ue,je,mn,NI,ut,Ke,ki)}}function w$(n,e){const t=dE(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class E${constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=dE(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!==u&&(i[l]=u)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,f)=>{u&&(u=fE(u,i,t));const y=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,y,u,t),r.set(y,u)})}),r}}class S${constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new E$(i.style,i.options&&i.options.params||{},r))}),EL(this.states,"true","1"),EL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new wL(e,i,this.states))}),this.fallbackTransition=function C$(n,e,t){return new wL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function EL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const I$=new AI;class A${constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],l=a1(this._driver,t,r,[]);if(r.length)throw function Aq(n){return new a.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=eL(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let u;const f=new Map;if(l?(u=u1(this._driver,t,l,t1,yI,new Map,new Map,r,I$,i),u.forEach(C=>{const x=Go(f,C.element,new Map);C.postStyleProps.forEach(P=>x.set(P,null))})):(i.push(function Dq(){return new a.vHH(3300,!1)}()),u=[]),i.length)throw function xq(n){return new a.vHH(3504,!1)}();f.forEach((C,x)=>{C.forEach((P,H)=>{C.set(H,this._driver.computeStyle(x,H,Ud))})});const b=Hf(u.map(C=>{const x=f.get(C.element);return this._buildPlayer(C,new Map,x)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function kq(n){return new a.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=QM(t,"","","");return KM(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const TL="ng-animate-queued",p1="ng-animate-disabled",O$=[],SL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},N$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class g1{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function L$(n){return null!=n?n:null}(r?e.value:e),r){const l=dE(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const pE="void",m1=new g1(pE);class R${constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Mq(n,e){return new a.vHH(3302,!1)}();if(null==r||0==r.length)throw function Oq(n){return new a.vHH(3303,!1)}();if(!function V$(n){return"start"==n||"done"==n}(r))throw function Nq(n,e){return new a.vHH(3400,!1)}();const l=Go(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};l.push(u);const f=Go(this._engine.statesByElement,e,new Map);return f.has(t)||(Pa(e,_I),Pa(e,_I+"-"+t),f.set(t,m1)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(u);y>=0&&l.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Rq(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),u=new y1(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Pa(e,_I),Pa(e,_I+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const b=new g1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),f.set(t,b),y||(y=m1),b.value!==pE&&y.value===b.value){if(!function j$(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,b.params)){const ue=[],ve=l.matchStyles(y.value,y.params,ue),je=l.matchStyles(b.value,b.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{am(e,ve),nu(e,je)})}return}const P=Go(this._engine.playersByElement,e,[]);P.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let H=l.matchTransition(y.value,b.value,e,b.params),$=!1;if(!H){if(!i)return;H=l.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:y,toState:b,player:u,isFallbackTransition:$}),$||(Pa(e,TL),u.onStart(()=>{cv(e,TL)})),u.onDone(()=>{let ue=this.players.indexOf(u);ue>=0&&this.players.splice(ue,1);const ve=this._engine.playersByElement.get(e);if(ve){let je=ve.indexOf(u);je>=0&&ve.splice(je,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,vI,!0);r.forEach(i=>{if(i[Fa])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),u=new Map;if(l){const f=[];if(l.forEach((y,b)=>{if(u.set(b,y.value),this._triggers.has(b)){const C=this.trigger(e,b,pE,i);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Hf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const u=l.name;if(i.has(u))return;i.add(u);const y=this._triggers.get(u).fallbackTransition,b=r.get(u)||m1,C=new g1(pE),x=new y1(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:y,fromState:b,toState:C,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Fa];(!l||l===SL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Pa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==r.triggerName){const y=QM(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,KM(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class F${constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new R$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(kI(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!kI(t))return;const l=t[Fa];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pa(e,p1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cv(e,p1))}removeNode(e,t,r,i){if(kI(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Fa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return kI(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,vI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,n1,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Fa];if(r&&r.setForRemoval){if(e[Fa]=SL,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}!(null===(t=e.classList)||void 0===t)&&t.contains(p1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Pa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Fq(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new AI,i=[],l=new Map,u=[],f=new Map,y=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(dt=>{C.add(dt);const Ct=this.driver.query(dt,".ng-animate-queued",!0);for(let Ot=0;Ot<Ct.length;Ot++)C.add(Ct[Ot])});const x=this.bodyNode,P=Array.from(this.statesByElement.keys()),H=AL(P,this.collectedEnterElements),$=new Map;let ue=0;H.forEach((dt,Ct)=>{const Ot=t1+ue++;$.set(Ct,Ot),dt.forEach(on=>Pa(on,Ot))});const ve=[],je=new Set,et=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Ct=this.collectedLeaveElements[dt],Ot=Ct[Fa];Ot&&Ot.setForRemoval&&(ve.push(Ct),je.add(Ct),Ot.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(on=>je.add(on)):et.add(Ct))}const ut=new Map,Ke=AL(P,Array.from(je));Ke.forEach((dt,Ct)=>{const Ot=yI+ue++;ut.set(Ct,Ot),dt.forEach(on=>Pa(on,Ot))}),e.push(()=>{H.forEach((dt,Ct)=>{const Ot=$.get(Ct);dt.forEach(on=>cv(on,Ot))}),Ke.forEach((dt,Ct)=>{const Ot=ut.get(Ct);dt.forEach(on=>cv(on,Ot))}),ve.forEach(dt=>{this.processLeaveNode(dt)})});const Tt=[],Lt=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Ot=>{const on=Ot.player,kr=Ot.element;if(Tt.push(on),this.collectedEnterElements.length){const ms=kr[Fa];if(ms&&ms.setForMove){if(ms.previousTriggersValues&&ms.previousTriggersValues.has(Ot.triggerName)){const cm=ms.previousTriggersValues.get(Ot.triggerName),La=this.statesByElement.get(Ot.element);if(La&&La.has(Ot.triggerName)){const RI=La.get(Ot.triggerName);RI.value=cm,La.set(Ot.triggerName,RI)}}return void on.destroy()}}const ru=!x||!this.driver.containsElement(x,kr),Ko=ut.get(kr),qf=$.get(kr),br=this._buildInstruction(Ot,r,qf,Ko,ru);if(br.errors&&br.errors.length)return void Lt.push(br);if(ru)return on.onStart(()=>am(kr,br.fromStyles)),on.onDestroy(()=>nu(kr,br.toStyles)),void i.push(on);if(Ot.isFallbackTransition)return on.onStart(()=>am(kr,br.fromStyles)),on.onDestroy(()=>nu(kr,br.toStyles)),void i.push(on);const VL=[];br.timelines.forEach(ms=>{ms.stretchStartingKeyframe=!0,this.disabledNodes.has(ms.element)||VL.push(ms)}),br.timelines=VL,r.append(kr,br.timelines),u.push({instruction:br,player:on,element:kr}),br.queriedElements.forEach(ms=>Go(f,ms,[]).push(on)),br.preStyleProps.forEach((ms,cm)=>{if(ms.size){let La=y.get(cm);La||y.set(cm,La=new Set),ms.forEach((RI,b1)=>La.add(b1))}}),br.postStyleProps.forEach((ms,cm)=>{let La=b.get(cm);La||b.set(cm,La=new Set),ms.forEach((RI,b1)=>La.add(b1))})});if(Lt.length){const dt=[];Lt.forEach(Ct=>{dt.push(function Pq(n,e){return new a.vHH(3505,!1)}())}),Tt.forEach(Ct=>Ct.destroy()),this.reportError(dt)}const mn=new Map,ki=new Map;u.forEach(dt=>{const Ct=dt.element;r.has(Ct)&&(ki.set(Ct,Ct),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,mn))}),i.forEach(dt=>{const Ct=dt.element;this._getPreviousPlayers(Ct,!1,dt.namespaceId,dt.triggerName,null).forEach(on=>{Go(mn,Ct,[]).push(on),on.destroy()})});const NI=ve.filter(dt=>xL(dt,y,b)),Ll=new Map;IL(Ll,this.driver,et,b,Ud).forEach(dt=>{xL(dt,y,b)&&NI.push(dt)});const mE=new Map;H.forEach((dt,Ct)=>{IL(mE,this.driver,new Set(dt),y,"!")}),NI.forEach(dt=>{var Ct,Ot;const on=Ll.get(dt),kr=mE.get(dt);Ll.set(dt,new Map([...Array.from(null!==(Ct=null==on?void 0:on.entries())&&void 0!==Ct?Ct:[]),...Array.from(null!==(Ot=null==kr?void 0:kr.entries())&&void 0!==Ot?Ot:[])]))});const yE=[],uv=[],LL={};u.forEach(dt=>{const{element:Ct,player:Ot,instruction:on}=dt;if(r.has(Ct)){if(C.has(Ct))return Ot.onDestroy(()=>nu(Ct,on.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(on.totalTime),void i.push(Ot);let kr=LL;if(ki.size>1){let Ko=Ct;const qf=[];for(;Ko=Ko.parentNode;){const br=ki.get(Ko);if(br){kr=br;break}qf.push(Ko)}qf.forEach(br=>ki.set(br,kr))}const ru=this._buildAnimation(Ot.namespaceId,on,mn,l,mE,Ll);if(Ot.setRealPlayer(ru),kr===LL)yE.push(Ot);else{const Ko=this.playersByElement.get(kr);Ko&&Ko.length&&(Ot.parentPlayer=Hf(Ko)),i.push(Ot)}}else am(Ct,on.fromStyles),Ot.onDestroy(()=>nu(Ct,on.toStyles)),uv.push(Ot),C.has(Ct)&&i.push(Ot)}),uv.forEach(dt=>{const Ct=l.get(dt.element);if(Ct&&Ct.length){const Ot=Hf(Ct);dt.setRealPlayer(Ot)}}),i.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<ve.length;dt++){const Ct=ve[dt],Ot=Ct[Fa];if(cv(Ct,yI),Ot&&Ot.hasAnimation)continue;let on=[];if(f.size){let ru=f.get(Ct);ru&&ru.length&&on.push(...ru);let Ko=this.driver.query(Ct,n1,!0);for(let qf=0;qf<Ko.length;qf++){let br=f.get(Ko[qf]);br&&br.length&&on.push(...br)}}const kr=on.filter(ru=>!ru.destroyed);kr.length?U$(this,Ct,kr):this.processLeaveNode(Ct)}return ve.length=0,yE.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Ct=this.players.indexOf(dt);this.players.splice(Ct,1)}),dt.play()}),yE}elementContainsData(e,t){let r=!1;const i=t[Fa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const y=!l||l==pE;f.forEach(b=>{b.queued||!y&&b.triggerName!=i||u.push(b)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const l=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,C=b!==l,x=Go(r,b,[]);this._getPreviousPlayers(b,C,u,f,t.toState).forEach(H=>{const $=H.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),H.destroy(),x.push(H)})}am(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,u){const f=t.triggerName,y=t.element,b=[],C=new Set,x=new Set,P=t.timelines.map($=>{const ue=$.element;C.add(ue);const ve=ue[Fa];if(ve&&ve.removedBeforeQueried)return new cE($.duration,$.delay);const je=ue!==y,et=function B$(n){const e=[];return DL(n,e),e}((r.get(ue)||O$).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===ue),ut=l.get(ue),Ke=u.get(ue),Tt=eL(0,this._normalizer,0,$.keyframes,ut,Ke),Lt=this._buildPlayer($,Tt,et);if($.subTimeline&&i&&x.add(ue),je){const mn=new y1(e,f,ue);mn.setRealPlayer(Lt),b.push(mn)}return Lt});b.forEach($=>{Go(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function P$(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,$.element,$))}),C.forEach($=>Pa($,cL));const H=Hf(P);return H.onDestroy(()=>{C.forEach($=>cv($,cL)),nu(y,t.toStyles)}),x.forEach($=>{Go(i,$,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new cE(e.duration,e.delay)}}class y1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new cE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>KM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Go(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function kI(n){return n&&1===n.nodeType}function CL(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function IL(n,e,t,r,i){const l=[];t.forEach(y=>l.push(CL(y)));const u=[];r.forEach((y,b)=>{const C=new Map;y.forEach(x=>{const P=e.computeStyle(b,x,i);C.set(x,P),(!P||0==P.length)&&(b[Fa]=N$,u.push(b))}),n.set(b,C)});let f=0;return t.forEach(y=>CL(y,l[f++])),u}function AL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function u(f){if(!f)return 1;let y=l.get(f);if(y)return y;const b=f.parentNode;return y=t.has(b)?b:i.has(b)?1:u(b),l.set(f,y),y}return e.forEach(f=>{const y=u(f);1!==y&&t.get(y).push(f)}),t}function Pa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function cv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function U$(n,e,t){Hf(t).onDone(()=>n.processLeaveNode(e))}function DL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof UP?DL(r.players,e):e.push(r)}}function xL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class MI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new F$(e,t,r),this._timelineEngine=new A$(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const y=[],C=a1(this._driver,l,y,[]);if(y.length)throw function Cq(n,e){return new a.vHH(3404,!1)}();f=function T$(n,e,t){return new S$(n,e,t)}(i,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,u]=tL(r);this._timelineEngine.command(l,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[u,f]=tL(r);return this._timelineEngine.listen(u,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let z$=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&nu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nu(this._element,this._initialStyles),this._endStyles&&(nu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(am(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(am(this._element,this._endStyles),this._endStyles=null),nu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _1(n){let e=null;return n.forEach((t,r)=>{(function q$(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class kL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:gL(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return sL(e,t)}getParentElement(e){return XM(e)}query(e,t,r){return oL(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,u=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(y.easing=l);const b=new Map,C=u.filter(H=>H instanceof kL);(function Kq(n,e){return 0===n||0===e})(r,i)&&C.forEach(H=>{H.currentSnapshot.forEach(($,ue)=>b.set(ue,$))});let x=function $q(n){return n.length?n[0]instanceof Map?n:n.map(e=>uL(e)):[]}(t).map(H=>zf(H));x=function Yq(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,u)=>{r.has(u)||i.push(u),r.set(u,l)}),i.length)for(let l=1;l<e.length;l++){let u=e[l];i.forEach(f=>u.set(f,gL(n,f)))}}return e}(e,x,b);const P=function H$(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=_1(e[0]),e.length>1&&(r=_1(e[e.length-1]))):e instanceof Map&&(t=_1(e)),t||r?new z$(n,t,r):null}(e,x);return new kL(e,x,y,P)}}let Z$=(()=>{class n extends PP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?LP(t):t;return ML(this._renderer,null,r,"register",[i]),new G$(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class G$ extends class lH{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new W$(this._id,e,t||{},this._renderer)}}class W${constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ML(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ML(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const OL="@.disabled";let K$=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(l);return C||(C=new NL("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,C)),C}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=C=>{Array.isArray(C)?C.forEach(y):this.engine.registerTrigger(u,f,t,C.name,C)};return r.data.animation.forEach(y),new Y$(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(MI),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class NL{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==OL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Y$ extends NL{constructor(e,t,r,i,l){super(t,r,i,l),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==OL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Q$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),u="";return"@"!=l.charAt(0)&&([l,u]=function J$(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let X$=(()=>{class n extends MI{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(re),a.LFG(e1),a.LFG(h1),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const RL=[{provide:PP,useClass:Z$},{provide:h1,useFactory:function e6(){return new v$}},{provide:MI,useClass:X$},{provide:a.FYo,useFactory:function t6(n,e,t){return new K$(n,e,t)},deps:[mi,MI,a.R0b]}],v1=[{provide:e1,useFactory:()=>new $$},{provide:a.QbO,useValue:"BrowserAnimations"},...RL],FL=[{provide:e1,useClass:aL},{provide:a.QbO,useValue:"NoopAnimations"},...RL];let PL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?FL:v1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:v1,imports:[ol]}),n})();const n6=[Cz];let r6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[rq]}),n.\u0275inj=a.cJS({providers:[GM,iE],imports:[ol,Xz,R,PL,Fl.hO.initializeApp(JP_firebase),Q3,eH,zH,R,X,n6,PL]}),n})();Qi().bootstrapModule(r6).catch(n=>console.error(n))},5867:(Ue,ae,N)=>{N.d(ae,{C6:()=>a.getApps,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=N(9681);(0,a.registerVersion)("firebase","9.14.0","app")},127:(Ue,ae,N)=>{N.d(ae,{Z:()=>a.Z});var a=N(3942);a.Z.registerVersion("firebase","9.14.0","app-compat")},1277:(Ue,ae,N)=>{N.r(ae);var a=N(5861),ne=N(3942),V=N(2090),te=N(9681),Y=N(1877),G=N(655),re=N(4859);const Ae=function B(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ee=function le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new Y.Yd("@firebase/auth");function we(_,...p){Ne.logLevel<=Y.in.ERROR&&Ne.error(`Auth (${te.SDK_VERSION}): ${_}`,...p)}function ze(_,...p){throw At(_,...p)}function Be(_,...p){return At(_,...p)}function tt(_,p,m){const w=Object.assign(Object.assign({},Ee()),{[p]:m});return new V.LL("auth","Firebase",w).create(p,{appName:_.name})}function tn(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&ze(_,"argument-error"),tt(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function At(_,...p){if("string"!=typeof _){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return fe.create(_,...p)}function se(_,p,...m){if(!_)throw At(p,...m)}function De(_){const p="INTERNAL ASSERTION FAILED: "+_;throw we(p),new Error(p)}function ee(_,p){_||De(p)}const de=new Map;function ye(_){ee(_ instanceof Function,"Expected a class definition");let p=de.get(_);return p?(ee(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,de.set(_,p),p)}function Le(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function mt(){return"http:"===nn()||"https:"===nn()}function nn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class un{constructor(p,m){this.shortDelay=p,this.longDelay=m,ee(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function wn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(_,p){ee(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class en{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void De("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void De("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void De("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nt=new un(3e4,6e4);function $t(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function kn(_,p,m,w){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(_,p,m,w,k={}){return Tn(_,k,(0,a.Z)(function*(){let R={},X={};w&&("GET"===p?X=w:R={body:JSON.stringify(w)});const _e=(0,V.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),He=yield _._getAdditionalHeaders();return He["Content-Type"]="application/json",_.languageCode&&(He["X-Firebase-Locale"]=_.languageCode),en.fetch()(Qs(_,_.config.apiHost,m,_e),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Tn(_,p,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(_,p,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},dn),p);try{const k=new Mi(_),R=yield Promise.race([m(),k.promise]);k.clearNetworkTimeout();const X=yield R.json();if("needConfirmation"in X)throw Oi(_,"account-exists-with-different-credential",X);if(R.ok&&!("errorMessage"in X))return X;{const _e=R.ok?X.errorMessage:X.error.message,[He,Xe]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Oi(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===He)throw Oi(_,"email-already-in-use",X);if("USER_DISABLED"===He)throw Oi(_,"user-disabled",X);const It=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw tt(_,It,Xe);ze(_,It)}}catch(k){if(k instanceof V.ZR)throw k;ze(_,"network-request-failed")}})).apply(this,arguments)}function wr(_,p,m,w){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(_,p,m,w,k={}){const R=yield kn(_,p,m,w,k);return"mfaPendingCredential"in R&&ze(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Qs(_,p,m,w){const k=`${p}${m}?${w}`;return _.config.emulator?En(_.config,k):`${_.config.apiScheme}://${k}`}class Mi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Be(this.auth,"network-request-failed")),Nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oi(_,p,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const k=Be(_,p,w);return k.customData._tokenResponse=m,k}function Sn(){return(Sn=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Er(_,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Js(_,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ot(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Zt(){return(Zt=(0,a.Z)(function*(_,p=!1){const m=(0,V.m9)(_),w=yield m.getIdToken(p),k=St(w);se(k&&k.exp&&k.auth_time&&k.iat,m.auth,"internal-error");const R="object"==typeof k.firebase?k.firebase:void 0,X=null==R?void 0:R.sign_in_provider;return{claims:k,token:w,authTime:ot(ht(k.auth_time)),issuedAtTime:ot(ht(k.iat)),expirationTime:ot(ht(k.exp)),signInProvider:X||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function ht(_){return 1e3*Number(_)}function St(_){var p;const[m,w,k]=_.split(".");if(void 0===m||void 0===w||void 0===k)return we("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,V.tV)(w);return R?JSON.parse(R):(we("Failed to decode base64 JWT payload"),null)}catch(R){return we("Caught error parsing JWT payload as JSON",null===(p=R)||void 0===p?void 0:p.toString()),null}}function yn(_,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof V.ZR&&To(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function To({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Mn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const k=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,a.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class In{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ot(this.lastLoginAt),this.creationTime=ot(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _n(_){return So.apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(_){var p;const m=_.auth,w=yield _.getIdToken(),k=yield yn(_,Js(m,{idToken:w}));se(null==k?void 0:k.users.length,m,"internal-error");const R=k.users[0];_._notifyReloadListener(R);const X=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?Qe(R.providerUserInfo):[],_e=ei(_.providerData,X),It=!!_.isAnonymous&&!(_.email&&R.passwordHash||null!=_e&&_e.length),_t={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:_e,metadata:new In(R.createdAt,R.lastLoginAt),isAnonymous:It};Object.assign(_,_t)})).apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(_){const p=(0,V.m9)(_);yield _n(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ei(_,p){return[..._.filter(w=>!p.some(k=>k.providerId===w.providerId)),...p]}function Qe(_){return _.map(p=>{var{providerId:m}=p,w=(0,G._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Je(){return(Je=(0,a.Z)(function*(_,p){const m=yield Tn(_,{},(0,a.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:k,apiKey:R}=_.config,X=Qs(_,k,"/v1/token",`key=${R}`),_e=yield _._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(X,{method:"POST",headers:_e,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){se(p.idToken,"internal-error"),se(void 0!==p.idToken,"internal-error"),se(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function hr(_){const p=St(_);return se(p,"internal-error"),se(void 0!==p.exp,"internal-error"),se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,a.Z)(function*(){return se(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,a.Z)(function*(){const{accessToken:k,refreshToken:R,expiresIn:X}=yield function ke(_,p){return Je.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(k,R,Number(X))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:k,expirationTime:R}=m,X=new ft;return w&&(se("string"==typeof w,"internal-error",{appName:p}),X.refreshToken=w),k&&(se("string"==typeof k,"internal-error",{appName:p}),X.accessToken=k),R&&(se("number"==typeof R,"internal-error",{appName:p}),X.expirationTime=R),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ft,this.toJSON())}_performRefresh(){return De("not implemented")}}function yt(_,p){se("string"==typeof _||void 0===_,"internal-error",{appName:p})}class qt{constructor(p){var{uid:m,auth:w,stsTokenManager:k}=p,R=(0,G._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new In(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,a.Z)(function*(){const w=yield yn(m,m.stsTokenManager.getToken(m.auth,p));return se(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function _s(_){return Zt.apply(this,arguments)}(this,p)}reload(){return function Jt(_){return Ht.apply(this,arguments)}(this)}_assign(p){this!==p&&(se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new qt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,a.Z)(function*(){let k=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),k=!0),m&&(yield _n(w)),yield w.auth._persistUserIfCurrent(w),k&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,a.Z)(function*(){const m=yield p.getIdToken();return yield yn(p,function Va(_,p){return Sn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,k,R,X,_e,He,Xe,It;const _t=null!==(w=m.displayName)&&void 0!==w?w:void 0,Ir=null!==(k=m.email)&&void 0!==k?k:void 0,Ls=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Ih=null!==(X=m.photoURL)&&void 0!==X?X:void 0,it=null!==(_e=m.tenantId)&&void 0!==_e?_e:void 0,_r=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,Sp=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,oi=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:Ov,emailVerified:Ah,isAnonymous:Qu,providerData:Ju,stsTokenManager:Dh}=m;se(Ov&&Dh,p,"internal-error");const xE=ft.fromJSON(this.name,Dh);se("string"==typeof Ov,p,"internal-error"),yt(_t,p.name),yt(Ir,p.name),se("boolean"==typeof Ah,p,"internal-error"),se("boolean"==typeof Qu,p,"internal-error"),yt(Ls,p.name),yt(Ih,p.name),yt(it,p.name),yt(_r,p.name),yt(Sp,p.name),yt(oi,p.name);const Cp=new qt({uid:Ov,auth:p,email:Ir,emailVerified:Ah,displayName:_t,isAnonymous:Qu,photoURL:Ih,phoneNumber:Ls,tenantId:it,stsTokenManager:xE,createdAt:Sp,lastLoginAt:oi});return Ju&&Array.isArray(Ju)&&(Cp.providerData=Ju.map(Rm=>Object.assign({},Rm))),_r&&(Cp._redirectEventId=_r),Cp}static _fromIdTokenResponse(p,m,w=!1){return(0,a.Z)(function*(){const k=new ft;k.updateFromServerResponse(m);const R=new qt({uid:m.localId,auth:p,stsTokenManager:k,isAnonymous:w});return yield _n(R),R})()}}const q=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,w){var k=this;return(0,a.Z)(function*(){k.storage[m]=w})()}_get(m){var w=this;return(0,a.Z)(function*(){const k=w.storage[m];return void 0===k?null:k})()}_remove(m){var w=this;return(0,a.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function oe(_,p,m){return`firebase:${_}:${p}:${m}`}class Ce{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:k,name:R}=this.auth;this.fullUserKey=oe(this.userKey,k.apiKey,R),this.fullPersistenceKey=oe("persistence",k.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?qt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,a.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,a.Z)(function*(){if(!m.length)return new Ce(ye(q),p,w);const k=(yield Promise.all(m.map(function(){var Xe=(0,a.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let R=k[0]||ye(q);const X=oe(w,p.config.apiKey,p.name);let _e=null;for(const Xe of m)try{const It=yield Xe._get(X);if(It){const _t=qt._fromJSON(p,It);Xe!==R&&(_e=_t),R=Xe;break}}catch(It){}const He=k.filter(Xe=>Xe._shouldAllowMigration);return R._shouldAllowMigration&&He.length?(R=He[0],_e&&(yield R._set(X,_e.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,a.Z)(function*(It){if(It!==R)try{yield It._remove(X)}catch(_t){}});return function(It){return Xe.apply(this,arguments)}}())),new Ce(R,p,w)):new Ce(R,p,w)})()}}function me(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Or(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(nt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(fn(p))return"Blackberry";if(vt(p))return"Webos";if(Rt(p))return"Safari";if((p.includes("chrome/")||hn(p))&&!p.includes("edge/"))return"Chrome";if(Et(p))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function nt(_=(0,V.z$)()){return/firefox\//i.test(_)}function Rt(_=(0,V.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function hn(_=(0,V.z$)()){return/crios\//i.test(_)}function Or(_=(0,V.z$)()){return/iemobile/i.test(_)}function Et(_=(0,V.z$)()){return/android/i.test(_)}function fn(_=(0,V.z$)()){return/blackberry/i.test(_)}function vt(_=(0,V.z$)()){return/webos/i.test(_)}function Un(_=(0,V.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ua(_=(0,V.z$)()){return Un(_)||Et(_)||vt(_)||fn(_)||/windows phone/i.test(_)||Or(_)}function $i(_,p=[]){let m;switch(_){case"Browser":m=me((0,V.z$)());break;case"Worker":m=`${me((0,V.z$)())}-${_}`;break;default:m=_}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${te.SDK_VERSION}/${w}`}class pr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=R=>new Promise((X,_e)=>{try{X(p(R))}catch(He){_e(He)}});w.onAbort=m,this.queue.push(w);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,a.Z)(function*(){var w;if(m.auth.currentUser===p)return;const k=[];try{for(const R of m.queue)yield R(p),R.onAbort&&k.push(R.onAbort)}catch(R){k.reverse();for(const X of k)try{X()}catch(_e){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class $f{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.beforeStateQueue=new pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=ye(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var k,R;if(!w._deleted&&(w.persistenceManager=yield Ce.create(w,p),!w._deleted)){if(null!==(k=w._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(X){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,a.Z)(function*(){var w;const k=yield m.assertedPersistence.getCurrentUser();let R=k,X=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const _e=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,He=null==R?void 0:R._redirectEventId,Xe=yield m.tryRedirectSignIn(p);(!_e||_e===He)&&(null==Xe?void 0:Xe.user)&&(R=Xe.user,X=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(X)try{yield m.beforeStateQueue.runMiddleware(R)}catch(_e){R=k,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(_e))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return se(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,a.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(k){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,a.Z)(function*(){var w;try{yield _n(p)}catch(k){if("auth/network-request-failed"!==(null===(w=k)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Vt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,a.Z)(function*(){const w=p?(0,V.m9)(p):null;return w&&se(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,a.Z)(function*(){if(!w._deleted)return p&&se(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,a.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(ye(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,a.Z)(function*(){const k=yield w.getOrInitRedirectPersistenceManager(m);return null===p?k.removeCurrentUser():k.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&ye(p)||m._popupRedirectResolver;se(w,m,"argument-error"),m.redirectPersistenceManager=yield Ce.create(m,[ye(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,a.Z)(function*(){var w,k;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(k=m.redirectUser)||void 0===k?void 0:k._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,a.Z)(function*(){if(p===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,k){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),X=this._isInitialized?Promise.resolve():this._initializationPromise;return se(X,this,"internal-error"),X.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,k):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=$i(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const k=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return k&&(w["X-Firebase-Client"]=k),w})()}}function rn(_){return(0,V.m9)(_)}class Ze{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vn(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Zi(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class hi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return De("not implemented")}_getIdTokenResponse(p){return De("not implemented")}_linkToIdToken(p,m){return De("not implemented")}_getReauthenticationResolver(p){return De("not implemented")}}function Wt(_,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:resetPassword",$t(_,p))})).apply(this,arguments)}function Qo(_,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jo(_,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:update",$t(_,p))})).apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signInWithPassword",$t(_,p))})).apply(this,arguments)}function $n(_,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:sendOobCode",$t(_,p))})).apply(this,arguments)}function zr(_,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(_,p){return $n(_,p)})).apply(this,arguments)}function ws(_,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,a.Z)(function*(_,p){return $n(_,p)})).apply(this,arguments)}function pn(_,p){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(_,p){return $n(_,p)})).apply(this,arguments)}function um(_,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(_,p){return $n(_,p)})).apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signInWithEmailLink",$t(_,p))})).apply(this,arguments)}function Xo(){return(Xo=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signInWithEmailLink",$t(_,p))})).apply(this,arguments)}class qr extends hi{constructor(p,m,w,k=null){super("password",w),this._email=p,this._password=m,this._tenantId=k}static _fromEmailAndPassword(p,m){return new qr(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new qr(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function Ba(_,p){return Bn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ri(_,p){return Ha.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:ze(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return Qo(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Vl(_,p){return Xo.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:ze(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Yn(_,p){return zd.apply(this,arguments)}function zd(){return(zd=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signInWithIdp",$t(_,p))})).apply(this,arguments)}class Gi extends hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Gi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):ze("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:k}=m,R=(0,G._T)(m,["providerId","signInMethod"]);if(!w||!k)return null;const X=new Gi(w,k);return X.idToken=R.idToken||void 0,X.accessToken=R.accessToken||void 0,X.secret=R.secret,X.nonce=R.nonce,X.pendingToken=R.pendingToken||null,X}_getIdTokenResponse(p){return Yn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Yn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Yn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,V.xO)(m)}return p}}function dm(_,p){return qd.apply(this,arguments)}function qd(){return(qd=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:sendVerificationCode",$t(_,p))})).apply(this,arguments)}function Xs(){return(Xs=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signInWithPhoneNumber",$t(_,p))})).apply(this,arguments)}function $d(){return($d=(0,a.Z)(function*(_,p){const m=yield wr(_,"POST","/v1/accounts:signInWithPhoneNumber",$t(_,p));if(m.temporaryProof)throw Oi(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const fm={USER_NOT_FOUND:"user-not-found"};function Zd(){return(Zd=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signInWithPhoneNumber",$t(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),fm)})).apply(this,arguments)}class ea extends hi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ea({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ea({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function ou(_,p){return Xs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function hm(_,p){return $d.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function pm(_,p){return Zd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:k}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:k}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:k,temporaryProof:R}=p;return w||m||k||R?new ea({verificationId:m,verificationCode:w,phoneNumber:k,temporaryProof:R}):null}}class Ul{constructor(p){var m,w,k,R,X,_e;const He=(0,V.zd)((0,V.pd)(p)),Xe=null!==(m=He.apiKey)&&void 0!==m?m:null,It=null!==(w=He.oobCode)&&void 0!==w?w:null,_t=function dv(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=He.mode)&&void 0!==k?k:null);se(Xe&&It&&_t,"argument-error"),this.apiKey=Xe,this.operation=_t,this.code=It,this.continueUrl=null!==(R=He.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(X=He.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(_e=He.tenantId)&&void 0!==_e?_e:null}static parseLink(p){const m=function Gd(_){const p=(0,V.zd)((0,V.pd)(_)).link,m=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(_)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||m||p||_}(p);try{return new Ul(m)}catch(w){return null}}}let za=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return qr._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const k=Ul.parseLink(w);return se(k,"argument-error"),qr._fromEmailAndCode(m,k.code,k.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Fi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ta extends Fi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class qa extends ta{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return se("providerId"in m&&"signInMethod"in m,"argument-error"),Gi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return se(p.idToken||p.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return qa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return qa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:k,pendingToken:R,nonce:X,providerId:_e}=p;if(!w&&!k&&!m&&!R||!_e)return null;try{return new qa(_e)._credential({idToken:m,accessToken:w,nonce:X,pendingToken:R})}catch(He){return null}}}let Bl=(()=>{class _ extends ta{constructor(){super("facebook.com")}static credential(m){return Gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Wi=(()=>{class _ extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:k}=m;if(!w&&!k)return null;try{return _.credential(w,k)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Wd=(()=>{class _ extends ta{constructor(){super("github.com")}static credential(m){return Gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Io extends hi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Yn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Yn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Yn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:k,pendingToken:R}=m;return w&&k&&R&&w===k?new Io(w,R):null}static _create(p,m){return new Io(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fi extends Fi{constructor(p){se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return fi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return fi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Io.fromJSON(p);return se(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Io._create(w,m)}catch(k){return null}}}let au=(()=>{class _ extends ta{constructor(){super("twitter.com")}static credential(m,w){return Gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:k}=m;if(!w||!k)return null;try{return _.credential(w,k)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function $a(_,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signUp",$t(_,p))})).apply(this,arguments)}class Sr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,k=!1){return(0,a.Z)(function*(){const R=yield qt._fromIdTokenResponse(p,w,k),X=Wf(w);return new Sr({user:R,providerId:X,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const k=Wf(w);return new Sr({user:p,providerId:k,_tokenResponse:w,operationType:m})})()}}function Wf(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function jl(){return(jl=(0,a.Z)(function*(_){var p;const m=rn(_);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Sr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield $a(m,{returnSecureToken:!0}),k=yield Sr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}class Hl extends V.ZR{constructor(p,m,w,k){var R;super(m.code,m.message),this.operationType=w,this.user=k,Object.setPrototypeOf(this,Hl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,k){return new Hl(p,m,w,k)}}function zl(_,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Hl._fromErrorAndOperation(_,R,p,w):R})}function Es(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function On(){return(On=(0,a.Z)(function*(_,p){const m=(0,V.m9)(_);yield An(!0,m,p);const{providerUserInfo:w}=yield Er(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),k=Es(w||[]);return m.providerData=m.providerData.filter(R=>k.has(R.providerId)),k.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ql(_,p){return cu.apply(this,arguments)}function cu(){return(cu=(0,a.Z)(function*(_,p,m=!1){const w=yield yn(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return Sr._forOperation(_,"link",w)})).apply(this,arguments)}function An(_,p,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,a.Z)(function*(_,p,m){yield _n(p);const k=!1===_?"provider-already-linked":"no-such-provider";se(Es(p.providerData).has(m)===_,p.auth,k)})).apply(this,arguments)}function $l(_,p){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(_,p,m=!1){var w;const{auth:k}=_,R="reauthenticate";try{const X=yield yn(_,zl(k,R,p,_),m);se(X.idToken,k,"internal-error");const _e=St(X.idToken);se(_e,k,"internal-error");const{sub:He}=_e;return se(_.uid===He,k,"user-mismatch"),Sr._forOperation(_,R,X)}catch(X){throw"auth/user-not-found"===(null===(w=X)||void 0===w?void 0:w.code)&&ze(k,"user-mismatch"),X}})).apply(this,arguments)}function Ts(_,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(_,p,m=!1){const w="signIn",k=yield zl(_,w,p),R=yield Sr._fromIdTokenResponse(_,w,k);return m||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Zn(_,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,a.Z)(function*(_,p){return Ts(rn(_),p)})).apply(this,arguments)}function uu(_,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(_,p){const m=(0,V.m9)(_);return yield An(!1,m,p.providerId),ql(m,p)})).apply(this,arguments)}function Ga(_,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(_,p){return $l((0,V.m9)(_),p)})).apply(this,arguments)}function Dt(_,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(_,p){return wr(_,"POST","/v1/accounts:signInWithCustomToken",$t(_,p))})).apply(this,arguments)}function Wa(){return(Wa=(0,a.Z)(function*(_,p){const m=rn(_),w=yield Dt(m,{token:p,returnSecureToken:!0}),k=yield Sr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}class Zl{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?du._fromServerResponse(p,m):ze(p,"internal-error")}}class du extends Zl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new du(m)}}function Gl(_,p,m){var w;se((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),se(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(se(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(se(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function fu(){return(fu=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_),k={requestType:"PASSWORD_RESET",email:p};m&&Gl(w,k,m),yield ws(w,k)})).apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(_,p,m){yield Wt((0,V.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Kl(){return(Kl=(0,a.Z)(function*(_,p){yield Jo((0,V.m9)(_),{oobCode:p})})).apply(this,arguments)}function jn(_,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,a.Z)(function*(_,p){const m=(0,V.m9)(_),w=yield Wt(m,{oobCode:p}),k=w.requestType;switch(se(k,m,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(w.mfaInfo,m,"internal-error");default:se(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=Zl._fromServerResponse(rn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:k}})).apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(_,p){const{data:m}=yield jn((0,V.m9)(_),p);return m.email})).apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(_,p,m){const w=rn(_),k=yield $a(w,{returnSecureToken:!0,email:p,password:m}),R=yield Sr._fromIdTokenResponse(w,"signIn",k);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Yf(){return(Yf=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_),k={requestType:"EMAIL_SIGNIN",email:p};se(m.handleCodeInApp,w,"argument-error"),m&&Gl(w,k,m),yield pn(w,k)})).apply(this,arguments)}function gi(){return(gi=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_),k=za.credentialWithLink(p,m||Le());return se(k._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Zn(w,k)})).apply(this,arguments)}function Qf(_,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:createAuthUri",$t(_,p))})).apply(this,arguments)}function pu(){return(pu=(0,a.Z)(function*(_,p){const w={identifier:p,continueUri:mt()?Le():"http://localhost"},{signinMethods:k}=yield Qf((0,V.m9)(_),w);return k||[]})).apply(this,arguments)}function mu(){return(mu=(0,a.Z)(function*(_,p){const m=(0,V.m9)(_),k={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&Gl(m.auth,k,p);const{email:R}=yield zr(m.auth,k);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&Gl(w.auth,R,m);const{email:X}=yield um(w.auth,R);X!==_.email&&(yield _.reload())})).apply(this,arguments)}function Yl(_,p){return _u.apply(this,arguments)}function _u(){return(_u=(0,a.Z)(function*(_,p){return kn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function eh(){return(eh=(0,a.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,V.m9)(_),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},X=yield yn(w,Yl(w.auth,R));w.displayName=X.displayName||null,w.photoURL=X.photoUrl||null;const _e=w.providerData.find(({providerId:He})=>"password"===He);_e&&(_e.displayName=w.displayName,_e.photoURL=w.photoURL),yield w._updateTokensIfNecessary(X)})).apply(this,arguments)}function to(_,p,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,a.Z)(function*(_,p,m){const{auth:w}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const X=yield yn(_,Qo(w,R));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class ko{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Xa extends ko{constructor(p,m,w,k){super(p,m,w),this.username=k}}class nh extends ko{constructor(p,m){super(p,"facebook.com",m)}}class vu extends Xa{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Fr extends ko{constructor(p,m){super(p,"google.com",m)}}class Yi extends Xa{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Cn(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ja(_){var p,m;if(!_)return null;const{providerId:w}=_,k=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const X=null===(m=null===(p=St(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(X)return new ko(R,"anonymous"!==X&&"custom"!==X?X:null)}if(!w)return null;switch(w){case"facebook.com":return new nh(R,k);case"github.com":return new vu(R,k);case"google.com":return new Fr(R,k);case"twitter.com":return new Yi(R,k,_.screenName||null);case"custom":case"anonymous":return new ko(R,null);default:return new ko(R,w,k)}}(m)}class As{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new As("enroll",p,m)}static _fromMfaPendingCredential(p){return new As("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null!=p&&p.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return As._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return As._fromIdtoken(p.multiFactorSession.idToken)}return null}}class nl{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=rn(p),k=m.customData._serverResponse,R=(k.mfaInfo||[]).map(_e=>Zl._fromServerResponse(w,_e));se(k.mfaPendingCredential,w,"internal-error");const X=As._fromMfaPendingCredential(k.mfaPendingCredential);return new nl(X,R,function(){var _e=(0,a.Z)(function*(He){const Xe=yield He._process(w,X);delete k.mfaInfo,delete k.mfaPendingCredential;const It=Object.assign(Object.assign({},k),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const _t=yield Sr._fromIdTokenResponse(w,m.operationType,It);return yield w._updateCurrentUser(_t.user),_t;case"reauthenticate":return se(m.user,w,"internal-error"),Sr._forOperation(m.user,m.operationType,It);default:ze(w,"internal-error")}});return function(He){return _e.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,a.Z)(function*(){return m.signInResolver(p)})()}}function Ds(_,p){return kn(_,"POST","/v2/accounts/mfaEnrollment:start",$t(_,p))}class sh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Zl._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new sh(p)}getSession(){var p=this;return(0,a.Z)(function*(){return As._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,a.Z)(function*(){const k=p,R=yield w.getSession(),X=yield yn(w.user,k._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(X),w.user.reload()})()}unenroll(p){var m=this;return(0,a.Z)(function*(){var w;const k="string"==typeof p?p:p.uid,R=yield m.user.getIdToken(),X=yield yn(m.user,function ih(_,p){return kn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(_,p))}(m.user.auth,{idToken:R,mfaEnrollmentId:k}));m.enrolledFactors=m.enrolledFactors.filter(({uid:_e})=>_e!==k),yield m.user._updateTokensIfNecessary(X);try{yield m.user.reload()}catch(_e){if("auth/user-token-expired"!==(null===(w=_e)||void 0===w?void 0:w.code))throw _e}})()}}const mi=new WeakMap,sa="__sak";class wu{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(sa,"1"),this.storage.removeItem(sa),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const oa=(()=>{class _ extends wu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xf(){const _=(0,V.z$)();return Rt(_)||Un(_)}()&&function Yo(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Ua(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const k=this.storage.getItem(w),R=this.localCache[w];k!==R&&m(w,R,k)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((_e,He,Xe)=>{this.notifyListeners(_e,Xe)});const k=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(k);if(m.newValue!==_e)null!==m.newValue?this.storage.setItem(k,m.newValue):this.storage.removeItem(k);else if(this.localCache[k]===m.newValue&&!w)return}const R=()=>{const _e=this.storage.getItem(k);!w&&this.localCache[k]===_e||this.notifyListeners(k,_e)},X=this.storage.getItem(k);!function iu(){return(0,V.w1)()&&10===document.documentMode}()||X===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const k=this.listeners[m];if(k)for(const R of Array.from(k))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var k=()=>super._set,R=this;return(0,a.Z)(function*(){yield k().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,k=this;return(0,a.Z)(function*(){const R=yield w().call(k,m);return k.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,k=this;return(0,a.Z)(function*(){yield w().call(k,m),delete k.localCache[m]})()}}return _.type="LOCAL",_})(),xs=(()=>{class _ extends wu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let ro=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const k=new _(m);return this.receivers.push(k),k}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,a.Z)(function*(){const k=m,{eventId:R,eventType:X,data:_e}=k.data,He=w.handlersMap[X];if(null==He||!He.size)return;k.ports[0].postMessage({status:"ack",eventId:R,eventType:X});const Xe=Array.from(He).map(function(){var _t=(0,a.Z)(function*(Ir){return Ir(k.origin,_e)});return function(Ir){return _t.apply(this,arguments)}}()),It=yield function Tu(_){return Promise.all(_.map(function(){var p=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(Xe);k.ports[0].postMessage({status:"done",eventId:R,eventType:X,response:It})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function tc(_="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return _+m}class Oo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var k=this;return(0,a.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let X,_e;return new Promise((He,Xe)=>{const It=tc("",20);R.port1.start();const _t=setTimeout(()=>{Xe(new Error("unsupported_event"))},w);_e={messageChannel:R,onMessage(Ir){const Ls=Ir;if(Ls.data.eventId===It)switch(Ls.data.status){case"ack":clearTimeout(_t),X=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),He(Ls.data.response);break;default:clearTimeout(_t),clearTimeout(X),Xe(new Error("invalid_response"))}}},k.handlers.add(_e),R.port1.addEventListener("message",_e.onMessage),k.target.postMessage({eventType:p,eventId:It,data:m},[R.port2])}).finally(()=>{_e&&k.removeMessageHandler(_e)})})()}}function Pn(){return window}function Su(){return void 0!==Pn().WorkerGlobalScope&&"function"==typeof Pn().importScripts}function rc(){return(rc=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const sl="firebaseLocalStorageDb",ks="firebaseLocalStorage",ol="fbase_key";class Ms{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function No(_,p){return _.transaction([ks],p?"readwrite":"readonly").objectStore(ks)}function ic(){const _=indexedDB.open(sl,1);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(ks,{keyPath:ol})}catch(k){m(k)}}),_.addEventListener("success",(0,a.Z)(function*(){const w=_.result;w.objectStoreNames.contains(ks)?p(w):(w.close(),yield function ah(){const _=indexedDB.deleteDatabase(sl);return new Ms(_).toPromise()}(),p(yield ic()))}))})}function la(_,p,m){return sc.apply(this,arguments)}function sc(){return(sc=(0,a.Z)(function*(_,p,m){const w=No(_,!0).put({[ol]:p,value:m});return new Ms(w).toPromise()})).apply(this,arguments)}function ac(){return(ac=(0,a.Z)(function*(_,p){const m=No(_,!1).get(p),w=yield new Ms(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function al(_,p){const m=No(_,!0).delete(p);return new Ms(m).toPromise()}const Fo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield ic()),m.db})()}_withRetries(m){var w=this;return(0,a.Z)(function*(){let k=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(k++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return Su()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=ro._getInstance(function Qi(){return Su()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(k,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(k,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(k,R){return["keyChanged"]});return function(k,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var w,k;if(m.activeServiceWorker=yield function nc(){return rc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Oo(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(k=R[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function oh(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ic();return yield la(m,sa,"1"),yield al(m,sa),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var k=this;return(0,a.Z)(function*(){return k._withPendingWrite((0,a.Z)(function*(){return yield k._withRetries(R=>la(R,m,w)),k.localCache[m]=w,k.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,a.Z)(function*(){const k=yield w._withRetries(R=>function oc(_,p){return ac.apply(this,arguments)}(R,m));return w.localCache[m]=k,k})()}_remove(m){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(k=>al(k,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const w=yield m._withRetries(X=>{const _e=No(X,!1).getAll();return new Ms(_e).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const k=[],R=new Set;for(const{fbase_key:X,value:_e}of w)R.add(X),JSON.stringify(m.localCache[X])!==JSON.stringify(_e)&&(m.notifyListeners(X,_e),k.push(X));for(const X of Object.keys(m.localCache))m.localCache[X]&&!R.has(X)&&(m.notifyListeners(X,null),k.push(X));return k})()}notifyListeners(m,w){this.localCache[m]=w;const k=this.listeners[m];if(k)for(const R of Array.from(k))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ji(_,p){return kn(_,"POST","/v2/accounts/mfaSignIn:start",$t(_,p))}function ll(){return(ll=(0,a.Z)(function*(_){return(yield kn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ca(_){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=p,w.onerror=k=>{const R=Be("internal-error");R.customData=k,m(R)},w.type="text/javascript",w.charset="UTF-8",function ep(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(w)})}function lc(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Xi=1e12;class ym{constructor(p){this.auth=p,this.counter=Xi,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Iu(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||Xi;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Xi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,a.Z)(function*(){var w;return null===(w=m._widgets.get(p||Xi))||void 0===w||w.execute(),""})()}}class Iu{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof p?document.getElementById(p):p;se(k,"argument-error",{appName:m}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cl(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _m=lc("rcb"),vm=new un(3e4,6e4);class tp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Pn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return se(function _E(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Pn().grecaptcha):new Promise((w,k)=>{const R=Pn().setTimeout(()=>{k(Be(p,"network-request-failed"))},vm.get());Pn()[_m]=()=>{Pn().clearTimeout(R),delete Pn()[_m];const _e=Pn().grecaptcha;if(!_e)return void k(Be(p,"internal-error"));const He=_e.render;_e.render=(Xe,It)=>{const _t=He(Xe,It);return this.counter++,_t},this.hostLanguage=m,w(_e)},ca(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:_m,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),k(Be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Pn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vE{load(p){return(0,a.Z)(function*(){return new ym(p)})()}clearedOneInstance(){}}const hv="recaptcha",fv={theme:"light",type:"image"};class bE{constructor(p,m=Object.assign({},fv),w){this.parameters=m,this.type=hv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(w),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof p?document.getElementById(p):p;se(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vE:new tp,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const X=_e=>{!_e||(p.tokenChangeListeners.delete(X),R(_e))};p.tokenChangeListeners.add(X),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Pn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){se(mt()&&!Su(),p.auth,"internal-error"),yield function Nn(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Os(_){return ll.apply(this,arguments)}(p.auth);se(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zr{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ea._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function bt(){return(bt=(0,a.Z)(function*(_,p,m){const w=rn(_),k=yield es(w,p,(0,V.m9)(m));return new Zr(k,R=>Zn(w,R))})).apply(this,arguments)}function ul(){return(ul=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_);yield An(!1,w,"phone");const k=yield es(w.auth,p,(0,V.m9)(m));return new Zr(k,R=>uu(w,R))})).apply(this,arguments)}function Au(){return(Au=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_),k=yield es(w.auth,p,(0,V.m9)(m));return new Zr(k,R=>Ga(w,R))})).apply(this,arguments)}function es(_,p,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(_,p,m){var w;const k=yield m.verify();try{let R;if(se("string"==typeof k,_,"argument-error"),se(m.type===hv,_,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const X=R.session;if("phoneNumber"in R)return se("enroll"===X.type,_,"internal-error"),(yield Ds(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{se("signin"===X.type,_,"internal-error");const _e=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return se(_e,_,"missing-multi-factor-info"),(yield Ji(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield dm(_,{phoneNumber:R.phoneNumber,recaptchaToken:k});return X}}finally{m._reset()}})).apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(_,p){yield ql((0,V.m9)(_),p)})).apply(this,arguments)}let ts=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=rn(m)}verifyPhoneNumber(m,w){return es(this.auth,m,(0,V.m9)(w))}static credential(m,w){return ea._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:k}=m;return w&&k?ea._fromTokenResponse(w,k):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function si(_,p){return p?ye(p):(se(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class da extends hi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Yn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Yn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Yn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Rs(_){return Ts(_.auth,new da(_),_.bypassAuthState)}function Du(_){const{auth:p,user:m}=_;return se(m,p,"internal-error"),$l(m,new da(_),_.bypassAuthState)}function Fs(_){return ch.apply(this,arguments)}function ch(){return(ch=(0,a.Z)(function*(_){const{auth:p,user:m}=_;return se(m,p,"internal-error"),ql(m,new da(_),_.bypassAuthState)})).apply(this,arguments)}class mr{constructor(p,m,w,k,R=!1){this.auth=p,this.resolver=w,this.user=k,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,a.Z)(function*(w,k){p.pendingPromise={resolve:w,reject:k};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,k){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:k,postBody:R,tenantId:X,error:_e,type:He}=p;if(_e)return void m.reject(_e);const Xe={auth:m.auth,requestUri:w,sessionId:k,tenantId:X||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(Xe))}catch(It){m.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Rs;case"linkViaPopup":case"linkViaRedirect":return Fs;case"reauthViaPopup":case"reauthViaRedirect":return Du;default:ze(this.auth,"internal-error")}}resolve(p){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jn=new un(2e3,1e4);function yr(){return(yr=(0,a.Z)(function*(_,p,m){const w=rn(_);tn(_,p,Fi);const k=si(w,m);return new ns(w,"signInViaPopup",p,k).executeNotNull()})).apply(this,arguments)}function fa(){return(fa=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_);tn(w.auth,p,Fi);const k=si(w.auth,m);return new ns(w.auth,"reauthViaPopup",p,k,w).executeNotNull()})).apply(this,arguments)}function uc(){return(uc=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_);tn(w.auth,p,Fi);const k=si(w.auth,m);return new ns(w.auth,"linkViaPopup",p,k,w).executeNotNull()})).apply(this,arguments)}let ns=(()=>{class _ extends mr{constructor(m,w,k,R,X){super(m,w,R,X),this.provider=k,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const w=yield m.execute();return se(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,a.Z)(function*(){ee(1===m.filter.length,"Popup operations only handle one event");const w=tc();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(k=>{m.reject(k)}),m.resolver._isIframeWebStorageSupported(m.auth,k=>{k||m.reject(Be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,k;this.pollId=null!==(k=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Jn.get())};m()}}return _.currentPopupAction=null,_})();const yi=new Map;class np extends mr{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,a.Z)(function*(){let w=yi.get(m.auth._key());if(!w){try{const R=(yield function dl(_,p){return oo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(k){w=()=>Promise.reject(k)}yi.set(m.auth._key(),w)}return m.bypassAuthState||yi.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const k=yield w.auth._redirectUserForId(p.eventId);if(k)return w.user=k,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function oo(){return(oo=(0,a.Z)(function*(_,p){const m=O(p),w=I(_);if(!(yield w._isAvailable()))return!1;const k="true"===(yield w._get(m));return yield w._remove(m),k})).apply(this,arguments)}function ku(_,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(_,p){return I(_)._set(O(p),"true")})).apply(this,arguments)}function S(_,p){yi.set(_._key(),p)}function I(_){return ye(_._redirectPersistence)}function O(_){return oe("pendingRedirect",_.config.apiKey,_.name)}function pe(){return(pe=(0,a.Z)(function*(_,p,m){const w=rn(_);tn(_,p,Fi);const k=si(w,m);return yield ku(k,w),k._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_);tn(w.auth,p,Fi);const k=si(w.auth,m);yield ku(k,w.auth);const R=yield rs(w);return k._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(_,p,m){const w=(0,V.m9)(_);tn(w.auth,p,Fi);const k=si(w.auth,m);yield An(!1,w,p.providerId),yield ku(k,w.auth);const R=yield rs(w);return k._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Cr(){return(Cr=(0,a.Z)(function*(_,p){return yield rn(_)._initializationPromise,Pr(_,p,!1)})).apply(this,arguments)}function Pr(_,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(_,p,m=!1){const w=rn(_),k=si(w,p),X=yield new np(w,k,m).execute();return X&&!m&&(delete X.user._redirectEventId,yield w._persistUserIfCurrent(X.user),yield w._setRedirectUser(null,p)),X})).apply(this,arguments)}function rs(_){return pa.apply(this,arguments)}function pa(){return(pa=(0,a.Z)(function*(_){const p=tc(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Gr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ps(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!is(p)){const k=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Be(this.auth,k))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pi(p))}saveEventToCache(p){this.cachedEventUids.add(Pi(p)),this.lastProcessedEventTime=Date.now()}}function Pi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function is({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Nu(_){return dc.apply(this,arguments)}function dc(){return(dc=(0,a.Z)(function*(_,p={}){return kn(_,"GET","/v1/projects",p)})).apply(this,arguments)}const pv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wE=/^https?/;function hc(){return(hc=(0,a.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Nu(_);for(const m of p)try{if(EE(m))return}catch(w){}ze(_,"unauthorized-domain")})).apply(this,arguments)}function EE(_){const p=Le(),{protocol:m,hostname:w}=new URL(p);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&X.hostname===w}if(!wE.test(m))return!1;if(pv.test(_))return w===_;const k=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(w)}const FI=new un(3e4,6e4);function bm(){const _=Pn().___jsl;if(null!=_&&_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let rp=null;function wm(_){return rp=rp||function TE(_){return new Promise((p,m)=>{var w,k,R;function X(){bm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{bm(),m(Be(_,"network-request-failed"))},timeout:FI.get()})}if(null!==(k=null===(w=Pn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==k&&k.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Pn().gapi)||void 0===R||!R.load){const _e=lc("iframefcb");return Pn()[_e]=()=>{gapi.load?X():m(Be(_,"network-request-failed"))},ca(`https://apis.google.com/js/api.js?onload=${_e}`).catch(He=>m(He))}X()}}).catch(p=>{throw rp=null,p})}(_),rp}const gv=new un(5e3,15e3),fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pu(_){const p=_.config;se(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?En(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:_.name,v:te.SDK_VERSION},k=Fu.get(_.config.apiHost);k&&(w.eid=k);const R=_._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,V.xO)(w).slice(1)}`}function ga(){return ga=(0,a.Z)(function*(_){const p=yield wm(_),m=Pn().gapi;return se(m,_,"internal-error"),p.open({where:document.body,url:Pu(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fh,dontclear:!0},w=>new Promise(function(){var k=(0,a.Z)(function*(R,X){yield w.restyle({setHideOnLeave:!1});const _e=Be(_,"network-request-failed"),He=Pn().setTimeout(()=>{X(_e)},gv.get());function Xe(){Pn().clearTimeout(He),R(w)}w.ping(Xe).then(Xe,()=>{X(_e)})});return function(R,X){return k.apply(this,arguments)}}()))}),ga.apply(this,arguments)}const Em={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Uu(_,p,m,w,k,R){se(_.config.authDomain,_,"auth-domain-config-required"),se(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:te.SDK_VERSION,eventId:k};if(p instanceof Fi){p.setDefaultLanguage(_.languageCode),X.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,Xe]of Object.entries(R||{}))X[He]=Xe}if(p instanceof ta){const He=p.getScopes().filter(Xe=>""!==Xe);He.length>0&&(X.scopes=He.join(","))}_.tenantId&&(X.tid=_.tenantId);const _e=X;for(const He of Object.keys(_e))void 0===_e[He]&&delete _e[He];return`${function op({config:_}){return _.emulator?En(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,V.xO)(_e).slice(1)}`}const ap="webStorageSupport";class fc extends class ju{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return De("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new fc(p)}_finalizeEnroll(p,m,w){return function no(_,p){return kn(_,"POST","/v2/accounts/mfaEnrollment:finalize",$t(_,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function lh(_,p){return kn(_,"POST","/v2/accounts/mfaSignIn:finalize",$t(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yv=(()=>{class _{constructor(){}static assertion(m){return fc._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var mh="@firebase/auth",Hu="0.20.11";class _v{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var k;p((null===(k=w)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gl(){return window}function cp(){return(cp=(0,a.Z)(function*(_,p,m){var w;const{BuildInfo:k}=gl();ee(p.sessionId,"AuthEvent did not contain a session ID");const R=yield qu(p.sessionId),X={};return Un()?X.ibi=k.packageName:Et()?X.apn=k.packageName:ze(_,"operation-not-supported-in-this-environment"),k.displayName&&(X.appDisplayName=k.displayName),X.sessionId=R,Uu(_,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,X)})).apply(this,arguments)}function zu(){return(zu=(0,a.Z)(function*(_){const{BuildInfo:p}=gl(),m={};Un()?m.iosBundleId=p.packageName:Et()?m.androidPackageName=p.packageName:ze(_,"operation-not-supported-in-this-environment"),yield Nu(_,m)})).apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(_,p,m){const{cordova:w}=gl();let k=()=>{};try{yield new Promise((R,X)=>{let _e=null;function He(){var _t;R();const Ir=null===(_t=w.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof Ir&&Ir(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Xe(){_e||(_e=window.setTimeout(()=>{X(Be(_,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}p.addPassiveListener(He),document.addEventListener("resume",Xe,!1),Et()&&document.addEventListener("visibilitychange",It,!1),k=()=>{p.removePassiveListener(He),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",It,!1),_e&&window.clearTimeout(_e)}})}finally{k()}})).apply(this,arguments)}function qu(_){return $u.apply(this,arguments)}function $u(){return($u=(0,a.Z)(function*(_){const p=Tv(_),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Tv(_){if(ee(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),m=new Uint8Array(p);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}(0,V.Pz)("authIdTokenMaxAge"),function pc(_){(0,te._registerComponent)(new re.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),k=p.getProvider("heartbeat"),{apiKey:R,authDomain:X}=w.options;return((_e,He)=>{se(R&&!R.includes(":"),"invalid-api-key",{appName:_e.name}),se(!(null!=X&&X.includes(":")),"argument-error",{appName:_e.name});const Xe={apiKey:R,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$i(_)},It=new $f(_e,He,Xe);return function Fe(_,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ye);null!=p&&p.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(It,m),It})(w,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new re.wA("auth-internal",p=>{const m=rn(p.getProvider("auth").getImmediate());return new _v(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(mh,Hu,function ma(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,te.registerVersion)(mh,Hu,"esm2017")}("Browser");class mc extends Gr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function SE(_){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,a.Z)(function*(_){const p=yield hp()._get(_h(_));return p&&(yield hp()._remove(_h(_))),p})).apply(this,arguments)}function CE(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);_.push(p.charAt(w))}return _.join("")}function hp(){return ye(oa)}function _h(_){return oe("authEvent",_.config.apiKey,_.name)}function Lo(_){if(null==_||!_.includes("?"))return{};const[p,...m]=_.split("?");return(0,V.zd)(m.join("?"))}function Xn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Be("no-auth-event")}}function Zu(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function bh(_=(0,V.z$)()){return!("file:"!==Zu()&&"ionic:"!==Zu()&&"capacitor:"!==Zu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function _c(){try{const _=self.localStorage,p=tc();if(_)return _.setItem(p,"1"),_.removeItem(p),!function yc(_=(0,V.z$)()){return function km(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function AE(_=(0,V.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,V.hl)()}catch(_){return yl()&&(0,V.hl)()}return!1}function yl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function wh(){return(function xm(){return"http:"===Zu()||"https:"===Zu()}()||(0,V.ru)()||bh())&&!function Av(){return(0,V.b$)()||(0,V.UG)()}()&&_c()&&!yl()}function Gu(){return bh()&&"undefined"!=typeof document}function _p(){return(_p=(0,a.Z)(function*(){return!!Gu()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const _i={LOCAL:"local",NONE:"none",SESSION:"session"},_a=se,Dv="persistence";function Wu(_){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,a.Z)(function*(_){yield _._initializationPromise;const p=va(),m=oe(Dv,_.config.apiKey,_.name);p&&p.setItem(m,_._getPersistence())})).apply(this,arguments)}function va(){var _;try{return(null===(_=function vc(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(p){return null}}const DE=se;class ss{constructor(){this.browserResolver=ye(class Bu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=Pr,this._overrideRedirectResult=S}_openPopup(p,m,w,k){var R=this;return(0,a.Z)(function*(){var X;ee(null===(X=R.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const _e=Uu(p,m,w,Le(),k);return function fl(_,p,m,w=500,k=600){const R=Math.max((window.screen.availHeight-k)/2,0).toString(),X=Math.max((window.screen.availWidth-w)/2,0).toString();let _e="";const He=Object.assign(Object.assign({},Em),{width:w.toString(),height:k.toString(),top:R,left:X}),Xe=(0,V.z$)().toLowerCase();m&&(_e=hn(Xe)?"_blank":m),nt(Xe)&&(p=p||"http://localhost",He.scrollbars="yes");const It=Object.entries(He).reduce((Ir,[Ls,Ih])=>`${Ir}${Ls}=${Ih},`,"");if(function qi(_=(0,V.z$)()){var p;return Un(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==_e)return function Tm(_,p){const m=document.createElement("a");m.href=_,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",_e),new Vu(null);const _t=window.open(p||"",_e,It);se(_t,_,"popup-blocked");try{_t.focus()}catch(Ir){}return new Vu(_t)}(p,_e,tc())})()}_openRedirect(p,m,w,k){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(p),function il(_){Pn().location.href=_}(Uu(p,m,w,Le(),k)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:k,promise:R}=this.eventManagers[m];return k?Promise.resolve(k):(ee(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,a.Z)(function*(){const w=yield function Lu(_){return ga.apply(this,arguments)}(p),k=new Gr(p);return w.register("authEvent",R=>(se(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:k.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:k},m.iframes[p._key()]=w,k})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(ap,{type:ap},k=>{var R;const X=null===(R=null==k?void 0:k[0])||void 0===R?void 0:R[ap];void 0!==X&&m(!!X),ze(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ru(_){return hc.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ua()||Rt()||Un()}}),this.cordovaResolver=ye(class pp{constructor(){this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pr,this._overrideRedirectResult=S}_initialize(p){var m=this;return(0,a.Z)(function*(){const w=p._key();let k=m.eventManagers.get(w);return k||(k=new mc(p),m.eventManagers.set(w,k),m.attachCallbackListeners(p,k)),k})()}_openPopup(p){ze(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,k){var R=this;return(0,a.Z)(function*(){!function gc(_){var p,m,w,k,R,X,_e,He,Xe,It;const _t=gl();se("function"==typeof(null===(p=null==_t?void 0:_t.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(m=null==_t?void 0:_t.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(R=null===(k=null===(w=null==_t?void 0:_t.cordova)||void 0===w?void 0:w.plugins)||void 0===k?void 0:k.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(He=null===(_e=null===(X=null==_t?void 0:_t.cordova)||void 0===X?void 0:X.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===He?void 0:He.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(It=null===(Xe=null==_t?void 0:_t.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===It?void 0:It.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield R._initialize(p);yield X.initialized(),X.resetRedirect(),function Mu(){yi.clear()}(),yield R._originValidation(p);const _e=function dp(_,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:CE(),postBody:null,tenantId:_.tenantId,error:Be(_,"no-auth-event")}}(p,w,k);yield function yh(_,p){return hp()._set(_h(_),p)}(p,_e);const He=yield function lp(_,p,m){return cp.apply(this,arguments)}(p,_e,m),Xe=yield function up(_){const{cordova:p}=gl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let k=null;w?p.plugins.browsertab.openUrl(_):k=p.InAppBrowser.open(_,function fr(_=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(k)})})}(He);return function ya(_,p,m){return ml.apply(this,arguments)}(p,X,Xe)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Cm(_){return zu.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:k,BuildInfo:R}=gl(),X=setTimeout((0,a.Z)(function*(){yield SE(p),m.onEvent(Xn())}),500),_e=function(){var It=(0,a.Z)(function*(_t){clearTimeout(X);const Ir=yield SE(p);let Ls=null;Ir&&(null==_t?void 0:_t.url)&&(Ls=function Cv(_,p){var m,w;const k=function fp(_){const p=Lo(_),m=p.link?decodeURIComponent(p.link):void 0,w=Lo(m).link,k=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Lo(k).link||k||w||m||_}(p);if(k.includes("/__/auth/callback")){const R=Lo(k),X=R.firebaseError?function Iv(_){try{return JSON.parse(_)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,_e=null===(w=null===(m=null==X?void 0:X.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],He=_e?Be(_e):null;return He?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:k,postBody:null}}return null}(Ir,_t.url)),m.onEvent(Ls||Xn())});return function(Ir){return It.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,_e);const He=k,Xe=`${R.packageName.toLowerCase()}://`;gl().handleOpenURL=function(){var It=(0,a.Z)(function*(_t){if(_t.toLowerCase().startsWith(Xe)&&_e({url:_t}),"function"==typeof He)try{He(_t)}catch(Ir){console.error(Ir)}});return function(_t){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=Pr,this._overrideRedirectResult=S}_initialize(p){var m=this;return(0,a.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,k){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,w,k)})()}_openRedirect(p,m,w,k){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,w,k)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Gu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return DE(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const m=yield function yp(){return _p.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Ku(_){return _.unwrap()}function Th(_){return ba(_)}function ba(_){const{_tokenResponse:p}=_ instanceof V.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof V.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ts.credentialFromResult(_);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Wi;break;case"facebook.com":w=Bl;break;case"github.com":w=Wd;break;case"twitter.com":w=au;break;default:const{oauthIdToken:k,oauthAccessToken:R,oauthTokenSecret:X,pendingToken:_e,nonce:He}=p;return R||X||k||_e?_e?m.startsWith("saml.")?Io._create(m,_e):Gi._fromParams({providerId:m,signInMethod:m,pendingToken:_e,idToken:k,accessToken:R}):new qa(m).credential({idToken:k,accessToken:R,rawNonce:He}):null}return _ instanceof V.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Wr(_,p){return p.catch(m=>{throw m instanceof V.ZR&&function lo(_,p){var m,w;const k=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=p)||void 0===w?void 0:w.code))p.resolver=new xv(_,function gr(_,p){var m;const w=(0,V.m9)(_),k=p;return se(p.customData.operationType,w,"argument-error"),se(null===(m=k.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),nl._fromError(w,k)}(_,p));else if(k){const R=ba(p),X=p;R&&(X.credential=R,X.tenantId=k.tenantId||void 0,X.email=k.email||void 0,X.phoneNumber=k.phoneNumber||void 0)}}(_,m),m}).then(m=>{const k=m.user;return{operationType:m.operationType,credential:Th(m),additionalUserInfo:Cn(m),user:co.getOrCreate(k)}})}function Yu(_,p){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,a.Z)(function*(_,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Wr(_,m.confirm(w))}})).apply(this,arguments)}class xv{constructor(p,m){this.resolver=m,this.auth=function Mm(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Wr(Ku(this.auth),this.resolver.resolveSignIn(p))}}class co{constructor(p){this._delegate=p,this.multiFactor=function rl(_){const p=(0,V.m9)(_);return mi.has(p)||mi.set(p,sh._fromUser(p)),mi.get(p)}(p)}static getOrCreate(p){return co.USER_MAP.has(p)||co.USER_MAP.set(p,new co(p)),co.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,a.Z)(function*(){return Wr(m.auth,uu(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,a.Z)(function*(){return Yu(w.auth,function Qn(_,p,m){return ul.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,a.Z)(function*(){return Wr(m.auth,function uh(_,p,m){return uc.apply(this,arguments)}(m._delegate,p,ss))})()}linkWithRedirect(p){var m=this;return(0,a.Z)(function*(){return yield Wu(rn(m.auth)),function kt(_,p,m){return function Pt(_,p,m){return at.apply(this,arguments)}(_,p,m)}(m._delegate,p,ss)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,a.Z)(function*(){return Wr(m.auth,Ga(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Yu(this.auth,function so(_,p,m){return Au.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Wr(this.auth,function ha(_,p,m){return fa.apply(this,arguments)}(this._delegate,p,ss))}reauthenticateWithRedirect(p){var m=this;return(0,a.Z)(function*(){return yield Wu(rn(m.auth)),function xe(_,p,m){return function $e(_,p,m){return Ge.apply(this,arguments)}(_,p,m)}(m._delegate,p,ss)})()}sendEmailVerification(p){return function gu(_,p){return mu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,a.Z)(function*(){return yield function Yd(_,p){return On.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function th(_,p){return to((0,V.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function xo(_,p){return to((0,V.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Ns(_,p){return Po.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ql(_,p){return eh.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function yu(_,p,m){return Ya.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}co.USER_MAP=new WeakMap;const os=se;let wp=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=m.options;os(k,"invalid-api-key",{appName:m.name}),os(k,"invalid-api-key",{appName:m.name});const R="undefined"!=typeof window?ss:void 0;this._delegate=w.initialize({options:{persistence:Nm(k,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?co.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Ft(_,p,m){const w=rn(_);se(w._canInitEmulator,w,"emulator-config-failed"),se(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const k=!(null==m||!m.disableWarnings),R=vn(p),{host:X,port:_e}=function Tr(_){const p=vn(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(w);if(k){const R=k[1];return{host:R,port:Zi(w.substr(R.length+1))}}{const[R,X]=w.split(":");return{host:R,port:Zi(X)}}}(p);w.config.emulator={url:`${R}//${X}${null===_e?"":`:${_e}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:X,port:_e,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function qn(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function Wl(_,p){return Kl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return jn(this._delegate,m)}confirmPasswordReset(m,w){return function Me(_,p,m){return Kt.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var k=this;return(0,a.Z)(function*(){return Wr(k._delegate,function ia(_,p,m){return Is.apply(this,arguments)}(k._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ki(_,p){return pu.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Xd(_,p){const m=Ul.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,a.Z)(function*(){os(wh(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Hn(_,p){return Cr.apply(this,arguments)}(m._delegate,ss);return w?Wr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function IE(_,p){rn(_)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,k){const{next:R,error:X,complete:_e}=Om(m,w,k);return this._delegate.onAuthStateChanged(R,X,_e)}onIdTokenChanged(m,w,k){const{next:R,error:X,complete:_e}=Om(m,w,k);return this._delegate.onIdTokenChanged(R,X,_e)}sendSignInLinkToEmail(m,w){return function Jd(_,p,m){return Yf.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function hu(_,p,m){return fu.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,a.Z)(function*(){let k;switch(function vp(_,p){_a(Object.values(_i).includes(p),_,"invalid-persistence-type"),(0,V.b$)()?_a(p!==_i.SESSION,_,"unsupported-persistence-type"):(0,V.UG)()?_a(p===_i.NONE,_,"unsupported-persistence-type"):yl()?_a(p===_i.NONE||p===_i.LOCAL&&(0,V.hl)(),_,"unsupported-persistence-type"):_a(p===_i.NONE||_c(),_,"unsupported-persistence-type")}(w._delegate,m),m){case _i.SESSION:k=xs;break;case _i.LOCAL:k=(yield ye(Fo)._isAvailable())?Fo:oa;break;case _i.NONE:k=q;break;default:return ze("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Wr(this._delegate,function ni(_){return jl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Wr(this._delegate,Zn(this._delegate,m))}signInWithCustomToken(m){return Wr(this._delegate,function Qd(_,p){return Wa.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Wr(this._delegate,function Kf(_,p,m){return Zn((0,V.m9)(_),za.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Wr(this._delegate,function $r(_,p,m){return gi.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Yu(this._delegate,function cc(_,p,m){return bt.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,a.Z)(function*(){return os(wh(),w._delegate,"operation-not-supported-in-this-environment"),Wr(w._delegate,function xu(_,p,m){return yr.apply(this,arguments)}(w._delegate,m,ss))})()}signInWithRedirect(m){var w=this;return(0,a.Z)(function*(){return os(wh(),w._delegate,"operation-not-supported-in-this-environment"),yield Wu(w._delegate),function z(_,p,m){return function ce(_,p,m){return pe.apply(this,arguments)}(_,p,m)}(w._delegate,m,ss)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Do(_,p){return pi.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=_i,_})();function Om(_,p,m){let w=_;"function"!=typeof _&&({next:w,error:p,complete:m}=_);const k=w;return{next:X=>k(X&&co.getOrCreate(X)),error:p,complete:m}}function Nm(_,p){const m=function bp(_,p){const m=va();if(!m)return[];const w=oe(Dv,_,p);switch(m.getItem(w)){case _i.NONE:return[q];case _i.LOCAL:return[Fo,xs];case _i.SESSION:return[xs];default:return[]}}(_,p);if("undefined"!=typeof self&&!m.includes(Fo)&&m.push(Fo),"undefined"!=typeof window)for(const w of[oa,xs])m.includes(w)||m.push(w);return m.includes(q)||m.push(q),m}class Ep{constructor(){this.providerId="phone",this._delegate=new ts(Ku(ne.Z.auth()))}static credential(p,m){return ts.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Ep.PHONE_SIGN_IN_METHOD=ts.PHONE_SIGN_IN_METHOD,Ep.PROVIDER_ID=ts.PROVIDER_ID;const Ch=se;class kv{constructor(p,m,w=ne.Z.app()){var k;Ch(null===(k=w.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new bE(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mv(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new wp(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:za,FacebookAuthProvider:Bl,GithubAuthProvider:Wd,GoogleAuthProvider:Wi,OAuthProvider:qa,SAMLAuthProvider:fi,PhoneAuthProvider:Ep,PhoneMultiFactorGenerator:yv,RecaptchaVerifier:kv,TwitterAuthProvider:au,Auth:wp,AuthCredential:hi,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.24")}(ne.Z)},1869:(Ue,ae,N)=>{N.d(ae,{d:()=>ne});var a=N(3489);class ne extends a.L{constructor(te,Y,G){super(),this.parent=te,this.outerValue=Y,this.outerIndex=G,this.index=0}_next(te){this.parent.notifyNext(this.outerValue,te,this.outerIndex,this.index++,this)}_error(te){this.parent.notifyError(te,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},6498:(Ue,ae,N)=>{N.d(ae,{y:()=>Q});var a=N(3489),V=N(7668),te=N(3292),G=N(3821),re=N(4843),J=N(2830);let Q=(()=>{class F{constructor(B){this._isScalar=!1,B&&(this._subscribe=B)}lift(B){const le=new F;return le.source=this,le.operator=B,le}subscribe(B,le,Ae){const{operator:Ee}=this,fe=function Y(F,L,B){if(F){if(F instanceof a.L)return F;if(F[V.b])return F[V.b]()}return F||L||B?new a.L(F,L,B):new a.L(te.c)}(B,le,Ae);if(fe.add(Ee?Ee.call(fe,this.source):this.source||J.v.useDeprecatedSynchronousErrorHandling&&!fe.syncErrorThrowable?this._subscribe(fe):this._trySubscribe(fe)),J.v.useDeprecatedSynchronousErrorHandling&&fe.syncErrorThrowable&&(fe.syncErrorThrowable=!1,fe.syncErrorThrown))throw fe.syncErrorValue;return fe}_trySubscribe(B){try{return this._subscribe(B)}catch(le){J.v.useDeprecatedSynchronousErrorHandling&&(B.syncErrorThrown=!0,B.syncErrorValue=le),function ne(F){for(;F;){const{closed:L,destination:B,isStopped:le}=F;if(L||le)return!1;F=B&&B instanceof a.L?B:null}return!0}(B)?B.error(le):console.warn(le)}}forEach(B,le){return new(le=U(le))((Ae,Ee)=>{let fe;fe=this.subscribe(Ie=>{try{B(Ie)}catch(Ne){Ee(Ne),fe&&fe.unsubscribe()}},Ee,Ae)})}_subscribe(B){const{source:le}=this;return le&&le.subscribe(B)}[G.L](){return this}pipe(...B){return 0===B.length?this:(0,re.U)(B)(this)}toPromise(B){return new(B=U(B))((le,Ae)=>{let Ee;this.subscribe(fe=>Ee=fe,fe=>Ae(fe),()=>le(Ee))})}}return F.create=L=>new F(L),F})();function U(F){if(F||(F=J.v.Promise||Promise),!F)throw new Error("no Promise impl found");return F}},3292:(Ue,ae,N)=>{N.d(ae,{c:()=>V});var a=N(2830),ne=N(2782);const V={closed:!0,next(te){},error(te){if(a.v.useDeprecatedSynchronousErrorHandling)throw te;(0,ne.z)(te)},complete(){}}},826:(Ue,ae,N)=>{N.d(ae,{L:()=>ne});var a=N(3489);class ne extends a.L{notifyNext(te,Y,G,re,J){this.destination.next(Y)}notifyError(te,Y){this.destination.error(te)}notifyComplete(te){this.destination.complete()}}},8929:(Ue,ae,N)=>{N.d(ae,{Yc:()=>re,xQ:()=>J});var a=N(6498),ne=N(3489),V=N(2654),te=N(5279),Y=N(5283),G=N(7668);class re extends ne.L{constructor(F){super(F),this.destination=F}}let J=(()=>{class U extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[G.b](){return new re(this)}lift(L){const B=new Q(this,this);return B.operator=L,B}next(L){if(this.closed)throw new te.N;if(!this.isStopped){const{observers:B}=this,le=B.length,Ae=B.slice();for(let Ee=0;Ee<le;Ee++)Ae[Ee].next(L)}}error(L){if(this.closed)throw new te.N;this.hasError=!0,this.thrownError=L,this.isStopped=!0;const{observers:B}=this,le=B.length,Ae=B.slice();for(let Ee=0;Ee<le;Ee++)Ae[Ee].error(L);this.observers.length=0}complete(){if(this.closed)throw new te.N;this.isStopped=!0;const{observers:L}=this,B=L.length,le=L.slice();for(let Ae=0;Ae<B;Ae++)le[Ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(L){if(this.closed)throw new te.N;return super._trySubscribe(L)}_subscribe(L){if(this.closed)throw new te.N;return this.hasError?(L.error(this.thrownError),V.w.EMPTY):this.isStopped?(L.complete(),V.w.EMPTY):(this.observers.push(L),new Y.W(this,L))}asObservable(){const L=new a.y;return L.source=this,L}}return U.create=(F,L)=>new Q(F,L),U})();class Q extends J{constructor(F,L){super(),this.destination=F,this.source=L}next(F){const{destination:L}=this;L&&L.next&&L.next(F)}error(F){const{destination:L}=this;L&&L.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:L}=this;return L?this.source.subscribe(F):V.w.EMPTY}}},5283:(Ue,ae,N)=>{N.d(ae,{W:()=>ne});var a=N(2654);class ne extends a.w{constructor(te,Y){super(),this.subject=te,this.subscriber=Y,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const te=this.subject,Y=te.observers;if(this.subject=null,!Y||0===Y.length||te.isStopped||te.closed)return;const G=Y.indexOf(this.subscriber);-1!==G&&Y.splice(G,1)}}},3489:(Ue,ae,N)=>{N.d(ae,{L:()=>re});var a=N(7043),ne=N(3292),V=N(2654),te=N(7668),Y=N(2830),G=N(2782);class re extends V.w{constructor(U,F,L){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!U){this.destination=ne.c;break}if("object"==typeof U){U instanceof re?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new J(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new J(this,U,F,L)}}[te.b](){return this}static create(U,F,L){const B=new re(U,F,L);return B.syncErrorThrowable=!1,B}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class J extends re{constructor(U,F,L,B){super(),this._parentSubscriber=U;let le,Ae=this;(0,a.m)(F)?le=F:F&&(le=F.next,L=F.error,B=F.complete,F!==ne.c&&(Ae=Object.create(F),(0,a.m)(Ae.unsubscribe)&&this.add(Ae.unsubscribe.bind(Ae)),Ae.unsubscribe=this.unsubscribe.bind(this))),this._context=Ae,this._next=le,this._error=L,this._complete=B}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;Y.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:L}=Y.v;if(this._error)L&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(F.syncErrorThrowable)L?(F.syncErrorValue=U,F.syncErrorThrown=!0):(0,G.z)(U),this.unsubscribe();else{if(this.unsubscribe(),L)throw U;(0,G.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const F=()=>this._complete.call(this._context);Y.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,F){try{U.call(this._context,F)}catch(L){if(this.unsubscribe(),Y.v.useDeprecatedSynchronousErrorHandling)throw L;(0,G.z)(L)}}__tryOrSetError(U,F,L){if(!Y.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,L)}catch(B){return Y.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=B,U.syncErrorThrown=!0,!0):((0,G.z)(B),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},2654:(Ue,ae,N)=>{N.d(ae,{w:()=>G});var a=N(6688),ne=N(7830),V=N(7043);const Y=(()=>{function J(Q){return Error.call(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((U,F)=>`${F+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q,this}return J.prototype=Object.create(Error.prototype),J})();class G{constructor(Q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Q&&(this._unsubscribe=Q)}unsubscribe(){let Q;if(this.closed)return;let{_parentOrParents:U,_unsubscribe:F,_subscriptions:L}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof G)U.remove(this);else if(null!==U)for(let B=0;B<U.length;++B)U[B].remove(this);if((0,V.m)(F))try{F.call(this)}catch(B){Q=B instanceof Y?re(B.errors):[B]}if((0,a.k)(L)){let B=-1,le=L.length;for(;++B<le;){const Ae=L[B];if((0,ne.K)(Ae))try{Ae.unsubscribe()}catch(Ee){Q=Q||[],Ee instanceof Y?Q=Q.concat(re(Ee.errors)):Q.push(Ee)}}}if(Q)throw new Y(Q)}add(Q){let U=Q;if(!Q)return G.EMPTY;switch(typeof Q){case"function":U=new G(Q);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof G)){const B=U;U=new G,U._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+Q+" added to Subscription.")}let{_parentOrParents:F}=U;if(null===F)U._parentOrParents=this;else if(F instanceof G){if(F===this)return U;U._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return U;F.push(this)}const L=this._subscriptions;return null===L?this._subscriptions=[U]:L.push(U),U}remove(Q){const U=this._subscriptions;if(U){const F=U.indexOf(Q);-1!==F&&U.splice(F,1)}}}var J;function re(J){return J.reduce((Q,U)=>Q.concat(U instanceof Y?U.errors:U),[])}G.EMPTY=((J=new G).closed=!0,J)},2830:(Ue,ae,N)=>{N.d(ae,{v:()=>ne});let a=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const te=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+te.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=V},get useDeprecatedSynchronousErrorHandling(){return a}}},1762:(Ue,ae,N)=>{N.d(ae,{N:()=>G,c:()=>Y});var a=N(8929),ne=N(6498),V=N(2654),te=N(4327);class Y extends ne.y{constructor(F,L){super(),this.source=F,this.subjectFactory=L,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new V.w,F.add(this.source.subscribe(new re(this.getSubject(),this))),F.closed&&(this._connection=null,F=V.w.EMPTY)),F}refCount(){return(0,te.x)()(this)}}const G=(()=>{const U=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class re extends a.Yc{constructor(F,L){super(F),this.connectable=L}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const L=F._connection;F._refCount=0,F._subject=null,F._connection=null,L&&L.unsubscribe()}}}},8896:(Ue,ae,N)=>{N.d(ae,{E:()=>ne,c:()=>V});var a=N(6498);const ne=new a.y(Y=>Y.complete());function V(Y){return Y?function te(Y){return new a.y(G=>Y.schedule(()=>G.complete()))}(Y):ne}},5254:(Ue,ae,N)=>{N.d(ae,{D:()=>Ae});var a=N(6498),ne=N(9249),V=N(2654),te=N(3821),re=N(6454),J=N(5430),F=N(8955),L=N(8515);function Ae(Ee,fe){return fe?function le(Ee,fe){if(null!=Ee){if(function U(Ee){return Ee&&"function"==typeof Ee[te.L]}(Ee))return function Y(Ee,fe){return new a.y(Ie=>{const Ne=new V.w;return Ne.add(fe.schedule(()=>{const we=Ee[te.L]();Ne.add(we.subscribe({next(ze){Ne.add(fe.schedule(()=>Ie.next(ze)))},error(ze){Ne.add(fe.schedule(()=>Ie.error(ze)))},complete(){Ne.add(fe.schedule(()=>Ie.complete()))}}))})),Ne})}(Ee,fe);if((0,F.t)(Ee))return function G(Ee,fe){return new a.y(Ie=>{const Ne=new V.w;return Ne.add(fe.schedule(()=>Ee.then(we=>{Ne.add(fe.schedule(()=>{Ie.next(we),Ne.add(fe.schedule(()=>Ie.complete()))}))},we=>{Ne.add(fe.schedule(()=>Ie.error(we)))}))),Ne})}(Ee,fe);if((0,L.z)(Ee))return(0,re.r)(Ee,fe);if(function B(Ee){return Ee&&"function"==typeof Ee[J.hZ]}(Ee)||"string"==typeof Ee)return function Q(Ee,fe){if(!Ee)throw new Error("Iterable cannot be null");return new a.y(Ie=>{const Ne=new V.w;let we;return Ne.add(()=>{we&&"function"==typeof we.return&&we.return()}),Ne.add(fe.schedule(()=>{we=Ee[J.hZ](),Ne.add(fe.schedule(function(){if(Ie.closed)return;let ze,Be;try{const tt=we.next();ze=tt.value,Be=tt.done}catch(tt){return void Ie.error(tt)}Be?Ie.complete():(Ie.next(ze),this.schedule())}))})),Ne})}(Ee,fe)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,fe):Ee instanceof a.y?Ee:new a.y((0,ne.s)(Ee))}},3009:(Ue,ae,N)=>{N.d(ae,{n:()=>te});var a=N(6498),ne=N(3650),V=N(6454);function te(Y,G){return G?(0,V.r)(Y,G):new a.y((0,ne.V)(Y))}},6787:(Ue,ae,N)=>{N.d(ae,{T:()=>Y});var a=N(6498),ne=N(2866),V=N(9146),te=N(3009);function Y(...G){let re=Number.POSITIVE_INFINITY,J=null,Q=G[G.length-1];return(0,ne.K)(Q)?(J=G.pop(),G.length>1&&"number"==typeof G[G.length-1]&&(re=G.pop())):"number"==typeof Q&&(re=G.pop()),null===J&&1===G.length&&G[0]instanceof a.y?G[0]:(0,V.J)(re)((0,te.n)(G,J))}},1086:(Ue,ae,N)=>{N.d(ae,{of:()=>te});var a=N(2866),ne=N(3009),V=N(6454);function te(...Y){let G=Y[Y.length-1];return(0,a.K)(G)?(Y.pop(),(0,V.r)(Y,G)):(0,ne.n)(Y)}},1737:(Ue,ae,N)=>{N.d(ae,{_:()=>ne});var a=N(6498);function ne(te,Y){return new a.y(Y?G=>Y.schedule(V,0,{error:te,subscriber:G}):G=>G.error(te))}function V({error:te,subscriber:Y}){Y.error(te)}},4850:(Ue,ae,N)=>{N.d(ae,{U:()=>ne});var a=N(3489);function ne(Y,G){return function(J){if("function"!=typeof Y)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return J.lift(new V(Y,G))}}class V{constructor(G,re){this.project=G,this.thisArg=re}call(G,re){return re.subscribe(new te(G,this.project,this.thisArg))}}class te extends a.L{constructor(G,re,J){super(G),this.project=re,this.count=0,this.thisArg=J||this}_next(G){let re;try{re=this.project.call(this.thisArg,G,this.count++)}catch(J){return void this.destination.error(J)}this.destination.next(re)}}},9146:(Ue,ae,N)=>{N.d(ae,{J:()=>V});var a=N(1709),ne=N(5379);function V(te=Number.POSITIVE_INFINITY){return(0,a.zg)(ne.y,te)}},1709:(Ue,ae,N)=>{N.d(ae,{zg:()=>G});var a=N(9054),ne=N(826),V=N(1869),te=N(4850),Y=N(5254);function G(Q,U,F=Number.POSITIVE_INFINITY){return"function"==typeof U?L=>L.pipe(G((B,le)=>(0,Y.D)(Q(B,le)).pipe((0,te.U)((Ae,Ee)=>U(B,Ae,le,Ee))),F)):("number"==typeof U&&(F=U),L=>L.lift(new re(Q,F)))}class re{constructor(U,F=Number.POSITIVE_INFINITY){this.project=U,this.concurrent=F}call(U,F){return F.subscribe(new J(U,this.project,this.concurrent))}}class J extends ne.L{constructor(U,F,L=Number.POSITIVE_INFINITY){super(U),this.project=F,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(U){this.active<this.concurrent?this._tryNext(U):this.buffer.push(U)}_tryNext(U){let F;const L=this.index++;try{F=this.project(U,L)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(F,U,L)}_innerSub(U,F,L){const B=new V.d(this,F,L),le=this.destination;le.add(B);const Ae=(0,a.D)(this,U,void 0,void 0,B);Ae!==B&&le.add(Ae)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(U,F,L,B,le){this.destination.next(F)}notifyComplete(U){const F=this.buffer;this.remove(U),this.active--,F.length>0?this._next(F.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Ue,ae,N)=>{N.d(ae,{ht:()=>Q,QV:()=>re});var a=N(3489),ne=N(8896),V=N(1086),te=N(1737);class G{constructor(L,B,le){this.kind=L,this.value=B,this.error=le,this.hasValue="N"===L}observe(L){switch(this.kind){case"N":return L.next&&L.next(this.value);case"E":return L.error&&L.error(this.error);case"C":return L.complete&&L.complete()}}do(L,B,le){switch(this.kind){case"N":return L&&L(this.value);case"E":return B&&B(this.error);case"C":return le&&le()}}accept(L,B,le){return L&&"function"==typeof L.next?this.observe(L):this.do(L,B,le)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return(0,te._)(this.error);case"C":return(0,ne.c)()}throw new Error("unexpected notification kind value")}static createNext(L){return void 0!==L?new G("N",L):G.undefinedValueNotification}static createError(L){return new G("E",void 0,L)}static createComplete(){return G.completeNotification}}function re(F,L=0){return function(le){return le.lift(new J(F,L))}}G.completeNotification=new G("C"),G.undefinedValueNotification=new G("N",void 0);class J{constructor(L,B=0){this.scheduler=L,this.delay=B}call(L,B){return B.subscribe(new Q(L,this.scheduler,this.delay))}}class Q extends a.L{constructor(L,B,le=0){super(L),this.scheduler=B,this.delay=le}static dispatch(L){const{notification:B,destination:le}=L;B.observe(le),this.unsubscribe()}scheduleMessage(L){this.destination.add(this.scheduler.schedule(Q.dispatch,this.delay,new U(L,this.destination)))}_next(L){this.scheduleMessage(G.createNext(L))}_error(L){this.scheduleMessage(G.createError(L)),this.unsubscribe()}_complete(){this.scheduleMessage(G.createComplete()),this.unsubscribe()}}class U{constructor(L,B){this.notification=L,this.destination=B}}},4327:(Ue,ae,N)=>{N.d(ae,{x:()=>ne});var a=N(3489);function ne(){return function(G){return G.lift(new V(G))}}class V{constructor(G){this.connectable=G}call(G,re){const{connectable:J}=this;J._refCount++;const Q=new te(G,J),U=re.subscribe(Q);return Q.closed||(Q.connection=J.connect()),U}}class te extends a.L{constructor(G,re){super(G),this.connectable=re}_unsubscribe(){const{connectable:G}=this;if(!G)return void(this.connection=null);this.connectable=null;const re=G._refCount;if(re<=0)return void(this.connection=null);if(G._refCount=re-1,re>1)return void(this.connection=null);const{connection:J}=this,Q=G._connection;this.connection=null,Q&&(!J||Q===J)&&Q.unsubscribe()}}},8915:(Ue,ae,N)=>{N.d(ae,{R:()=>Ee});var a=N(6498);let ne=1;const V=Promise.resolve(),te={};function Y(Ie){return Ie in te&&(delete te[Ie],!0)}const G={setImmediate(Ie){const Ne=ne++;return te[Ne]=!0,V.then(()=>Y(Ne)&&Ie()),Ne},clearImmediate(Ie){Y(Ie)}};var J=N(6686),U=N(2268);const L=new class F extends U.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:we}=this;let ze,Be=-1,tt=we.length;Ne=Ne||we.shift();do{if(ze=Ne.execute(Ne.state,Ne.delay))break}while(++Be<tt&&(Ne=we.shift()));if(this.active=!1,ze){for(;++Be<tt&&(Ne=we.shift());)Ne.unsubscribe();throw ze}}}(class Q extends J.o{constructor(Ne,we){super(Ne,we),this.scheduler=Ne,this.work=we}requestAsyncId(Ne,we,ze=0){return null!==ze&&ze>0?super.requestAsyncId(Ne,we,ze):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=G.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,we,ze=0){if(null!==ze&&ze>0||null===ze&&this.delay>0)return super.recycleAsyncId(Ne,we,ze);0===Ne.actions.length&&(G.clearImmediate(we),Ne.scheduled=void 0)}});var B=N(6688);class Ae extends a.y{constructor(Ne,we=0,ze=L){super(),this.source=Ne,this.delayTime=we,this.scheduler=ze,(!function le(Ie){return!(0,B.k)(Ie)&&Ie-parseFloat(Ie)+1>=0}(we)||we<0)&&(this.delayTime=0),(!ze||"function"!=typeof ze.schedule)&&(this.scheduler=L)}static create(Ne,we=0,ze=L){return new Ae(Ne,we,ze)}static dispatch(Ne){const{source:we,subscriber:ze}=Ne;return this.add(we.subscribe(ze))}_subscribe(Ne){return this.scheduler.schedule(Ae.dispatch,this.delayTime,{source:this.source,subscriber:Ne})}}function Ee(Ie,Ne=0){return function(ze){return ze.lift(new fe(Ie,Ne))}}class fe{constructor(Ne,we){this.scheduler=Ne,this.delay=we}call(Ne,we){return new Ae(we,this.delay,this.scheduler).subscribe(Ne)}}},2868:(Ue,ae,N)=>{N.d(ae,{b:()=>te});var a=N(3489);function ne(){}var V=N(7043);function te(re,J,Q){return function(F){return F.lift(new Y(re,J,Q))}}class Y{constructor(J,Q,U){this.nextOrObserver=J,this.error=Q,this.complete=U}call(J,Q){return Q.subscribe(new G(J,this.nextOrObserver,this.error,this.complete))}}class G extends a.L{constructor(J,Q,U,F){super(J),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=U||ne,this._tapComplete=F||ne,(0,V.m)(Q)?(this._context=this,this._tapNext=Q):Q&&(this._context=Q,this._tapNext=Q.next||ne,this._tapError=Q.error||ne,this._tapComplete=Q.complete||ne)}_next(J){try{this._tapNext.call(this._context,J)}catch(Q){return void this.destination.error(Q)}this.destination.next(J)}_error(J){try{this._tapError.call(this._context,J)}catch(Q){return void this.destination.error(Q)}this.destination.error(J)}_complete(){try{this._tapComplete.call(this._context)}catch(J){return void this.destination.error(J)}return this.destination.complete()}}},6454:(Ue,ae,N)=>{N.d(ae,{r:()=>V});var a=N(6498),ne=N(2654);function V(te,Y){return new a.y(G=>{const re=new ne.w;let J=0;return re.add(Y.schedule(function(){J!==te.length?(G.next(te[J++]),G.closed||re.add(this.schedule())):G.complete()})),re})}},6686:(Ue,ae,N)=>{N.d(ae,{o:()=>V});var a=N(2654);class ne extends a.w{constructor(Y,G){super()}schedule(Y,G=0){return this}}class V extends ne{constructor(Y,G){super(Y,G),this.scheduler=Y,this.work=G,this.pending=!1}schedule(Y,G=0){if(this.closed)return this;this.state=Y;const re=this.id,J=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(J,re,G)),this.pending=!0,this.delay=G,this.id=this.id||this.requestAsyncId(J,this.id,G),this}requestAsyncId(Y,G,re=0){return setInterval(Y.flush.bind(Y,this),re)}recycleAsyncId(Y,G,re=0){if(null!==re&&this.delay===re&&!1===this.pending)return G;clearInterval(G)}execute(Y,G){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(Y,G);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,G){let J,re=!1;try{this.work(Y)}catch(Q){re=!0,J=!!Q&&Q||new Error(Q)}if(re)return this.unsubscribe(),J}_unsubscribe(){const Y=this.id,G=this.scheduler,re=G.actions,J=re.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==J&&re.splice(J,1),null!=Y&&(this.id=this.recycleAsyncId(G,Y,null)),this.delay=null}}},2268:(Ue,ae,N)=>{N.d(ae,{v:()=>ne});let a=(()=>{class V{constructor(Y,G=V.now){this.SchedulerAction=Y,this.now=G}schedule(Y,G=0,re){return new this.SchedulerAction(this,Y).schedule(re,G)}}return V.now=()=>Date.now(),V})();class ne extends a{constructor(te,Y=a.now){super(te,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():Y()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(te,Y=0,G){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(te,Y,G):super.schedule(te,Y,G)}flush(te){const{actions:Y}=this;if(this.active)return void Y.push(te);let G;this.active=!0;do{if(G=te.execute(te.state,te.delay))break}while(te=Y.shift());if(this.active=!1,G){for(;te=Y.shift();)te.unsubscribe();throw G}}}},353:(Ue,ae,N)=>{N.d(ae,{P:()=>V});var a=N(6686);const V=new(N(2268).v)(a.o)},341:(Ue,ae,N)=>{N.d(ae,{c:()=>Y});var a=N(6686),V=N(2268);const Y=new class te extends V.v{}(class ne extends a.o{constructor(re,J){super(re,J),this.scheduler=re,this.work=J}schedule(re,J=0){return J>0?super.schedule(re,J):(this.delay=J,this.state=re,this.scheduler.flush(this),this)}execute(re,J){return J>0||this.closed?super.execute(re,J):this._execute(re,J)}requestAsyncId(re,J,Q=0){return null!==Q&&Q>0||null===Q&&this.delay>0?super.requestAsyncId(re,J,Q):re.flush(this)}})},5430:(Ue,ae,N)=>{N.d(ae,{hZ:()=>ne});const ne=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Ue,ae,N)=>{N.d(ae,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Ue,ae,N)=>{N.d(ae,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(Ue,ae,N)=>{N.d(ae,{N:()=>ne});const ne=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},2782:(Ue,ae,N)=>{function a(ne){setTimeout(()=>{throw ne},0)}N.d(ae,{z:()=>a})},5379:(Ue,ae,N)=>{function a(ne){return ne}N.d(ae,{y:()=>a})},6688:(Ue,ae,N)=>{N.d(ae,{k:()=>a});const a=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},8515:(Ue,ae,N)=>{N.d(ae,{z:()=>a});const a=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},7043:(Ue,ae,N)=>{function a(ne){return"function"==typeof ne}N.d(ae,{m:()=>a})},7830:(Ue,ae,N)=>{function a(ne){return null!==ne&&"object"==typeof ne}N.d(ae,{K:()=>a})},8955:(Ue,ae,N)=>{function a(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}N.d(ae,{t:()=>a})},2866:(Ue,ae,N)=>{function a(ne){return ne&&"function"==typeof ne.schedule}N.d(ae,{K:()=>a})},4843:(Ue,ae,N)=>{N.d(ae,{U:()=>V,z:()=>ne});var a=N(5379);function ne(...te){return V(te)}function V(te){return 0===te.length?a.y:1===te.length?te[0]:function(G){return te.reduce((re,J)=>J(re),G)}}},9249:(Ue,ae,N)=>{N.d(ae,{s:()=>F});var a=N(3650),ne=N(2782),te=N(5430),G=N(3821),J=N(8515),Q=N(8955),U=N(7830);const F=L=>{if(L&&"function"==typeof L[G.L])return(L=>B=>{const le=L[G.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(B)})(L);if((0,J.z)(L))return(0,a.V)(L);if((0,Q.t)(L))return(L=>B=>(L.then(le=>{B.closed||(B.next(le),B.complete())},le=>B.error(le)).then(null,ne.z),B))(L);if(L&&"function"==typeof L[te.hZ])return(L=>B=>{const le=L[te.hZ]();for(;;){const Ae=le.next();if(Ae.done){B.complete();break}if(B.next(Ae.value),B.closed)break}return"function"==typeof le.return&&B.add(()=>{le.return&&le.return()}),B})(L);{const le=`You provided ${(0,U.K)(L)?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},3650:(Ue,ae,N)=>{N.d(ae,{V:()=>a});const a=ne=>V=>{for(let te=0,Y=ne.length;te<Y&&!V.closed;te++)V.next(ne[te]);V.complete()}},9054:(Ue,ae,N)=>{N.d(ae,{D:()=>te});var a=N(1869),ne=N(9249),V=N(6498);function te(Y,G,re,J,Q=new a.d(Y,re,J)){if(!Q.closed)return G instanceof V.y?G.subscribe(Q):(0,ne.s)(G)(Q)}},6396:function(Ue,ae,N){var Y,a=this&&this.__extends||(Y=function(G,re){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,Q){J.__proto__=Q}||function(J,Q){for(var U in Q)Q.hasOwnProperty(U)&&(J[U]=Q[U])})(G,re)},function(G,re){function J(){this.constructor=G}Y(G,re),G.prototype=null===re?Object.create(re):(J.prototype=re.prototype,new J)});Object.defineProperty(ae,"__esModule",{value:!0});var ne=N(7057),V=N(1233),te=function(Y){function G(re){var J=Y.call(this)||this;return J._value=re,J}return a(G,Y),Object.defineProperty(G.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),G.prototype._subscribe=function(re){var J=Y.prototype._subscribe.call(this,re);return J&&!J.closed&&re.next(this._value),J},G.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new V.ObjectUnsubscribedError;return this._value},G.prototype.next=function(re){Y.prototype.next.call(this,this._value=re)},G}(ne.Subject);ae.BehaviorSubject=te},5742:(Ue,ae,N)=>{Object.defineProperty(ae,"__esModule",{value:!0});var a=N(1557),ne=N(4802),V=N(7448),te=N(7302),Y=N(4072),G=function(){function J(Q){this._isScalar=!1,Q&&(this._subscribe=Q)}return J.prototype.lift=function(Q){var U=new J;return U.source=this,U.operator=Q,U},J.prototype.subscribe=function(Q,U,F){var L=this.operator,B=ne.toSubscriber(Q,U,F);if(B.add(L?L.call(B,this.source):this.source||Y.config.useDeprecatedSynchronousErrorHandling&&!B.syncErrorThrowable?this._subscribe(B):this._trySubscribe(B)),Y.config.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable&&(B.syncErrorThrowable=!1,B.syncErrorThrown))throw B.syncErrorValue;return B},J.prototype._trySubscribe=function(Q){try{return this._subscribe(Q)}catch(U){Y.config.useDeprecatedSynchronousErrorHandling&&(Q.syncErrorThrown=!0,Q.syncErrorValue=U),a.canReportError(Q)?Q.error(U):console.warn(U)}},J.prototype.forEach=function(Q,U){var F=this;return new(U=re(U))(function(L,B){var le;le=F.subscribe(function(Ae){try{Q(Ae)}catch(Ee){B(Ee),le&&le.unsubscribe()}},B,L)})},J.prototype._subscribe=function(Q){var U=this.source;return U&&U.subscribe(Q)},J.prototype[V.observable]=function(){return this},J.prototype.pipe=function(){for(var Q=[],U=0;U<arguments.length;U++)Q[U]=arguments[U];return 0===Q.length?this:te.pipeFromArray(Q)(this)},J.prototype.toPromise=function(Q){var U=this;return new(Q=re(Q))(function(F,L){var B;U.subscribe(function(le){return B=le},function(le){return L(le)},function(){return F(B)})})},J.create=function(Q){return new J(Q)},J}();function re(J){if(J||(J=Y.config.Promise||Promise),!J)throw new Error("no Promise impl found");return J}ae.Observable=G},7350:(Ue,ae,N)=>{Object.defineProperty(ae,"__esModule",{value:!0});var a=N(4072),ne=N(2422);ae.empty={closed:!0,next:function(V){},error:function(V){if(a.config.useDeprecatedSynchronousErrorHandling)throw V;ne.hostReportError(V)},complete:function(){}}},7057:function(Ue,ae,N){var F,a=this&&this.__extends||(F=function(L,B){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,Ae){le.__proto__=Ae}||function(le,Ae){for(var Ee in Ae)Ae.hasOwnProperty(Ee)&&(le[Ee]=Ae[Ee])})(L,B)},function(L,B){function le(){this.constructor=L}F(L,B),L.prototype=null===B?Object.create(B):(le.prototype=B.prototype,new le)});Object.defineProperty(ae,"__esModule",{value:!0});var ne=N(5742),V=N(3281),te=N(6052),Y=N(1233),G=N(9576),re=N(2858),J=function(F){function L(B){var le=F.call(this,B)||this;return le.destination=B,le}return a(L,F),L}(V.Subscriber);ae.SubjectSubscriber=J;var Q=function(F){function L(){var B=F.call(this)||this;return B.observers=[],B.closed=!1,B.isStopped=!1,B.hasError=!1,B.thrownError=null,B}return a(L,F),L.prototype[re.rxSubscriber]=function(){return new J(this)},L.prototype.lift=function(B){var le=new U(this,this);return le.operator=B,le},L.prototype.next=function(B){if(this.closed)throw new Y.ObjectUnsubscribedError;if(!this.isStopped)for(var le=this.observers,Ae=le.length,Ee=le.slice(),fe=0;fe<Ae;fe++)Ee[fe].next(B)},L.prototype.error=function(B){if(this.closed)throw new Y.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=B,this.isStopped=!0;for(var le=this.observers,Ae=le.length,Ee=le.slice(),fe=0;fe<Ae;fe++)Ee[fe].error(B);this.observers.length=0},L.prototype.complete=function(){if(this.closed)throw new Y.ObjectUnsubscribedError;this.isStopped=!0;for(var B=this.observers,le=B.length,Ae=B.slice(),Ee=0;Ee<le;Ee++)Ae[Ee].complete();this.observers.length=0},L.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},L.prototype._trySubscribe=function(B){if(this.closed)throw new Y.ObjectUnsubscribedError;return F.prototype._trySubscribe.call(this,B)},L.prototype._subscribe=function(B){if(this.closed)throw new Y.ObjectUnsubscribedError;return this.hasError?(B.error(this.thrownError),te.Subscription.EMPTY):this.isStopped?(B.complete(),te.Subscription.EMPTY):(this.observers.push(B),new G.SubjectSubscription(this,B))},L.prototype.asObservable=function(){var B=new ne.Observable;return B.source=this,B},L.create=function(B,le){return new U(B,le)},L}(ne.Observable);ae.Subject=Q;var U=function(F){function L(B,le){var Ae=F.call(this)||this;return Ae.destination=B,Ae.source=le,Ae}return a(L,F),L.prototype.next=function(B){var le=this.destination;le&&le.next&&le.next(B)},L.prototype.error=function(B){var le=this.destination;le&&le.error&&this.destination.error(B)},L.prototype.complete=function(){var B=this.destination;B&&B.complete&&this.destination.complete()},L.prototype._subscribe=function(B){return this.source?this.source.subscribe(B):te.Subscription.EMPTY},L}(Q);ae.AnonymousSubject=U},9576:function(Ue,ae,N){var te,a=this&&this.__extends||(te=function(Y,G){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,J){re.__proto__=J}||function(re,J){for(var Q in J)J.hasOwnProperty(Q)&&(re[Q]=J[Q])})(Y,G)},function(Y,G){function re(){this.constructor=Y}te(Y,G),Y.prototype=null===G?Object.create(G):(re.prototype=G.prototype,new re)});Object.defineProperty(ae,"__esModule",{value:!0});var V=function(te){function Y(G,re){var J=te.call(this)||this;return J.subject=G,J.subscriber=re,J.closed=!1,J}return a(Y,te),Y.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var G=this.subject,re=G.observers;if(this.subject=null,re&&0!==re.length&&!G.isStopped&&!G.closed){var J=re.indexOf(this.subscriber);-1!==J&&re.splice(J,1)}}},Y}(N(6052).Subscription);ae.SubjectSubscription=V},3281:function(Ue,ae,N){var U,a=this&&this.__extends||(U=function(F,L){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,le){B.__proto__=le}||function(B,le){for(var Ae in le)le.hasOwnProperty(Ae)&&(B[Ae]=le[Ae])})(F,L)},function(F,L){function B(){this.constructor=F}U(F,L),F.prototype=null===L?Object.create(L):(B.prototype=L.prototype,new B)});Object.defineProperty(ae,"__esModule",{value:!0});var ne=N(9607),V=N(7350),te=N(6052),Y=N(2858),G=N(4072),re=N(2422),J=function(U){function F(L,B,le){var Ae=U.call(this)||this;switch(Ae.syncErrorValue=null,Ae.syncErrorThrown=!1,Ae.syncErrorThrowable=!1,Ae.isStopped=!1,arguments.length){case 0:Ae.destination=V.empty;break;case 1:if(!L){Ae.destination=V.empty;break}if("object"==typeof L){L instanceof F?(Ae.syncErrorThrowable=L.syncErrorThrowable,Ae.destination=L,L.add(Ae)):(Ae.syncErrorThrowable=!0,Ae.destination=new Q(Ae,L));break}default:Ae.syncErrorThrowable=!0,Ae.destination=new Q(Ae,L,B,le)}return Ae}return a(F,U),F.prototype[Y.rxSubscriber]=function(){return this},F.create=function(L,B,le){var Ae=new F(L,B,le);return Ae.syncErrorThrowable=!1,Ae},F.prototype.next=function(L){this.isStopped||this._next(L)},F.prototype.error=function(L){this.isStopped||(this.isStopped=!0,this._error(L))},F.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},F.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,U.prototype.unsubscribe.call(this))},F.prototype._next=function(L){this.destination.next(L)},F.prototype._error=function(L){this.destination.error(L),this.unsubscribe()},F.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},F.prototype._unsubscribeAndRecycle=function(){var L=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this},F}(te.Subscription);ae.Subscriber=J;var Q=function(U){function F(L,B,le,Ae){var Ee=U.call(this)||this;Ee._parentSubscriber=L;var fe,Ie=Ee;return ne.isFunction(B)?fe=B:B&&(fe=B.next,le=B.error,Ae=B.complete,B!==V.empty&&(Ie=Object.create(B),ne.isFunction(Ie.unsubscribe)&&Ee.add(Ie.unsubscribe.bind(Ie)),Ie.unsubscribe=Ee.unsubscribe.bind(Ee))),Ee._context=Ie,Ee._next=fe,Ee._error=le,Ee._complete=Ae,Ee}return a(F,U),F.prototype.next=function(L){if(!this.isStopped&&this._next){var B=this._parentSubscriber;G.config.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}},F.prototype.error=function(L){if(!this.isStopped){var B=this._parentSubscriber,le=G.config.useDeprecatedSynchronousErrorHandling;if(this._error)le&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(B.syncErrorThrowable)le?(B.syncErrorValue=L,B.syncErrorThrown=!0):re.hostReportError(L),this.unsubscribe();else{if(this.unsubscribe(),le)throw L;re.hostReportError(L)}}},F.prototype.complete=function(){var L=this;if(!this.isStopped){var B=this._parentSubscriber;if(this._complete){var le=function(){return L._complete.call(L._context)};G.config.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,le),this.unsubscribe()):(this.__tryOrUnsub(le),this.unsubscribe())}else this.unsubscribe()}},F.prototype.__tryOrUnsub=function(L,B){try{L.call(this._context,B)}catch(le){if(this.unsubscribe(),G.config.useDeprecatedSynchronousErrorHandling)throw le;re.hostReportError(le)}},F.prototype.__tryOrSetError=function(L,B,le){if(!G.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,le)}catch(Ae){return G.config.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=Ae,L.syncErrorThrown=!0,!0):(re.hostReportError(Ae),!0)}return!1},F.prototype._unsubscribe=function(){var L=this._parentSubscriber;this._context=null,this._parentSubscriber=null,L.unsubscribe()},F}(J);ae.SafeSubscriber=Q},6052:(Ue,ae,N)=>{Object.defineProperty(ae,"__esModule",{value:!0});var a=N(5019),ne=N(2556),V=N(9607),te=N(2142),Y=function(){function re(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._unsubscribe=J)}return re.prototype.unsubscribe=function(){var J;if(!this.closed){var Q=this,U=Q._parentOrParents,F=Q._unsubscribe,L=Q._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof re)U.remove(this);else if(null!==U)for(var B=0;B<U.length;++B)U[B].remove(this);if(V.isFunction(F))try{F.call(this)}catch(fe){J=fe instanceof te.UnsubscriptionError?G(fe.errors):[fe]}if(a.isArray(L)){B=-1;for(var Ae=L.length;++B<Ae;){var Ee=L[B];if(ne.isObject(Ee))try{Ee.unsubscribe()}catch(Ie){J=J||[],Ie instanceof te.UnsubscriptionError?J=J.concat(G(Ie.errors)):J.push(Ie)}}}if(J)throw new te.UnsubscriptionError(J)}},re.prototype.add=function(J){var Q=J;if(!J)return re.EMPTY;switch(typeof J){case"function":Q=new re(J);case"object":if(Q===this||Q.closed||"function"!=typeof Q.unsubscribe)return Q;if(this.closed)return Q.unsubscribe(),Q;if(!(Q instanceof re)){var U=Q;(Q=new re)._subscriptions=[U]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}var F=Q._parentOrParents;if(null===F)Q._parentOrParents=this;else if(F instanceof re){if(F===this)return Q;Q._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return Q;F.push(this)}var L=this._subscriptions;return null===L?this._subscriptions=[Q]:L.push(Q),Q},re.prototype.remove=function(J){var Q=this._subscriptions;if(Q){var U=Q.indexOf(J);-1!==U&&Q.splice(U,1)}},re.EMPTY=((J=new re).closed=!0,J),re;var J}();function G(re){return re.reduce(function(J,Q){return J.concat(Q instanceof te.UnsubscriptionError?Q.errors:Q)},[])}ae.Subscription=Y},4072:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0});var N=!1;ae.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(a){if(a){var ne=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ne.stack)}else N&&console.log("RxJS: Back to a better error behavior. Thank you. <3");N=a},get useDeprecatedSynchronousErrorHandling(){return N}}},7448:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0}),ae.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},2858:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0}),ae.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),ae.$$rxSubscriber=ae.rxSubscriber},1233:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0});var N=function(){function a(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return a.prototype=Object.create(Error.prototype),a}();ae.ObjectUnsubscribedError=N},2142:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0});var N=function(){function a(ne){return Error.call(this),this.message=ne?ne.length+" errors occurred during unsubscription:\n"+ne.map(function(V,te){return te+1+") "+V.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=ne,this}return a.prototype=Object.create(Error.prototype),a}();ae.UnsubscriptionError=N},1557:(Ue,ae,N)=>{Object.defineProperty(ae,"__esModule",{value:!0});var a=N(3281);ae.canReportError=function ne(V){for(;V;){var G=V.destination;if(V.closed||V.isStopped)return!1;V=G&&G instanceof a.Subscriber?G:null}return!0}},2422:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0}),ae.hostReportError=function N(a){setTimeout(function(){throw a},0)}},6610:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0}),ae.identity=function N(a){return a}},5019:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0}),ae.isArray=Array.isArray||function(N){return N&&"number"==typeof N.length}},9607:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0}),ae.isFunction=function N(a){return"function"==typeof a}},2556:(Ue,ae)=>{Object.defineProperty(ae,"__esModule",{value:!0}),ae.isObject=function N(a){return null!==a&&"object"==typeof a}},7302:(Ue,ae,N)=>{Object.defineProperty(ae,"__esModule",{value:!0});var a=N(6610);function V(te){return 0===te.length?a.identity:1===te.length?te[0]:function(G){return te.reduce(function(re,J){return J(re)},G)}}ae.pipe=function ne(){for(var te=[],Y=0;Y<arguments.length;Y++)te[Y]=arguments[Y];return V(te)},ae.pipeFromArray=V},4802:(Ue,ae,N)=>{Object.defineProperty(ae,"__esModule",{value:!0});var a=N(3281),ne=N(2858),V=N(7350);ae.toSubscriber=function te(Y,G,re){if(Y){if(Y instanceof a.Subscriber)return Y;if(Y[ne.rxSubscriber])return Y[ne.rxSubscriber]()}return Y||G||re?new a.Subscriber(Y,G,re):new a.Subscriber(V.empty)}},655:(Ue,ae,N)=>{function te(ee,de){var ye={};for(var ge in ee)Object.prototype.hasOwnProperty.call(ee,ge)&&de.indexOf(ge)<0&&(ye[ge]=ee[ge]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ge=Object.getOwnPropertySymbols(ee);Fe<ge.length;Fe++)de.indexOf(ge[Fe])<0&&Object.prototype.propertyIsEnumerable.call(ee,ge[Fe])&&(ye[ge[Fe]]=ee[ge[Fe]])}return ye}function J(ee,de,ye,ge){return new(ye||(ye=Promise))(function(Le,mt){function nn(un){try{Vt(ge.next(un))}catch(En){mt(En)}}function wn(un){try{Vt(ge.throw(un))}catch(En){mt(En)}}function Vt(un){un.done?Le(un.value):function Fe(Le){return Le instanceof ye?Le:new ye(function(mt){mt(Le)})}(un.value).then(nn,wn)}Vt((ge=ge.apply(ee,de||[])).next())})}N.d(ae,{_T:()=>te,mG:()=>J})},6435:(Ue,ae,N)=>{N.d(ae,{QbO:()=>Cl,tb:()=>nC,AFp:()=>qc,ip1:()=>Sg,CZH:()=>zc,hGG:()=>lx,z2F:()=>xg,sBO:()=>r0,Sil:()=>rC,_Vd:()=>w,EJc:()=>Gn,Xts:()=>yl,SBq:()=>X,lqb:()=>ba,qLn:()=>xh,vpe:()=>$o,XFs:()=>ot,OlP:()=>bn,zs3:()=>ld,ZZ4:()=>p0,aQg:()=>Re,soG:()=>Cg,YKP:()=>yD,h0i:()=>mg,PXZ:()=>cr,R0b:()=>bo,FiY:()=>pa,Lbi:()=>tC,g9A:()=>Kw,Qsj:()=>It,FYo:()=>Xe,JOm:()=>Uo,tp0:()=>Gr,Rgc:()=>vg,dDg:()=>KD,eoX:()=>lC,q4F:()=>Ih,GfV:()=>Ls,s_b:()=>df,ifc:()=>Mn,MMx:()=>OS,Lck:()=>lO,eFA:()=>Jw,G48:()=>Og,Gpc:()=>Ee,f3M:()=>Pt,X6Q:()=>pC,_c5:()=>ax,c2e:()=>f_,zSh:()=>ss,wAp:()=>wt,vHH:()=>we,lri:()=>Qw,rWj:()=>E_,D6c:()=>cx,cg1:()=>lg,kL8:()=>cS,dqk:()=>In,Z0I:()=>Qs,sIi:()=>qh,CqO:()=>hy,QGY:()=>dy,QP$:()=>Un,F4k:()=>Ia,RDi:()=>ip,AaK:()=>B,qOj:()=>Hh,TTD:()=>Kd,_Bn:()=>Lc,jDz:()=>vD,xp6:()=>zm,uIk:()=>Fb,ekj:()=>yy,Suo:()=>jS,Xpm:()=>K,lG2:()=>hn,Yz7:()=>Tn,cJS:()=>wr,oAB:()=>me,Yjl:()=>Or,Y36:()=>Vh,_UZ:()=>pt,BQk:()=>uy,ynx:()=>Qh,qZA:()=>wl,TgZ:()=>Yh,EpF:()=>Qp,n5z:()=>Os,Ikx:()=>Sy,LFG:()=>Ge,$8M:()=>lc,$Z:()=>Zm,NdJ:()=>fy,CRH:()=>Nw,oxw:()=>gy,Hsn:()=>$T,F$t:()=>qT,Q6J:()=>Yr,iGM:()=>Mw,KtG:()=>Kl,CHM:()=>Wl,LSH:()=>gp,Udp:()=>Ti,YNc:()=>Pb,_uU:()=>qb,Oqu:()=>by,hij:()=>ig,AsE:()=>sg,Gf:()=>Ow});var a=N(8929),ne=N(2654),V=N(6498),te=N(6787),Y=N(1762);class re{constructor(o,c){this.subjectFactory=o,this.selector=c}call(o,c){const{selector:d}=this,h=this.subjectFactory(),g=d(h).subscribe(o);return g.add(c.subscribe(h)),g}}var J=N(4327);function Q(){return new a.xQ}function F(s){for(let o in s)if(s[o]===F)return o;throw Error("Could not find renamed property on target object.")}function L(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function B(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(B).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Ae=F({__forward_ref__:F});function Ee(s){return s.__forward_ref__=Ee,s.toString=function(){return B(this())},s}function fe(s){return Ie(s)?s():s}function Ie(s){return"function"==typeof s&&s.hasOwnProperty(Ae)&&s.__forward_ref__===Ee}class we extends Error{constructor(o,c){super(function ze(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function Be(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s,o){throw new we(-201,!1)}function dn(s,o){null==s&&function Nt(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function wr(s){return{providers:s.providers||[],imports:s.imports||[]}}function ys(s){return Mi(s,Er)||Mi(s,Js)}function Qs(s){return null!==ys(s)}function Mi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Sn(s){return s&&(s.hasOwnProperty(zi)||s.hasOwnProperty(Ni))?s[zi]:null}const Er=F({\u0275prov:F}),zi=F({\u0275inj:F}),Js=F({ngInjectableDef:F}),Ni=F({ngInjectorDef:F});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Mr;function Zt(s){const o=Mr;return Mr=s,o}function ht(s,o,c){const d=ys(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ot.Optional?null:void 0!==o?o:void De(B(s))}function hr(s){return{toString:s}.toString()}var yn=(()=>((yn=yn||{})[yn.OnPush=0]="OnPush",yn[yn.Default=1]="Default",yn))(),Mn=(()=>{return(s=Mn||(Mn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Mn;var s})();const In=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Jt={},Ht=[],ei=F({\u0275cmp:F}),Qe=F({\u0275dir:F}),ke=F({\u0275pipe:F}),Je=F({\u0275mod:F}),ft=F({\u0275fac:F}),yt=F({__NG_ELEMENT_ID__:F});let qt=0;function K(s){return hr(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Mn.Emulated,id:"c"+qt++,styles:s.styles||Ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=Rt(s.inputs,d),h.outputs=Rt(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(oe).filter(Ce):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(vt).filter(Ce):null,h})}function oe(s){return Et(s)||fn(s)}function Ce(s){return null!==s}function me(s){return hr(()=>({type:s.type,bootstrap:s.bootstrap||Ht,declarations:s.declarations||Ht,imports:s.imports||Ht,exports:s.exports||Ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Rt(s,o){if(null==s)return Jt;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,o&&(o[h]=g)}return c}const hn=K;function Or(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Et(s){return s[ei]||null}function fn(s){return s[Qe]||null}function vt(s){return s[ke]||null}function Un(s){const o=Et(s)||fn(s)||vt(s);return null!==o&&o.standalone}function fr(s,o){const c=s[Je]||null;if(!c&&!0===o)throw new Error(`Type ${B(s)} does not have '\u0275mod' property.`);return c}function ir(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ri(s){return Array.isArray(s)&&!0===s[1]}function Ha(s){return 0!=(8&s.flags)}function Vl(s){return 2==(2&s.flags)}function Xo(s){return 1==(1&s.flags)}function qr(s){return null!==s.template}function Yn(s){return 0!=(256&s[2])}function Wi(s,o){return s.hasOwnProperty(ft)?s[ft]:null}class Wd{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Kd(){return Io}function Io(s){return s.type.prototype.ngOnChanges&&(s.setInput=fi),Ao}function Ao(){const s=$a(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===Jt)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function fi(s,o,c,d){const h=$a(s)||function lu(s,o){return s[au]=o}(s,{previous:Jt,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[c],T=v[E];g[E]=new Wd(T&&T.currentValue,o,v===Jt),s[d]=o}Kd.ngInherit=!0;const au="__ngSimpleChanges__";function $a(s){return s[au]||null}function On(s){for(;Array.isArray(s);)s=s[0];return s}function An(s,o){return On(o[s])}function Nr(s,o){return On(o[s.index])}function na(s,o){return s.data[o]}function Rr(s,o){const c=o[s];return ir(c)?c:c[0]}function Za(s){return 64==(64&s[2])}function Ss(s,o){return null==o?null:s[o]}function Ga(s){s[18]=0}function ra(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Dt={lFrame:Qa(null),bindingsEnabled:!0};function Gl(){return Dt.bindingsEnabled}function Me(){return Dt.lFrame.lView}function Kt(){return Dt.lFrame.tView}function Wl(s){return Dt.lFrame.contextLView=s,s[8]}function Kl(s){return Dt.lFrame.contextLView=null,s}function jn(){let s=Ka();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ka(){return Dt.lFrame.currentTNode}function pi(s,o){const c=Dt.lFrame;c.currentTNode=s,c.isParent=o}function ia(){return Dt.lFrame.isParent}function Is(){Dt.lFrame.isParent=!1}function eo(){return Dt.lFrame.bindingIndex++}function Ki(s){const o=Dt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function mu(s,o){const c=Dt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ya(o)}function Ya(s){Dt.lFrame.currentDirectiveIndex=s}function _u(){return Dt.lFrame.currentQueryIndex}function Ql(s){Dt.lFrame.currentQueryIndex=s}function eh(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function th(s,o,c){if(c&ot.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&ot.Host||(h=eh(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Dt.lFrame=to();return d.currentTNode=o,d.lView=s,!0}function xo(s){const o=to(),c=s[1];Dt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function to(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?Qa(s):o}function Qa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ja(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ko=Ja;function Xa(){const s=Ja();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Fr(){return Dt.lFrame.selectedIndex}function Yi(s){Dt.lFrame.selectedIndex=s}function Cn(){const s=Dt.lFrame;return na(s.tView,s.selectedIndex)}function tl(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:D,ngOnDestroy:M}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),T&&(s.viewHooks||(s.viewHooks=[])).push(-c,T),D&&((s.viewHooks||(s.viewHooks=[])).push(c,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,D)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(c,M)}}function Xl(s,o,c){nl(s,o,3,c)}function Mo(s,o,c,d){(3&s[2])===c&&nl(s,o,c,d)}function As(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function nl(s,o,c,d){const g=null!=d?d:-1,v=o.length-1;let E=0;for(let T=void 0!==d?65535&s[18]:0;T<v;T++)if("number"==typeof o[T+1]){if(E=o[T],null!=d&&E>=d)break}else o[T]<0&&(s[18]+=65536),(E<g||-1==g)&&(gr(s,c,o,T),s[18]=(4294901760&s[18])+T+2),T++}function gr(s,o,c,d){const h=c[d]<0,g=c[d+1],E=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class no{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ec(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],E=c[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=c[++d];oa(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function ri(s){return 3===s||4===s||6===s}function oa(s){return 64===s.charCodeAt(0)}function Eu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||xs(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function xs(s,o,c,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Tu(s){return-1!==s}function ro(s){return 32767&s}function Oo(s,o){let c=function tc(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Pn=!0;function il(s){const o=Pn;return Pn=s,o}let oh=0;const Qi={};function aa(s,o){const c=ol(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ks(d.data,s),ks(o,null),ks(d.blueprint,null));const h=Ms(s,o),g=s.injectorIndex;if(Tu(h)){const v=ro(h),E=Oo(h,o),T=E[1].data;for(let D=0;D<8;D++)o[g+D]=E[v+D]|T[v+D]}return o[g+8]=h,g}function ks(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ol(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ms(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=ca(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function No(s,o,c){!function sl(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(yt)&&(d=c[yt]),null==d&&(d=c[yt]=oh++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function ic(s,o,c){if(c&ot.Optional||void 0!==s)return s;De()}function la(s,o,c,d){if(c&ot.Optional&&void 0===d&&(d=null),0==(c&(ot.Self|ot.Host))){const h=s[9],g=Zt(void 0);try{return h?h.get(o,d,c&ot.Optional):ht(o,d,c&ot.Optional)}finally{Zt(g)}}return ic(d,0,c)}function sc(s,o,c,d=ot.Default,h){if(null!==s){if(1024&o[2]){const v=function ep(s,o,c,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=oc(g,v,c,d|ot.Self,Qi);if(E!==Qi)return E;let T=g.parent;if(!T){const D=v[21];if(D){const M=D.get(c,Qi,d);if(M!==Qi)return M}T=ca(v),v=v[15]}g=T}return h}(s,o,c,d,Qi);if(v!==Qi)return v}const g=oc(s,o,c,d,Qi);if(g!==Qi)return g}return la(o,c,d,h)}function oc(s,o,c,d,h){const g=function io(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yt)?s[yt]:void 0;return"number"==typeof o?o>=0?255&o:lh:o}(c);if("function"==typeof g){if(!th(o,s,d))return d&ot.Host?ic(h,0,d):la(o,c,d,h);try{const v=g(d);if(null!=v||d&ot.Optional)return v;De()}finally{ko()}}else if("number"==typeof g){let v=null,E=ol(s,o),T=-1,D=d&ot.Host?o[16][6]:null;for((-1===E||d&ot.SkipSelf)&&(T=-1===E?Ms(s,o):o[E+8],-1!==T&&Fo(d,!1)?(v=o[1],E=ro(T),o=Oo(T,o)):E=-1);-1!==E;){const M=o[1];if(Cu(g,E,M.data)){const j=ac(E,o,c,v,d,D);if(j!==Qi)return j}T=o[E+8],-1!==T&&Fo(d,o[1].data[E+8]===D)&&Cu(g,E,o)?(v=M,E=ro(T),o=Oo(T,o)):E=-1}}return h}function ac(s,o,c,d,h,g){const v=o[1],E=v.data[s+8],M=al(E,v,c,null==d?Vl(E)&&Pn:d!=v&&0!=(3&E.type),h&ot.Host&&g===E);return null!==M?Ro(o,v,M,E):Qi}function al(s,o,c,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,T=s.directiveStart,M=g>>20,W=h?E+M:s.directiveEnd;for(let he=d?E:E+M;he<W;he++){const Se=v[he];if(he<T&&c===Se||he>=T&&Se.type===c)return he}if(h){const he=v[T];if(he&&qr(he)&&he.type===c)return T}return null}function Ro(s,o,c,d){let h=s[c];const g=o.data;if(function ih(s){return s instanceof no}(h)){const v=h;v.resolving&&function tn(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${c}`)}(function tt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Be(s)}(g[c]));const E=il(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Zt(v.injectImpl):null;th(s,d,ot.Default);try{h=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function el(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=Io(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==T&&Zt(T),il(E),v.resolving=!1,ko()}}return h}function Cu(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Fo(s,o){return!(s&ot.Self||s&ot.Host&&o)}class Ji{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return sc(this._tNode,this._lView,o,d,c)}}function lh(){return new Ji(jn(),Me())}function Os(s){return hr(()=>{const o=s.prototype.constructor,c=o[ft]||ll(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[ft]||ll(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function ll(s){return Ie(s)?()=>{const o=ll(fe(s));return o&&o()}:Wi(s)}function ca(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function lc(s){return function ah(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(ri(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(jn(),s)}const ii="__parameters__";function cl(s,o,c){return hr(()=>{const d=function Iu(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(T,D,M){const j=T.hasOwnProperty(ii)?T[ii]:Object.defineProperty(T,ii,{value:[]})[ii];for(;j.length<=M;)j.push(null);return(j[M]=j[M]||[]).push(v),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class bn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Tn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Dn(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),Dn(d,o)):o!==s&&o.push(d)}return o}function Ns(s,o){s.forEach(c=>Array.isArray(c)?Ns(c,o):o(c))}function Po(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function ts(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function si(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Jn(s,o,c){let d=yr(s,o);return d>=0?s[1|d]=c:(d=~d,function Du(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function xu(s,o){const c=yr(s,o);if(c>=0)return s[1|c]}function yr(s,o){return function fa(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?h=g:d=g+1}return~(h<<c)}(s,o,1)}const ao={},Mu="__NG_DI_FLAG__",S="ngTempTokenPath",O=/\n/gm,ce="__source";let pe;function xe(s){const o=pe;return pe=s,o}function $e(s,o=ot.Default){if(void 0===pe)throw new we(-203,!1);return null===pe?ht(s,void 0,o):pe.get(s,o&ot.Optional?null:void 0,o)}function Ge(s,o=ot.Default){return(function _s(){return Mr}()||$e)(fe(s),o)}function Pt(s,o=ot.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Ge(s,o)}function at(s){const o=[];for(let c=0;c<s.length;c++){const d=fe(s[c]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,g=ot.Default;for(let v=0;v<d.length;v++){const E=d[v],T=Cr(E);"number"==typeof T?-1===T?h=E.token:g|=T:h=E}o.push(Ge(h,g))}else o.push(Ge(d))}return o}function Hn(s,o){return s[Mu]=o,s.prototype[Mu]=o,s}function Cr(s){return s[Mu]}const pa=Hn(cl("Optional"),8),Gr=Hn(cl("SkipSelf"),4);let ph;function ip(s){ph=s}class ju{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ma(s){return s instanceof ju?s.changingThisBreaksApplicationSecurity:s}const zu=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function gp(s){const o=function _c(){const s=Me();return s&&s[12]}();return o?o.sanitize(Xn.URL,s)||"":function pc(s,o){const c=function vv(s){return s instanceof ju&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}(s,"URL")?ma(s):function up(s){return(s=String(s)).match(zu)?s:"unsafe:"+s}(Be(s))}const yl=new bn("ENVIRONMENT_INITIALIZER"),wh=new bn("INJECTOR",-1),Gu=new bn("INJECTOR_DEF_TYPES");class yp{get(o,c=ao){if(c===ao){const d=new Error(`NullInjectorError: No provider for ${B(o)}!`);throw d.name="NullInjectorError",d}return c}}function _p(...s){return{\u0275providers:vc(0,s)}}function vc(s,...o){const c=[],d=new Set;let h;return Ns(o,g=>{const v=g;_a(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&_i(h,c),c}function _i(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];Ns(h,g=>{o.push(g)})}}function _a(s,o,c,d){if(!(s=fe(s)))return!1;let h=null,g=Sn(s);const v=!g&&Et(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const T=s.ngModule;if(g=Sn(T),!g)return!1;h=T}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const D of T)_a(D,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let D;d.add(h);try{Ns(g.imports,M=>{_a(M,o,c,d)&&(D||(D=[]),D.push(M))})}finally{}void 0!==D&&_i(D,o)}if(!E){const D=Wi(h)||(()=>new h);o.push({provide:h,useFactory:D,deps:Ht},{provide:Gu,useValue:h,multi:!0},{provide:yl,useValue:()=>Ge(h),multi:!0})}const T=g.providers;null==T||E||Ns(T,M=>{o.push(M)})}}return h!==s&&void 0!==s.providers}const vp=F({provide:String,useValue:F});function Wu(s){return null!==s&&"object"==typeof s&&vp in s}function va(s){return"function"==typeof s}const ss=new bn("Set Injector scope."),Ku={},Mm={};let Th;function lo(){return void 0===Th&&(Th=new yp),Th}class ba{}class Wr extends ba{constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ch(o,v=>this.processProvider(v)),this.records.set(wh,os(void 0,this)),h.has("environment")&&this.records.set(ba,os(void 0,this));const g=this.records.get(ss);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Gu.multi,Ht,ot.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=xe(this),d=Zt(void 0);try{return o()}finally{xe(c),Zt(d)}}get(o,c=ao,d=ot.Default){this.assertNotDestroyed();const h=xe(this),g=Zt(void 0);try{if(!(d&ot.SkipSelf)){let E=this.records.get(o);if(void 0===E){const T=function Nm(s){return"function"==typeof s||"object"==typeof s&&s instanceof bn}(o)&&ys(o);E=T&&this.injectableDefInScope(T)?os(Yu(o),Ku):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&ot.Self?lo():this.parent).get(o,c=d&ot.Optional&&c===ao?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[S]=v[S]||[]).unshift(B(o)),h)throw v;return function Pr(s,o,c,d){const h=s[S];throw o[ce]&&h.unshift(o[ce]),s.message=function zn(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=B(o);if(Array.isArray(o))h=o.map(B).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):B(E)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(O,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[S]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Zt(g),xe(h)}}resolveInjectorInitializers(){const o=xe(this),c=Zt(void 0);try{const d=this.get(yl.multi,Ht,ot.Self);for(const h of d)h()}finally{xe(o),Zt(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(B(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let c=va(o=fe(o))?o:fe(o&&o.provide);const d=function xv(s){return Wu(s)?os(void 0,s.useValue):os(co(s),Ku)}(o);if(va(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=os(void 0,Ku,!0),h.factory=()=>at(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===Ku&&(c.value=Mm,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Om(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=fe(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Yu(s){const o=ys(s),c=null!==o?o.factory:Wi(s);if(null!==c)return c;if(s instanceof bn)throw new we(204,!1);if(s instanceof Function)return function Sh(s){const o=s.length;if(o>0)throw si(o,"?"),new we(204,!1);const c=function Oi(s){const o=s&&(s[Er]||s[Js]);if(o){const c=function Va(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new we(204,!1)}function co(s,o,c){let d;if(va(s)){const h=fe(s);return Wi(h)||Yu(h)}if(Wu(s))d=()=>fe(s.useValue);else if(function bp(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...at(s.deps||[]));else if(function Eh(s){return!(!s||!s.useExisting)}(s))d=()=>Ge(fe(s.useExisting));else{const h=fe(s&&(s.useClass||s.provide));if(!function wp(s){return!!s.deps}(s))return Wi(h)||Yu(h);d=()=>new h(...at(s.deps))}return d}function os(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Ep(s){return!!s.\u0275providers}function Ch(s,o){for(const c of s)Array.isArray(c)?Ch(c,o):Ep(c)?Ch(c.\u0275providers,o):o(c)}class Tp{}class m{resolveComponentFactory(o){throw function Mv(s){const o=Error(`No component factory found for ${B(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let w=(()=>{class s{}return s.NULL=new m,s})();function k(){return R(jn(),Me())}function R(s,o){return new X(Nr(s,o))}let X=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=k,s})();function _e(s){return s instanceof X?s.nativeElement:s}class Xe{}let It=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function _t(){const s=Me(),c=Rr(jn().index,s);return(ir(c)?c:s)[11]}(),s})(),Ir=(()=>{class s{}return s.\u0275prov=Tn({token:s,providedIn:"root",factory:()=>null}),s})();class Ls{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ih=new Ls("14.2.10"),it={};function ed(s){return s.ngOriginalError}class xh{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&ed(o);for(;c&&ed(c);)c=ed(c);return c||null}}const Nv=new Map;let jI=0;const Pm="__ngContext__";function vi(s,o){ir(o)?(s[Pm]=o[20],function Vo(s){Nv.set(s[20],s)}(o)):s[Pm]=o}function Ea(s){return s instanceof Function?s():s}var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();function Pv(s,o){return undefined(s,o)}function vl(s){const o=s[3];return Ri(o)?o[3]:o}function Vv(s){return Bo(s[13])}function Uv(s){return Bo(s[4])}function Bo(s){for(;null!==s&&!Ri(s);)s=s[4];return s}function nd(s,o,c,d,h){if(null!=d){let g,v=!1;Ri(d)?g=d:ir(d)&&(v=!0,d=d[0]);const E=On(d);0===s&&null!==c?null==h?Tc(o,c,E):id(o,c,E,h||null,!0):1===s&&null!==c?id(o,c,E,h||null,!0):2===s?function ZE(s,o,c){const d=Bm(s,o);d&&function qE(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function rA(s,o,c,d,h){const g=c[7];g!==On(c)&&nd(o,s,d,g,h);for(let E=10;E<c.length;E++){const T=c[E];Sc(T[1],T,s,o,d,g)}}(o,s,g,c,h)}}function Ta(s,o,c){return s.createElement(o,c)}function jv(s,o){const c=s[9],d=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,ra(h,-1)),c.splice(d,1)}function Hv(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&jv(h,d),o>0&&(s[c-1][4]=d[4]);const g=ts(s,10+o);!function Bv(s,o){Sc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function zv(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&Sc(s,o,c,3,null,null),function jE(s){let o=s[13];if(!o)return Vm(s[1],s);for(;o;){let c=null;if(ir(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)ir(o)&&Vm(o[1],o),o=o[3];null===o&&(o=s),ir(o)&&Vm(o[1],o),c=o&&o[4]}o=c}}(o)}}function Vm(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function rd(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof no)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],T=g[v+1];try{T.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Um(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],E="function"==typeof v?v(o):On(o[v]),T=d[h=c[g+2]],D=c[g+3];"boolean"==typeof D?E.removeEventListener(c[g],T,D):D>=0?d[h=D]():d[h=-D].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&Ri(o[3])){c!==o[3]&&jv(c,o);const d=o[19];null!==d&&d.detachView(s)}!function HI(s){Nv.delete(s[20])}(o)}}function Qt(s,o,c){return function Oh(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Mn.None||h===Mn.Emulated)return null}return Nr(d,c)}(s,o.parent,c)}function id(s,o,c,d,h){s.insertBefore(o,c,d,h)}function Tc(s,o,c){s.appendChild(o,c)}function zE(s,o,c,d,h){null!==d?id(s,o,c,d,h):Tc(s,o,c)}function Bm(s,o){return s.parentNode(o)}function Nh(s,o,c){return kp(s,o,c)}let kp=function qv(s,o,c){return 40&s.type?Nr(s,c):null};function sd(s,o,c,d){const h=Qt(s,d,o),g=o[11],E=Nh(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)zE(g,h,c[T],E,!1);else zE(g,h,c,E,!1)}function Mp(s,o){if(null!==o){const c=o.type;if(3&c)return Nr(o,s);if(4&c)return Gv(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return Mp(s,d);{const h=s[o.index];return Ri(h)?Gv(-1,h):On(h)}}if(32&c)return Pv(o,s)()||On(s[o.index]);{const d=Zv(s,o);return null!==d?Array.isArray(d)?d[0]:Mp(vl(s[16]),d):Mp(s,o.next)}}return null}function Zv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Gv(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return Mp(d,h)}return o[7]}function Wv(s,o,c,d,h,g,v){for(;null!=c;){const E=d[c.index],T=c.type;if(v&&0===o&&(E&&vi(On(E),d),c.flags|=4),64!=(64&c.flags))if(8&T)Wv(s,o,c.child,d,h,g,!1),nd(o,s,h,E,g);else if(32&T){const D=Pv(c,d);let M;for(;M=D();)nd(o,s,h,M,g);nd(o,s,h,E,g)}else 16&T?GE(s,o,d,c,h,g):nd(o,s,h,E,g);c=v?c.projectionNext:c.next}}function Sc(s,o,c,d,h,g){Wv(c,d,s.firstChild,o,h,g,!1)}function GE(s,o,c,d,h,g){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let D=0;D<T.length;D++)nd(o,s,h,T[D],g);else Wv(s,o,T,v[3],h,g,!0)}function WE(s,o,c){s.setAttribute(o,"style",c)}function Op(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function Np(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const Cc="ng-template";function Kv(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==Np(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function sA(s){return 4===s.type&&s.value!==Cc}function oA(s,o,c){return o===(4!==s.type||c?s.value:Cc)}function aA(s,o,c){let d=4;const h=s.attrs||[],g=function KE(s){for(let o=0;o<s.length;o++)if(ri(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const T=o[E];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!oA(s,T,c)||""===T&&1===o.length){if(jo(d))return!1;v=!0}}else{const D=8&d?T:o[++E];if(8&d&&null!==s.attrs){if(!Kv(s.attrs,D,c)){if(jo(d))return!1;v=!0}continue}const j=Rp(8&d?"class":T,h,sA(s),c);if(-1===j){if(jo(d))return!1;v=!0;continue}if(""!==D){let W;W=j>g?"":h[j+1].toLowerCase();const he=8&d?W:null;if(he&&-1!==Np(he,D,0)||2&d&&D!==W){if(jo(d))return!1;v=!0}}}}else{if(!v&&!jo(d)&&!jo(T))return!1;if(v&&jo(T))continue;v=!1,d=T|1&d}}return jo(d)||v}function jo(s){return 0==(1&s)}function Rp(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function YE(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Rh(s,o,c=!1){for(let d=0;d<o.length;d++)if(aA(s,o[d],c))return!0;return!1}function QE(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function od(s,o){return s?":not("+o.trim()+")":o}function lA(s){let o=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const E=s[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!jo(v)&&(o+=od(g,h),h=""),d=v,g=g||!jo(d);c++}return""!==h&&(o+=od(g,h)),o}const zt={};function zm(s){Ph(Kt(),Me(),Fr()+s,!1)}function Ph(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Xl(o,g,c)}else{const g=s.preOrderHooks;null!==g&&Mo(o,g,0,c)}Yi(c)}function eb(s,o=null,c=null,d){const h=tT(s,o,c,d);return h.resolveInjectorInitializers(),h}function tT(s,o=null,c=null,d,h=new Set){const g=[c||Ht,_p(s)];return d=d||("object"==typeof s?void 0:B(s)),new Wr(g,o||lo(),d||null,h)}let ld=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return eb({name:""},d,c,"");{const g=null!==(h=c.name)&&void 0!==h?h:"";return eb({name:g},c.parent,c.providers,g)}}}return s.THROW_IF_NOT_FOUND=ao,s.NULL=new yp,s.\u0275prov=Tn({token:s,providedIn:"any",factory:()=>Ge(wh)}),s.__NG_ELEMENT_ID__=-1,s})();function Vh(s,o=ot.Default){const c=Me();return null===c?Ge(s,o):sc(jn(),c,fe(s),o)}function Zm(){throw new Error("invalid")}function Vp(s,o){return s<<17|o<<2}function ho(s){return s>>17&32767}function dd(s){return 2|s}function fo(s){return(131068&s)>>2}function Up(s,o){return-131069&s|o<<2}function cb(s){return 1|s}function pT(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];Ql(h),v.contentQueries(2,o[g],g)}}}function Hp(s,o,c,d,h,g,v,E,T,D,M){const j=o.blueprint.slice();return j[0]=h,j[2]=76|d,(null!==M||s&&1024&s[2])&&(j[2]|=1024),Ga(j),j[3]=j[15]=s,j[8]=c,j[10]=v||s&&s[10],j[11]=E||s&&s[11],j[12]=T||s&&s[12]||null,j[9]=D||s&&s[9]||null,j[6]=g,j[20]=function bc(){return jI++}(),j[21]=M,j[16]=2==o.type?s[16]:j,j}function jh(s,o,c,d,h){let g=s.data[o];if(null===g)g=function zp(s,o,c,d,h){const g=Ka(),v=ia(),T=s.data[o]=function Zp(s,o,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(s,o,c,d,h),function pu(){return Dt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function Do(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return pi(g,!0),g}function fd(s,o,c,d){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function qp(s,o,c){xo(o);try{const d=s.viewQuery;null!==d&&ny(1,d,c);const h=s.template;null!==h&&gT(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&pT(s,o),s.staticViewQueries&&ny(2,s.viewQuery,c);const g=s.components;null!==g&&function DA(s,o){for(let c=0;c<o.length;c++)B1(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Xa()}}function pd(s,o,c,d){const h=o[2];if(128!=(128&h)){xo(o);try{Ga(o),function Qf(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&gT(s,o,c,2,d);const v=3==(3&h);if(v){const D=s.preOrderCheckHooks;null!==D&&Xl(o,D,null)}else{const D=s.preOrderHooks;null!==D&&Mo(o,D,0,null),As(o,0)}if(function Ib(s){for(let o=Vv(s);null!==o;o=Uv(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(512&h[2])&&ra(g,1),h[2]|=512}}}(o),function DT(s){for(let o=Vv(s);null!==o;o=Uv(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];Za(d)&&pd(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&pT(s,o),v){const D=s.contentCheckHooks;null!==D&&Xl(o,D)}else{const D=s.contentHooks;null!==D&&Mo(o,D,1),As(o,1)}!function IA(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Yi(~h);else{const g=h,v=c[++d],E=c[++d];mu(v,g),E(2,o[g])}}}finally{Yi(-1)}}(s,o);const E=s.components;null!==E&&function AA(s,o){for(let c=0;c<o.length;c++)xT(s,o[c])}(o,E);const T=s.viewQuery;if(null!==T&&ny(2,T,d),v){const D=s.viewCheckHooks;null!==D&&Xl(o,D)}else{const D=s.viewHooks;null!==D&&Mo(o,D,2),As(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ra(o[3],-1))}finally{Xa()}}}function gT(s,o,c,d,h){const g=Fr(),v=2&d;try{Yi(-1),v&&o.length>22&&Ph(s,o,22,!1),c(d,h)}finally{Yi(g)}}function mT(s,o,c){if(Ha(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function mb(s,o,c){!Gl()||(function NA(s,o,c,d){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||aa(c,o),vi(d,o);const v=c.initialInputs;for(let E=h;E<g;E++){const T=s.data[E],D=qr(T);D&&IT(o,c,T);const M=Ro(o,s,E,c);vi(M,o),null!==v&&FA(0,E-h,M,T,0,v),D&&(Rr(c.index,o)[8]=M)}}(s,o,c,Nr(c,o)),128==(128&c.flags)&&function RA(s,o,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function yu(){return Dt.lFrame.currentDirectiveIndex}();try{Yi(g);for(let E=d;E<h;E++){const T=s.data[E],D=o[E];Ya(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&wT(T,D)}}finally{Yi(-1),Ya(v)}}(s,o,c))}function yb(s,o,c=Nr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(o,s):s[v];s[h++]=E}}}function $p(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Qm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Qm(s,o,c,d,h,g,v,E,T,D){const M=22+d,j=M+h,W=function yT(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:zt);return c}(M,j),he="function"==typeof D?D():D;return W[1]={type:s,blueprint:W,template:c,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:he,incompleteFirstPass:!1}}function vb(s,o,c,d){const h=ry(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&MT(s).push(d,h.length-1))}function bb(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function _T(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,T=null;for(let D=o.directiveStart;D<d;D++){const M=h[D],j=M.inputs,W=null===g||sA(o)?null:PA(j,g);v.push(W),E=bb(j,D,E),T=bb(M.outputs,D,T)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=T}function Us(s,o,c,d,h,g,v,E){const T=Nr(o,c);let M,D=o.inputs;!E&&null!=D&&(M=D[d])?(xb(s,c,M,d,h),Vl(o)&&vT(c,o.index)):3&o.type&&(d=function xA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(T,d,h))}function vT(s,o){const c=Rr(o,s);16&c[2]||(c[2]|=32)}function Eb(s,o,c,d){let h=!1;if(Gl()){const g=function ET(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Rh(c,v.selectors,!1)&&(h||(h=[]),No(aa(c,o),s,v.type),qr(v)?(TT(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==g){h=!0,Tb(c,s.data.length,g.length);for(let M=0;M<g.length;M++){const j=g[M];j.providersResolver&&j.providersResolver(j)}let E=!1,T=!1,D=fd(s,o,g.length,null);for(let M=0;M<g.length;M++){const j=g[M];c.mergedAttrs=Eu(c.mergedAttrs,j.hostAttrs),Sb(s,c,o,D,j),CT(D,j,v),null!==j.contentQueries&&(c.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(c.flags|=128);const W=j.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!T&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),T=!0),D++}_T(s,c)}v&&function ST(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new we(-301,!1);d.push(o[h],g)}}}(c,d,v)}return c.mergedAttrs=Eu(c.mergedAttrs,c.attrs),h}function bT(s,o,c,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const T=~o.index;(function OA(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(E)!=T&&E.push(T),E.push(d,h,v)}}function wT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function TT(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function CT(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;qr(o)&&(c[""]=s)}}function Tb(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function Sb(s,o,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=Wi(h.type)),v=new no(g,qr(h),Vh);s.blueprint[d]=v,c[d]=v,bT(s,o,0,d,fd(s,c,h.hostVars,zt),h)}function IT(s,o,c){const d=Nr(o,s),h=$p(c),g=s[10],v=ey(s,Hp(s,h,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=v}function Ca(s,o,c,d,h,g){const v=Nr(s,o);!function Cb(s,o,c,d,h,g,v){if(null==g)s.removeAttribute(o,h,c);else{const E=null==v?Be(g):v(g,d||"",h);s.setAttribute(o,h,E,c)}}(o[11],v,g,s.value,c,d,h)}function FA(s,o,c,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let T=0;T<v.length;){const D=v[T++],M=v[T++],j=v[T++];null!==E?d.setInput(c,j,D,M):c[M]=j}}}function PA(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function AT(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function xT(s,o){const c=Rr(o,s);if(Za(c)){const d=c[1];48&c[2]?pd(d,c,d.template,c[8]):c[5]>0&&Xm(c)}}function Xm(s){for(let d=Vv(s);null!==d;d=Uv(d))for(let h=10;h<d.length;h++){const g=d[h];if(Za(g))if(512&g[2]){const v=g[1];pd(v,g,v.template,g[8])}else g[5]>0&&Xm(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Rr(c[d],s);Za(h)&&h[5]>0&&Xm(h)}}function B1(s,o){const c=Rr(o,s),d=c[1];(function LA(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),qp(d,c,c[8])}function ey(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ab(s){for(;s;){s[2]|=32;const o=vl(s);if(Yn(s)&&!o)return s;s=o}return null}function ty(s,o,c,d=!0){const h=o[10];h.begin&&h.begin();try{pd(s,o,s.template,c)}catch(v){throw d&&Gp(o,v),v}finally{h.end&&h.end()}}function ny(s,o,c){Ql(0),o(s,c)}function ry(s){return s[7]||(s[7]=[])}function MT(s){return s.cleanup||(s.cleanup=[])}function Gp(s,o){const c=s[9],d=c?c.get(xh,null):null;d&&d.handleError(o)}function xb(s,o,c,d,h){for(let g=0;g<c.length;){const v=c[g++],E=c[g++],T=o[v],D=s.data[v];null!==D.setInput?D.setInput(T,h,d,E):T[E]=h}}function bl(s,o,c){const d=An(o,s);!function JI(s,o,c){s.setValue(o,c)}(s[11],d,c)}function iy(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=le(h,E):2==g&&(d=le(d,E+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function sy(s,o,c,d,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(On(g)),Ri(g))for(let E=10;E<g.length;E++){const T=g[E],D=T[1].firstChild;null!==D&&sy(T[1],T,D,d)}const v=c.type;if(8&v)sy(s,o,c.child,d);else if(32&v){const E=Pv(c,o);let T;for(;T=E();)d.push(T)}else if(16&v){const E=Zv(o,c);if(Array.isArray(E))d.push(...E);else{const T=vl(o[16]);sy(T[1],T,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class Wp{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return sy(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ri(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Hv(o,d),ts(c,d))}this._attachedToViewContainer=!1}zv(this._lView[1],this._lView)}onDestroy(o){vb(this._lView[1],this._lView,null,o)}markForCheck(){Ab(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ty(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eA(s,o){Sc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class NT extends Wp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ty(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Rn extends w{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Et(o);return new sr(c,this.ngModule)}}function RT(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class kb{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const h=this.injector.get(o,it,d);return h!==it||c===it?h:this.parentInjector.get(o,c,d)}}class sr extends Tp{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function cA(s){return s.map(lA).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return RT(this.componentDef.inputs)}get outputs(){return RT(this.componentDef.outputs)}create(o,c,d,h){let g=(h=h||this.ngModule)instanceof ba?h:null==h?void 0:h.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new kb(o,g):o,E=v.get(Xe,null);if(null===E)throw new we(407,!1);const T=v.get(Ir,null),D=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",j=d?function Jm(s,o,c){return s.selectRootElement(o,c===Mn.ShadowDom)}(D,d,this.componentDef.encapsulation):Ta(D,M,function FT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),W=this.componentDef.onPush?288:272,he=Qm(0,null,null,1,0,null,null,null,null,null),Se=Hp(null,he,null,W,null,null,E,D,T,v,null);let Ve,qe;xo(Se);try{const rt=function H1(s,o,c,d,h,g){const v=c[1];c[22]=s;const T=jh(v,22,2,"#host",null),D=T.mergedAttrs=o.hostAttrs;null!==D&&(iy(T,D,!0),null!==s&&(ec(h,s,D),null!==T.classes&&Op(h,s,T.classes),null!==T.styles&&WE(h,s,T.styles)));const M=d.createRenderer(s,o),j=Hp(c,$p(o),null,o.onPush?32:16,c[22],T,d,M,g||null,null,null);return v.firstCreatePass&&(No(aa(T,c),v,o.type),TT(v,T),Tb(T,c.length,1)),ey(c,j),c[22]=j}(j,this.componentDef,Se,E,D);if(j)if(d)ec(D,j,["ng-version",Ih.full]);else{const{attrs:ie,classes:Oe}=function JE(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&c.push(g);else{if(!jo(h))break;h=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);ie&&ec(D,j,ie),Oe&&Oe.length>0&&Op(D,j,Oe.join(" "))}if(qe=na(he,22),void 0!==c){const ie=qe.projection=[];for(let Oe=0;Oe<this.ngContentSelectors.length;Oe++){const ct=c[Oe];ie.push(null!=ct?Array.from(ct):null)}}Ve=function UA(s,o,c,d){const h=c[1],g=function MA(s,o,c){const d=jn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Sb(s,d,o,fd(s,o,1,null),c),_T(s,d));const h=Ro(o,s,d.directiveStart,d);vi(h,o);const g=Nr(d,o);return g&&vi(g,o),h}(h,c,o);if(s[8]=c[8]=g,null!==d)for(const E of d)E(g,o);if(o.contentQueries){const E=jn();o.contentQueries(1,g,E.directiveStart)}const v=jn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Yi(v.index),bT(c[1],v,0,v.directiveStart,v.directiveEnd,o),wT(o,g)),g}(rt,this.componentDef,Se,[Mb]),qp(he,Se,null)}finally{Xa()}return new PT(this.componentType,Ve,R(qe,Se),Se,qe)}}class PT extends class kv{}{constructor(o,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new NT(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;xb(g[1],g,h,o,c),vT(g,this._tNode.index)}}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Mb(){const s=jn();tl(Me()[1],s)}function Hh(s){let o=function Ob(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(qr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=oy(s.inputs),v.declaredInputs=oy(s.declaredInputs),v.outputs=oy(s.outputs);const E=h.hostBindings;E&&q1(s,E);const T=h.viewQuery,D=h.contentQueries;if(T&&zh(s,T),D&&Nb(s,D),L(s.inputs,h.inputs),L(s.declaredInputs,h.declaredInputs),L(s.outputs,h.outputs),qr(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===Hh&&(c=!1)}}o=Object.getPrototypeOf(o)}!function z1(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Eu(h.hostAttrs,c=Eu(c,h.hostAttrs))}}(d)}function oy(s){return s===Jt?{}:s===Ht?[]:s}function zh(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function Nb(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{o(d,h,g),c(d,h,g)}:o}function q1(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let ay=null;function gd(){if(!ay){const s=In.Symbol;if(s&&s.iterator)ay=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(ay=d)}}}return ay}function qh(s){return!!$h(s)&&(Array.isArray(s)||!(s instanceof Map)&&gd()in s)}function $h(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function wi(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Fb(s,o,c,d){const h=Me();return wi(h,eo(),o)&&(Kt(),Ca(Cn(),h,s,o,c,d)),Fb}function md(s,o,c,d,h,g){const E=function xc(s,o,c,d){const h=wi(s,o,c);return wi(s,o+1,d)||h}(s,function gi(){return Dt.lFrame.bindingIndex}(),c,h);return Ki(2),E?o+Be(c)+d+Be(h)+g:zt}function Pb(s,o,c,d,h,g,v,E){const T=Me(),D=Kt(),M=s+22,j=D.firstCreatePass?function cy(s,o,c,d,h,g,v,E,T){const D=o.consts,M=jh(o,s,4,v||null,Ss(D,E));Eb(o,c,M,Ss(D,T)),tl(o,M);const j=M.tViews=Qm(2,M,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,M),j.queries=o.queries.embeddedTView(M)),M}(M,D,T,o,c,d,h,g,v):D.data[M];pi(j,!1);const W=T[11].createComment("");sd(D,T,W,j),vi(W,T),ey(T,T[M]=AT(W,T,W,j)),Xo(j)&&mb(D,T,j),null!=v&&yb(T,j,E)}function Yr(s,o,c){const d=Me();return wi(d,eo(),o)&&Us(Kt(),Cn(),d,s,o,d[11],c,!1),Yr}function Oc(s,o,c,d,h){const v=h?"class":"style";xb(s,c,o.inputs[v],v,d)}function Yh(s,o,c,d){const h=Me(),g=Kt(),v=22+s,E=h[11],T=h[v]=Ta(E,o,function gm(){return Dt.lFrame.currentNamespace}()),D=g.firstCreatePass?function UT(s,o,c,d,h,g,v){const E=o.consts,D=jh(o,s,2,h,Ss(E,g));return Eb(o,c,D,Ss(E,v)),null!==D.attrs&&iy(D,D.attrs,!1),null!==D.mergedAttrs&&iy(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(v,g,h,0,o,c,d):g.data[v];pi(D,!0);const M=D.mergedAttrs;null!==M&&ec(E,T,M);const j=D.classes;null!==j&&Op(E,T,j);const W=D.styles;return null!==W&&WE(E,T,W),64!=(64&D.flags)&&sd(g,h,T,D),0===function Wa(){return Dt.lFrame.elementDepthCount}()&&vi(T,h),function Zl(){Dt.lFrame.elementDepthCount++}(),Xo(D)&&(mb(g,h,D),mT(g,D,h)),null!==d&&yb(h,D),Yh}function wl(){let s=jn();ia()?Is():(s=s.parent,pi(s,!1));const o=s;!function du(){Dt.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(tl(c,s),Ha(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function sa(s){return 0!=(16&s.flags)}(o)&&Oc(c,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function wu(s){return 0!=(32&s.flags)}(o)&&Oc(c,o,Me(),o.stylesWithoutHost,!1),wl}function pt(s,o,c,d){return Yh(s,o,c,d),wl(),pt}function Qh(s,o,c){const d=Me(),h=Kt(),g=s+22,v=h.firstCreatePass?function BT(s,o,c,d,h){const g=o.consts,v=Ss(g,d),E=jh(o,s,8,"ng-container",v);return null!==v&&iy(E,v,!0),Eb(o,c,E,Ss(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,c):h.data[g];pi(v,!0);const E=d[g]=d[11].createComment("");return sd(h,d,E,v),vi(E,d),Xo(v)&&(mb(h,d,v),mT(h,v,d)),null!=c&&yb(d,v),Qh}function uy(){let s=jn();const o=Kt();return ia()?Is():(s=s.parent,pi(s,!1)),o.firstCreatePass&&(tl(o,s),Ha(s)&&o.queries.elementEnd(s)),uy}function Qp(){return Me()}function dy(s){return!!s&&"function"==typeof s.then}function Ia(s){return!!s&&"function"==typeof s.subscribe}const hy=Ia;function fy(s,o,c,d){const h=Me(),g=Kt(),v=jn();return function Ub(s,o,c,d,h,g,v,E){const T=Xo(d),M=s.firstCreatePass&&MT(s),j=o[8],W=ry(o);let he=!0;if(3&d.type||E){const qe=Nr(d,o),rt=E?E(qe):qe,ie=W.length,Oe=E?an=>E(On(an[d.index])):d.index;let ct=null;if(!E&&T&&(ct=function jT(s,o,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const E=o[7],T=h[g+2];return E.length>T?E[T]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=g,ct.__ngLastListenerFn__=g,he=!1;else{g=Ye(d,o,j,g,!1);const an=c.listen(rt,h,g);W.push(g,an),M&&M.push(h,Oe,ie,ie+1)}}else g=Ye(d,o,j,g,!1);const Se=d.outputs;let Ve;if(he&&null!==Se&&(Ve=Se[h])){const qe=Ve.length;if(qe)for(let rt=0;rt<qe;rt+=2){const xn=o[Ve[rt]][Ve[rt+1]].subscribe(g),fs=W.length;W.push(g,xn),M&&M.push(h,d.index,fs,-(fs+1))}}}(g,h,h[11],v,s,o,0,d),fy}function HT(s,o,c,d){try{return!1!==c(d)}catch(h){return Gp(s,h),!1}}function Ye(s,o,c,d,h){return function g(v){if(v===Function)return d;Ab(2&s.flags?Rr(s.index,o):o);let T=HT(o,0,d,v),D=g.__ngNextListenerFn__;for(;D;)T=HT(o,0,D,v)&&T,D=D.__ngNextListenerFn__;return h&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function gy(s=1){return function nh(s){return(Dt.lFrame.contextLView=function vu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function zT(s,o){let c=null;const d=function Fh(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Rh(s,g,!0):QE(d,g))return h}else c=h}return c}function qT(s){const o=Me()[16][6];if(!o.projection){const d=o.projection=si(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?zT(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function $T(s,o=0,c){const d=Me(),h=Kt(),g=jh(h,22+s,16,null,c||null);null===g.projection&&(g.projection=o),Is(),64!=(64&g.flags)&&function nA(s,o,c){GE(o[11],0,o,c,Qt(s,c,o),Nh(c.parent||o[6],c,o))}(h,d,g)}function Hb(s,o,c,d,h){const g=s[c+1],v=null===o;let E=d?ho(g):fo(g),T=!1;for(;0!==E&&(!1===T||v);){const M=s[E+1];JT(s[E],o)&&(T=!0,s[E+1]=d?cb(M):dd(M)),E=d?ho(M):fo(M)}T&&(s[c+1]=d?dd(g):cb(g))}function JT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&yr(s,o)>=0}function Ti(s,o,c){return us(s,o,c,!1),Ti}function yy(s,o){return us(s,o,null,!0),yy}function us(s,o,c,d){const h=Me(),g=Kt(),v=Ki(2);g.firstUpdatePass&&function Aa(s,o,c,d){const h=s.data;if(null===h[c+1]){const g=h[Fr()],v=function Nc(s,o){return o>=s.expandoStartIndex}(s,c);(function rg(s,o){return 0!=(s.flags&(o?16:32))})(g,d)&&null===o&&!v&&(o=!1),o=function $A(s,o,c,d){const h=function Yl(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=ef(c=eg(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=eg(h,s,o,c,d),null===g){let T=function bd(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==fo(d))return s[ho(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=eg(null,s,o,T[1],d),T=ef(T,o.attrs,d),function Vr(s,o,c,d){s[ho(c?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else g=function Xp(s,o,c){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=ef(d,s[g].hostAttrs,c);return ef(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,d),function Ar(s,o,c,d,h,g){let v=g?o.classBindings:o.styleBindings,E=ho(v),T=fo(v);s[d]=c;let M,D=!1;if(Array.isArray(c)){const j=c;M=j[1],(null===M||yr(j,M)>0)&&(D=!0)}else M=c;if(h)if(0!==T){const W=ho(s[E+1]);s[d+1]=Vp(W,E),0!==W&&(s[W+1]=Up(s[W+1],d)),s[E+1]=function _A(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Vp(E,0),0!==E&&(s[E+1]=Up(s[E+1],d)),E=d;else s[d+1]=Vp(T,0),0===E?E=d:s[T+1]=Up(s[T+1],d),T=d;D&&(s[d+1]=dd(s[d+1])),Hb(s,M,d,!0),Hb(s,M,d,!1),function jb(s,o,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&yr(g,o)>=0&&(c[d+1]=cb(c[d+1]))}(o,M,s,d,g),v=Vp(E,T),g?o.classBindings=v:o.styleBindings=v}(h,g,o,c,v,d)}}(g,s,v,d),o!==zt&&wi(h,v,o)&&function Ed(s,o,c,d,h,g,v,E){if(!(3&o.type))return;const T=s.data,D=T[E+1];Td(function aT(s){return 1==(1&s)}(D)?tf(T,o,c,h,fo(D),v):void 0)||(Td(g)||function lb(s){return 2==(2&s)}(D)&&(g=tf(T,null,c,h,E,v)),function iA(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Uo.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Uo.Important),s.setStyle(c,d,h,g))}}(d,v,An(Fr(),c),h,g))}(g,g.data[Fr()],h,h[11],s,h[v+1]=function nS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=B(ma(s)))),s}(o,c),d,v)}function eg(s,o,c,d,h){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=o[E],d=ef(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function ef(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Jn(s,v,!!c||o[++g]))}return void 0===s?null:s}function tf(s,o,c,d,h,g){const v=null===o;let E;for(;h>0;){const T=s[h],D=Array.isArray(T),M=D?T[1]:T,j=null===M;let W=c[h+1];W===zt&&(W=j?Ht:void 0);let he=j?xu(W,d):M===d?W:void 0;if(D&&!Td(he)&&(he=xu(T,d)),Td(he)&&(E=he,v))return E;const Se=s[h+1];h=v?ho(Se):fo(Se)}if(null!==o){let T=g?o.residualClasses:o.residualStyles;null!=T&&(E=xu(T,d))}return E}function Td(s){return void 0!==s}function qb(s,o=""){const c=Me(),d=Kt(),h=s+22,g=d.firstCreatePass?jh(d,h,1,o,null):d.data[h],v=c[h]=function Lm(s,o){return s.createText(o)}(c[11],o);sd(d,c,v,g),pi(g,!1)}function by(s){return ig("",s,""),by}function ig(s,o,c){const d=Me(),h=function Gh(s,o,c,d){return wi(s,eo(),c)?o+Be(c)+d:zt}(d,s,o,c);return h!==zt&&bl(d,Fr(),h),ig}function sg(s,o,c,d,h){const g=Me(),v=md(g,s,o,c,d,h);return v!==zt&&bl(g,Fr(),v),sg}function Sy(s,o,c){const d=Me();return wi(d,eo(),o)&&Us(Kt(),Cn(),d,s,o,d[11],c,!0),Sy}const Da=void 0;var nD=["en",[["a","p"],["AM","PM"],Da],[["AM","PM"],Da,Da],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Da,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Da,"{1} 'at' {0}",Da],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lS(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let rf={};function lg(s){const o=function ew(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Iy(o);if(c)return c;const d=o.split("-")[0];if(c=Iy(d),c)return c;if("en"===d)return nD;throw new we(701,!1)}function cS(s){return lg(s)[wt.PluralCase]}function Iy(s){return s in rf||(rf[s]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[s]),rf[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Cd="en-US";let Id=Cd;function xS(s,o,c,d,h){if(s=fe(s),Array.isArray(s))for(let g=0;g<s.length;g++)xS(s[g],o,c,d,h);else{const g=Kt(),v=Me();let E=va(s)?s:fe(s.provide),T=co(s);const D=jn(),M=1048575&D.providerIndexes,j=D.directiveStart,W=D.providerIndexes>>20;if(va(s)||!s.multi){const he=new no(T,h,Vh),Se=Ly(E,o,h?M:M+W,j);-1===Se?(No(aa(D,v),g,E),Py(g,s,o.length),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(he),v.push(he)):(c[Se]=he,v[Se]=he)}else{const he=Ly(E,o,M+W,j),Se=Ly(E,o,M,M+W),Ve=he>=0&&c[he],qe=Se>=0&&c[Se];if(h&&!qe||!h&&!Ve){No(aa(D,v),g,E);const rt=function aO(s,o,c,d,h){const g=new no(s,c,Vh);return g.multi=[],g.index=o,g.componentProviders=0,pw(g,h,d&&!c),g}(h?Vy:kS,c.length,h,d,T);!h&&qe&&(c[Se].providerFactory=rt),Py(g,s,o.length,0),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(rt),v.push(rt)}else Py(g,s,he>-1?he:Se,pw(c[h?Se:he],T,!h&&d));!h&&d&&qe&&c[Se].componentProviders++}}}function Py(s,o,c,d){const h=va(o),g=function DE(s){return!!s.useClass}(o);if(h||g){const T=(g?fe(o.useClass):o).prototype.ngOnDestroy;if(T){const D=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=D.indexOf(c);-1===M?D.push(c,[d,T]):D[M+1].push(d,T)}else D.push(c,T)}}}function pw(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Ly(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function kS(s,o,c,d){return cf(this.multi,[])}function Vy(s,o,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ro(c,c[1],this.providerFactory.index,d);g=E.slice(0,v),cf(h,g);for(let T=v;T<E.length;T++)g.push(E[T])}else g=[],cf(h,g);return g}function cf(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function Lc(s,o=[]){return c=>{c.providersResolver=(d,h)=>function oO(s,o,c){const d=Kt();if(d.firstCreatePass){const h=qr(s);xS(c,d.data,d.blueprint,h,!0),xS(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class mg{}class yD{}function lO(s,o){return new _D(s,null!=o?o:null)}class _D extends mg{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rn(this);const d=fr(o);this._bootstrapComponents=Ea(d.bootstrap),this._r3Injector=tT(o,c,[{provide:mg,useValue:this},{provide:w,useValue:this.componentFactoryResolver}],B(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class MS extends yD{constructor(o){super(),this.moduleType=o}create(o){return new _D(this.moduleType,o)}}class cO extends mg{constructor(o,c,d){super(),this.componentFactoryResolver=new Rn(this),this.instance=null;const h=new Wr([...o,{provide:mg,useValue:this},{provide:w,useValue:this.componentFactoryResolver}],c||lo(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function OS(s,o,c=null){return new cO(s,o,c).injector}let uO=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=vc(0,c.type),h=d.length>0?OS([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Tn({token:s,providedIn:"environment",factory:()=>new s(Ge(ba))}),s})();function vD(s){s.getStandaloneInjector=o=>o.get(uO).getOrCreateStandaloneInjector(s)}function Bc(s){return o=>{setTimeout(s,void 0,o)}}const $o=class MD extends a.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var h,g,v;let E=o,T=c||(()=>null),D=d;if(o&&"object"==typeof o){const j=o;E=null===(h=j.next)||void 0===h?void 0:h.bind(j),T=null===(g=j.error)||void 0===g?void 0:g.bind(j),D=null===(v=j.complete)||void 0===v?void 0:v.bind(j)}this.__isAsync&&(T=Bc(T),E&&(E=Bc(E)),D&&(D=Bc(D)));const M=super.subscribe({next:E,error:T,complete:D});return o instanceof ne.w&&o.add(M),M}};function Sw(){return this._results[gd()]()}class qy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=gd(),d=qy.prototype;d[c]||(d[c]=Sw)}get changes(){return this._changes||(this._changes=new $o)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=Dn(o);(this._changesDetected=!function es(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cw,s})();const US=vg,$y=class extends US{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,h=Hp(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),qp(d,h,o),new Wp(h)}};function Cw(){return uf(jn(),Me())}function uf(s,o){return 4&s.type?new $y(o,s,R(s,o)):null}let df=(()=>{class s{}return s.__NG_ELEMENT_ID__=OD,s})();function OD(){return hf(jn(),Me())}const ND=df,Zy=class extends ND{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return R(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ms(this._hostTNode,this._hostLView);if(Tu(o)){const c=Oo(o,this._hostLView),d=ro(o);return new Ji(c[1].data[d+8],c)}return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=Iw(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(o,c,d,h,g){const v=o&&!function so(s){return"function"==typeof s}(o);let E;if(v)E=c;else{const j=c||{};E=j.index,d=j.injector,h=j.projectableNodes,g=j.environmentInjector||j.ngModuleRef}const T=v?o:new sr(Et(o)),D=d||this.parentInjector;if(!g&&null==T.ngModule){const W=(v?D:this.parentInjector).get(ba,null);W&&(g=W)}const M=T.create(D,h,void 0,g);return this.insert(M.hostView,E),M}insert(o,c){const d=o._lView,h=d[1];if(function uu(s){return Ri(s[3])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const j=d[3],W=new Zy(j,j[6],j[3]);W.detach(W.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function HE(s,o,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=o),d<g-10?(o[4]=c[h],Po(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function tA(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,d,v,g);const E=Gv(g,v),T=d[11],D=Bm(T,v[7]);return null!==D&&function XI(s,o,c,d,h,g){d[0]=h,d[6]=o,Sc(s,d,c,1,h,g)}(h,v[6],T,d,D,E),o.attachToViewContainerRef(),Po(Aw(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=Iw(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Hv(this._lContainer,c);d&&(ts(Aw(this._lContainer),c),zv(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Hv(this._lContainer,c);return d&&null!=ts(Aw(this._lContainer),c)?new Wp(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function Iw(s){return s[8]}function Aw(s){return s[8]||(s[8]=[])}function hf(s,o){let c;const d=o[s.index];if(Ri(d))c=d;else{let h;if(8&s.type)h=On(d);else{const g=o[11];h=g.createComment("");const v=Nr(s,o);id(g,Bm(g,v),h,function jm(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=c=AT(d,o,h,s),ey(o,c)}return new Zy(c,s,o)}class Dw{constructor(o){this.queryList=o,this.matches=null}clone(){return new Dw(this.queryList)}setDirty(){this.queryList.setDirty()}}class ff{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new ff(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Xy(o,c).matches&&this.queries[c].setDirty()}}class Gy{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class Wy{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Wy(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ky{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Ky(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,c,BS(c,g)),this.matchTNodeWithReadOption(o,c,al(c,o,g,!1,!1))}else d===vg?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,al(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===X||h===df||h===vg&&4&c.type)this.addMatch(c.index,-2);else{const g=al(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function BS(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function xw(s,o,c,d){return-1===c?function Yy(s,o){return 11&s.type?R(s,o):4&s.type?uf(s,o):null}(o,s):-2===c?function kw(s,o,c){return c===X?R(o,s):c===vg?uf(o,s):c===df?hf(o,s):void 0}(s,o,d):Ro(s,s[1],c,o)}function Qy(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=c.matches,E=[];for(let T=0;T<v.length;T+=2){const D=v[T];E.push(D<0?null:xw(o,g[D],v[T+1],c.metadata.read))}h.matches=E}return h.matches}function wg(s,o,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const v=Qy(s,o,h,c);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(v[E/2]);else{const D=g[E+1],M=o[-T];for(let j=10;j<M.length;j++){const W=M[j];W[17]===W[3]&&wg(W[1],W,D,d)}if(null!==M[9]){const j=M[9];for(let W=0;W<j.length;W++){const he=j[W];wg(he[1],he,D,d)}}}}}return d}function Mw(s){const o=Me(),c=Kt(),d=_u();Ql(d+1);const h=Xy(c,d);if(s.dirty&&function Zn(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?wg(c,o,d,[]):Qy(c,o,h,d);s.reset(g,_e),s.notifyOnChanges()}return!0}return!1}function Ow(s,o,c){const d=Kt();d.firstCreatePass&&(Rw(d,new Gy(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),Jy(d,Me(),o)}function jS(s,o,c,d){const h=Kt();if(h.firstCreatePass){const g=jn();Rw(h,new Gy(o,c,d),g.index),function FD(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}Jy(h,Me(),c)}function Nw(){return function HS(s,o){return s[19].queries[o].queryList}(Me(),_u())}function Jy(s,o,c){const d=new qy(4==(4&c));vb(s,o,d,d.destroy),null===o[19]&&(o[19]=new ff),o[19].queries.push(new Dw(d))}function Rw(s,o,c){null===s.queries&&(s.queries=new Wy),s.queries.track(new Ky(o,c))}function Xy(s,o){return s.queries.getByIndex(o)}function Hc(...s){}const Sg=new bn("Application Initializer");let zc=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Hc,this.reject=Hc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(dy(g))c.push(g);else if(hy(g)){const v=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Ge(Sg,8))},s.\u0275prov=Tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const qc=new bn("AppId",{providedIn:"root",factory:function h_(){return`${Ww()}${Ww()}${Ww()}`}});function Ww(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kw=new bn("Platform Initializer"),tC=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nC=new bn("appBootstrapListener"),Cl=new bn("AnimationModuleType");let f_=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Cg=new bn("LocaleId",{providedIn:"root",factory:()=>Pt(Cg,ot.Optional|ot.SkipSelf)||function p_(){return"undefined"!=typeof $localize&&$localize.locale||Cd}()}),Gn=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qD{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let rC=(()=>{class s{compileModuleSync(c){return new MS(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Ea(fr(c).declarations).reduce((v,E)=>{const T=Et(E);return T&&v.push(new sr(T)),v},[]);return new qD(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const sC=(()=>Promise.resolve(0))();function y_(s){"undefined"==typeof Zone?sC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class bo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $o(!1),this.onMicrotaskEmpty=new $o(!1),this.onStable=new $o(!1),this.onError=new $o(!1),"undefined"==typeof Zone)throw new we(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function wf(){let s=In.requestAnimationFrame,o=In.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function oC(s){const o=()=>{!function WD(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(In,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,v_(s),s.isCheckStableRunning=!0,__(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),v_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,E)=>{try{return b_(s),c.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),w_(s)}},onInvoke:(c,d,h,g,v,E,T)=>{try{return b_(s),c.invoke(h,g,v,E,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),w_(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,v_(s),__(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new we(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,GD,Hc,Hc);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const GD={};function __(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function v_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function b_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function w_(s){s._nesting--,__(s)}class aC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $o,this.onMicrotaskEmpty=new $o,this.onStable=new $o,this.onError=new $o}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const Qw=new bn(""),E_=new bn("");let $c,KD=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$c||(function YD(s){$c=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Ge(bo),Ge(lC),Ge(E_))},s.\u0275prov=Tn({token:s,factory:s.\u0275fac}),s})(),lC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){var h;return null!==(h=null==$c?void 0:$c.findTestabilityInTree(this,c,d))&&void 0!==h?h:null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),hs=null;const Ig=new bn("AllowMultipleToken"),Ag=new bn("PlatformDestroyListeners");class cr{constructor(o,c){this.name=o,this.token=c}}function Jw(s,o,c=[]){const d=`Platform: ${o}`,h=new bn(d);return(g=[])=>{let v=S_();if(!v||v.injector.get(Ig,!1)){const E=[...c,...g,{provide:h,useValue:!0}];s?s(E):function cC(s){if(hs&&!hs.get(Ig,!1))throw new we(400,!1);hs=s;const o=s.get(Na);(function uC(s){const o=s.get(Kw,null);o&&o.forEach(c=>c())})(s)}(function Xw(s=[],o){return ld.create({name:o,providers:[{provide:ss,useValue:"platform"},{provide:Ag,useValue:new Set([()=>hs=null])},...s]})}(E,d))}return function dC(s){const o=S_();if(!o)throw new we(401,!1);return o}()}}function S_(){var s;return null!==(s=null==hs?void 0:hs.get(Na))&&void 0!==s?s:null}let Na=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function n0(s,o){let c;return c="noop"===s?new aC:("zone.js"===s?void 0:s)||new bo(o),c}(null==d?void 0:d.ngZone,function t0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:bo,useValue:h}];return h.run(()=>{const v=ld.create({providers:g,parent:this.injector,name:c.moduleType.name}),E=c.create(v),T=E.injector.get(xh,null);if(!T)throw new we(402,!1);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:M=>{T.handleError(M)}});E.onDestroy(()=>{Tf(this._modules,E),D.unsubscribe()})}),function C_(s,o,c){try{const d=c();return dy(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const D=E.injector.get(zc);return D.runInitializers(),D.donePromise.then(()=>(function fS(s){dn(s,"Expected localeId to be defined"),"string"==typeof s&&(Id=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Cg,Cd)||Cd),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const h=Ef({},d);return function Dg(s,o,c){const d=new MS(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(xg);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new we(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Ag,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Ge(ld))},s.\u0275prov=Tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Ef(s,o){return Array.isArray(o)?o.reduce(Ef,s):Object.assign(Object.assign({},s),o)}let xg=(()=>{class s{constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new V.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new V.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),D.unsubscribe()}});this.isStable=(0,te.T)(g,v.pipe(function U(){return s=>(0,J.x)()(function G(s,o){return function(d){let h;if(h="function"==typeof s?s:function(){return s},"function"==typeof o)return d.lift(new re(h,o));const g=Object.create(d,Y.N);return g.source=d,g.subjectFactory=h,g}}(Q)(s))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Tp;if(!this._injector.get(zc).done)throw!h&&Un(c),new we(405,false);let v;v=h?c:this._injector.get(w).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function QD(s){return s.isBoundToModule}(v)?void 0:this._injector.get(mg),D=v.create(ld.NULL,[],d||v.selector,E),M=D.location.nativeElement,j=D.injector.get(Qw,null);return null==j||j.registerApplication(M),D.onDestroy(()=>{this.detachView(D.hostView),Tf(this.components,D),null==j||j.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Tf(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(nC,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Tf(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new we(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Ge(bo),Ge(ba),Ge(xh))},s.\u0275prov=Tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Tf(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let Mg=!0,fC=!1;function pC(){return fC=!0,Mg}function Og(){if(fC)throw new Error("Cannot enable prod mode after platform setup.");Mg=!1}let r0=(()=>{class s{}return s.__NG_ELEMENT_ID__=gC,s})();function gC(s){return function A_(s,o,c){if(Vl(s)&&!c){const d=Rr(s.index,o);return new Wp(d,d)}return 47&s.type?new Wp(o[16],o):null}(jn(),Me(),16==(16&s))}class Br{constructor(){}supports(o){return qh(o)}create(o){return new Gc(o)}}const Cf=(s,o)=>o;class Gc{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Cf}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<ur(d,h,g)?c:d,E=ur(v,h,g),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const D=E-h,M=T-h;if(D!=M){for(let W=0;W<D;W++){const he=W<g.length?g[W]:g[W]=0,Se=he+W;M<=Se&&Se<D&&(g[W]=he+1)}g[v.previousIndex]=M-D}}E!==T&&o(v,E,T)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!qh(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else h=0,function Z1(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[gd()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new h0(c,d),g,h),o}_verifyReinsertion(o,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Pe),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pe),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class h0{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ox{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Pe{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new ox,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ur(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class Wc{constructor(){}supports(o){return o instanceof Map||$h(o)}create(){return new f0}}class f0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||$h(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new st(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class st{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xt(){return new p0([new Br])}let p0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||xt()),deps:[[s,new Gr,new pa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=Tn({token:s,providedIn:"root",factory:xt}),s})();function be(){return new Re([new Wc])}let Re=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||be()),deps:[[s,new Gr,new pa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=Tn({token:s,providedIn:"root",factory:be}),s})();const ax=Jw(null,"core",[]);let lx=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Ge(xg))},s.\u0275mod=me({type:s}),s.\u0275inj=wr({}),s})();function cx(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Ue,ae,N)=>{N.d(ae,{Z:()=>Ae});var a=N(2090),ne=N(4859),V=N(9681),te=N(1877);class Y{constructor(fe,Ie){this._delegate=fe,this.firebase=Ie,(0,V._addComponent)(fe,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(fe,Ie=V._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(fe);return!we.isInitialized()&&"EXPLICIT"===(null===(Ne=we.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&we.initialize(),we.getImmediate({identifier:Ie})}_removeServiceInstance(fe,Ie=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Ie)}_addComponent(fe){(0,V._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,V._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Q(){const Ee=function J(Ee){const fe={},Ie={__esModule:!0,initializeApp:function ze(At,se={}){const De=V.initializeApp(At,se);if((0,a.r3)(fe,De.name))return fe[De.name];const ee=new Ee(De,Ie);return fe[De.name]=ee,ee},app:we,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function tt(At){const se=At.name,De=se.replace("-compat","");if(V._registerComponent(At)&&"PUBLIC"===At.type){const ee=(de=we())=>{if("function"!=typeof de[De])throw re.create("invalid-app-argument",{appName:se});return de[De]()};void 0!==At.serviceProps&&(0,a.ZB)(ee,At.serviceProps),Ie[De]=ee,Ee.prototype[De]=function(...de){return this._getService.bind(this,se).apply(this,At.multipleInstances?de:[])}}return"PUBLIC"===At.type?Ie[De]:null},removeApp:function Ne(At){delete fe[At]},useAsService:function tn(At,se){return"serverAuth"===se?null:se},modularAPIs:V}};function we(At){if(!(0,a.r3)(fe,At=At||V._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:At});return fe[At]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Be(){return Object.keys(fe).map(At=>fe[At])}}),we.App=Ee,Ie}(Y);return Ee.INTERNAL=Object.assign(Object.assign({},Ee.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function fe(Ie){(0,a.ZB)(Ee,Ie)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ee}(),F=new te.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ee=self.firebase.SDK_VERSION;Ee&&Ee.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=U;!function le(Ee){(0,V.registerVersion)("@firebase/app-compat","0.1.39",Ee)}()},9681:(Ue,ae,N)=>{N.r(ae),N.d(ae,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>ys,_DEFAULT_ENTRY_NAME:()=>wn,_addComponent:()=>en,_addOrOverwriteComponent:()=>dn,_apps:()=>un,_clearComponents:()=>Ys,_components:()=>En,_getProvider:()=>$t,_registerComponent:()=>Nt,_removeServiceInstance:()=>kn,deleteApp:()=>Va,getApp:()=>Mi,getApps:()=>Oi,initializeApp:()=>Qs,onLog:()=>zi,registerVersion:()=>Er,setLogLevel:()=>Js});var a=N(5861),ne=N(4859),V=N(1877),te=N(2090),Y=N(8766);class G{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function re(Qe){const ke=Qe.getComponent();return"VERSION"===(null==ke?void 0:ke.type)}(Je)){const ft=Je.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Je=>Je).join(" ")}}const J="@firebase/app",Q="0.8.4",U=new V.Yd("@firebase/app"),wn="[DEFAULT]",Vt={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,En=new Map;function en(Qe,ke){try{Qe.container.addComponent(ke)}catch(Je){U.debug(`Component ${ke.name} failed to register with FirebaseApp ${Qe.name}`,Je)}}function dn(Qe,ke){Qe.container.addOrOverwriteComponent(ke)}function Nt(Qe){const ke=Qe.name;if(En.has(ke))return U.debug(`There were multiple attempts to register component ${ke}.`),!1;En.set(ke,Qe);for(const Je of un.values())en(Je,Qe);return!0}function $t(Qe,ke){const Je=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Qe.container.getProvider(ke)}function kn(Qe,ke,Je=wn){$t(Qe,ke).clearInstance(Je)}function Ys(){En.clear()}const Xr=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wr{constructor(ke,Je,ft){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const ys="9.14.0";function Qs(Qe,ke={}){let Je=Qe;"object"!=typeof ke&&(ke={name:ke});const ft=Object.assign({name:wn,automaticDataCollectionEnabled:!1},ke),yt=ft.name;if("string"!=typeof yt||!yt)throw Xr.create("bad-app-name",{appName:String(yt)});if(Je||(Je=(0,te.aH)()),!Je)throw Xr.create("no-options");const qt=un.get(yt);if(qt){if((0,te.vZ)(Je,qt.options)&&(0,te.vZ)(ft,qt.config))return qt;throw Xr.create("duplicate-app",{appName:yt})}const K=new ne.H0(yt);for(const oe of En.values())K.addComponent(oe);const q=new wr(Je,ft,K);return un.set(yt,q),q}function Mi(Qe=wn){const ke=un.get(Qe);if(!ke&&Qe===wn)return Qs();if(!ke)throw Xr.create("no-app",{appName:Qe});return ke}function Oi(){return Array.from(un.values())}function Va(Qe){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(Qe){const ke=Qe.name;un.has(ke)&&(un.delete(ke),yield Promise.all(Qe.container.getProviders().map(Je=>Je.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Er(Qe,ke,Je){var ft;let yt=null!==(ft=Vt[Qe])&&void 0!==ft?ft:Qe;Je&&(yt+=`-${Je}`);const qt=yt.match(/\s|\//),K=ke.match(/\s|\//);if(qt||K){const q=[`Unable to register library "${yt}" with version "${ke}":`];return qt&&q.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),qt&&K&&q.push("and"),K&&q.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void U.warn(q.join(" "))}Nt(new ne.wA(`${yt}-version`,()=>({library:yt,version:ke}),"VERSION"))}function zi(Qe,ke){if(null!==Qe&&"function"!=typeof Qe)throw Xr.create("invalid-log-argument");(0,V.Am)(Qe,ke)}function Js(Qe){(0,V.Ub)(Qe)}const Mr="firebase-heartbeat-store";let _s=null;function Zt(){return _s||(_s=(0,Y.X3)("firebase-heartbeat-database",1,{upgrade:(Qe,ke)=>{0===ke&&Qe.createObjectStore(Mr)}}).catch(Qe=>{throw Xr.create("idb-open",{originalErrorMessage:Qe.message})})),_s}function St(){return(St=(0,a.Z)(function*(Qe){var ke;try{return(yield Zt()).transaction(Mr).objectStore(Mr).get(Kn(Qe))}catch(Je){if(Je instanceof te.ZR)U.warn(Je.message);else{const ft=Xr.create("idb-get",{originalErrorMessage:null===(ke=Je)||void 0===ke?void 0:ke.message});U.warn(ft.message)}}})).apply(this,arguments)}function hr(Qe,ke){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(Qe,ke){var Je;try{const yt=(yield Zt()).transaction(Mr,"readwrite");return yield yt.objectStore(Mr).put(ke,Kn(Qe)),yt.done}catch(ft){if(ft instanceof te.ZR)U.warn(ft.message);else{const yt=Xr.create("idb-set",{originalErrorMessage:null===(Je=ft)||void 0===Je?void 0:Je.message});U.warn(yt.message)}}})).apply(this,arguments)}function Kn(Qe){return`${Qe.name}!${Qe.options.appId}`}class In{constructor(ke){this.container=ke,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new Jt(Je),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var ke=this;return(0,a.Z)(function*(){const ft=ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=_n();if(null===ke._heartbeatsCache&&(ke._heartbeatsCache=yield ke._heartbeatsCachePromise),ke._heartbeatsCache.lastSentHeartbeatDate!==yt&&!ke._heartbeatsCache.heartbeats.some(qt=>qt.date===yt))return ke._heartbeatsCache.heartbeats.push({date:yt,agent:ft}),ke._heartbeatsCache.heartbeats=ke._heartbeatsCache.heartbeats.filter(qt=>{const K=new Date(qt.date).valueOf();return Date.now()-K<=2592e6}),ke._storage.overwrite(ke._heartbeatsCache)})()}getHeartbeatsHeader(){var ke=this;return(0,a.Z)(function*(){if(null===ke._heartbeatsCache&&(yield ke._heartbeatsCachePromise),null===ke._heartbeatsCache||0===ke._heartbeatsCache.heartbeats.length)return"";const Je=_n(),{heartbeatsToSend:ft,unsentEntries:yt}=function So(Qe,ke=1024){const Je=[];let ft=Qe.slice();for(const yt of Qe){const qt=Je.find(K=>K.agent===yt.agent);if(qt){if(qt.dates.push(yt.date),Ht(Je)>ke){qt.dates.pop();break}}else if(Je.push({agent:yt.agent,dates:[yt.date]}),Ht(Je)>ke){Je.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Je,unsentEntries:ft}}(ke._heartbeatsCache.heartbeats),qt=(0,te.L)(JSON.stringify({version:2,heartbeats:ft}));return ke._heartbeatsCache.lastSentHeartbeatDate=Je,yt.length>0?(ke._heartbeatsCache.heartbeats=yt,yield ke._storage.overwrite(ke._heartbeatsCache)):(ke._heartbeatsCache.heartbeats=[],ke._storage.overwrite(ke._heartbeatsCache)),qt})()}}function _n(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(ke){this.app=ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ke=this;return(0,a.Z)(function*(){return(yield ke._canUseIndexedDBPromise)&&(yield function ht(Qe){return St.apply(this,arguments)}(ke.app))||{heartbeats:[]}})()}overwrite(ke){var Je=this;return(0,a.Z)(function*(){var ft;if(yield Je._canUseIndexedDBPromise){const qt=yield Je.read();return hr(Je.app,{lastSentHeartbeatDate:null!==(ft=ke.lastSentHeartbeatDate)&&void 0!==ft?ft:qt.lastSentHeartbeatDate,heartbeats:ke.heartbeats})}})()}add(ke){var Je=this;return(0,a.Z)(function*(){var ft;if(yield Je._canUseIndexedDBPromise){const qt=yield Je.read();return hr(Je.app,{lastSentHeartbeatDate:null!==(ft=ke.lastSentHeartbeatDate)&&void 0!==ft?ft:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...ke.heartbeats]})}})()}}function Ht(Qe){return(0,te.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function ei(Qe){Nt(new ne.wA("platform-logger",ke=>new G(ke),"PRIVATE")),Nt(new ne.wA("heartbeat",ke=>new In(ke),"PRIVATE")),Er(J,Q,Qe),Er(J,Q,"esm2017"),Er("fire-js","")}("")},4859:(Ue,ae,N)=>{N.d(ae,{H0:()=>J,wA:()=>V});var a=N(5861),ne=N(2090);class V{constructor(U,F,L){this.name=U,this.instanceFactory=F,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const te="[DEFAULT]";class Y{constructor(U,F){this.name=U,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const F=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(F)){const L=new ne.BH;if(this.instancesDeferred.set(F,L),this.isInitialized(F)||this.shouldAutoInitialize())try{const B=this.getOrInitializeService({instanceIdentifier:F});B&&L.resolve(B)}catch(B){}}return this.instancesDeferred.get(F).promise}getImmediate(U){var F;const L=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),B=null!==(F=null==U?void 0:U.optional)&&void 0!==F&&F;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(B)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(le){if(B)return null;throw le}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function re(Q){return"EAGER"===Q.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:te})}catch(F){}for(const[F,L]of this.instancesDeferred.entries()){const B=this.normalizeInstanceIdentifier(F);try{const le=this.getOrInitializeService({instanceIdentifier:B});L.resolve(le)}catch(le){}}}}clearInstance(U=te){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,a.Z)(function*(){const F=Array.from(U.instances.values());yield Promise.all([...F.filter(L=>"INTERNAL"in L).map(L=>L.INTERNAL.delete()),...F.filter(L=>"_delete"in L).map(L=>L._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=te){return this.instances.has(U)}getOptions(U=te){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:F={}}=U,L=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(L))throw Error(`${this.name}(${L}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const B=this.getOrInitializeService({instanceIdentifier:L,options:F});for(const[le,Ae]of this.instancesDeferred.entries())L===this.normalizeInstanceIdentifier(le)&&Ae.resolve(B);return B}onInit(U,F){var L;const B=this.normalizeInstanceIdentifier(F),le=null!==(L=this.onInitCallbacks.get(B))&&void 0!==L?L:new Set;le.add(U),this.onInitCallbacks.set(B,le);const Ae=this.instances.get(B);return Ae&&U(Ae,B),()=>{le.delete(U)}}invokeOnInitCallbacks(U,F){const L=this.onInitCallbacks.get(F);if(L)for(const B of L)try{B(U,F)}catch(le){}}getOrInitializeService({instanceIdentifier:U,options:F={}}){let L=this.instances.get(U);if(!L&&this.component&&(L=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=U,Q===te?void 0:Q),options:F}),this.instances.set(U,L),this.instancesOptions.set(U,F),this.invokeOnInitCallbacks(L,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,L)}catch(B){}var Q;return L||null}normalizeInstanceIdentifier(U=te){return this.component?this.component.multipleInstances?U:te:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const F=this.getProvider(U.name);if(F.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);F.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const F=new Y(U,this);return this.providers.set(U,F),F}getProviders(){return Array.from(this.providers.values())}}},1877:(Ue,ae,N)=>{N.d(ae,{Am:()=>Q,Ub:()=>J,Yd:()=>re,in:()=>ne});const a=[];var ne=(()=>{return(U=ne||(ne={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",ne;var U})();const V={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},te=ne.INFO,Y={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},G=(U,F,...L)=>{if(F<U.logLevel)return;const B=(new Date).toISOString(),le=Y[F];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[le](`[${B}]  ${U.name}:`,...L)};class re{constructor(F){this.name=F,this._logLevel=te,this._logHandler=G,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in ne))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?V[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...F),this._logHandler(this,ne.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...F),this._logHandler(this,ne.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...F),this._logHandler(this,ne.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...F),this._logHandler(this,ne.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...F),this._logHandler(this,ne.ERROR,...F)}}function J(U){a.forEach(F=>{F.setLogLevel(U)})}function Q(U,F){for(const L of a){let B=null;F&&F.level&&(B=V[F.level]),L.userLogHandler=null===U?null:(le,Ae,...Ee)=>{const fe=Ee.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(Ne){return null}}).filter(Ie=>Ie).join(" ");Ae>=(null!=B?B:le.logLevel)&&U({level:ne[Ae].toLowerCase(),message:fe,args:Ee,type:le.name})}}}},8766:(Ue,ae,N)=>{N.d(ae,{Lj:()=>ze,X3:()=>we});var a=N(5861);let V,te;const re=new WeakMap,J=new WeakMap,Q=new WeakMap,U=new WeakMap,F=new WeakMap;let le={get(se,De,ee){if(se instanceof IDBTransaction){if("done"===De)return J.get(se);if("objectStoreNames"===De)return se.objectStoreNames||Q.get(se);if("store"===De)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ie(se[De])},set:(se,De,ee)=>(se[De]=ee,!0),has:(se,De)=>se instanceof IDBTransaction&&("done"===De||"store"===De)||De in se};function fe(se){return"function"==typeof se?function Ee(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function G(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...De){return se.apply(Ne(this),De),Ie(re.get(this))}:function(...De){return Ie(se.apply(Ne(this),De))}:function(De,...ee){const de=se.call(Ne(this),De,...ee);return Q.set(de,De.sort?De.sort():[De]),Ie(de)}}(se):(se instanceof IDBTransaction&&function B(se){if(J.has(se))return;const De=new Promise((ee,de)=>{const ye=()=>{se.removeEventListener("complete",ge),se.removeEventListener("error",Fe),se.removeEventListener("abort",Fe)},ge=()=>{ee(),ye()},Fe=()=>{de(se.error||new DOMException("AbortError","AbortError")),ye()};se.addEventListener("complete",ge),se.addEventListener("error",Fe),se.addEventListener("abort",Fe)});J.set(se,De)}(se),((se,De)=>De.some(ee=>se instanceof ee))(se,function Y(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,le):se)}function Ie(se){if(se instanceof IDBRequest)return function L(se){const De=new Promise((ee,de)=>{const ye=()=>{se.removeEventListener("success",ge),se.removeEventListener("error",Fe)},ge=()=>{ee(Ie(se.result)),ye()},Fe=()=>{de(se.error),ye()};se.addEventListener("success",ge),se.addEventListener("error",Fe)});return De.then(ee=>{ee instanceof IDBCursor&&re.set(ee,se)}).catch(()=>{}),F.set(De,se),De}(se);if(U.has(se))return U.get(se);const De=fe(se);return De!==se&&(U.set(se,De),F.set(De,se)),De}const Ne=se=>F.get(se);function we(se,De,{blocked:ee,upgrade:de,blocking:ye,terminated:ge}={}){const Fe=indexedDB.open(se,De),Le=Ie(Fe);return de&&Fe.addEventListener("upgradeneeded",mt=>{de(Ie(Fe.result),mt.oldVersion,mt.newVersion,Ie(Fe.transaction))}),ee&&Fe.addEventListener("blocked",()=>ee()),Le.then(mt=>{ge&&mt.addEventListener("close",()=>ge()),ye&&mt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),Le}function ze(se,{blocked:De}={}){const ee=indexedDB.deleteDatabase(se);return De&&ee.addEventListener("blocked",()=>De()),Ie(ee).then(()=>{})}const Be=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],tn=new Map;function At(se,De){if(!(se instanceof IDBDatabase)||De in se||"string"!=typeof De)return;if(tn.get(De))return tn.get(De);const ee=De.replace(/FromIndex$/,""),de=De!==ee,ye=tt.includes(ee);if(!(ee in(de?IDBIndex:IDBObjectStore).prototype)||!ye&&!Be.includes(ee))return;const ge=function(){var Fe=(0,a.Z)(function*(Le,...mt){const nn=this.transaction(Le,ye?"readwrite":"readonly");let wn=nn.store;return de&&(wn=wn.index(mt.shift())),(yield Promise.all([wn[ee](...mt),ye&&nn.done]))[0]});return function(mt){return Fe.apply(this,arguments)}}();return tn.set(De,ge),ge}!function Ae(se){le=se(le)}(se=>HL(jL({},se),{get:(De,ee,de)=>At(De,ee)||se.get(De,ee,de),has:(De,ee)=>!!At(De,ee)||se.has(De,ee)}))},5861:(Ue,ae,N)=>{function a(V,te,Y,G,re,J,Q){try{var U=V[J](Q),F=U.value}catch(L){return void Y(L)}U.done?te(F):Promise.resolve(F).then(G,re)}function ne(V){return function(){var te=this,Y=arguments;return new Promise(function(G,re){var J=V.apply(te,Y);function Q(F){a(J,G,re,Q,U,"next",F)}function U(F){a(J,G,re,Q,U,"throw",F)}Q(void 0)})}}N.d(ae,{Z:()=>ne})}},Ue=>{Ue(Ue.s=3698)}]);