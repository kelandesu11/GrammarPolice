(self.webpackChunkgrammark=self.webpackChunkgrammark||[]).push([[179],{255:ht=>{function j(W){return Promise.resolve().then(()=>{var de=new Error("Cannot find module '"+W+"'");throw de.code="MODULE_NOT_FOUND",de})}j.keys=()=>[],j.resolve=j,j.id=255,ht.exports=j},329:function(ht,j,W){"use strict";var re,de=this&&this.__extends||(re=function(ae,J){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,B){L.__proto__=B}||function(L,B){for(var ne in B)B.hasOwnProperty(ne)&&(L[ne]=B[ne])})(ae,J)},function(ae,J){function L(){this.constructor=ae}re(ae,J),ae.prototype=null===J?Object.create(J):(L.prototype=J.prototype,new L)});Object.defineProperty(j,"__esModule",{value:!0});var Ve=W(409),ze=W(639),ge=function(re){function ae(J){var L=re.call(this)||this;return L._value=J,L}return de(ae,re),Object.defineProperty(ae.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),ae.prototype._subscribe=function(J){var L=re.prototype._subscribe.call(this,J);return L&&!L.closed&&J.next(this._value),L},ae.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ze.ObjectUnsubscribedError;return this._value},ae.prototype.next=function(J){re.prototype.next.call(this,this._value=J)},ae}(Ve.Subject);j.BehaviorSubject=ge},576:(ht,j,W)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var de=W(730),Ve=W(104),ze=W(232),ge=W(915),re=W(273),ae=function(){function L(B){this._isScalar=!1,B&&(this._subscribe=B)}return L.prototype.lift=function(B){var ne=new L;return ne.source=this,ne.operator=B,ne},L.prototype.subscribe=function(B,ne,R){var O=this.operator,k=Ve.toSubscriber(B,ne,R);if(k.add(O?O.call(k,this.source):this.source||re.config.useDeprecatedSynchronousErrorHandling&&!k.syncErrorThrowable?this._subscribe(k):this._trySubscribe(k)),re.config.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable&&(k.syncErrorThrowable=!1,k.syncErrorThrown))throw k.syncErrorValue;return k},L.prototype._trySubscribe=function(B){try{return this._subscribe(B)}catch(ne){re.config.useDeprecatedSynchronousErrorHandling&&(B.syncErrorThrown=!0,B.syncErrorValue=ne),de.canReportError(B)?B.error(ne):console.warn(ne)}},L.prototype.forEach=function(B,ne){var R=this;return new(ne=J(ne))(function(O,k){var q;q=R.subscribe(function(H){try{B(H)}catch(Ye){k(Ye),q&&q.unsubscribe()}},k,O)})},L.prototype._subscribe=function(B){var ne=this.source;return ne&&ne.subscribe(B)},L.prototype[ze.observable]=function(){return this},L.prototype.pipe=function(){for(var B=[],ne=0;ne<arguments.length;ne++)B[ne]=arguments[ne];return 0===B.length?this:ge.pipeFromArray(B)(this)},L.prototype.toPromise=function(B){var ne=this;return new(B=J(B))(function(R,O){var k;ne.subscribe(function(q){return k=q},function(q){return O(q)},function(){return R(k)})})},L.create=function(B){return new L(B)},L}();function J(L){if(L||(L=re.config.Promise||Promise),!L)throw new Error("no Promise impl found");return L}j.Observable=ae},11:(ht,j,W)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var de=W(273),Ve=W(434);j.empty={closed:!0,next:function(ze){},error:function(ze){if(de.config.useDeprecatedSynchronousErrorHandling)throw ze;Ve.hostReportError(ze)},complete:function(){}}},409:function(ht,j,W){"use strict";var R,de=this&&this.__extends||(R=function(O,k){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,H){q.__proto__=H}||function(q,H){for(var Ye in H)H.hasOwnProperty(Ye)&&(q[Ye]=H[Ye])})(O,k)},function(O,k){function q(){this.constructor=O}R(O,k),O.prototype=null===k?Object.create(k):(q.prototype=k.prototype,new q)});Object.defineProperty(j,"__esModule",{value:!0});var Ve=W(576),ze=W(241),ge=W(984),re=W(639),ae=W(298),J=W(476),L=function(R){function O(k){var q=R.call(this,k)||this;return q.destination=k,q}return de(O,R),O}(ze.Subscriber);j.SubjectSubscriber=L;var B=function(R){function O(){var k=R.call(this)||this;return k.observers=[],k.closed=!1,k.isStopped=!1,k.hasError=!1,k.thrownError=null,k}return de(O,R),O.prototype[J.rxSubscriber]=function(){return new L(this)},O.prototype.lift=function(k){var q=new ne(this,this);return q.operator=k,q},O.prototype.next=function(k){if(this.closed)throw new re.ObjectUnsubscribedError;if(!this.isStopped)for(var q=this.observers,H=q.length,Ye=q.slice(),_n=0;_n<H;_n++)Ye[_n].next(k)},O.prototype.error=function(k){if(this.closed)throw new re.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=k,this.isStopped=!0;for(var q=this.observers,H=q.length,Ye=q.slice(),_n=0;_n<H;_n++)Ye[_n].error(k);this.observers.length=0},O.prototype.complete=function(){if(this.closed)throw new re.ObjectUnsubscribedError;this.isStopped=!0;for(var k=this.observers,q=k.length,H=k.slice(),Ye=0;Ye<q;Ye++)H[Ye].complete();this.observers.length=0},O.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},O.prototype._trySubscribe=function(k){if(this.closed)throw new re.ObjectUnsubscribedError;return R.prototype._trySubscribe.call(this,k)},O.prototype._subscribe=function(k){if(this.closed)throw new re.ObjectUnsubscribedError;return this.hasError?(k.error(this.thrownError),ge.Subscription.EMPTY):this.isStopped?(k.complete(),ge.Subscription.EMPTY):(this.observers.push(k),new ae.SubjectSubscription(this,k))},O.prototype.asObservable=function(){var k=new Ve.Observable;return k.source=this,k},O.create=function(k,q){return new ne(k,q)},O}(Ve.Observable);j.Subject=B;var ne=function(R){function O(k,q){var H=R.call(this)||this;return H.destination=k,H.source=q,H}return de(O,R),O.prototype.next=function(k){var q=this.destination;q&&q.next&&q.next(k)},O.prototype.error=function(k){var q=this.destination;q&&q.error&&this.destination.error(k)},O.prototype.complete=function(){var k=this.destination;k&&k.complete&&this.destination.complete()},O.prototype._subscribe=function(k){return this.source?this.source.subscribe(k):ge.Subscription.EMPTY},O}(B);j.AnonymousSubject=ne},298:function(ht,j,W){"use strict";var ge,de=this&&this.__extends||(ge=function(re,ae){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,L){J.__proto__=L}||function(J,L){for(var B in L)L.hasOwnProperty(B)&&(J[B]=L[B])})(re,ae)},function(re,ae){function J(){this.constructor=re}ge(re,ae),re.prototype=null===ae?Object.create(ae):(J.prototype=ae.prototype,new J)});Object.defineProperty(j,"__esModule",{value:!0});var ze=function(ge){function re(ae,J){var L=ge.call(this)||this;return L.subject=ae,L.subscriber=J,L.closed=!1,L}return de(re,ge),re.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var ae=this.subject,J=ae.observers;if(this.subject=null,J&&0!==J.length&&!ae.isStopped&&!ae.closed){var L=J.indexOf(this.subscriber);-1!==L&&J.splice(L,1)}}},re}(W(984).Subscription);j.SubjectSubscription=ze},241:function(ht,j,W){"use strict";var ne,de=this&&this.__extends||(ne=function(R,O){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,q){k.__proto__=q}||function(k,q){for(var H in q)q.hasOwnProperty(H)&&(k[H]=q[H])})(R,O)},function(R,O){function k(){this.constructor=R}ne(R,O),R.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)});Object.defineProperty(j,"__esModule",{value:!0});var Ve=W(382),ze=W(11),ge=W(984),re=W(476),ae=W(273),J=W(434),L=function(ne){function R(O,k,q){var H=ne.call(this)||this;switch(H.syncErrorValue=null,H.syncErrorThrown=!1,H.syncErrorThrowable=!1,H.isStopped=!1,arguments.length){case 0:H.destination=ze.empty;break;case 1:if(!O){H.destination=ze.empty;break}if("object"==typeof O){O instanceof R?(H.syncErrorThrowable=O.syncErrorThrowable,H.destination=O,O.add(H)):(H.syncErrorThrowable=!0,H.destination=new B(H,O));break}default:H.syncErrorThrowable=!0,H.destination=new B(H,O,k,q)}return H}return de(R,ne),R.prototype[re.rxSubscriber]=function(){return this},R.create=function(O,k,q){var H=new R(O,k,q);return H.syncErrorThrowable=!1,H},R.prototype.next=function(O){this.isStopped||this._next(O)},R.prototype.error=function(O){this.isStopped||(this.isStopped=!0,this._error(O))},R.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},R.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,ne.prototype.unsubscribe.call(this))},R.prototype._next=function(O){this.destination.next(O)},R.prototype._error=function(O){this.destination.error(O),this.unsubscribe()},R.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},R.prototype._unsubscribeAndRecycle=function(){var O=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=O,this},R}(ge.Subscription);j.Subscriber=L;var B=function(ne){function R(O,k,q,H){var Ye=ne.call(this)||this;Ye._parentSubscriber=O;var _n,Mr=Ye;return Ve.isFunction(k)?_n=k:k&&(_n=k.next,q=k.error,H=k.complete,k!==ze.empty&&(Mr=Object.create(k),Ve.isFunction(Mr.unsubscribe)&&Ye.add(Mr.unsubscribe.bind(Mr)),Mr.unsubscribe=Ye.unsubscribe.bind(Ye))),Ye._context=Mr,Ye._next=_n,Ye._error=q,Ye._complete=H,Ye}return de(R,ne),R.prototype.next=function(O){if(!this.isStopped&&this._next){var k=this._parentSubscriber;ae.config.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?this.__tryOrSetError(k,this._next,O)&&this.unsubscribe():this.__tryOrUnsub(this._next,O)}},R.prototype.error=function(O){if(!this.isStopped){var k=this._parentSubscriber,q=ae.config.useDeprecatedSynchronousErrorHandling;if(this._error)q&&k.syncErrorThrowable?(this.__tryOrSetError(k,this._error,O),this.unsubscribe()):(this.__tryOrUnsub(this._error,O),this.unsubscribe());else if(k.syncErrorThrowable)q?(k.syncErrorValue=O,k.syncErrorThrown=!0):J.hostReportError(O),this.unsubscribe();else{if(this.unsubscribe(),q)throw O;J.hostReportError(O)}}},R.prototype.complete=function(){var O=this;if(!this.isStopped){var k=this._parentSubscriber;if(this._complete){var q=function(){return O._complete.call(O._context)};ae.config.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,q),this.unsubscribe()):(this.__tryOrUnsub(q),this.unsubscribe())}else this.unsubscribe()}},R.prototype.__tryOrUnsub=function(O,k){try{O.call(this._context,k)}catch(q){if(this.unsubscribe(),ae.config.useDeprecatedSynchronousErrorHandling)throw q;J.hostReportError(q)}},R.prototype.__tryOrSetError=function(O,k,q){if(!ae.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{k.call(this._context,q)}catch(H){return ae.config.useDeprecatedSynchronousErrorHandling?(O.syncErrorValue=H,O.syncErrorThrown=!0,!0):(J.hostReportError(H),!0)}return!1},R.prototype._unsubscribe=function(){var O=this._parentSubscriber;this._context=null,this._parentSubscriber=null,O.unsubscribe()},R}(L);j.SafeSubscriber=B},984:(ht,j,W)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var de=W(993),Ve=W(720),ze=W(382),ge=W(574),re=function(){function J(L){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,L&&(this._unsubscribe=L)}return J.prototype.unsubscribe=function(){var L;if(!this.closed){var B=this,ne=B._parentOrParents,R=B._unsubscribe,O=B._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof J)ne.remove(this);else if(null!==ne)for(var k=0;k<ne.length;++k)ne[k].remove(this);if(ze.isFunction(R))try{R.call(this)}catch(_n){L=_n instanceof ge.UnsubscriptionError?ae(_n.errors):[_n]}if(de.isArray(O)){k=-1;for(var H=O.length;++k<H;){var Ye=O[k];if(Ve.isObject(Ye))try{Ye.unsubscribe()}catch(Mr){L=L||[],Mr instanceof ge.UnsubscriptionError?L=L.concat(ae(Mr.errors)):L.push(Mr)}}}if(L)throw new ge.UnsubscriptionError(L)}},J.prototype.add=function(L){var B=L;if(!L)return J.EMPTY;switch(typeof L){case"function":B=new J(L);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof J)){var ne=B;(B=new J)._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+L+" added to Subscription.")}var R=B._parentOrParents;if(null===R)B._parentOrParents=this;else if(R instanceof J){if(R===this)return B;B._parentOrParents=[R,this]}else{if(-1!==R.indexOf(this))return B;R.push(this)}var O=this._subscriptions;return null===O?this._subscriptions=[B]:O.push(B),B},J.prototype.remove=function(L){var B=this._subscriptions;if(B){var ne=B.indexOf(L);-1!==ne&&B.splice(ne,1)}},J.EMPTY=((L=new J).closed=!0,L),J;var L}();function ae(J){return J.reduce(function(L,B){return L.concat(B instanceof ge.UnsubscriptionError?B.errors:B)},[])}j.Subscription=re},273:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var W=!1;j.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(de){if(de){var Ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ve.stack)}else W&&console.log("RxJS: Back to a better error behavior. Thank you. <3");W=de},get useDeprecatedSynchronousErrorHandling(){return W}}},232:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},476:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),j.$$rxSubscriber=j.rxSubscriber},639:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var W=function(){function de(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return de.prototype=Object.create(Error.prototype),de}();j.ObjectUnsubscribedError=W},574:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var W=function(){function de(Ve){return Error.call(this),this.message=Ve?Ve.length+" errors occurred during unsubscription:\n"+Ve.map(function(ze,ge){return ge+1+") "+ze.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=Ve,this}return de.prototype=Object.create(Error.prototype),de}();j.UnsubscriptionError=W},730:(ht,j,W)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var de=W(241);j.canReportError=function(ze){for(;ze;){var ae=ze.destination;if(ze.closed||ze.isStopped)return!1;ze=ae&&ae instanceof de.Subscriber?ae:null}return!0}},434:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hostReportError=function(de){setTimeout(function(){throw de},0)}},516:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.identity=function(de){return de}},993:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isArray=Array.isArray||function(W){return W&&"number"==typeof W.length}},382:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isFunction=function(de){return"function"==typeof de}},720:(ht,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.isObject=function(de){return null!==de&&"object"==typeof de}},915:(ht,j,W)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var de=W(516);function ze(ge){return 0===ge.length?de.identity:1===ge.length?ge[0]:function(ae){return ge.reduce(function(J,L){return L(J)},ae)}}j.pipe=function(){for(var ge=[],re=0;re<arguments.length;re++)ge[re]=arguments[re];return ze(ge)},j.pipeFromArray=ze},104:(ht,j,W)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var de=W(241),Ve=W(476),ze=W(11);j.toSubscriber=function(re,ae,J){if(re){if(re instanceof de.Subscriber)return re;if(re[Ve.rxSubscriber])return re[Ve.rxSubscriber]()}return re||ae||J?new de.Subscriber(re,ae,J):new de.Subscriber(ze.empty)}},36:(ht,j,W)=>{"use strict";var de={};function Ve(n){return"function"==typeof n}W.r(de),W.d(de,{FirebaseError:()=>mc,SDK_VERSION:()=>Lg,_DEFAULT_ENTRY_NAME:()=>aa,_addComponent:()=>Rg,_addOrOverwriteComponent:()=>uF,_apps:()=>oo,_clearComponents:()=>uZ,_components:()=>Bd,_getProvider:()=>Zv,_registerComponent:()=>la,_removeServiceInstance:()=>cZ,deleteApp:()=>hF,getApp:()=>dF,getApps:()=>fZ,initializeApp:()=>Xv,onLog:()=>fF,registerVersion:()=>yi,setLogLevel:()=>pF});let ze=!1;const ge={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ze&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ze=n},get useDeprecatedSynchronousErrorHandling(){return ze}};function re(n){setTimeout(()=>{throw n},0)}const ae={closed:!0,next(n){},error(n){if(ge.useDeprecatedSynchronousErrorHandling)throw n;re(n)},complete(){}},J=Array.isArray||(n=>n&&"number"==typeof n.length);function L(n){return null!==n&&"object"==typeof n}const ne=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class R{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_unsubscribe:r,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof R)t.remove(this);else if(null!==t)for(let s=0;s<t.length;++s)t[s].remove(this);if(Ve(r))try{r.call(this)}catch(s){e=s instanceof ne?O(s.errors):[s]}if(J(i)){let s=-1,o=i.length;for(;++s<o;){const a=i[s];if(L(a))try{a.unsubscribe()}catch(l){e=e||[],l instanceof ne?e=e.concat(O(l.errors)):e.push(l)}}}if(e)throw new ne(e)}add(e){let t=e;if(!e)return R.EMPTY;switch(typeof e){case"function":t=new R(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof R)){const s=t;t=new R,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof R){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function O(n){return n.reduce((e,t)=>e.concat(t instanceof ne?t.errors:t),[])}R.EMPTY=((n=new R).closed=!0,n);const k="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class H extends R{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ae;break;case 1:if(!e){this.destination=ae;break}if("object"==typeof e){e instanceof H?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ye(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Ye(this,e,t,r)}}[k](){return this}static create(e,t,r){const i=new H(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Ye extends H{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,o=this;Ve(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==ae&&(o=Object.create(t),Ve(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;ge.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=ge;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):re(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;re(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);ge.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),ge.useDeprecatedSynchronousErrorHandling)throw r;re(r)}}__tryOrSetError(e,t,r){if(!ge.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return ge.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(re(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const hu="function"==typeof Symbol&&Symbol.observable||"@@observable";function lf(n){return n}let _t=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof H)return n;if(n[k])return n[k]()}return n||e||t?new H(n,e,t):new H(ae)}(t,r,i);if(o.add(s?s.call(o,this.source):this.source||ge.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),ge.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){ge.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof H?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=ED(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[hu](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?lf:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=ED(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ED(n){if(n||(n=ge.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const ol=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class EU extends R{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class CD extends H{constructor(e){super(e),this.destination=e}}let hr=(()=>{class n extends _t{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[k](){return new CD(this)}lift(t){const r=new SD(this,this);return r.operator=t,r}next(t){if(this.closed)throw new ol;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(t)}}error(t){if(this.closed)throw new ol;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new ol;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new ol;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new ol;return this.hasError?(t.error(this.thrownError),R.EMPTY):this.isStopped?(t.complete(),R.EMPTY):(this.observers.push(t),new EU(this,t))}asObservable(){const t=new _t;return t.source=this,t}}return n.create=(e,t)=>new SD(e,t),n})();class SD extends hr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):R.EMPTY}}function cf(n){return n&&"function"==typeof n.schedule}class uf extends H{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const DD=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},df="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",TD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function AD(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const kD=n=>{if(n&&"function"==typeof n[hu])return(n=>e=>{const t=n[hu]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(TD(n))return DD(n);if(AD(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,re),e))(n);if(n&&"function"==typeof n[df])return(n=>e=>{const t=n[df]();for(;;){const r=t.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${L(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function hf(n,e,t,r,i=new uf(n,t,r)){if(!i.closed)return e instanceof _t?e.subscribe(i):kD(e)(i)}class ff extends H{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function rt(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new AU(n,e))}}class AU{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new kU(e,this.project,this.thisArg))}}class kU extends H{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}function Oy(n,e){return new _t(t=>{const r=new R;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function wn(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[hu]}(n))return function(n,e){return new _t(t=>{const r=new R;return r.add(e.schedule(()=>{const i=n[hu]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(AD(n))return function(n,e){return new _t(t=>{const r=new R;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(TD(n))return Oy(n,e);if(function(n){return n&&"function"==typeof n[df]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new _t(t=>{const r=new R;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[df](),r.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof _t?n:new _t(kD(n))}function vn(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(vn((i,s)=>wn(n(i,s)).pipe(rt((o,a)=>e(i,o,s,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new PU(n,t)))}class PU{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new RU(e,this.project,this.concurrent))}}class RU extends ff{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,r)}_innerSub(e,t,r){const i=new uf(this,t,r),s=this.destination;s.add(i);const o=hf(this,e,void 0,void 0,i);o!==i&&s.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,r,i,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function fu(n=Number.POSITIVE_INFINITY){return vn(lf,n)}function Fy(n,e){return e?Oy(n,e):new _t(DD(n))}function Py(){return function(e){return e.lift(new VU(e))}}class VU{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new BU(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class BU extends H{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class xD extends _t{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new R,e.add(this.source.subscribe(new jU(this.getSubject(),this))),e.closed&&(this._connection=null,e=R.EMPTY)),e}refCount(){return Py()(this)}}const UU=(()=>{const n=xD.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class jU extends CD{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function qU(){return new hr}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function Ry(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ly(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const WU=Ge({__forward_ref__:Ge});function at(n){return n.__forward_ref__=at,n.toString=function(){return Ie(this())},n}function se(n){return ID(n)?n():n}function ID(n){return"function"==typeof n&&n.hasOwnProperty(WU)&&n.__forward_ref__===at}class Mo extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function Se(n){return"string"==typeof n?n:null==n?"":String(n)}function $n(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Se(n)}function pf(n,e){const t=e?` in ${e}`:"";throw new Mo("201",`No provider for ${$n(n)} found${t}`)}function pr(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function it(n){return{providers:n.providers||[],imports:n.imports||[]}}function os(n){return MD(n,gf)||MD(n,OD)}function MD(n,e){return n.hasOwnProperty(e)?n[e]:null}function ND(n){return n&&(n.hasOwnProperty(By)||n.hasOwnProperty(ej))?n[By]:null}const gf=Ge({\u0275prov:Ge}),By=Ge({\u0275inj:Ge}),OD=Ge({ngInjectableDef:Ge}),ej=Ge({ngInjectorDef:Ge});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let Uy;function Ls(n){const e=Uy;return Uy=n,e}function FD(n,e,t){const r=os(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ce.Optional?null:void 0!==e?e:void pf(Ie(n),"Injector")}function Vs(n){return{toString:n}.toString()}var Nr=(()=>((Nr=Nr||{})[Nr.OnPush=0]="OnPush",Nr[Nr.Default=1]="Default",Nr))(),Vt=(()=>((Vt=Vt||{})[Vt.Emulated=0]="Emulated",Vt[Vt.None=2]="None",Vt[Vt.ShadowDom=3]="ShadowDom",Vt))();const nj="undefined"!=typeof globalThis&&globalThis,rj="undefined"!=typeof window&&window,ij="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Je=nj||"undefined"!=typeof global&&global||rj||ij,al={},nt=[],mf=Ge({\u0275cmp:Ge}),jy=Ge({\u0275dir:Ge}),$y=Ge({\u0275pipe:Ge}),PD=Ge({\u0275mod:Ge}),sj=Ge({\u0275loc:Ge}),as=Ge({\u0275fac:Ge}),pu=Ge({__NG_ELEMENT_ID__:Ge});let oj=0;function pt(n){return Vs(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||nt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Vt.Emulated,id:"c",styles:n.styles||nt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=oj++,r.inputs=BD(n.inputs,t),r.outputs=BD(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(RD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(LD):null,r})}function RD(n){return Hn(n)||function(n){return n[jy]||null}(n)}function LD(n){return function(n){return n[$y]||null}(n)}const VD={};function gt(n){return Vs(()=>{const e={type:n.type,bootstrap:n.bootstrap||nt,declarations:n.declarations||nt,imports:n.imports||nt,exports:n.exports||nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(VD[n.id]=n.type),e})}function BD(n,e){if(null==n)return al;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const te=pt;function Hn(n){return n[mf]||null}function Or(n,e){const t=n[PD]||null;if(!t&&!0===e)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return t}function Ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function ei(n){return Array.isArray(n)&&!0===n[1]}function qy(n){return 0!=(8&n.flags)}function wf(n){return 2==(2&n.flags)}function vf(n){return 1==(1&n.flags)}function ti(n){return null!==n.template}function fj(n){return 0!=(512&n[2])}function Ro(n,e){return n.hasOwnProperty(as)?n[as]:null}class jD{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function En(){return $D}function $D(n){return n.type.prototype.ngOnChanges&&(n.setInput=yj),mj}function mj(){const n=zD(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===al)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function yj(n,e,t,r){const i=zD(n)||function(n,e){return n[HD]=e}(n,{previous:al,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new jD(l&&l.currentValue,e,o===al),n[r]=e}En.ngInherit=!0;const HD="__ngSimpleChanges__";function zD(n){return n[HD]||null}let Ky;function At(n){return!!n.listen}const WD={createRenderer:(n,e)=>void 0!==Ky?Ky:"undefined"!=typeof document?document:void 0};function Bt(n){for(;Array.isArray(n);)n=n[0];return n}function Ef(n,e){return Bt(e[n])}function Rr(n,e){return Bt(e[n.index])}function Yy(n,e){return n.data[e]}function mr(n,e){const t=e[n];return Ei(t)?t:t[0]}function KD(n){return 4==(4&n[2])}function Jy(n){return 128==(128&n[2])}function Us(n,e){return null==e?null:n[e]}function QD(n){n[18]=0}function Zy(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const be={lFrame:rT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function YD(){return be.bindingsEnabled}function M(){return be.lFrame.lView}function Be(){return be.lFrame.tView}function Qt(){let n=JD();for(;null!==n&&64===n.type;)n=n.parent;return n}function JD(){return be.lFrame.currentTNode}function Ci(n,e){const t=be.lFrame;t.currentTNode=n,t.isParent=e}function Xy(){return be.lFrame.isParent}function eb(){be.lFrame.isParent=!1}function Cf(){return be.isInCheckNoChangesMode}function Sf(n){be.isInCheckNoChangesMode=n}function fl(){return be.lFrame.bindingIndex++}function ls(n){const e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Oj(n,e){const t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,tb(e)}function tb(n){be.lFrame.currentDirectiveIndex=n}function eT(){return be.lFrame.currentQueryIndex}function rb(n){be.lFrame.currentQueryIndex=n}function Pj(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function tT(n,e,t){if(t&ce.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ce.Host||(i=Pj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=be.lFrame=nT();return r.currentTNode=e,r.lView=n,!0}function Df(n){const e=nT(),t=n[1];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nT(){const n=be.lFrame,e=null===n?null:n.child;return null===e?rT(n):e}function rT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function iT(){const n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sT=iT;function Tf(){const n=iT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qn(){return be.lFrame.selectedIndex}function js(n){be.lFrame.selectedIndex=n}function kt(){const n=be.lFrame;return Yy(n.tView,n.selectedIndex)}function Af(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function kf(n,e,t){oT(n,e,3,t)}function xf(n,e,t,r){(3&n[2])===t&&oT(n,e,t,r)}function ib(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function oT(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(zj(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function zj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class _u{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function If(n,e,t){const r=At(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];ob(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function aT(n){return 3===n||4===n||6===n}function ob(n){return 64===n.charCodeAt(0)}function Mf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||lT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function lT(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function cT(n){return-1!==n}function pl(n){return 32767&n}function gl(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let ab=!0;function Nf(n){const e=ab;return ab=n,e}let Yj=0;function vu(n,e){const t=cb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,lb(r.data,n),lb(e,null),lb(r.blueprint,null));const i=Of(n,e),s=n.injectorIndex;if(cT(i)){const o=pl(i),a=gl(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function lb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Of(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ff(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(pu)&&(r=t[pu]),null==r&&(r=t[pu]=Yj++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function hT(n,e,t){if(t&ce.Optional)return n;pf(e,"NodeInjector")}function fT(n,e,t,r){if(t&ce.Optional&&void 0===r&&(r=null),0==(t&(ce.Self|ce.Host))){const i=n[9],s=Ls(void 0);try{return i?i.get(e,r,t&ce.Optional):FD(e,r,t&ce.Optional)}finally{Ls(s)}}return hT(r,e,t)}function pT(n,e,t,r=ce.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(pu)?n[pu]:void 0;return"number"==typeof e?e>=0?255&e:Xj:e}(t);if("function"==typeof s){if(!tT(e,n,r))return r&ce.Host?hT(i,t,r):fT(e,t,r,i);try{const o=s(r);if(null!=o||r&ce.Optional)return o;pf(t)}finally{sT()}}else if("number"==typeof s){let o=null,a=cb(n,e),l=-1,c=r&ce.Host?e[16][6]:null;for((-1===a||r&ce.SkipSelf)&&(l=-1===a?Of(n,e):e[a+8],-1!==l&&yT(r,!1)?(o=e[1],a=pl(l),e=gl(l,e)):a=-1);-1!==a;){const u=e[1];if(mT(s,a,u.data)){const d=e3(a,e,t,o,r,c);if(d!==gT)return d}l=e[a+8],-1!==l&&yT(r,e[1].data[a+8]===c)&&mT(s,a,e)?(o=u,a=pl(l),e=gl(l,e)):a=-1}}}return fT(e,t,r,i)}const gT={};function Xj(){return new ml(Qt(),M())}function e3(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Pf(a,o,t,null==r?wf(a)&&ab:r!=o&&0!=(3&a.type),i&ce.Host&&s===a);return null!==u?Eu(e,o,u,a):gT}function Pf(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let g=r?a:a+u;g<h;g++){const m=o[g];if(g<l&&t===m||g>=l&&m.type===t)return g}if(i){const g=o[l];if(g&&ti(g)&&g.type===t)return l}return null}function Eu(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof _u}(i)){const o=i;o.resolving&&function(n,e){throw new Mo("200",`Circular dependency in DI detected for ${n}`)}($n(s[t]));const a=Nf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ls(o.injectImpl):null;tT(n,r,ce.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=$D(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Ls(l),Nf(a),o.resolving=!1,sT()}}return i}function mT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function yT(n,e){return!(n&ce.Self||n&ce.Host&&e)}class ml{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pT(this._tNode,this._lView,e,r,t)}}function or(n){return Vs(()=>{const e=n.prototype.constructor,t=e[as]||ub(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[as]||ub(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ub(n){return ID(n)?()=>{const e=ub(se(n));return e&&e()}:Ro(n)}const bl="__parameters__";function Lo(n,e,t){return Vs(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(bl)?l[bl]:Object.defineProperty(l,bl,{value:[]})[bl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class fe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const i3=new fe("AnalyzeForEntryComponents"),Rf=Function;function Lr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Lr(r,e)):e!==n&&e.push(r)}return e}function Di(n,e){n.forEach(t=>Array.isArray(t)?Di(t,e):e(t))}function Vf(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Vo(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Hs(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function yr(n,e,t){let r=wl(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function hb(n,e){const t=wl(n,e);if(t>=0)return n[1|t]}function wl(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Au={},pb="__NG_DI_FLAG__",vl="ngTempTokenPath",p3=/\n/gm,gb="__source",mb=Ge({provide:String,useValue:Ge});let ku;function El(n){const e=ku;return ku=n,e}function m3(n,e=ce.Default){if(void 0===ku)throw new Error("inject() must be called from an injection context");return null===ku?FD(n,void 0,e):ku.get(n,e&ce.Optional?null:void 0,e)}function T(n,e=ce.Default){return(Uy||m3)(se(n),e)}function Bo(n){const e=[];for(let t=0;t<n.length;t++){const r=se(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=ce.Default;for(let o=0;o<r.length;o++){const a=r[o],l=y3(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(T(i,s))}else e.push(T(r))}return e}function xu(n,e){return n[pb]=e,n.prototype[pb]=e,n}function y3(n){return n[pb]}function ST(n,e,t,r){const i=n[vl];throw e[gb]&&i.unshift(e[gb]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ie(e);if(Array.isArray(e))i=e.map(Ie).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ie(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(p3,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[vl]=null,n}const Cl=xu(Lo("Inject",n=>({token:n})),-1),ar=xu(Lo("Optional"),8),zs=xu(Lo("SkipSelf"),4);class Uo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function br(n){return n instanceof Uo?n.changingThisBreaksApplicationSecurity:n}function Ti(n,e){const t=function(n){return n instanceof Uo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}const j3=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$3=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var st=(()=>((st=st||{})[st.NONE=0]="NONE",st[st.HTML=1]="HTML",st[st.STYLE=2]="STYLE",st[st.SCRIPT=3]="SCRIPT",st[st.URL=4]="URL",st[st.RESOURCE_URL=5]="RESOURCE_URL",st))();function Sb(n){const e=function(){const n=M();return n&&n[12]}();return e?e.sanitize(st.URL,n)||"":Ti(n,"URL")?br(n):function(n){return(n=String(n)).match(j3)||n.match($3)?n:"unsafe:"+n}(Se(n))}const HT="__ngContext__";function Mn(n,e){n[HT]=e}function Tb(n){const e=function(n){return n[HT]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function qf(n){return n.ngOriginalError}function u$(n,...e){n.error(...e)}class jo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||u$}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(qf(e)):null}_findOriginalError(e){let t=e&&qf(e);for(;t&&qf(t);)t=qf(t);return t||null}}const ZT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Je))();function ki(n){return n instanceof Function?n():n}var _r=(()=>((_r=_r||{})[_r.Important=1]="Important",_r[_r.DashCase=2]="DashCase",_r))();function xb(n,e){return undefined(n,e)}function Pu(n){const e=n[3];return ei(e)?e[3]:e}function Ib(n){return r1(n[13])}function Mb(n){return r1(n[4])}function r1(n){for(;null!==n&&!ei(n);)n=n[4];return n}function Al(n,e,t,r,i){if(null!=r){let s,o=!1;ei(r)?s=r:Ei(r)&&(o=!0,r=r[0]);const a=Bt(r);0===n&&null!==t?null==i?c1(e,t,a):$o(e,t,a,i||null,!0):1===n&&null!==t?$o(e,t,a,i||null,!0):2===n?function(n,e,t){const r=Wf(n,e);r&&function(n,e,t,r){At(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==Bt(t)&&Al(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Ru(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Ob(n,e,t){return At(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function s1(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Zy(i,-1)),t.splice(r,1)}function Fb(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&s1(i,r),e>0&&(n[t-1][4]=r[4]);const s=Vo(n,10+e);!function(n,e){Ru(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function o1(n,e){if(!(256&e[2])){const t=e[11];At(t)&&t.destroyNode&&Ru(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Pb(n[1],n);for(;e;){let t=null;if(Ei(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ei(e)&&Pb(e[1],e),e=e[3];null===e&&(e=n),Ei(e)&&Pb(e[1],e),t=e&&e[4]}e=t}}(e)}}function Pb(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof _u)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Bt(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&At(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&ei(e[3])){t!==e[3]&&s1(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function a1(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Vt.None||i===Vt.Emulated)return null}return Rr(r,t)}(n,e.parent,t)}function $o(n,e,t,r,i){At(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function c1(n,e,t){At(n)?n.appendChild(e,t):e.appendChild(t)}function u1(n,e,t,r,i){null!==r?$o(n,e,t,r,i):c1(n,e,t)}function Wf(n,e){return At(n)?n.parentNode(e):e.parentNode}function d1(n,e,t){return f1(n,e,t)}let f1=function(n,e,t){return 40&n.type?Rr(n,t):null};function Kf(n,e,t,r){const i=a1(n,r,e),s=e[11],a=d1(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)u1(s,i,t[l],a,!1);else u1(s,i,t,a,!1)}function Qf(n,e){if(null!==e){const t=e.type;if(3&t)return Rr(e,n);if(4&t)return Lb(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Qf(n,r);{const i=n[e.index];return ei(i)?Lb(-1,i):Bt(i)}}if(32&t)return xb(e,n)()||Bt(n[e.index]);{const r=g1(n,e);return null!==r?Array.isArray(r)?r[0]:Qf(Pu(n[16]),r):Qf(n,e.next)}}return null}function g1(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Lb(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Qf(r,i)}return e[7]}function Vb(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Mn(Bt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Vb(n,e,t.child,r,i,s,!1),Al(e,n,i,a,s);else if(32&l){const c=xb(t,r);let u;for(;u=c();)Al(e,n,i,u,s);Al(e,n,i,a,s)}else 16&l?y1(n,e,r,t,i,s):Al(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Ru(n,e,t,r,i,s){Vb(t,r,n.firstChild,e,i,s,!1)}function y1(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Al(e,n,i,l[c],s);else Vb(n,e,l,o[3],i,s,!0)}function b1(n,e,t){At(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Bb(n,e,t){At(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function _1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const w1="ng-template";function R$(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==_1(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function v1(n){return 4===n.type&&n.value!==w1}function L$(n,e,t){return e===(4!==n.type||t?n.value:w1)}function V$(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(aT(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!L$(n,l,t)||""===l&&1===e.length){if(ni(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!R$(n.attrs,c,t)){if(ni(r))return!1;o=!0}continue}const d=B$(8&r?"class":l,i,v1(n),t);if(-1===d){if(ni(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const g=8&r?h:null;if(g&&-1!==_1(g,c,0)||2&r&&c!==h){if(ni(r))return!1;o=!0}}}}else{if(!o&&!ni(r)&&!ni(l))return!1;if(o&&ni(l))continue;o=!1,r=l|1&r}}return ni(r)||o}function ni(n){return 0==(1&n)}function B$(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function E1(n,e,t=!1){for(let r=0;r<e.length;r++)if(V$(n,e[r],t))return!0;return!1}function H$(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function C1(n,e){return n?":not("+e.trim()+")":e}function z$(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ni(o)&&(e+=C1(s,i),i=""),r=o,s=s||!ni(r);t++}return""!==i&&(e+=C1(s,i)),e}const we={};function x(n){S1(Be(),M(),qn()+n,Cf())}function S1(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&kf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&xf(e,s,0,t)}js(t)}function Yf(n,e){return n<<17|e<<2}function ri(n){return n>>17&32767}function Ub(n){return 2|n}function cs(n){return(131068&n)>>2}function jb(n,e){return-131069&n|e<<2}function $b(n){return 1|n}function F1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];rb(i),o.contentQueries(2,e[s],s)}}}function Lu(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,QD(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function kl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=JD(),o=Xy(),l=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),be.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ci(s,!0),s}function xl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Vu(n,e,t){Df(e);try{const r=n.viewQuery;null!==r&&i_(1,r,t);const i=n.template;null!==i&&P1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&F1(n,e),n.staticViewQueries&&i_(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)CH(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Tf()}}function Il(n,e,t,r){const i=e[2];if(256==(256&i))return;Df(e);const s=Cf();try{QD(e),function(n){be.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&P1(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&kf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&xf(e,c,0,null),ib(e,0)}if(function(n){for(let e=Ib(n);null!==e;e=Mb(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Zy(s,1),i[2]|=1024}}}(e),function(n){for(let e=Ib(n);null!==e;e=Mb(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Jy(r)&&Il(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&F1(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&kf(e,c)}else{const c=n.contentHooks;null!==c&&xf(e,c,1),ib(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)js(~i);else{const s=i,o=t[++r],a=t[++r];Oj(o,s),a(2,e[s])}}}finally{js(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)EH(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&i_(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&kf(e,c)}else{const c=n.viewHooks;null!==c&&xf(e,c,2),ib(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Zy(e[3],-1))}finally{Tf()}}function rH(n,e,t,r){const i=e[10],s=!Cf(),o=KD(e);try{s&&!o&&i.begin&&i.begin(),o&&Vu(n,e,r),Il(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function P1(n,e,t,r,i){const s=qn(),o=2&r;try{js(-1),o&&e.length>20&&S1(n,e,20,Cf()),t(r,i)}finally{js(s)}}function Yb(n,e,t){!YD()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||vu(t,e),Mn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=ti(l);c&&yH(e,t,l);const u=Eu(e,n,a,t);Mn(u,e),null!==o&&bH(0,a-i,u,l,0,o),c&&(mr(t.index,e)[8]=u)}}(n,e,t,Rr(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=be.lFrame.currentDirectiveIndex;try{js(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];tb(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&z1(c,u)}}finally{js(-1),tb(a)}}(n,e,t))}function Jb(n,e,t=Rr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function L1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Xf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Xf(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:we);return t}(u,d),g="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1}}function U1(n,e,t,r){const i=Y1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&J1(n).push(r,i.length-1))}function j1(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function wr(n,e,t,r,i,s,o,a){const l=Rr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(eA(n,t,u,r,i),wf(e)&&function(n,e){const t=mr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,At(s)?s.setProperty(l,r,i):ob(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Zb(n,e,t,r){let i=!1;if(YD()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];E1(t,o.selectors,!1)&&(i||(i=[]),Ff(vu(t,e),n,o.type),ti(o)?(q1(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,G1(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=xl(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Mf(t.mergedAttrs,d.hostAttrs),W1(n,t,e,c,d),mH(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||v1(e)?null:_H(d,s);o.push(h),a=j1(d,c,a),l=j1(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Mo("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Mf(t.mergedAttrs,t.attrs),i}function H1(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function z1(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function q1(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function mH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ti(e)&&(t[""]=n)}}function G1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function W1(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ro(i.type)),o=new _u(s,ti(i),null);n.blueprint[r]=o,t[r]=o,H1(n,e,0,r,xl(n,t,i.hostVars,we),i)}function yH(n,e,t){const r=Rr(e,n),i=L1(t),s=n[10],o=ep(n,Lu(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function xi(n,e,t,r,i,s){const o=Rr(n,e);!function(n,e,t,r,i,s,o){if(null==s)At(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?Se(s):o(s,r||"",i);At(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function bH(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function _H(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function K1(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function EH(n,e){const t=mr(e,n);if(Jy(t)){const r=t[1];80&t[2]?Il(r,t,r.template,t[8]):t[5]>0&&e_(t)}}function e_(n){for(let r=Ib(n);null!==r;r=Mb(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Il(o,s,o.template,s[8])}else s[5]>0&&e_(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=mr(t[r],n);Jy(i)&&i[5]>0&&e_(i)}}function CH(n,e){const t=mr(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Vu(r,t,t[8])}function ep(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function t_(n){for(;n;){n[2]|=64;const e=Pu(n);if(fj(n)&&!e)return n;n=e}return null}function r_(n,e,t){const r=e[10];r.begin&&r.begin();try{Il(n,e,n.template,t)}catch(i){throw X1(e,i),i}finally{r.end&&r.end()}}function Q1(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Tb(t),i=r[1];rH(i,r,i.template,t)}}(n[8])}function i_(n,e,t){rb(0),e(n,t)}const kH=(()=>Promise.resolve(null))();function Y1(n){return n[7]||(n[7]=[])}function J1(n){return n.cleanup||(n.cleanup=[])}function X1(n,e){const t=n[9],r=t?t.get(jo,null):null;r&&r.handleError(e)}function eA(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ds(n,e,t){const r=Ef(e,n);!function(n,e,t){At(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function tp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ly(i,a):2==s&&(r=Ly(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Ml=new fe("INJECTOR",-1);class tA{get(e,t=Au){if(t===Au){const r=new Error(`NullInjectorError: No provider for ${Ie(e)}!`);throw r.name="NullInjectorError",r}return t}}const Bu=new fe("Set Injector scope."),Uu={},MH={};let s_;function nA(){return void 0===s_&&(s_=new tA),s_}function rA(n,e=null,t=null,r){return new OH(n,t,e||nA(),r)}class OH{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Di(t,a=>this.processProvider(a,e,t)),Di([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ml,Nl(void 0,this));const o=this.records.get(Bu);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ie(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Au,r=ce.Default){this.assertNotDestroyed();const i=El(this),s=Ls(void 0);try{if(!(r&ce.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof fe}(e)&&os(e);a=l&&this.injectableDefInScope(l)?Nl(o_(e),Uu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ce.Self?nA():this.parent).get(e,t=r&ce.Optional&&t===Au?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[vl]=o[vl]||[]).unshift(Ie(e)),i)throw o;return ST(o,e,"R3InjectorError",this.source)}throw o}finally{Ls(s),El(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ie(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=se(e)))return!1;let i=ND(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=ND(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Di(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:g}=u[d];Di(g,m=>this.processProvider(m,h,g||nt))}}this.injectorDefTypes.add(o);const l=Ro(o)||(()=>new o);this.records.set(o,Nl(l,Uu));const c=i.providers;if(null!=c&&!a){const u=e;Di(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ol(e=se(e))?e:se(e&&e.provide);const s=function(n,e,t){return sA(n)?Nl(void 0,n.useValue):Nl(iA(n),Uu)}(e);if(Ol(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Nl(void 0,Uu,!0),o.factory=()=>Bo(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Uu&&(t.value=MH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function o_(n){const e=os(n),t=null!==e?e.factory:Ro(n);if(null!==t)return t;if(n instanceof fe)throw new Error(`Token ${Ie(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=Hs(e,"?");throw new Error(`Can't resolve all parameters for ${Ie(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[gf]||n[OD]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function iA(n,e,t){let r;if(Ol(n)){const i=se(n);return Ro(i)||o_(i)}if(sA(n))r=()=>se(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Bo(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>T(se(n.useExisting));else{const i=se(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Ro(i)||o_(i);r=()=>new i(...Bo(n.deps))}return r}function Nl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function sA(n){return null!==n&&"object"==typeof n&&mb in n}function Ol(n){return"function"==typeof n}const oA=function(n,e,t){return function(n,e=null,t=null,r){const i=rA(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};let et=(()=>{class n{static create(t,r){return Array.isArray(t)?oA(t,r,""):oA(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=Au,n.NULL=new tA,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>T(Ml)}),n.__NG_ELEMENT_ID__=-1,n})();function ez(n,e){Af(Tb(n)[1],Qt())}function tt(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ti(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=h_(n.inputs),o.declaredInputs=h_(n.declaredInputs),o.outputs=h_(n.outputs);const a=i.hostBindings;a&&iz(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&nz(n,l),c&&rz(n,c),Ry(n.inputs,i.inputs),Ry(n.declaredInputs,i.declaredInputs),Ry(n.outputs,i.outputs),ti(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===tt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mf(i.hostAttrs,t=Mf(t,i.hostAttrs))}}(r)}function h_(n){return n===al?{}:n===nt?[]:n}function nz(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function rz(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function iz(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let np=null;function Fl(){if(!np){const n=Je.Symbol;if(n&&n.iterator)np=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(np=r)}}}return np}function $u(n){return!!f_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fl()in n)}function f_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Nn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function vr(n,e,t,r){const i=M();return Nn(i,fl(),e)&&(Be(),xi(kt(),i,n,e,t,r)),vr}function Ll(n,e,t,r,i,s){const a=function(n,e,t,r){const i=Nn(n,e,t);return Nn(n,e+1,r)||i}(n,be.lFrame.bindingIndex,t,i);return ls(2),a?e+Se(t)+r+Se(i)+s:we}function ct(n,e,t,r,i,s,o,a){const l=M(),c=Be(),u=n+20,d=c.firstCreatePass?function(n,e,t,r,i,s,o,a,l){const c=e.consts,u=kl(e,n,4,o||null,Us(c,a));Zb(e,t,u,Us(c,l)),Af(e,u);const d=u.tViews=Xf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Ci(d,!1);const h=l[11].createComment("");Kf(c,l,h,d),Mn(h,l),ep(l,l[u]=K1(h,l,h,d)),vf(d)&&Yb(c,l,d),null!=o&&Jb(l,d,a)}function w(n,e=ce.Default){const t=M();return null===t?T(n,e):pT(Qt(),t,se(n),e)}function We(n,e,t){const r=M();return Nn(r,fl(),e)&&wr(Be(),kt(),r,n,e,r[11],t,!1),We}function b_(n,e,t,r,i){const o=i?"class":"style";eA(n,t,e.inputs[o],o,r)}function f(n,e,t,r){const i=M(),s=Be(),o=20+n,a=i[11],l=i[o]=Ob(a,e,be.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=kl(e,n,2,i,Us(a,s));return Zb(e,t,c,Us(a,o)),null!==c.attrs&&tp(c,c.attrs,!1),null!==c.mergedAttrs&&tp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Ci(c,!0);const u=c.mergedAttrs;null!==u&&If(a,l,u);const d=c.classes;null!==d&&Bb(a,l,d);const h=c.styles;null!==h&&b1(a,l,h),64!=(64&c.flags)&&Kf(s,i,l,c),0===be.lFrame.elementDepthCount&&Mn(l,i),be.lFrame.elementDepthCount++,vf(c)&&(Yb(s,i,c),function(n,e,t){if(qy(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&Jb(i,c)}function p(){let n=Qt();Xy()?eb():(n=n.parent,Ci(n,!1));const e=n;be.lFrame.elementDepthCount--;const t=Be();t.firstCreatePass&&(Af(t,n),qy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&b_(t,e,M(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&b_(t,e,M(),e.stylesWithoutHost,!1)}function Jt(n,e,t,r){f(n,e,t,r),p()}function zu(n){return!!n&&"function"==typeof n.then}const sp=function(n){return!!n&&"function"==typeof n.subscribe};function Ue(n,e,t,r){const i=M(),s=Be(),o=Qt();return function(n,e,t,r,i,s,o,a){const l=vf(r),u=n.firstCreatePass&&J1(n),d=e[8],h=Y1(e);let g=!0;if(3&r.type||a){const _=Rr(r,e),E=a?a(_):_,v=h.length,I=a?P=>a(Bt(P[r.index])):r.index;if(At(t)){let P=null;if(!a&&l&&(P=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,g=!1;else{s=__(r,e,d,s,!1);const K=t.listen(E,i,s);h.push(s,K),u&&u.push(i,I,v,v+1)}}else s=__(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),u&&u.push(i,I,v,o)}else s=__(r,e,d,s,!1);const m=r.outputs;let b;if(g&&null!==m&&(b=m[i])){const _=b.length;if(_)for(let E=0;E<_;E+=2){const ue=e[b[E]][b[E+1]].subscribe(s),Te=h.length;h.push(s,ue),u&&u.push(i,r.index,Te,-(Te+1))}}}(s,i,i[11],o,n,e,!!t,r),Ue}function QA(n,e,t,r){try{return!1!==t(r)}catch(i){return X1(n,i),!1}}function __(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?mr(n.index,e):e;0==(32&e[2])&&t_(a);let l=QA(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=QA(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function jz(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?E1(n,s,!0):H$(r,s))return i}else t=i}return t}function ql(n,e=0,t){const r=M(),i=Be(),s=kl(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),eb(),64!=(64&s.flags)&&function(n,e,t){y1(e[11],0,e,t,a1(n,t,e),d1(t.parent||e[6],t,e))}(i,r,s)}function ok(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?ri(s):cs(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];zz(n[a],e)&&(l=!0,n[a+1]=r?$b(u):Ub(u)),a=r?ri(u):cs(u)}l&&(n[t+1]=r?Ub(s):$b(s))}function zz(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&wl(n,e)>=0}function sn(n,e,t){return oi(n,e,t,!1),sn}function fs(n,e){return oi(n,e,null,!0),fs}function oi(n,e,t,r){const i=M(),s=Be(),o=ls(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[qn()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=function(n){const e=be.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=qu(t=v_(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=v_(i,n,e,t,r),null===s){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==cs(r))return n[ri(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=v_(null,n,e,l[1],r),l=qu(l,e.attrs,r),function(n,e,t,r){n[ri(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=qu(r,n[s].hostAttrs,t);return qu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ri(o),l=cs(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||wl(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=ri(n[a+1]);n[r+1]=Yf(h,a),0!==h&&(n[h+1]=jb(n[h+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Yf(a,0),0!==a&&(n[a+1]=jb(n[a+1],r)),a=r;else n[r+1]=Yf(l,0),0===a?a=r:n[l+1]=jb(n[l+1],r),l=r;c&&(n[r+1]=Ub(n[r+1])),ok(n,u,r,!0),ok(n,u,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&wl(s,e)>=0&&(t[r+1]=$b(t[r+1]))}(e,u,n,r,s),o=Yf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==we&&Nn(i,o,e)&&function(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];ap(function(n){return 1==(1&n)}(c)?yk(l,e,t,i,cs(c),o):void 0)||(ap(s)||function(n){return 2==(2&n)}(c)&&(s=yk(l,null,t,i,a,o)),function(n,e,t,r,i){const s=At(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:_r.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=_r.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Ef(qn(),t),i,s))}(s,s.data[qn()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ie(br(n)))),n}(e,t),r,o)}function v_(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=qu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function qu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yr(n,o,!!t||e[++s]))}return void 0===n?null:n}function yk(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===we&&(h=d?nt:void 0);let g=d?hb(h,r):u===r?h:void 0;if(c&&!ap(g)&&(g=hb(l,r)),ap(g)&&(a=g,o))return a;const m=n[i+1];i=o?ri(m):cs(m)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=hb(l,r))}return a}function ap(n){return void 0!==n}function y(n,e=""){const t=M(),r=Be(),i=n+20,s=r.firstCreatePass?kl(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return At(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Kf(r,t,o,s),Ci(s,!1)}function Me(n){return Ut("",n,""),Me}function Ut(n,e,t){const r=M(),i=function(n,e,t,r){return Nn(n,fl(),t)?e+Se(t)+r:we}(r,n,e,t);return i!==we&&ds(r,qn(),i),Ut}function on(n,e,t,r,i){const s=M(),o=Ll(s,n,e,t,r,i);return o!==we&&ds(s,qn(),o),on}function lp(n,e,t){const r=M();return Nn(r,fl(),e)&&wr(Be(),kt(),r,n,e,r[11],t,!0),lp}const zo=void 0;var Dq=["en",[["a","p"],["AM","PM"],zo],[["AM","PM"],zo,zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zo,"{1} 'at' {0}",zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Wl={};function Lk(n){return n in Wl||(Wl[n]=Je.ng&&Je.ng.common&&Je.ng.common.locales&&Je.ng.common.locales[n]),Wl[n]}var z=(()=>((z=z||{})[z.LocaleId=0]="LocaleId",z[z.DayPeriodsFormat=1]="DayPeriodsFormat",z[z.DayPeriodsStandalone=2]="DayPeriodsStandalone",z[z.DaysFormat=3]="DaysFormat",z[z.DaysStandalone=4]="DaysStandalone",z[z.MonthsFormat=5]="MonthsFormat",z[z.MonthsStandalone=6]="MonthsStandalone",z[z.Eras=7]="Eras",z[z.FirstDayOfWeek=8]="FirstDayOfWeek",z[z.WeekendRange=9]="WeekendRange",z[z.DateFormat=10]="DateFormat",z[z.TimeFormat=11]="TimeFormat",z[z.DateTimeFormat=12]="DateTimeFormat",z[z.NumberSymbols=13]="NumberSymbols",z[z.NumberFormats=14]="NumberFormats",z[z.CurrencyCode=15]="CurrencyCode",z[z.CurrencySymbol=16]="CurrencySymbol",z[z.CurrencyName=17]="CurrencyName",z[z.Currencies=18]="Currencies",z[z.Directionality=19]="Directionality",z[z.PluralCase=20]="PluralCase",z[z.ExtraData=21]="ExtraData",z))();const cp="en-US";let Vk=cp;function E_(n){pr(n,"Expected localeId to be defined"),"string"==typeof n&&(Vk=n.toLowerCase().replace(/_/g,"-"))}function D_(n,e,t,r,i){if(n=se(n),Array.isArray(n))for(let s=0;s<n.length;s++)D_(n[s],e,t,r,i);else{const s=Be(),o=M();let a=Ol(n)?n:se(n.provide),l=iA(n);const c=Qt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ol(n)||!n.multi){const g=new _u(l,i,w),m=A_(a,e,i?u:u+h,d);-1===m?(Ff(vu(c,o),s,a),T_(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(g),o.push(g)):(t[m]=g,o[m]=g)}else{const g=A_(a,e,u+h,d),m=A_(a,e,u,u+h),b=g>=0&&t[g],_=m>=0&&t[m];if(i&&!_||!i&&!b){Ff(vu(c,o),s,a);const E=function(n,e,t,r,i){const s=new _u(n,t,w);return s.multi=[],s.index=e,s.componentProviders=0,lx(s,i,r&&!t),s}(i?E4:v4,t.length,i,r,l);!i&&_&&(t[m].providerFactory=E),T_(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(E),o.push(E)}else T_(s,n,g>-1?g:m,lx(t[i?m:g],l,!i&&r));!i&&r&&_&&t[m].componentProviders++}}}function T_(n,e,t,r){const i=Ol(e);if(i||function(n){return!!n.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[r,o]):a[l+1].push(r,o)}else a.push(t,o)}}}function lx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function A_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function v4(n,e,t,r){return k_(this.multi,[])}function E4(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Eu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),k_(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],k_(i,s);return s}function k_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ut(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=Be();if(r.firstCreatePass){const i=ti(n);D_(t,r.data,r.blueprint,i,!0),D_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class cx{}const dx="ngComponent";class D4{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Ie(n)}. Did you add it to @NgModule.entryComponents?`);return e[dx]=n,e}(e)}}let qo=(()=>{class n{}return n.NULL=new D4,n})();function pp(...n){}function Ql(n,e){return new ot(Rr(n,e))}const k4=function(){return Ql(Qt(),M())};let ot=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=k4,n})();function hx(n){return n instanceof ot?n.nativeElement:n}class Go{}let ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>I4(),n})();const I4=function(){const n=M(),t=mr(Qt().index,n);return function(n){return n[11]}(Ei(t)?t:n)};let I_=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class Ws{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const fx=new Ws("12.2.16");class px{constructor(){}supports(e){return $u(e)}create(e){return new F4(e)}}const O4=(n,e)=>e;class F4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||O4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<mx(r,i,s)?t:r,a=mx(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const g=h<s.length?s[h]:s[h]=0,m=g+h;u<=m&&m<c&&(s[h]=g+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!$u(e))throw new Error(`Error trying to diff '${Ie(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Fl()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new P4(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new gx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class P4{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class R4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class gx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new R4,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mx(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class yx{constructor(){}supports(e){return e instanceof Map||f_(e)}create(){return new L4}}class L4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||f_(e)))throw new Error(`Error trying to diff '${Ie(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new V4(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class V4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bx(){return new Yu([new px])}let Yu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||bx()),deps:[[n,new zs,new ar]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:bx}),n})();function _x(){return new Yl([new yx])}let Yl=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||_x()),deps:[[n,new zs,new ar]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:_x}),n})();function gp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Bt(s)),ei(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&gp(l[1],l,c,r)}const o=t.type;if(8&o)gp(n,e,t.child,r);else if(32&o){const a=xb(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=g1(e,t);if(Array.isArray(a))r.push(...a);else{const l=Pu(e[16]);gp(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Ju{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return gp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ei(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Fb(e,r),Vo(t,r))}this._attachedToViewContainer=!1}o1(this._lView[1],this._lView)}onDestroy(e){U1(this._lView[1],this._lView,null,e)}markForCheck(){t_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){r_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Sf(!0);try{r_(n,e,t)}finally{Sf(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){Ru(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class U4 extends Ju{constructor(e){super(e),this._view=e}detectChanges(){Q1(this._view)}checkNoChanges(){!function(n){Sf(!0);try{Q1(n)}finally{Sf(!1)}}(this._view)}get context(){return null}}const $4=function(n){return function(n,e,t){if(wf(n)&&!t){const r=mr(n.index,e);return new Ju(r,r)}return 47&n.type?new Ju(e[16],e):null}(Qt(),M(),16==(16&n))};let Zu=(()=>{class n{}return n.__NG_ELEMENT_ID__=$4,n})();const q4=[new yx],W4=new Yu([new px]),K4=new Yl(q4),Y4=function(){return mp(Qt(),M())};let gs=(()=>{class n{}return n.__NG_ELEMENT_ID__=Y4,n})();const J4=gs,Z4=class extends J4{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Lu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Vu(t,r,e),new Ju(r)}};function mp(n,e){return 4&n.type?new Z4(e,n,Ql(n,e)):null}class Oi{}class wx{}const t8=function(){return Cx(Qt(),M())};let li=(()=>{class n{}return n.__NG_ELEMENT_ID__=t8,n})();const r8=li,vx=class extends r8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new ml(this._hostTNode,this._hostLView)}get parentInjector(){const e=Of(this._hostTNode,this._hostLView);if(cT(e)){const t=gl(e,this._hostLView),r=pl(e);return new ml(t[1].data[r+8],t)}return new ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Ex(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(Oi,null);l&&(s=l)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,t),a}insert(e,t){const r=e._lView,i=r[1];if(function(n){return ei(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new vx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Vf(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Lb(s,o),l=r[11],c=Wf(l,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Ru(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Vf(M_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Ex(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Fb(this._lContainer,t);r&&(Vo(M_(this._lContainer),t),o1(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Fb(this._lContainer,t);return r&&null!=Vo(M_(this._lContainer),t)?new Ju(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Ex(n){return n[8]}function M_(n){return n[8]||(n[8]=[])}function Cx(n,e){let t;const r=e[n.index];if(ei(r))t=r;else{let i;if(8&n.type)i=Bt(r);else{const s=e[11];i=s.createComment("");const o=Rr(n,e);$o(s,Wf(s,o),i,function(n,e){return At(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=K1(r,e,i,n),ep(e,t)}return new vx(t,n,e)}const ec={};class Hx extends qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Hn(e);return new qx(t,this.ngModule)}}function zx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const X8=new fe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ZT});class qx extends cx{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(z$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return zx(this.componentDef.inputs)}get outputs(){return zx(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,ec,i);return s!==ec||r===ec?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Go,WD),a=s.get(I_,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(n,e,t){if(At(n))return n.selectRootElement(e,t===Vt.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Ob(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||ZT,clean:kH,playerHandler:e||null,flags:0}}(),g=Xf(0,null,null,1,0,null,null,null,null,null),m=Lu(null,g,h,d,null,null,o,l,a,s);let b,_;Df(m);try{const E=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=kl(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(tp(l,c,!0),null!==n&&(If(i,n,c),null!==l.classes&&Bb(i,n,l.classes),null!==l.styles&&b1(i,n,l.styles)));const u=r.createRenderer(n,e),d=Lu(t,L1(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(Ff(vu(l,t),o,e.type),q1(o,l),G1(l,t.length,1)),ep(t,d),t[20]=d}(u,this.componentDef,m,o,l);if(u)if(r)If(l,u,["ng-version",fx.full]);else{const{attrs:v,classes:I}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ni(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&If(l,u,v),I&&I.length>0&&Bb(l,u,I.join(" "))}if(_=Yy(g,20),void 0!==t){const v=_.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const P=t[I];v.push(null!=P?Array.from(P):null)}}b=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=Qt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),W1(n,r,e,xl(n,e,1,null),t));const i=Eu(e,n,r.directiveStart,r);Mn(i,e);const s=Rr(r,e);return s&&Mn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Qt();e.contentQueries(1,o,l.directiveStart)}const a=Qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(js(a.index),H1(t[1],a,0,a.directiveStart,a.directiveEnd,e),z1(e,o)),o}(E,this.componentDef,m,h,[ez]),Vu(g,m,null)}finally{Tf()}return new nG(this.componentType,b,Ql(_,m),m,_)}}class nG extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new U4(i),this.componentType=e}get injector(){return new ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const tc=new Map;class sG extends Oi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hx(this);const r=Or(e),i=function(n){return n[sj]||null}(e);i&&E_(i),this._bootstrapComponents=ki(r.bootstrap),this._r3Injector=rA(e,t,[{provide:Oi,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],Ie(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=et.THROW_IF_NOT_FOUND,r=ce.Default){return e===et||e===Oi||e===Ml?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class z_ extends wx{constructor(e){super(),this.moduleType=e,null!==Or(e)&&function(n){const e=new Set;!function t(r){const i=Or(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ie(e)} vs ${Ie(e.name)}`)}(s,tc.get(s),r),tc.set(s,r));const o=ki(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new sG(this.moduleType,e)}}function q_(n){return e=>{setTimeout(n,void 0,e)}}const vt=class extends hr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=q_(l),a&&(a=q_(a)),c&&(c=q_(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof R&&e.add(u),u}};function SG(){return this._results[Fl()]()}class vp{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Fl(),r=vp.prototype;r[t]||(r[t]=SG)}get changes(){return this._changes||(this._changes=new vt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Lr(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class G_{constructor(e){this.queryList=e,this.matches=null}clone(){return new G_(this.queryList)}setDirty(){this.queryList.setDirty()}}class W_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new W_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rI(e,t).matches&&this.queries[t].setDirty()}}class Xx{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class K_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new K_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Q_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Q_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,AG(t,s)),this.matchTNodeWithReadOption(e,t,Pf(t,e,s,!1,!1))}else r===gs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ot||i===li||i===gs&&4&t.type)this.addMatch(t.index,-2);else{const s=Pf(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function AG(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function xG(n,e,t,r){return-1===t?function(n,e){return 11&n.type?Ql(n,e):4&n.type?mp(n,e):null}(e,n):-2===t?function(n,e,t){return t===ot?Ql(e,n):t===gs?mp(e,n):t===li?Cx(e,n):void 0}(n,e,r):Eu(n,n[1],t,e)}function eI(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:xG(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Y_(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=eI(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Y_(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const g=d[h];Y_(g[1],g,c,r)}}}}}return r}function Ep(n){const e=M(),t=Be(),r=eT();rb(r+1);const i=rI(t,r);if(n.dirty&&KD(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Y_(t,e,r,[]):eI(t,e,i,r);n.reset(s,hx),n.notifyOnChanges()}return!0}return!1}function Cp(n,e,t,r){const i=Be();if(i.firstCreatePass){const s=Qt();(function(n,e,t){null===n.queries&&(n.queries=new K_),n.queries.track(new Q_(e,t))})(i,new Xx(e,t,r),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function(n,e,t){const r=new vp(4==(4&t));U1(n,e,r,r.destroy),null===e[19]&&(e[19]=new W_),e[19].queries.push(new G_(r))}(i,M(),t)}function rI(n,e){return n.queries.getByIndex(e)}const ud=new fe("Application Initializer");let rc=(()=>{class n{constructor(t){this.appInits=t,this.resolve=pp,this.reject=pp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(zu(s))t.push(s);else if(sp(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(T(ud,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const dd=new fe("AppId"),a7={provide:dd,useFactory:function(){return`${nw()}${nw()}${nw()}`},deps:[]};function nw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vI=new fe("Platform Initializer"),hd=new fe("Platform ID"),EI=new fe("appBootstrapListener");let Ap=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Fi=new fe("LocaleId"),CI=new fe("DefaultCurrencyCode");class c7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const rw=function(n){return new z_(n)},u7=rw,d7=function(n){return Promise.resolve(rw(n))},SI=function(n){const e=rw(n),r=ki(Or(n).declarations).reduce((i,s)=>{const o=Hn(s);return o&&i.push(new qx(o)),i},[]);return new c7(e,r)},h7=SI,f7=function(n){return Promise.resolve(SI(n))};let Qo=(()=>{class n{constructor(){this.compileModuleSync=u7,this.compileModuleAsync=d7,this.compileModuleAndAllComponentsSync=h7,this.compileModuleAndAllComponentsAsync=f7}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const m7=(()=>Promise.resolve(0))();function iw(n){"undefined"==typeof Zone?m7.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vt(!1),this.onMicrotaskEmpty=new vt(!1),this.onStable=new vt(!1),this.onError=new vt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Je.requestAnimationFrame,e=Je.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ow(n),n.isCheckStableRunning=!0,sw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ow(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return DI(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),TI(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return DI(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),TI(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ow(n),sw(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,b7,pp,pp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const b7={};function sw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ow(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function DI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TI(n){n._nesting--,sw(n)}class v7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vt,this.onMicrotaskEmpty=new vt,this.onStable=new vt,this.onError=new vt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let aw=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),iw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iw(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(T(Ke))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),AI=(()=>{class n{constructor(){this._applications=new Map,lw.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return lw.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class E7{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let lw=new E7,kI=!0,xI=!1;function cw(){return xI=!0,kI}let di;const II=new fe("AllowMultipleToken");class uw{constructor(e,t){this.name=e,this.token=t}}function MI(n,e,t=[]){const r=`Platform: ${e}`,i=new fe(r);return(s=[])=>{let o=NI();if(!o||o.injector.get(II,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Bu,useValue:"platform"});!function(n){if(di&&!di.destroyed&&!di.injector.get(II,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");di=n.get(OI);const e=n.get(vI,null);e&&e.forEach(t=>t())}(et.create({providers:a,name:r}))}return function(n){const e=NI();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function NI(){return di&&!di.destroyed?di:null}let OI=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new v7:("zone.js"===n?void 0:n)||new Ke({enableLongStackTrace:cw(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Ke,useValue:a}];return a.run(()=>{const c=et.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(jo,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:g=>{d.handleError(g)}});u.onDestroy(()=>{dw(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const r=t();return zu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(rc);return h.runInitializers(),h.donePromise.then(()=>(E_(u.injector.get(Fi,cp)||cp),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=FI({},r);return function(n,e,t){const r=new z_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(ic);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Ie(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(T(et))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function FI(n,e){return Array.isArray(e)?e.reduce(FI,n):Object.assign(Object.assign({},n),e)}let ic=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new _t(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new _t(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),iw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=function(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return cf(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof _t?n[0]:fu(e)(Fy(n,t))}(a,l.pipe(n=>Py()(function(n,e){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,UU);return s.source=r,s.subjectFactory=i,s}}(qU)(n))))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof cx?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Oi),a=i.create(et.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(aw,null),u=c&&a.injector.get(AI);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),dw(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;dw(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(EI,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(T(Ke),T(et),T(jo),T(qo),T(rc))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function dw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class xp{}class L7{}const V7={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let B7=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||V7}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),W(255)(r).then(s=>s[i]).then(s=>VI(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[r,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),W(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>VI(o,r,i))}}return n.\u0275fac=function(t){return new(t||n)(T(Qo),T(L7,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function VI(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const Q7=MI(null,"core",[{provide:hd,useValue:"unknown"},{provide:OI,deps:[et]},{provide:AI,deps:[]},{provide:Ap,deps:[]}]),e6=[{provide:ic,useClass:ic,deps:[Ke,et,jo,qo,rc]},{provide:X8,deps:[Ke],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:rc,useClass:rc,deps:[[new ar,ud]]},{provide:Qo,useClass:Qo,deps:[]},a7,{provide:Yu,useFactory:function(){return W4},deps:[]},{provide:Yl,useFactory:function(){return K4},deps:[]},{provide:Fi,useFactory:function(n){return E_(n=n||"undefined"!=typeof $localize&&$localize.locale||cp),n},deps:[[new Cl(Fi),new ar,new zs]]},{provide:CI,useValue:"USD"}];let n6=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(T(ic))},n.\u0275mod=gt({type:n}),n.\u0275inj=it({providers:e6}),n})(),Bp=null;function Pi(){return Bp}const Qe=new fe("DocumentToken");let Zo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({factory:t5,token:n,providedIn:"platform"}),n})();function t5(){return T(lM)}const n5=new fe("Location Initialized");let lM=(()=>{class n extends Zo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){cM()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){cM()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(T(Qe))},n.\u0275prov=X({factory:r5,token:n,providedIn:"platform"}),n})();function cM(){return!!window.history.pushState}function r5(){return new lM(T(Qe))}function Tw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function uM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ys(n){return n&&"?"!==n[0]?"?"+n:n}let ac=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({factory:i5,token:n,providedIn:"root"}),n})();function i5(n){const e=T(Qe).location;return new dM(T(Zo),e&&e.origin||"")}const Aw=new fe("appBaseHref");let dM=(()=>{class n extends ac{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Tw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ys(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ys(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ys(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(T(Zo),T(Aw,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),s5=(()=>{class n extends ac{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Tw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ys(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ys(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(T(Zo),T(Aw,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Up=(()=>{class n{constructor(t,r){this._subject=new vt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=uM(hM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ys(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,hM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ys(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ys(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(T(ac),T(Zo))},n.normalizeQueryParams=ys,n.joinWithSlash=Tw,n.stripTrailingSlash=uM,n.\u0275prov=X({factory:o5,token:n,providedIn:"root"}),n})();function o5(){return new Up(T(ac),T(Zo))}function hM(n){return n.replace(/\/index.html$/,"")}var jt=(()=>((jt=jt||{})[jt.Zero=0]="Zero",jt[jt.One=1]="One",jt[jt.Two=2]="Two",jt[jt.Few=3]="Few",jt[jt.Many=4]="Many",jt[jt.Other=5]="Other",jt))();const p5=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Lk(e);if(t)return t;const r=e.split("-")[0];if(t=Lk(r),t)return t;if("en"===r)return Dq;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[z.PluralCase]};class Yp{}let H5=(()=>{class n extends Yp{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(p5(r||this.locale)(t)){case jt.Zero:return"zero";case jt.One:return"one";case jt.Two:return"two";case jt.Few:return"few";case jt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(T(Fi))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class W5{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Er=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new W5(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new vM(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new vM(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(li),w(gs),w(Yu))},n.\u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class vM{constructor(e,t){this.record=e,this.view=t}}let TM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({providers:[{provide:Yp,useClass:H5}]}),n})();const AM="browser";let kM=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new DW(T(Qe),window)}),n})();class DW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xM(this.window.history)||xM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function xM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Uw extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Bp||(Bp=n)}(new Uw)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(_d=_d||document.querySelector("base"),_d?_d.getAttribute("href"):null);return null==t?null:function(n){Jp=Jp||document.createElement("a"),Jp.setAttribute("href",n);const e=Jp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_d=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Jp,_d=null;const IM=new fe("TRANSITION_ID"),NW=[{provide:ud,useFactory:function(n,e,t){return()=>{t.get(rc).donePromise.then(()=>{const r=Pi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[IM,Qe,et],multi:!0}];class jw{static init(){!function(n){lw=n}(new jw)}addToWindow(e){Je.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Je.getAllAngularTestabilities=()=>e.getAllTestabilities(),Je.getAllAngularRootElements=()=>e.getAllRootElements(),Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(r=>{const i=Je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Pi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let OW=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const wd=new fe("EventManagerPlugins");let Xp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(T(wd),T(Ke))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class $w{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let NM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),vd=(()=>{class n extends NM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(OM),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(OM))}}return n.\u0275fac=function(t){return new(t||n)(T(Qe))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function OM(n){Pi().remove(n)}const Hw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zw=/%COMP%/g;function eg(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?eg(n,i,t):(i=i.replace(zw,n),t.push(i))}return t}function RM(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let tg=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Vt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new KW(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Vt.ShadowDom:return new QW(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=eg(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(T(Xp),T(vd),T(dd))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class qw{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Hw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Hw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Hw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(_r.DashCase|_r.Important)?e.style.setProperty(t,r,i&_r.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,RM(r)):this.eventManager.addEventListener(e,t,RM(r))}}class KW extends qw{constructor(e,t,r,i){super(e),this.component=r;const s=eg(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(zw,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(zw,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class QW extends qw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=eg(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let YW=(()=>{class n extends $w{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(T(Qe))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const BM=["alt","control","meta","shift"],rK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},iK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sK=(()=>{class n extends $w{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(BM.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&UM.hasOwnProperty(e)&&(e=UM[e]))}return rK[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),BM.forEach(s=>{s!=i&&iK[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(T(Qe))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const fK=MI(Q7,"browser",[{provide:hd,useValue:AM},{provide:vI,useValue:function(){Uw.makeCurrent(),jw.init()},multi:!0},{provide:Qe,useFactory:function(){return function(n){Ky=n}(document),document},deps:[]}]),pK=[[],{provide:Bu,useValue:"root"},{provide:jo,useFactory:function(){return new jo},deps:[]},{provide:wd,useClass:YW,multi:!0,deps:[Qe,Ke,hd]},{provide:wd,useClass:sK,multi:!0,deps:[Qe]},[],{provide:tg,useClass:tg,deps:[Xp,vd,dd]},{provide:Go,useExisting:tg},{provide:NM,useExisting:vd},{provide:vd,useClass:vd,deps:[Qe]},{provide:aw,useClass:aw,deps:[Ke]},{provide:Xp,useClass:Xp,deps:[wd,Ke]},{provide:class{},useClass:OW,deps:[]},[]];let Qw=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:dd,useValue:t.appId},{provide:IM,useExisting:dd},NW]}}}return n.\u0275fac=function(t){return new(t||n)(T(n,12))},n.\u0275mod=gt({type:n}),n.\u0275inj=it({providers:pK,imports:[TM,n6]}),n})();function ng(n,e){return new _t(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=wn(n[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),i[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===r||!c)&&(o===r&&t.next(e?e.reduce((u,d,h)=>(u[d]=i[h],u),{}):i),t.complete())}}))}})}"undefined"!=typeof window&&window;let $M=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(w(ps),w(ot))},n.\u0275dir=te({type:n}),n})(),Xo=(()=>{class n extends $M{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=or(n)))(r||n)}}(),n.\u0275dir=te({type:n,features:[tt]}),n})();const Ri=new fe("NgValueAccessor"),SK={provide:Ri,useExisting:at(()=>rg),multi:!0},TK=new fe("CompositionEventMode");let rg=(()=>{class n extends $M{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Pi()?Pi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(w(ps),w(ot),w(TK,8))},n.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ue("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ut([SK]),tt]}),n})();const Pn=new fe("NgValidators"),Zs=new fe("NgAsyncValidators");function XM(n){return null!=n}function eN(n){const e=zu(n)?wn(n):n;return sp(e),e}function tN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function nN(n,e){return e.map(t=>t(n))}function rN(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Jw(n){return null!=n?function(n){if(!n)return null;const e=n.filter(XM);return 0==e.length?null:function(t){return tN(nN(t,e))}}(rN(n)):null}function Zw(n){return null!=n?function(n){if(!n)return null;const e=n.filter(XM);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(J(e))return ng(e,null);if(L(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ng(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return ng(n=1===n.length&&J(n[0])?n[0]:n,null).pipe(rt(t=>e(...t)))}return ng(n,null)}(nN(t,e).map(eN)).pipe(rt(tN))}}(rN(n)):null}function oN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Xw(n){return n?Array.isArray(n)?n:[n]:[]}function ig(n,e){return Array.isArray(n)?n.includes(e):n===e}function cN(n,e){const t=Xw(e);return Xw(n).forEach(i=>{ig(t,i)||t.push(i)}),t}function uN(n,e){return Xw(e).filter(t=>!ig(n,t))}let dN=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=te({type:n}),n})(),Yn=(()=>{class n extends dN{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=or(n)))(r||n)}}(),n.\u0275dir=te({type:n,features:[tt]}),n})();class eo extends dN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let fN=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(eo,2))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&fs("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[tt]}),n})();function Ed(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(oN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(oN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();lg(e._rawValidators,i),lg(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pN(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ug(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Cd="VALID",dg="INVALID",lc="PENDING",Sd="DISABLED";function sv(n){return(av(n)?n.validators:n)||null}function yN(n){return Array.isArray(n)?Jw(n):n||null}function ov(n,e){return(av(e)?e.asyncValidators:n)||null}function bN(n){return Array.isArray(n)?Zw(n):n||null}function av(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class lv{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=yN(this._rawValidators),this._composedAsyncValidatorFn=bN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cd}get invalid(){return this.status===dg}get pending(){return this.status==lc}get disabled(){return this.status===Sd}get enabled(){return this.status!==Sd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=bN(e)}addValidators(e){this.setValidators(cN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uN(e,this._rawAsyncValidators))}hasValidator(e){return ig(this._rawValidators,e)}hasAsyncValidator(e){return ig(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=lc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cd||this.status===lc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sd:Cd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=lc,this._hasOwnPendingAsyncValidator=!0;const t=eN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof cv?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof jK&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?Sd:this.errors?dg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lc)?lc:this._anyControlsHaveStatus(dg)?dg:Cd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){av(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hg extends lv{constructor(e=null,t,r){super(sv(t),ov(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ug(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ug(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class cv extends lv{constructor(e,t,r){super(sv(t),ov(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof hg?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class jK extends lv{constructor(e,t,r){super(sv(t),ov(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof hg?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const zK={provide:eo,useExisting:at(()=>dv)},vN=(()=>Promise.resolve(null))();let dv=(()=>{class n extends eo{constructor(t,r,i,s){super(),this.control=new hg,this._registered=!1,this.update=new vt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===rg?t=s:function(n){return Object.getPrototypeOf(n.constructor)===Xo}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ed(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;vN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(w(Yn,9),w(Pn,10),w(Zs,10),w(Ri,10))},n.\u0275dir=te({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ut([zK]),tt,En]}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({}),n})(),UN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({imports:[[CN]]}),n})(),g9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({imports:[UN]}),n})();function De(...n){let e=n[n.length-1];return cf(e)?(n.pop(),Oy(n,e)):Fy(n)}class mi extends hr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ol;return this._value}next(e){super.next(this._value=e)}}const jN={};class y9{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new b9(e,this.resultSelector))}}class b9 extends ff{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(jN),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++){const i=e[r];this.add(hf(this,i,i,r))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r,i,s){const o=this.values,l=this.toRespond?o[r]===jN?--this.toRespond:this.toRespond:0;o[r]=t,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const fg=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function _v(...n){return fu(1)(De(...n))}const cc=new _t(n=>n.complete());function wv(n){return n?function(n){return new _t(e=>n.schedule(()=>e.complete()))}(n):cc}function $N(n){return new _t(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?wn(t):wv()).subscribe(e)})}function to(n,e){return"function"==typeof e?t=>t.pipe(to((r,i)=>wn(n(r,i)).pipe(rt((s,o)=>e(r,s,i,o))))):t=>t.lift(new v9(n))}class v9{constructor(e){this.project=e}call(e,t){return t.subscribe(new E9(e,this.project))}}class E9 extends ff{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,r)}_innerSub(e,t,r){const i=this.innerSubscription;i&&i.unsubscribe();const s=new uf(this,t,r),o=this.destination;o.add(s),this.innerSubscription=hf(this,e,void 0,void 0,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,r,i,s){this.destination.next(t)}}const HN=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function pg(n){return e=>0===n?wv():e.lift(new C9(n))}class C9{constructor(e){if(this.total=e,this.total<0)throw new HN}call(e,t){return t.subscribe(new S9(e,this.total))}}class S9 extends H{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function zN(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new T9(n,e,t))}}class T9{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new A9(e,this.accumulator,this.seed,this.hasSeed))}}class A9 extends H{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function uc(n,e){return function(r){return r.lift(new k9(n,e))}}class k9{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new x9(e,this.predicate,this.thisArg))}}class x9 extends H{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function ea(n){return function(t){const r=new I9(n),i=t.lift(r);return r.caught=i}}class I9{constructor(e){this.selector=e}call(e,t){return t.subscribe(new M9(e,this.selector,this.caught))}}class M9 extends ff{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new uf(this,void 0,void 0);this.add(r);const i=hf(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}function Td(n,e){return vn(n,e,1)}function vv(n){return function(t){return 0===n?wv():t.lift(new N9(n))}}class N9{constructor(e){if(this.total=e,this.total<0)throw new HN}call(e,t){return t.subscribe(new O9(e,this.total))}}class O9 extends H{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=t++%r;e.next(i[o])}}e.complete()}}function qN(n=R9){return e=>e.lift(new F9(n))}class F9{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new P9(e,this.errorFactory))}}class P9 extends H{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function R9(){return new fg}function GN(n=null){return e=>e.lift(new L9(n))}class L9{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new V9(e,this.defaultValue))}}class V9 extends H{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function dc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?uc((i,s)=>n(i,s,r)):lf,pg(1),t?GN(e):qN(()=>new fg))}function no(){}function Cr(n,e,t){return function(i){return i.lift(new U9(n,e,t))}}class U9{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new j9(e,this.nextOrObserver,this.error,this.complete))}}class j9 extends H{constructor(e,t,r,i){super(e),this._tapNext=no,this._tapError=no,this._tapComplete=no,this._tapError=r||no,this._tapComplete=i||no,Ve(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||no,this._tapError=t.error||no,this._tapComplete=t.complete||no)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class H9{constructor(e){this.callback=e}call(e,t){return t.subscribe(new z9(e,this.callback))}}class z9 extends H{constructor(e,t){super(e),this.add(new R(t))}}class _s{constructor(e,t){this.id=e,this.url=t}}class Ev extends _s{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ad extends _s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class WN extends _s{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q9 extends _s{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class G9 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W9 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K9 extends _s{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q9 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y9 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KN{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QN{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J9{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z9{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X9{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eQ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Oe="primary";class tQ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hc(n){return new tQ(n)}const JN="ngNavigationCancelingError";function Cv(n){const e=Error("NavigationCancelingError: "+n);return e[JN]=!0,e}function rQ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ZN(n[i],e[i]))return!1;return!0}function ZN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function XN(n){return Array.prototype.concat.apply([],n)}function eO(n){return n.length>0?n[n.length-1]:null}function Cn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Vi(n){return sp(n)?n:zu(n)?wn(Promise.resolve(n)):De(n)}const oQ={exact:function rO(n,e,t){if(!na(n.segments,e.segments)||!gg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rO(n.children[r],e.children[r],t))return!1;return!0},subset:iO},tO={exact:function(n,e){return Li(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZN(n[t],e[t]))},ignored:()=>!0};function nO(n,e,t){return oQ[t.paths](n.root,e.root,t.matrixParams)&&tO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function iO(n,e,t){return sO(n,e,e.segments,t)}function sO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!na(i,t)||e.hasChildren()||!gg(i,t,r))}if(n.segments.length===t.length){if(!na(n.segments,t)||!gg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!iO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(na(n.segments,i)&&gg(n.segments,i,r)&&n.children[Oe])&&sO(n.children[Oe],e,s,r)}}function gg(n,e,t){return e.every((r,i)=>tO[t](n[i].parameters,r.parameters))}class ta{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hc(this.queryParams)),this._queryParamMap}toString(){return dQ.serialize(this)}}class Pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Cn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mg(this)}}class kd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hc(this.parameters)),this._parameterMap}toString(){return cO(this)}}function na(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Sv{}class oO{parse(e){const t=new wQ(e);return new ta(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${xd(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${yg(t)}=${yg(i)}`).join("&"):`${yg(t)}=${yg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const dQ=new oO;function mg(n){return n.segments.map(e=>cO(e)).join("/")}function xd(n,e){if(!n.hasChildren())return mg(n);if(e){const t=n.children[Oe]?xd(n.children[Oe],!1):"",r=[];return Cn(n.children,(i,s)=>{s!==Oe&&r.push(`${s}:${xd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Cn(n.children,(r,i)=>{i===Oe&&(t=t.concat(e(r,i)))}),Cn(n.children,(r,i)=>{i!==Oe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Oe?[xd(n.children[Oe],!1)]:[`${i}:${xd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Oe]?`${mg(n)}/${t[0]}`:`${mg(n)}/(${t.join("//")})`}}function aO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yg(n){return aO(n).replace(/%3B/gi,";")}function Dv(n){return aO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bg(n){return decodeURIComponent(n)}function lO(n){return bg(n.replace(/\+/g,"%20"))}function cO(n){return`${Dv(n.path)}${function(n){return Object.keys(n).map(e=>`;${Dv(e)}=${Dv(n[e])}`).join("")}(n.parameters)}`}const gQ=/^[^\/()?;=#]+/;function _g(n){const e=n.match(gQ);return e?e[0]:""}const mQ=/^[^=?&#]+/,bQ=/^[^?&#]+/;class wQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Oe]=new Pe(e,t)),r}parseSegment(){const e=_g(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new kd(bg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_g(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=_g(this.remaining);i&&(r=i,this.capture(r))}e[bg(t)]=bg(r)}parseQueryParam(e){const t=function(n){const e=n.match(mQ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(bQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lO(t),s=lO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_g(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Oe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Oe]:new Pe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class uO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Tv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Av(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Av(e,this._root).map(t=>t.value)}}function Tv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Tv(n,t);if(r)return r}return null}function Av(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Av(n,t);if(r.length)return r.unshift(e),r}return[]}class ws{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Id(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class dO extends uO{constructor(e,t){super(e),this.snapshot=t,kv(this,e)}toString(){return this.snapshot.toString()}}function hO(n,e){const t=function(n,e){const o=new wg([],{},{},"",{},Oe,e,null,n.root,-1,{});return new pO("",new ws(o,[]))}(n,e),r=new mi([new kd("",{})]),i=new mi({}),s=new mi({}),o=new mi({}),a=new mi(""),l=new fc(r,i,o,a,s,Oe,e,t.root);return l.snapshot=t.root,new dO(new ws(l,[]),t)}class fc{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(rt(e=>hc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(rt(e=>hc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wg{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pO extends uO{constructor(e,t){super(t),this.url=e,kv(this,t)}toString(){return gO(this._root)}}function kv(n,e){e.value._routerState=n,e.children.forEach(t=>kv(n,t))}function gO(n){const e=n.children.length>0?` { ${n.children.map(gO).join(", ")} } `:"";return`${n.value}${e}`}function xv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Iv(n,e){return Li(n.params,e.params)&&function(n,e){return na(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Iv(n.parent,e.parent))}function vg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return vg(n,r,i);return vg(n,r)})}(n,e,t);return new ws(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return mO(e,o),o}}const r=function(n){return new fc(new mi(n.url),new mi(n.params),new mi(n.queryParams),new mi(n.fragment),new mi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>vg(n,s));return new ws(r,i)}}function mO(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)mO(n.children[t],e.children[t])}function Eg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Md(n){return"object"==typeof n&&null!=n&&n.outlets}function Mv(n,e,t,r,i){let s={};return r&&Cn(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new ta(t.root===n?e:yO(t.root,n,e),s,i)}function yO(n,e,t){const r={};return Cn(n.children,(i,s)=>{r[s]=i===e?t:yO(i,e,t)}),new Pe(n.segments,r)}class bO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Md);if(i&&i!==eO(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _O(n,e,t){if(n||(n=new Pe([],{})),0===n.segments.length&&n.hasChildren())return Cg(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Md(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!vO(l,c,o))return s;r+=2}else{if(!vO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Pe(n.segments.slice(0,r.pathIndex),{});return s.children[Oe]=new Pe(n.segments.slice(r.pathIndex),n.children),Cg(s,0,i)}return r.match&&0===i.length?new Pe(n.segments,{}):r.match&&!n.hasChildren()?Ov(n,e,t):r.match?Cg(n,0,i):Ov(n,e,t)}function Cg(n,e,t){if(0===t.length)return new Pe(n.segments,{});{const r=function(n){return Md(n[0])?n[0].outlets:{[Oe]:n}}(t),i={};return Cn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=_O(n.children[o],e,s))}),Cn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Pe(n.segments,i)}}function Ov(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Md(s)){const l=NQ(s.outlets);return new Pe(r,l)}if(0===i&&Eg(t[0])){r.push(new kd(n.segments[e].path,wO(t[0]))),i++;continue}const o=Md(s)?s.outlets[Oe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Eg(a)?(r.push(new kd(o,wO(a))),i+=2):(r.push(new kd(o,{})),i++)}return new Pe(r,{})}function NQ(n){const e={};return Cn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ov(new Pe([],{}),0,t))}),e}function wO(n){const e={};return Cn(n,(t,r)=>e[r]=`${t}`),e}function vO(n,e,t){return n==t.path&&Li(e,t.parameters)}class FQ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),xv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Id(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Cn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Id(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Id(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new eQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Z9(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(xv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),EO(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function EO(n){xv(n.value),n.children.forEach(EO)}class Fv{constructor(e,t){this.routes=e,this.module=t}}function ro(n){return"function"==typeof n}function ra(n){return n instanceof ta}const Nd=Symbol("INITIAL_VALUE");function Od(){return to(n=>function(...n){let e=null,t=null;return cf(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&J(n[0])&&(n=n[0]),Fy(n,t).lift(new y9(e))}(n.map(e=>e.pipe(pg(1),function(...n){const e=n[n.length-1];return cf(e)?(n.pop(),t=>_v(n,t,e)):t=>_v(n,t)}(Nd)))).pipe(zN((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Nd?i:(s===Nd&&(r=!0),r||!1!==s&&o!==t.length-1&&!ra(s)?i:s),e)},Nd),uc(e=>e!==Nd),rt(e=>ra(e)?e:!0===e),pg(1)))}let CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Jt(0,"router-outlet")},directives:function(){return[Uv]},encapsulation:2}),n})();function SO(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];jQ(r,$Q(e,r))}}function jQ(n,e){n.children&&SO(n.children,e)}function $Q(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Pv(n){const e=n.children&&n.children.map(Pv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Oe&&(t.component=CO),t}function zr(n){return n.outlet||Oe}function DO(n,e){const t=n.filter(r=>zr(r)===e);return t.push(...n.filter(r=>zr(r)!==e)),t}const TO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Sg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},TO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||rQ)(t,n,e);if(!s)return Object.assign({},TO);const o={};Cn(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Dg(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Tg(n,e,r)&&zr(r)!==Oe)}(n,t,r)){const o=new Pe(e,function(n,e,t,r){const i={};i[Oe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&zr(s)!==Oe){const o=new Pe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[zr(s)]=o}return i}(n,e,r,new Pe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Tg(n,e,r))}(n,t,r)){const o=new Pe(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(Tg(n,t,a)&&!i[zr(a)]){const l=new Pe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[zr(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Pe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Tg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AO(n,e,t,r){return!!(zr(n)===r||r!==Oe&&Tg(e,t,n))&&("**"===n.path||Sg(e,n,t).matched)}function kO(n,e,t){return 0===e.length&&!n.children[t]}class Fd{constructor(e){this.segmentGroup=e||null}}class xO{constructor(e){this.urlTree=e}}function Ag(n){return new _t(e=>e.error(new Fd(n)))}function IO(n){return new _t(e=>e.error(new xO(n)))}function WQ(n){return new _t(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class YQ{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Oi)}apply(){const e=Dg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Oe).pipe(rt(s=>this.createUrlTree(Rv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ea(s=>{if(s instanceof xO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Fd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Oe).pipe(rt(i=>this.createUrlTree(Rv(i),e.queryParams,e.fragment))).pipe(ea(i=>{throw i instanceof Fd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Pe([],{[Oe]:e}):e;return new ta(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(rt(s=>new Pe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wn(i).pipe(Td(s=>{const o=r.children[s],a=DO(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(rt(l=>({segment:l,outlet:s})))}),zN((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?uc((i,s)=>n(i,s,r)):lf,vv(1),t?GN(e):qN(()=>new fg))}())}expandSegment(e,t,r,i,s,o){return wn(r).pipe(Td(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(ea(c=>{if(c instanceof Fd)return De(null);throw c}))),dc(a=>!!a),ea((a,l)=>{if(a instanceof fg||"EmptyError"===a.name){if(kO(t,i,s))return De(new Pe([],{}));throw new Fd(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return AO(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Ag(t):Ag(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?IO(s):this.lineralizeSegments(r,s).pipe(vn(o=>{const a=new Pe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=Sg(t,i,s);if(!a)return Ag(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?IO(d):this.lineralizeSegments(i,d).pipe(vn(h=>this.expandSegment(e,t,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?De(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(rt(h=>(r._loadedConfig=h,new Pe(i,{})))):De(new Pe(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=Sg(t,r,i);if(!o)return Ag(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(vn(d=>{const h=d.module,g=d.routes,{segmentGroup:m,slicedSegments:b}=Dg(t,a,c,g),_=new Pe(m.segments,m.children);if(0===b.length&&_.hasChildren())return this.expandChildren(h,g,_).pipe(rt(P=>new Pe(a,P)));if(0===g.length&&0===b.length)return De(new Pe(a,{}));const E=zr(r)===s;return this.expandSegment(h,_,g,b,E?Oe:s,!0).pipe(rt(I=>new Pe(a.concat(I.segments),I.children)))}))}getChildConfig(e,t,r){return t.children?De(new Fv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?De(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(vn(i=>i?this.configLoader.load(e.injector,t).pipe(rt(s=>(t._loadedConfig=s,s))):function(n){return new _t(e=>e.error(Cv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):De(new Fv([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?De(i.map(o=>{const a=e.get(o);let l;if(function(n){return n&&ro(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!ro(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Vi(l)})).pipe(Od(),Cr(o=>{if(!ra(o))return;const a=Cv(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),rt(o=>!0===o)):De(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return De(r);if(i.numberOfChildren>1||!i.children[Oe])return WQ(e.redirectTo);i=i.children[Oe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new ta(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Cn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Cn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Pe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Rv(n){const e={};for(const r of Object.keys(n.children)){const s=Rv(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Oe]){const e=n.children[Oe];return new Pe(n.segments.concat(e.segments),e.children)}return n}(new Pe(n.segments,e))}class MO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kg{constructor(e,t){this.component=e,this.route=t}}function XQ(n,e,t){const r=n._root;return Pd(r,e?e._root:null,t,[r.value])}function xg(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Pd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Id(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!na(n.url,e.url);case"pathParamsOrQueryParamsChange":return!na(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iv(n,e)||!Li(n.queryParams,e.queryParams);case"paramsChange":default:return!Iv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new MO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Pd(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kg(a.outlet.component,o))}else o&&Rd(e,a,i),i.canActivateChecks.push(new MO(r)),Pd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Cn(s,(o,a)=>Rd(o,t.getContext(a),i)),i}function Rd(n,e,t){const r=Id(n),i=n.value;Cn(r,(s,o)=>{Rd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new kg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class hY{}function NO(n){return new _t(e=>e.error(n))}class pY{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Dg(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Oe);if(null===t)return null;const r=new wg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ws(r,t),s=new pO(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=fO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=DO(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=OO(r);return function(n){n.sort((e,t)=>e.value.outlet===Oe?-1:t.value.outlet===Oe?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return kO(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!AO(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const g=r.length>0?eO(r).parameters:{};s=new wg(r,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RO(e),zr(e),e.component,e,FO(t),PO(t)+r.length,LO(e))}else{const g=Sg(t,e,r);if(!g.matched)return null;o=g.consumedSegments,a=r.slice(g.lastChild),s=new wg(o,g.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,RO(e),zr(e),e.component,e,FO(t),PO(t)+o.length,LO(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Dg(t,o,a,l.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const g=this.processChildren(l,c);return null===g?null:[new ws(s,g)]}if(0===l.length&&0===u.length)return[new ws(s,[])];const d=zr(e)===i,h=this.processSegment(l,c,u,d?Oe:i);return null===h?null:[new ws(s,h)]}}function yY(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function OO(n){const e=[],t=new Set;for(const r of n){if(!yY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OO(r.children);e.push(new ws(r.value,i))}return e.filter(r=>!t.has(r))}function FO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function PO(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function RO(n){return n.data||{}}function LO(n){return n.resolve||{}}function Lv(n){return to(e=>{const t=n(e);return t?wn(t).pipe(rt(()=>e)):De(e)})}class DY extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vv=new fe("ROUTES");class VO{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new Fv(XN(o.injector.get(Vv,void 0,ce.Self|ce.Optional)).map(Pv),o)}),ea(s=>{throw t._loader$=void 0,s}));return t._loader$=new xD(i,()=>new hr).pipe(Py()),t._loader$}loadModuleFactory(e){return"string"==typeof e?wn(this.loader.load(e)):Vi(e()).pipe(vn(t=>t instanceof wx?De(t):wn(this.compiler.compileModuleAsync(t))))}}class TY{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new pc,this.attachRef=null}}class pc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new TY,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class kY{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function xY(n){throw n}function IY(n,e,t){return e.parse("/")}function BO(n,e){return De(null)}const MY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hr,this.errorHandler=xY,this.malformedUriErrorHandler=IY,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:BO,afterPreactivation:BO},this.urlHandlingStrategy=new kY,this.routeReuseStrategy=new DY,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Oi),this.console=o.get(Ap);const h=o.get(Ke);this.isNgZoneEnabled=h instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new ta(new Pe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new VO(a,l,g=>this.triggerEvent(new KN(g)),g=>this.triggerEvent(new QN(g))),this.routerState=hO(this.currentUrlTree,this.rootComponentType),this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(uc(i=>0!==i.id),rt(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),to(i=>{let s=!1,o=!1;return De(i).pipe(Cr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),to(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ig(a.source)&&(this.browserUrlTree=a.extractedUrl),De(a).pipe(to(d=>{const h=this.transitions.getValue();return r.next(new Ev(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?cc:Promise.resolve(d)}),function(n,e,t,r){return to(i=>function(n,e,t,r,i){return new YQ(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(rt(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Cr(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,r,i){return vn(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new pY(n,e,t,r,i,s).recognize();return null===o?NO(new hY):De(o)}catch(o){return NO(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(rt(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Cr(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new G9(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:g,source:m,restoredState:b,extras:_}=a,E=new Ev(h,this.serializeUrl(g),m,b);r.next(E);const v=hO(g,this.rootComponentType).snapshot;return De(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:g,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),cc}),Lv(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:g}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!g})}),Cr(a=>{const l=new W9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),rt(a=>Object.assign(Object.assign({},a),{guards:XQ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return vn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?De(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return wn(n).pipe(vn(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?De(s.map(a=>{const l=xg(a,e,i);let c;if(function(n){return n&&ro(n.canDeactivate)}(l))c=Vi(l.canDeactivate(n,e,t,r));else{if(!ro(l))throw new Error("Invalid CanDeactivate guard");c=Vi(l(n,e,t,r))}return c.pipe(dc())})).pipe(Od()):De(!0)}(i.component,i.route,t,e,r)),dc(i=>!0!==i,!0))}(o,r,i,n).pipe(vn(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return wn(e).pipe(Td(i=>_v(function(n,e){return null!==n&&e&&e(new J9(n)),De(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new X9(n)),De(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>$N(()=>De(o.guards.map(l=>{const c=xg(l,o.node,t);let u;if(function(n){return n&&ro(n.canActivateChild)}(c))u=Vi(c.canActivateChild(r,n));else{if(!ro(c))throw new Error("Invalid CanActivateChild guard");u=Vi(c(r,n))}return u.pipe(dc())})).pipe(Od())));return De(s).pipe(Od())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?De(r.map(s=>$N(()=>{const o=xg(s,e,t);let a;if(function(n){return n&&ro(n.canActivate)}(o))a=Vi(o.canActivate(e,n));else{if(!ro(o))throw new Error("Invalid CanActivate guard");a=Vi(o(e,n))}return a.pipe(dc())}))).pipe(Od()):De(!0)}(n,i.route,t))),dc(i=>!0!==i,!0))}(r,s,n,e):De(a)),rt(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Cr(a=>{if(ra(a.guardsResult)){const c=Cv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new K9(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),uc(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Lv(a=>{if(a.guards.canActivateChecks.length)return De(a).pipe(Cr(l=>{const c=new Q9(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),to(l=>{let c=!1;return De(l).pipe(function(n,e){return vn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return De(t);let s=0;return wn(i).pipe(Td(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return De({});const s={};return wn(i).pipe(vn(o=>function(n,e,t,r){const i=xg(n,e,r);return Vi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Cr(a=>{s[o]=a}))),vv(1),vn(()=>Object.keys(s).length===i.length?De(s):cc))}(n._resolve,n,e,r).pipe(rt(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),fO(n,t).resolve),null)))}(o.route,r,n,e)),Cr(()=>s++),vv(1),vn(o=>s===i.length?De(t):cc))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Cr({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Cr(l=>{const c=new Y9(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Lv(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:g}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!g})}),rt(a=>{const l=function(n,e,t){const r=vg(n,e._root,t?t._root:void 0);return new dO(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Cr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>rt(r=>(new FQ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Cr({next(){s=!0},complete(){s=!0}}),function(n){return e=>e.lift(new H9(n))}(()=>{var a;if(!s&&!o){const l=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,l)):this.cancelNavigationTransition(i,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ea(a=>{if(o=!0,function(n){return n&&n[JN]}(a)){const l=ra(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new WN(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ig(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new q9(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return cc}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){SO(t),this.config=t.map(Pv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,r,i){if(0===t.length)return Mv(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Cn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new bO(t,e,r)}(t);if(s.toRoot())return Mv(e.root,new Pe([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new Nv(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Nv(s,s===e.root,0)}const r=Eg(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Nv(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Cg(o.segmentGroup,o.index,s.commands):_O(o.segmentGroup,o.index,s.commands);return Mv(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ra(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},MY):!1===r?Object.assign({},NY):r,ra(t))return nO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return nO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ad(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=Ig(r)&&c&&!Ig(c.source),g=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&g)return Promise.resolve(!0);let m,b,_;o?(m=o.resolve,b=o.reject,_=o.promise):_=new Promise((I,P)=>{m=I,b=P});const E=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),v=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):v=0,this.setTransition({id:E,targetPageId:v,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:m,reject:b,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(I=>Promise.reject(I))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new WN(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(T(Rf),T(Sv),T(pc),T(Up),T(et),T(xp),T(Qo),T(void 0))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Ig(n){return"imperative"!==n}let cn=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=[],this.onChanges=new hr,this.subscription=t.events.subscribe(s=>{s instanceof Ad&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target)return!0;const a={skipLocationChange:gc(this.skipLocationChange),replaceUrl:gc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(w(Rn),w(fc),w(ac))},n.\u0275dir=te({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Ue("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&(lp("href",r.href,Sb),vr("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[En]}),n})();function gc(n){return""===n||!!n}let Uv=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new vt,this.deactivateEvents=new vt,this.name=s||Oe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new RY(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(w(pc),w(li),w(qo),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(aT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Qt(),n)}("name"),w(Zu))},n.\u0275dir=te({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class RY{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fc?this.route:e===pc?this.childContexts:this.parent.get(e,t)}}class UO{}class jO{preload(e,t){return De(null)}}let $O=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new VO(r,i,c=>t.triggerEvent(new KN(c)),c=>t.triggerEvent(new QN(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(uc(t=>t instanceof Ad),Td(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Oi);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return wn(i).pipe(fu(),rt(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?De(r._loadedConfig):this.loader.load(t.injector,r)).pipe(vn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(T(Rn),T(xp),T(Qo),T(et),T(UO))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),jv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ad&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof YN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new YN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T(Rn),T(kM),T(void 0))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const ia=new fe("ROUTER_CONFIGURATION"),HO=new fe("ROUTER_FORROOT_GUARD"),VY=[Up,{provide:Sv,useClass:oO},{provide:Rn,useFactory:function(n,e,t,r,i,s,o,a={},l,c){const u=new Rn(null,n,e,t,r,i,s,XN(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(d=>{var h,g;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(g=console.groupEnd)||void 0===g||g.call(console)}),u},deps:[Sv,pc,Up,et,xp,Qo,Vv,ia,[class{},new ar],[class{},new ar]]},pc,{provide:fc,useFactory:function(n){return n.routerState.root},deps:[Rn]},{provide:xp,useClass:B7},$O,jO,class{preload(e,t){return t().pipe(ea(()=>De(null)))}},{provide:ia,useValue:{enableTracing:!1}}];function BY(){return new uw("Router",Rn)}let zO=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[VY,qO(t),{provide:HO,useFactory:$Y,deps:[[Rn,new ar,new zs]]},{provide:ia,useValue:r||{}},{provide:ac,useFactory:jY,deps:[Zo,[new Cl(Aw),new ar],ia]},{provide:jv,useFactory:UY,deps:[Rn,kM,ia]},{provide:UO,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:jO},{provide:uw,multi:!0,useFactory:BY},[$v,{provide:ud,multi:!0,useFactory:GY,deps:[$v]},{provide:GO,useFactory:WY,deps:[$v]},{provide:EI,multi:!0,useExisting:GO}]]}}static forChild(t){return{ngModule:n,providers:[qO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(T(HO,8),T(Rn,8))},n.\u0275mod=gt({type:n}),n.\u0275inj=it({}),n})();function UY(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new jv(n,e,t)}function jY(n,e,t={}){return t.useHash?new s5(n,e):new dM(n,e)}function $Y(n){return"guarded"}function qO(n){return[{provide:i3,multi:!0,useValue:n},{provide:Vv,multi:!0,useValue:n}]}let $v=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new hr}appInitializer(){return this.injector.get(n5,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Rn),o=this.injector.get(ia);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?De(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ia),i=this.injector.get($O),s=this.injector.get(jv),o=this.injector.get(Rn),a=this.injector.get(ic);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(T(et))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function GY(n){return n.appInitializer.bind(n)}function WY(n){return n.bootstrapListener.bind(n)}const GO=new fe("Router Initializer");function io(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}var oe=W(329);let Bi=(()=>{class n{constructor(){this.messageSource=new oe.BehaviorSubject(""),this.currentMessage=this.messageSource.asObservable(),this.gradeSource=new oe.BehaviorSubject(100),this.currentGrade=this.gradeSource.asObservable(),this.totalSentencesSource=new oe.BehaviorSubject(0),this.currentTotalSentences=this.totalSentencesSource.asObservable(),this.totalErrorsSource=new oe.BehaviorSubject(""),this.currentTotalErrors=this.totalErrorsSource.asObservable(),this.gradeAlertColorSource=new oe.BehaviorSubject(""),this.currentGradeAlertColor=this.gradeAlertColorSource.asObservable(),this.gradeFeedbackSource=new oe.BehaviorSubject(""),this.currentGradeFeedback=this.gradeFeedbackSource.asObservable()}changeMessage(t){this.messageSource.next(t)}changeGrade(t){this.gradeSource.next(t)}changeTotalSentences(t){this.totalSentencesSource.next(t)}changeTotalErrors(t){this.totalErrorsSource.next(t)}changeGradeAlertColor(t){this.gradeAlertColorSource.next(t)}changeGradeFeedback(t){this.gradeFeedbackSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YO(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function D(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){YO(s,r,i,o,a,"next",l)}function a(l){YO(s,r,i,o,a,"throw",l)}o(void 0)})}}const JO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},ZO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,g=63&c;l||(g=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ng=function(n){return function(n){const e=JO(n);return ZO.encodeByteArray(e,!0)}(n).replace(/\./g,"")};function Ld(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!tJ(t)||(n[t]=Ld(n[t],e[t]));return n}function tJ(n){return"__proto__"!==n}class nJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function sa(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function eF(){return"object"==typeof indexedDB}class mc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Og.prototype.create)}}class Og{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(mJ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new mc(i,`${this.serviceName}: ${o} (${i}).`,r)}}const mJ=/\{\$([^}]+)}/g;function nF(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function qv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(rF(s)&&rF(o)){if(!qv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function rF(n){return null!==n&&"object"==typeof n}function yJ(n,e){const t=new bJ(n,e);return t.subscribe.bind(t)}class bJ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Gv),void 0===i.error&&(i.error=Gv),void 0===i.complete&&(i.complete=Gv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gv(){}function Ft(n){return n&&n._delegate?n._delegate:n}function Vd(n,e){return new Promise((t,r)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;r(`${e}: ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}})}class iF{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t="readonly"){return new sF(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new oF(this._db.createObjectStore(e,t))}close(){this._db.close()}}class sF{constructor(e){this._transaction=e,this.complete=new Promise((t,r)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new oF(this._transaction.objectStore(e))}}class oF{constructor(e){this._store=e}index(e){return new aF(this._store.index(e))}createIndex(e,t,r){return new aF(this._store.createIndex(e,t,r))}get(e){return Vd(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return Vd(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return Vd(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return Vd(this._store.clear(),"Error clearing IndexedDB object store")}}class aF{constructor(e){this._index=e}get(e){return Vd(this._index.get(e),"Error reading from IndexedDB")}}class so{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class TJ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nJ;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return D(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AJ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function AJ(n){return n===oa?void 0:n}class xJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TJ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Qv=[];var Re=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(Re||(Re={})),Re))();const lF={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},IJ=Re.INFO,MJ={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},NJ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=MJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Pg{constructor(e){this.name=e,this._logLevel=IJ,this._logHandler=NJ,this._userLogHandler=null,Qv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}class PJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Yv="@firebase/app",Jv=new Pg("@firebase/app"),aa="[DEFAULT]",lZ={[Yv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oo=new Map,Bd=new Map;function Rg(n,e){try{n.container.addComponent(e)}catch(t){Jv.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function uF(n,e){n.container.addOrOverwriteComponent(e)}function la(n){const e=n.name;if(Bd.has(e))return Jv.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,n);for(const t of oo.values())Rg(t,n);return!0}function Zv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cZ(n,e,t=aa){Zv(n,e).clearInstance(t)}function uZ(){Bd.clear()}const ao=new Og("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class hZ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}const Lg="9.6.11";function Xv(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:aa,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw ao.create("bad-app-name",{appName:String(r)});const i=oo.get(r);if(i){if(qv(n,i.options)&&qv(t,i.config))return i;throw ao.create("duplicate-app",{appName:r})}const s=new xJ(r);for(const a of Bd.values())s.addComponent(a);const o=new hZ(n,t,s);return oo.set(r,o),o}function dF(n=aa){const e=oo.get(n);if(!e)throw ao.create("no-app",{appName:n});return e}function fZ(){return Array.from(oo.values())}function hF(n){return eE.apply(this,arguments)}function eE(){return(eE=D(function*(n){const e=n.name;oo.has(e)&&(oo.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function yi(n,e,t){var r;let i=null!==(r=lZ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Jv.warn(a.join(" "))}la(new so(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function fF(n,e){if(null!==n&&"function"!=typeof n)throw ao.create("invalid-log-argument");!function(n,e){for(const t of Qv){let r=null;e&&e.level&&(r=lF[e.level]),t.userLogHandler=null===n?null:(i,s,...o)=>{const a=o.map(l=>{if(null==l)return null;if("string"==typeof l)return l;if("number"==typeof l||"boolean"==typeof l)return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch(c){return null}}).filter(l=>l).join(" ");s>=(null!=r?r:i.logLevel)&&n({level:Re[s].toLowerCase(),message:a,args:o,type:i.name})}}}(n,e)}function pF(n){!function(n){Qv.forEach(e=>{e.setLogLevel(n)})}(n)}const Ud="firebase-heartbeat-store";let tE=null;function gF(){return tE||(tE=new Promise((r,i)=>{try{const s=indexedDB.open("firebase-heartbeat-database",1);s.onsuccess=o=>{r(new iF(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${null===(a=o.target.error)||void 0===a?void 0:a.message}`)},s.onupgradeneeded=o=>{((n,e)=>{switch(e){case 0:n.createObjectStore(Ud)}})(new iF(s.result),o.oldVersion,new sF(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}}).catch(n=>{throw ao.create("storage-open",{originalErrorMessage:n.message})})),tE}function nE(){return(nE=D(function*(n){try{return(yield gF()).transaction(Ud).objectStore(Ud).get(yF(n))}catch(e){throw ao.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function mF(n,e){return rE.apply(this,arguments)}function rE(){return(rE=D(function*(n,e){try{const r=(yield gF()).transaction(Ud,"readwrite");return yield r.objectStore(Ud).put(e,yF(n)),r.complete}catch(t){throw ao.create("storage-set",{originalErrorMessage:t.message})}})).apply(this,arguments)}function yF(n){return`${n.name}!${n.options.appId}`}class _Z{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vZ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return D(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return D(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=bF(),{heartbeatsToSend:r,unsentEntries:i}=function(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_F(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_F(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ng(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function bF(){return(new Date).toISOString().substring(0,10)}class vZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(function*(){return!!eF()&&new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}}).then(()=>!0).catch(()=>!1)})()}read(){var e=this;return D(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(n){return nE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return mF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return mF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function _F(n){return Ng(JSON.stringify({version:2,heartbeats:n})).length}la(new so("platform-logger",e=>new PJ(e),"PRIVATE")),la(new so("heartbeat",e=>new _Z(e),"PRIVATE")),yi(Yv,"0.7.21",""),yi(Yv,"0.7.21","esm2017"),yi("fire-js",""),yi("firebase","9.6.11","app");class cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let yc="9.6.11";const ca=new Pg("@firebase/firestore");function ua(n,...e){if(ca.logLevel<=Re.DEBUG){const t=e.map(iE);ca.debug(`Firestore (${yc}): ${n}`,...t)}}function Vg(n,...e){if(ca.logLevel<=Re.ERROR){const t=e.map(iE);ca.error(`Firestore (${yc}): ${n}`,...t)}}function iE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function en(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw Vg(e),new Error(e)}function ur(n,e){n||en()}function jd(n,e){return n}const bc="unknown",ie="invalid-argument",Bg="unauthenticated",vs="failed-precondition",lE="unimplemented";class G extends mc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cr.UNAUTHENTICATED))}shutdown(){}}class xZ{constructor(e){this.auth=null,e.onInit(t=>{this.auth=t})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(ur("string"==typeof e.accessToken),new kF(e.accessToken,new cr(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class IZ{constructor(e,t,r){this.type="FirstParty",this.user=cr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class MZ{constructor(e,t,r){this.t=e,this.i=t,this.o=r}getToken(){return Promise.resolve(new IZ(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OZ{constructor(e){this.u=e,this.appCheck=null,e.onInit(t=>{this.appCheck=t})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(ur("string"==typeof e.token),new NZ(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class FZ{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class _c{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}class $d{constructor(e,t,r){void 0===t?t=0:t>e.length&&en(),void 0===r?r=e.length-t:r>e.length-t&&en(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$d.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $d?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pt extends $d{construct(e,t,r){return new Pt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(ie,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const PZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qr extends $d{construct(e,t,r){return new qr(e,t,r)}static isValidIdentifier(e){return PZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new G(ie,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new G(ie,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new G(ie,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(ie,"Unterminated ` in path: "+e);return new qr(t)}static emptyPath(){return new qr([])}}class Ht{constructor(e){this.path=e}static fromPath(e){return new Ht(Pt.fromString(e))}static fromName(e){return new Ht(Pt.fromString(e).popFirst(5))}static empty(){return new Ht(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ht(new Pt(e.slice()))}}function IF(n){if(Ht.isDocumentKey(n))throw new G(ie,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(ie,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":en()}(n);throw new G(ie,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dE(n){return null==n}function jg(n){return 0===n&&1/n==-1/0}const RZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};var NF,je;function OF(n){if(void 0===n)return Vg("RPC_ERROR","HTTP error has no status"),bc;switch(n){case 200:return"ok";case 400:return vs;case 401:return Bg;case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 416:return"out-of-range";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return bc;case 501:return lE;case 503:return"unavailable";case 504:return"deadline-exceeded";default:return n>=200&&n<300?"ok":n>=400&&n<500?vs:n>=500&&n<600?"internal":bc}}(je=NF||(NF={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";class LZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.h=(e.ssl?"https":"http")+"://"+e.host,this.l="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}m(e,t,r,i,s){const o=this.p(e,t);ua("RestConnection","Sending: ",o,r);const a={};return this.g(a,i,s),this.v(e,o,a,r).then(l=>(ua("RestConnection","Received: ",l),l),l=>{throw function(n,...e){if(ca.logLevel<=Re.WARN){const t=e.map(iE);ca.warn(`Firestore (${yc}): ${n}`,...t)}}("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}T(e,t,r,i,s){return this.m(e,t,r,i,s)}g(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}p(e,t){return`${this.h}/v1/${t}:${RZ[e]}`}}{constructor(e,t){super(e),this.I=t}A(e,t){throw new Error("Not supported by FetchConnection")}v(e,t,r,i){var s=this;return D(function*(){const o=JSON.stringify(i);let a;try{a=yield s.I(t,{method:"POST",headers:r,body:o})}catch(l){throw new G(OF(l.status),"Request failed with error: "+l.statusText)}if(!a.ok)throw new G(OF(a.status),"Request failed with error: "+a.statusText);return a.json()})()}}function un(n,e){return n<e?-1:n>e?1:0}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(ie,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(ie,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(ie,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(ie,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gr(e)}static min(){return new Gr(new Sr(0,0))}static max(){return new Gr(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function FF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Es{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Es(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Es(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Es.EMPTY_BYTE_STRING=new Es("");const UZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(ur(!!n),"string"==typeof n){let e=0;const t=UZ.exec(n);if(ur(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tn(n.seconds),nanos:tn(n.nanos)}}function tn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zd(n){return"string"==typeof n?Es.fromBase64String(n):Es.fromUint8Array(n)}function fE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function PF(n){const e=n.mapValue.fields.__previous_value__;return fE(e)?PF(e):e}function qd(n){const e=da(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fE(n)?4:"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue?9:10:en()}function wc(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qd(n).isEqual(qd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=da(r.timestampValue),o=da(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,zd(n.bytesValue).isEqual(zd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return tn(r.geoPointValue.latitude)===tn(i.geoPointValue.latitude)&&tn(r.geoPointValue.longitude)===tn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tn(r.integerValue)===tn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tn(r.doubleValue),o=tn(i.doubleValue);return s===o?jg(s)===jg(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return function(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}(n.arrayValue.values||[],e.arrayValue.values||[],wc);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(FF(s)!==FF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!wc(s[a],o[a])))return!1;return!0}(n,e);default:return en()}var i}function VF(n){return!!n&&"nullValue"in n}function BF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pE(n){return!!n&&"mapValue"in n}function Wd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wd(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(t)}setAll(e){let t=qr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Wd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());pE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];pE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hd(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Dr(Wd(this.value))}}class Ui{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ui(e,0,Gr.min(),Gr.min(),Dr.empty(),0)}static newFoundDocument(e,t,r){return new Ui(e,1,t,Gr.min(),r,0)}static newNoDocument(e,t){return new Ui(e,2,t,Gr.min(),Dr.empty(),0)}static newUnknownDocument(e,t){return new Ui(e,3,t,Gr.min(),Dr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jZ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function UF(n,e=null,t=[],r=[],i=null,s=null,o=null){return new jZ(n,e,t,r,i,s,o)}class qg{constructor(e,t){this.position=e,this.inclusive=t}}class Kd{constructor(e,t="asc"){this.field=e,this.dir=t}}class fa{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.$=null,this.S=null}}function HF(n){return!dE(n.limit)&&"L"===n.limitType}function bE(n){const e=jd(n);if(null===e.$){e.$=[];const t=function(n){for(const e of n.filters)if(e.N())return e.field;return null}(e),r=function(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.$.push(new Kd(t)),e.$.push(new Kd(qr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.$.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.$.push(new Kd(qr.keyField(),s))}}}return e.$}function _E(n){const e=jd(n);if(!e.S)if("F"===e.limitType)e.S=UF(e.path,e.collectionGroup,bE(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of bE(e))t.push(new Kd(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new qg(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new qg(e.startAt.position,!e.startAt.inclusive):null;e.S=UF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.S}const JZ={asc:"ASCENDING",desc:"DESCENDING"},ZZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class XZ{constructor(e,t){this.databaseId=e,this.F=t}}function EE(n){return ur(!!n),Gr.fromTimestamp(function(e){const t=da(e);return new Sr(t.seconds,t.nanos)}(n))}function SE(n,e){const t=function(i){const s=Pt.fromString(i);return ur(tP(s)),s}(e);if(t.get(1)!==n.databaseId.projectId)throw new G(ie,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(ie,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ht((ur((r=t).length>4&&"documents"===r.get(4)),r.popFirst(5)));var r}function ZF(n,e){return function(n,e){return(t=n,new Pt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function iX(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ZF(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ZF(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(BF(d.value))return{unaryFilter:{field:vc(d.field),op:"IS_NAN"}};if(VF(d.value))return{unaryFilter:{field:vc(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(BF(d.value))return{unaryFilter:{field:vc(d.field),op:"IS_NOT_NAN"}};if(VF(d.value))return{unaryFilter:{field:vc(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(d.field),op:oX(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:vc((u=c).field),direction:sX(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.F||dE(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function sX(n){return JZ[n]}function oX(n){return ZZ[n]}function vc(n){return{fieldPath:n.canonicalString()}}function tP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class lX extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.K=r,this.q=i,this.J=!1}X(){if(this.J)throw new G(vs,"The client has already been terminated.")}m(e,t,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.K.m(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Bg&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(bc,i.toString())})}T(e,t,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.K.T(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Bg&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(bc,i.toString())})}terminate(){this.J=!0}}function kE(){return(kE=D(function*(n,e){const t=jd(n),r=iX(t.q,_E(e));return(yield t.T("RunQuery",r.parent,{structuredQuery:r.structuredQuery})).filter(i=>!!i.document).map(i=>function(s,o,a){const l=SE(s,o.name),c=EE(o.updateTime),u=new Dr({mapValue:{fields:o.fields}});return Ui.newFoundDocument(l,c,u)}(t.q,i.document))})).apply(this,arguments)}const Qd=new Map;function lo(n){if(n._terminated)throw new G(vs,"The client has already been terminated.");if(!Qd.has(n)){ua("ComponentProvider","Initializing Datastore");const s=(e=n._databaseId,t=n.app.options.appId||"",r=n._persistenceKey,i=n._freezeSettings(),l=new FZ(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams),new LZ(l,fetch.bind(null))),o=function(n){return new XZ(n,!0)}(n._databaseId),a=function(l,c,u,d){return new lX(l,c,u,d)}(n._authCredentials,n._appCheckCredentials,s,o);Qd.set(n,a)}var l,e,t,r,i;return Qd.get(n)}class iP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new G(ie,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new G(ie,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(r,i,s,o){if(!0===i&&!0===o)throw new G(ie,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class co{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iP({}),this._settingsFrozen=!1,e instanceof _c?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new G(ie,'"projectId" not provided in firebase.initializeApp.');return new _c(i.options.projectId)}(e))}get app(){if(!this._app)throw new G(vs,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new G(vs,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new AZ;switch(t.type){case"gapi":const r=t.client;return ur(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new MZ(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new G(ie,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qd.get(e);t&&(ua("ComponentProvider","Removing Datastore"),Qd.delete(e),t.terminate())}(this),Promise.resolve()}}class dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Wr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class _i extends Wr{constructor(e,t,r){super(e,t,new fa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Ht(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function pa(n,e,...t){if(n=Ft(n),function(n,e,t){if(!t)throw new G(ie,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof co){const r=Pt.fromString(e,...t);return IF(r),new _i(n,null,r)}{if(!(n instanceof dn||n instanceof _i))throw new G(ie,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pt.fromString(e,...t));return IF(r),new _i(n.firestore,null,r)}}class ga{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new G(ie,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cc(Es.fromBase64String(e))}catch(t){throw new G(ie,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cc(Es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(ie,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(ie,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}const _X=new RegExp("[~\\*/\\[\\]]");function Jg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(ie,a+n+l)}class fP extends class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(function(n,e){return"string"==typeof e?function(n,e,t){if(e.search(_X)>=0)throw Jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ga(...e.split("."))._internalPath}catch(r){throw Jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof ga?e._internalPath:e._delegate._internalPath}("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}{data(){return super.data()}}class RE{constructor(e,t){this._docs=t,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return 0===this.docs.length}forEach(e,t){this._docs.forEach(e,t)}}function _a(n,...e){for(const t of e)n=t._apply(n);return n}class VE extends class{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){const r={};return Hd(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new xE(tn(e.latitude),tn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=PF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const t=da(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Pt.fromString(e);ur(tP(r));const i=new _c(r.get(1),r.get(3)),s=new Ht(r.popFirst(5));return i.isEqual(t)||Vg(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function wa(n){!function(r){if(HF(r)&&0===r.explicitOrderBy.length)throw new G(lE,"limitToLast() queries require specifying at least one orderBy() clause")}((n=bi(n,Wr))._query);const e=lo(n.firestore),t=new VE(n.firestore);return function(n,e){return kE.apply(this,arguments)}(e,n._query).then(r=>{const i=r.map(s=>new fP(n.firestore,t,s.key,s,n.converter));return HF(n._query)&&i.reverse(),new RE(n,i)})}(function(n){yc=n})(`${Lg}_lite`),la(new so("firestore/lite",(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=new co(t,new xZ(n.getProvider("auth-internal")),new OZ(n.getProvider("app-check-internal")));return e&&r._setSettings(e),r},"PUBLIC")),yi("firestore-lite","3.4.8",""),yi("firestore-lite","3.4.8","esm2017");class kX{constructor(e,t){this._delegate=e,this.firebase=t,Rg(e,new so("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),hF(this._delegate)))}_getService(e,t=aa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=aa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Rg(this._delegate,e)}_addOrOverwriteComponent(e){uF(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const vP=new Og("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),MX=function EP(){const n=function(n){const e={},t={__esModule:!0,initializeApp:function(c,u={}){const d=Xv(c,u);if(nF(e,d.name))return e[d.name];const h=new n(d,t);return e[d.name]=h,h},app:i,registerVersion:yi,setLogLevel:pF,onLog:fF,apps:null,SDK_VERSION:Lg,INTERNAL:{registerComponent:function(c){const u=c.name,d=u.replace("-compat","");if(la(c)&&"PUBLIC"===c.type){const h=(g=i())=>{if("function"!=typeof g[d])throw vP.create("invalid-app-argument",{appName:u});return g[d]()};void 0!==c.serviceProps&&Ld(h,c.serviceProps),t[d]=h,n.prototype[d]=function(...g){return this._getService.bind(this,u).apply(this,c.multipleInstances?g:[])}}return"PUBLIC"===c.type?t[d]:null},removeApp:function(c){delete e[c]},useAsService:function(c,u){return"serverAuth"===u?null:u},modularAPIs:de}};function i(c){if(!nF(e,c=c||aa))throw vP.create("no-app",{appName:c});return e[c]}return t.default=t,Object.defineProperty(t,"apps",{get:function(){return Object.keys(e).map(c=>e[c])}}),i.App=n,t}(kX);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:EP,extendNamespace:function(t){Ld(n,t)},createSubscribe:yJ,ErrorFactory:Og,deepExtend:Ld}),n}(),CP=new Pg("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){CP.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&CP.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const PX=MX;yi("@firebase/app-compat","0.1.22",void 0);var Y,RX="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Cs={},jE=jE||{},Ee=RX||self;function Xg(){}function $E(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var HE="closure_uid_"+(1e9*Math.random()>>>0),VX=0;function BX(n,e,t){return n.call.apply(n.bind,arguments)}function UX(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Sn(n,e,t){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BX:UX).apply(null,arguments)}function em(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Dn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function uo(){this.s=this.s,this.o=this.o}var $X={};uo.prototype.s=!1,uo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,HE)&&n[HE]||(n[HE]=++VX)}(this);delete $X[n]}},uo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},DP=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function TP(n){return Array.prototype.concat.apply([],arguments)}function zE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tm(n){return/^[\s\xa0]*$/.test(n)}var Xn,AP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Zn(n,e){return-1!=n.indexOf(e)}function qE(n,e){return n<e?-1:n>e?1:0}e:{var kP=Ee.navigator;if(kP){var xP=kP.userAgent;if(xP){Xn=xP;break e}}Xn=""}function GE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function IP(n){const e={};for(const t in n)e[t]=n[t];return e}var MP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<MP.length;s++)t=MP[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function WE(n){return WE[" "](n),n}WE[" "]=Xg;var nm,qX=Zn(Xn,"Opera"),Sc=Zn(Xn,"Trident")||Zn(Xn,"MSIE"),OP=Zn(Xn,"Edge"),KE=OP||Sc,FP=Zn(Xn,"Gecko")&&!(Zn(Xn.toLowerCase(),"webkit")&&!Zn(Xn,"Edge"))&&!(Zn(Xn,"Trident")||Zn(Xn,"MSIE"))&&!Zn(Xn,"Edge"),GX=Zn(Xn.toLowerCase(),"webkit")&&!Zn(Xn,"Edge");function PP(){var n=Ee.document;return n?n.documentMode:void 0}e:{var QE="",YE=function(){var n=Xn;return FP?/rv:([^\);]+)(\)|;)/.exec(n):OP?/Edge\/([\d\.]+)/.exec(n):Sc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):GX?/WebKit\/(\S+)/.exec(n):qX?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(YE&&(QE=YE?YE[1]:""),Sc){var JE=PP();if(null!=JE&&JE>parseFloat(QE)){nm=String(JE);break e}}nm=QE}var WX={};function KX(){return e=WX,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=AP(String(nm)).split("."),t=AP("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=qE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||qE(0==i[2].length,0==s[2].length)||qE(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n}();var e}var QX=Ee.document&&Sc&&(PP()||parseInt(nm,10))||void 0,YX=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ee.addEventListener("test",Xg,e),Ee.removeEventListener("test",Xg,e)}catch(t){}return n}();function Ln(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Zd(n,e){if(Ln.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(FP){e:{try{WE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JX[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zd.Z.h.call(this)}}Ln.prototype.h=function(){this.defaultPrevented=!0},Dn(Zd,Ln);var JX={2:"touch",3:"pen",4:"mouse"};Zd.prototype.h=function(){Zd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xd="closure_listenable_"+(1e6*Math.random()|0),ZX=0;function XX(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++ZX,this.ca=this.fa=!1}function rm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function im(n){this.src=n,this.g={},this.h=0}function XE(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=SP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function e0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}im.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=e0(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new XX(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var t0="closure_lm_"+(1e6*Math.random()|0),n0={};function LP(n,e,t,r,i){if(r&&r.once)return BP(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)LP(n,e[s],t,r,i);return null}return t=o0(t),n&&n[Xd]?n.N(e,t,Jd(r)?!!r.capture:!!r,i):VP(n,e,t,!1,r,i)}function VP(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Jd(i)?!!i.capture:!!i,a=i0(n);if(a||(n[t0]=a=new im(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function(){var e=tee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)YX||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(jP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function BP(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BP(n,e[s],t,r,i);return null}return t=o0(t),n&&n[Xd]?n.O(e,t,Jd(r)?!!r.capture:!!r,i):VP(n,e,t,!0,r,i)}function UP(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UP(n,e[s],t,r,i);else r=Jd(r)?!!r.capture:!!r,t=o0(t),n&&n[Xd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=e0(s=n.g[e],t,r,i))&&(rm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=i0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=e0(e,t,r,i)),(t=-1<n?e[n]:null)&&r0(t))}function r0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Xd])XE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(jP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=i0(e))?(XE(t,n),0==t.h&&(t.src=null,e[t0]=null)):rm(n)}}}function jP(n){return n in n0?n0[n]:n0[n]="on"+n}function tee(n,e){if(n.ca)n=!0;else{e=new Zd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&r0(n),n=t.call(r,e)}return n}function i0(n){return(n=n[t0])instanceof im?n:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function o0(n){return"function"==typeof n?n:(n[s0]||(n[s0]=function(e){return n.handleEvent(e)}),n[s0])}function hn(){uo.call(this),this.i=new im(this),this.P=this,this.I=null}function Tn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ln(e,n);else if(e instanceof Ln)e.target=e.target||n;else{var i=e;NP(e=new Ln(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=sm(o,r,!0,e)&&i}if(i=sm(o=e.g=n,r,!0,e)&&i,i=sm(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=sm(o=e.g=t[s],r,!1,e)&&i}function sm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,l=o.ia||o.src;o.fa&&XE(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Dn(hn,uo),hn.prototype[Xd]=!0,hn.prototype.removeEventListener=function(n,e,t,r){UP(this,n,e,t,r)},hn.prototype.M=function(){if(hn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)rm(t[r]);delete n.g[e],n.h--}}this.I=null},hn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},hn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var a0=Ee.JSON.stringify;function nee(){var n=HP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var c0,$P=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iee,n=>n.reset());class iee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function see(n){Ee.setTimeout(()=>{throw n},0)}function l0(n,e){c0||function(){var n=Ee.Promise.resolve(void 0);c0=function(){n.then(aee)}}(),u0||(c0(),u0=!0),HP.add(n,e)}var u0=!1,HP=new class{constructor(){this.h=this.g=null}add(e,t){const r=$P.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function aee(){for(var n;n=nee();){try{n.h.call(n.g)}catch(t){see(t)}var e=$P;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}u0=!1}function om(n,e){hn.call(this),this.h=n||1,this.g=e||Ee,this.j=Sn(this.kb,this),this.l=Date.now()}function d0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function h0(n,e,t){if("function"==typeof n)t&&(n=Sn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ee.setTimeout(n,e||0)}function zP(n){n.g=h0(()=>{n.g=null,n.i&&(n.i=!1,zP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Dn(om,hn),(Y=om.prototype).da=!1,Y.S=null,Y.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tn(this,"tick"),this.da&&(d0(this),this.start()))}},Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){om.Z.M.call(this),d0(this),delete this.g};class lee extends uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zP(this)}M(){super.M(),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(n){uo.call(this),this.h=n,this.g={}}Dn(eh,uo);var qP=[];function GP(n,e,t,r){Array.isArray(t)||(t&&(qP[0]=t.toString()),t=qP);for(var i=0;i<t.length;i++){var s=LP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function WP(n){GE(n.g,function(e,t){this.g.hasOwnProperty(t)&&r0(e)},n),n.g={}}function am(){this.g=!0}function Dc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return a0(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}eh.prototype.M=function(){eh.Z.M.call(this),WP(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},am.prototype.Aa=function(){this.g=!1},am.prototype.info=function(){};var Ea={},KP=null;function lm(){return KP=KP||new hn}function QP(n){Ln.call(this,Ea.Ma,n)}function th(n){const e=lm();Tn(e,new QP(e,n))}function YP(n,e){Ln.call(this,Ea.STAT_EVENT,n),this.stat=e}function er(n){const e=lm();Tn(e,new YP(e,n))}function JP(n,e){Ln.call(this,Ea.Na,n),this.size=e}function nh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){n()},e)}Ea.Ma="serverreachability",Dn(QP,Ln),Ea.STAT_EVENT="statevent",Dn(YP,Ln),Ea.Na="timingevent",Dn(JP,Ln);var cm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ZP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function f0(){}function eR(){}f0.prototype.h=null;var m0,rh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function p0(){Ln.call(this,"d")}function g0(){Ln.call(this,"c")}function um(){}function ih(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new eh(this),this.P=fee,this.W=new om(n=KE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tR}function tR(){this.i=null,this.g="",this.h=!1}Dn(p0,Ln),Dn(g0,Ln),Dn(um,f0),um.prototype.g=function(){return new XMLHttpRequest},um.prototype.i=function(){return{}},m0=new um;var fee=45e3,y0={},dm={};function b0(n,e,t){n.K=1,n.v=mm(Ss(e)),n.s=t,n.U=!0,nR(n,null)}function nR(n,e){n.F=Date.now(),sh(n),n.A=Ss(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),dR(t.h,"t",r),n.C=0,t=n.l.H,n.h=new tR,n.g=FR(n.l,t?e:null,!n.s),0<n.O&&(n.L=new lee(Sn(n.Ia,n,n.g),n.O)),GP(n.V,n.g,"readystatechange",n.gb),e=n.H?IP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),th(1),function(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function rR(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function iR(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=pee(n,t),i==dm){4==e&&(n.o=4,er(14),r=!1),Dc(n.j,n.m,null,"[Incomplete Response]");break}if(i==y0){n.o=4,er(15),Dc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Dc(n.j,n.m,i,null),_0(n,i)}rR(n)&&i!=dm&&i!=y0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,er(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),I0(e),e.L=!0,er(11))):(Dc(n.j,n.m,t,"[Invalid Chunked Response]"),Ca(n),oh(n))}function pee(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?dm:(t=Number(e.substring(t,r)),isNaN(t)?y0:(r+=1)+t>e.length?dm:(e=e.substr(r,t),n.C=r+t,e))}function sh(n){n.Y=Date.now()+n.P,sR(n,n.P)}function sR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nh(Sn(n.eb,n),e)}function hm(n){n.B&&(Ee.clearTimeout(n.B),n.B=null)}function oh(n){0==n.l.G||n.I||IR(n.l,n)}function Ca(n){hm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,d0(n.W),WP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||E0(t.i,n)))if(t.I=n.N,!n.J&&E0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=nh(Sn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Em(t),wm(t)}x0(t),er(18)}if(1>=pR(t.i)&&t.ka){try{t.ka()}catch(c){}t.ka=void 0}}else Ta(t,11)}else if((n.J||t.g==n)&&Em(t),!tm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];const u=c[3];null!=u&&(t.ma=u,t.h.info("VER="+t.ma));const d=c[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const g=n.g;if(g){const m=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;!s.g&&(Zn(m,"spdy")||Zn(m,"quic")||Zn(m,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(C0(s,s.h),s.h=null))}if(r.D){const b=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.sa=b,Et(r.F,r.D,b))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=OR(r,r.H?r.la:null,r.W),o.J){gR(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(hm(a),sh(a)),r.g=o}else kR(r);0<t.l.length&&vm(t)}else"stop"!=c[0]&&"close"!=c[0]||Ta(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ta(t,7):A0(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}th(4)}catch(c){}}function w0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($E(n)||"string"==typeof n)DP(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if($E(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;i=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if($E(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Tc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Tc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function v0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Sa(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Sa(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Sa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Y=ih.prototype).setTimeout=function(n){this.P=n},Y.gb=function(n){n=n.target;const e=this.L;e&&3==Ds(n)?e.l():this.Ia(n)},Y.Ia=function(n){try{if(n==this.g)e:{const u=Ds(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>u)&&(3!=u||KE||this.g&&(this.h.h||this.g.ga()||CR(this.g)))){this.I||4!=u||7==e||th(8==e||0>=d?3:2),hm(this);var t=this.g.ba();this.N=t;t:if(rR(this)){var r=CR(this.g);n="";var i=r.length,s=4==Ds(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ca(this),oh(this);var o="";break t}this.h.i=new Ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,er(12),Ca(this),oh(this);break e}Dc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_0(this,t)}this.U?(iR(this,u,o),KE&&this.i&&3==u&&(GP(this.V,this.W,"tick",this.fb),this.W.start())):(Dc(this.j,this.m,o,null),_0(this,o)),4==u&&Ca(this),this.i&&!this.I&&(4==u?IR(this.l,this):(this.i=!1,sh(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,er(12)):(this.o=0,er(13)),Ca(this),oh(this)}}}catch(u){}},Y.fb=function(){if(this.g){var n=Ds(this.g),e=this.g.ga();this.C<e.length&&(hm(this),iR(this,n,e),this.i&&4!=n&&sh(this))}},Y.cancel=function(){this.I=!0,Ca(this)},Y.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(th(3),er(17)),Ca(this),this.o=2,oh(this)):sR(this,this.Y-n)},(Y=Tc.prototype).R=function(){v0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Y.T=function(){return v0(this),this.g.concat()},Y.get=function(n,e){return Sa(this.h,n)?this.h[n]:e},Y.set=function(n,e){Sa(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Y.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var oR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Da(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Da){this.g=void 0!==e?e:n.g,fm(this,n.j),this.s=n.s,pm(this,n.i),gm(this,n.m),this.l=n.l,e=n.h;var t=new ch;t.i=e.i,e.g&&(t.g=new Tc(e.g),t.h=e.h),aR(this,t),this.o=n.o}else n&&(t=String(n).match(oR))?(this.g=!!e,fm(this,t[1]||"",!0),this.s=ah(t[2]||""),pm(this,t[3]||"",!0),gm(this,t[4]),this.l=ah(t[5]||"",!0),aR(this,t[6]||"",!0),this.o=ah(t[7]||"")):(this.g=!!e,this.h=new ch(null,this.g))}function Ss(n){return new Da(n)}function fm(n,e,t){n.j=t?ah(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function pm(n,e,t){n.i=t?ah(e,!0):e}function gm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function aR(n,e,t){e instanceof ch?(n.h=e,function(n,e){e&&!n.j&&(ho(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(cR(this,r),dR(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=lh(e,Eee)),n.h=new ch(e,n.g))}function Et(n,e,t){n.h.set(e,t)}function mm(n){return Et(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ah(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_ee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _ee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Da.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lh(e,lR,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lh(e,lR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(lh(t,"/"==t.charAt(0)?vee:wee,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lh(t,Cee)),n.join("")};var lR=/[#\/\?@]/g,wee=/[#\?:]/g,vee=/[#\?]/g,Eee=/[#\?@]/g,Cee=/#/g;function ch(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ho(n){n.g||(n.g=new Tc,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cR(n,e){ho(n),e=Ac(n,e),Sa(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Sa((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&v0(n)))}function uR(n,e){return ho(n),e=Ac(n,e),Sa(n.g.h,e)}function dR(n,e,t){cR(n,e),0<t.length&&(n.i=null,n.g.set(Ac(n,e),zE(t)),n.h+=t.length)}function Ac(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hR(n){this.l=n||Tee,n=Ee.PerformanceNavigationTiming?0<(n=Ee.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ee.g&&Ee.g.Ea&&Ee.g.Ea()&&Ee.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=ch.prototype).add=function(n,e){ho(this),this.i=null,n=Ac(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(n,e){ho(this),this.g.forEach(function(t,r){DP(t,function(i){n.call(e,i,r,this)},this)},this)},Y.T=function(){ho(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},Y.R=function(n){ho(this);var e=[];if("string"==typeof n)uR(this,n)&&(e=TP(e,this.g.get(Ac(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=TP(e,n[t])}return e},Y.set=function(n,e){return ho(this),this.i=null,uR(this,n=Ac(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Y.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var Tee=10;function fR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pR(n){return n.h?1:n.g?n.g.size:0}function E0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function C0(n,e){n.g?n.g.add(e):n.h=e}function gR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mR(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return zE(n.i)}function S0(){}function Aee(){this.g=new S0}function kee(n,e,t){const r=t||"";try{w0(n,function(i,s){let o=i;Jd(i)&&(o=a0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ym(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function uh(n){this.l=n.$b||null,this.j=n.ib||!1}function bm(n,e){hn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=D0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hR.prototype.cancel=function(){if(this.i=mR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},S0.prototype.stringify=function(n){return Ee.JSON.stringify(n,void 0)},S0.prototype.parse=function(n){return Ee.JSON.parse(n,void 0)},Dn(uh,f0),uh.prototype.g=function(){return new bm(this.l,this.j)},uh.prototype.i=function(n){return function(){return n}}({}),Dn(bm,hn);var D0=0;function yR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function dh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hh(n)}function hh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Y=bm.prototype).open=function(n,e){if(this.readyState!=D0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hh(this)},Y.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dh(this)),this.readyState=D0},Y.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hh(this)),this.g&&(this.readyState=3,hh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ee.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Y.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dh(this):hh(this),3==this.readyState&&yR(this)}},Y.Ua=function(n){this.g&&(this.response=this.responseText=n,dh(this))},Y.Ta=function(n){this.g&&(this.response=n,dh(this))},Y.ha=function(){this.g&&dh(this)},Y.setRequestHeader=function(n,e){this.v.append(n,e)},Y.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Iee=Ee.JSON.parse;function zt(n){hn.call(this),this.headers=new Tc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bR,this.K=this.L=!1}Dn(zt,hn);var bR="",Mee=/^https?$/i,Nee=["POST","PUT"];function Fee(n){return"content-type"==n.toLowerCase()}function _R(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wR(n),_m(n)}function wR(n){n.D||(n.D=!0,Tn(n,"complete"),Tn(n,"error"))}function vR(n){if(n.h&&void 0!==jE&&(!n.C[1]||4!=Ds(n)||2!=n.ba()))if(n.v&&4==Ds(n))h0(n.Fa,0,n);else if(Tn(n,"readystatechange"),4==Ds(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(oR)[1]||null;if(!i&&Ee.self&&Ee.self.location){var s=Ee.self.location.protocol;i=s.substr(0,s.length-1)}r=!Mee.test(i?i.toLowerCase():"")}t=r}if(t)Tn(n,"complete"),Tn(n,"success");else{n.m=6;try{var o=2<Ds(n)?n.g.statusText:""}catch(l){o=""}n.j=o+" ["+n.ba()+"]",wR(n)}}finally{_m(n)}}}function _m(n,e){if(n.g){ER(n);const t=n.g,r=n.C[0]?Xg:null;n.g=null,n.C=null,e||Tn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function ER(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ee.clearTimeout(n.A),n.A=null)}function Ds(n){return n.g?n.g.readyState:0}function CR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function T0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return GE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Et(n,e,t))}function fh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SR(n){this.za=0,this.l=[],this.h=new am,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fh("baseRetryDelayMs",5e3,n),this.$a=fh("retryDelaySeedMs",1e4,n),this.Ya=fh("forwardChannelMaxRetries",2,n),this.ra=fh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new hR(n&&n.concurrentRequestLimit),this.Ca=new Aee,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function A0(n){if(DR(n),3==n.G){var e=n.V++,t=Ss(n.F);Et(t,"SID",n.J),Et(t,"RID",e),Et(t,"TYPE","terminate"),ph(n,t),(e=new ih(n,n.h,e,void 0)).K=2,e.v=mm(Ss(t)),t=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(t=Ee.navigator.sendBeacon(e.v.toString(),"")),!t&&Ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=FR(e.l,null),e.g.ea(e.v)),e.F=Date.now(),sh(e)}NR(n)}function wm(n){n.g&&(I0(n),n.g.cancel(),n.g=null)}function DR(n){wm(n),n.u&&(Ee.clearTimeout(n.u),n.u=null),Em(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ee.clearTimeout(n.m),n.m=null)}function k0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&vm(n)}function vm(n){fR(n.i)||n.m||(n.m=!0,l0(n.Ha,n),n.C=0)}function TR(n,e){var t;t=e?e.m:n.V++;const r=Ss(n.F);Et(r,"SID",n.J),Et(r,"RID",t),Et(r,"AID",n.U),ph(n,r),n.o&&n.s&&T0(r,n.o,n.s),t=new ih(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=AR(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),C0(n.i,t),b0(t,r,e)}function ph(n,e){n.j&&w0({},function(t,r){Et(e,r,t)})}function AR(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Sn(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{kee(u,o,"req"+c+"_")}catch(d){r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function kR(n){n.g||n.u||(n.Y=1,l0(n.Ga,n),n.A=0)}function x0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=nh(Sn(n.Ga,n),MR(n,n.A)),n.A++,0))}function I0(n){null!=n.B&&(Ee.clearTimeout(n.B),n.B=null)}function xR(n){n.g=new ih(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ss(n.oa);Et(e,"RID","rpc"),Et(e,"SID",n.J),Et(e,"CI",n.N?"0":"1"),Et(e,"AID",n.U),ph(n,e),Et(e,"TYPE","xmlhttp"),n.o&&n.s&&T0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=mm(Ss(e)),t.s=null,t.U=!0,nR(t,n)}function Em(n){null!=n.v&&(Ee.clearTimeout(n.v),n.v=null)}function IR(n,e){var t=null;if(n.g==e){Em(n),I0(n),n.g=null;var r=2}else{if(!E0(n.i,e))return;t=e.D,gR(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Tn(r=lm(),new JP(r,t,e,i)),vm(n)}else kR(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(pR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=nh(Sn(n.Ha,n,e),MR(n,n.C)),n.C++,0)))}(n,e)||2==r&&x0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ta(n,5);break;case 4:Ta(n,10);break;case 3:Ta(n,6);break;default:Ta(n,2)}}function MR(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ta(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Sn(n.jb,n);t||(t=new Da("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||fm(t,"https"),mm(t)),function(n,e){const t=new am;if(Ee.Image){const r=new Image;r.onload=em(ym,t,r,"TestLoadImage: loaded",!0,e),r.onerror=em(ym,t,r,"TestLoadImage: error",!1,e),r.onabort=em(ym,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=em(ym,t,r,"TestLoadImage: timeout",!1,e),Ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else er(2);n.G=0,n.j&&n.j.va(e),NR(n),DR(n)}function NR(n){n.G=0,n.I=-1,n.j&&((0!=mR(n.i).length||0!=n.l.length)&&(n.i.i.length=0,zE(n.l),n.l.length=0),n.j.ua())}function OR(n,e,t){let r=function(n){return n instanceof Da?Ss(n):new Da(n,void 0)}(t);if(""!=r.i)e&&pm(r,e+"."+r.i),gm(r,r.m);else{const i=Ee.location;r=function(n,e,t,r){var i=new Da(null,void 0);return n&&fm(i,n),e&&pm(i,e),t&&gm(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&GE(n.aa,function(i,s){Et(r,s,i)}),t=n.sa,(e=n.D)&&t&&Et(r,e,t),Et(r,"VER",n.ma),ph(n,r),r}function FR(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zt(t&&n.Ba&&!n.qa?new uh({ib:!0}):n.qa)).L=n.H,e}function PR(){}function Cm(){if(Sc&&!(10<=Number(QX)))throw Error("Environmental error: no available transport.")}function Tr(n,e){hn.call(this),this.g=new SR(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!tm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kc(this)}function RR(n){p0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function LR(){g0.call(this),this.status=1}function kc(n){this.g=n}(Y=zt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():m0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:m0),this.g.onreadystatechange=Sn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void _R(this,s)}n=t||"";const i=new Tc(this.headers);r&&w0(r,function(s,o){i.set(o,s)}),r=function(n){e:{var e=Fee;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ee.FormData&&n instanceof Ee.FormData,!(0<=SP(Nee,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ER(this),0<this.B&&((this.K=function(n){return Sc&&KX()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.pa,this)):this.A=h0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){_R(this,s)}},Y.pa=function(){void 0!==jE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))},Y.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Tn(this,"complete"),Tn(this,"abort"),_m(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),zt.Z.M.call(this)},Y.Fa=function(){this.s||(this.F||this.v||this.l?vR(this):this.cb())},Y.cb=function(){vR(this)},Y.ba=function(){try{return 2<Ds(this)?this.g.status:-1}catch(n){return-1}},Y.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Y.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Iee(e)}},Y.Da=function(){return this.m},Y.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=SR.prototype).ma=8,Y.G=1,Y.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Y.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ih(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=IP(s),NP(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=AR(this,i,e),Et(t=Ss(this.F),"RID",n),Et(t,"CVER",22),this.D&&Et(t,"X-HTTP-Session-Id",this.D),ph(this,t),this.o&&s&&T0(t,this.o,s),C0(this.i,i),this.Ra&&Et(t,"TYPE","init"),this.ja?(Et(t,"$req",e),Et(t,"SID","null"),i.$=!0,b0(i,t,null)):b0(i,t,e),this.G=2}}else 3==this.G&&(n?TR(this,n):0==this.l.length||fR(this.i)||TR(this))},Y.Ga=function(){if(this.u=null,xR(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=nh(Sn(this.bb,this),n)}},Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,er(10),wm(this),xR(this))},Y.ab=function(){null!=this.v&&(this.v=null,wm(this),x0(this),er(19))},Y.jb=function(n){n?(this.h.info("Successfully pinged google.com"),er(2)):(this.h.info("Failed to ping google.com"),er(1))},(Y=PR.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Oa=function(){},Cm.prototype.g=function(n,e){return new Tr(n,e)},Dn(Tr,hn),Tr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),l0(Sn(n.hb,n,e))),er(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=OR(n,null,n.W),vm(n)},Tr.prototype.close=function(){A0(this.g)},Tr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,k0(this.g,e)}else this.v?((e={}).__data__=a0(n),k0(this.g,e)):k0(this.g,n)},Tr.prototype.M=function(){this.g.j=null,delete this.j,A0(this.g),delete this.g,Tr.Z.M.call(this)},Dn(RR,p0),Dn(LR,g0),Dn(kc,PR),kc.prototype.xa=function(){Tn(this.g,"a")},kc.prototype.wa=function(n){Tn(this.g,new RR(n))},kc.prototype.va=function(n){Tn(this.g,new LR(n))},kc.prototype.ua=function(){Tn(this.g,"b")},Cm.prototype.createWebChannel=Cm.prototype.g,Tr.prototype.send=Tr.prototype.u,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,cm.NO_ERROR=0,cm.TIMEOUT=8,cm.HTTP_ERROR=6,ZP.COMPLETE="complete",eR.EventType=rh,rh.OPEN="a",rh.CLOSE="b",rh.ERROR="c",rh.MESSAGE="d",hn.prototype.listen=hn.prototype.N,zt.prototype.listenOnce=zt.prototype.O,zt.prototype.getLastError=zt.prototype.La,zt.prototype.getLastErrorCode=zt.prototype.Da,zt.prototype.getStatus=zt.prototype.ba,zt.prototype.getResponseJson=zt.prototype.Qa,zt.prototype.getResponseText=zt.prototype.ga,zt.prototype.send=zt.prototype.ea;var Lee=Cs.createWebChannelTransport=function(){return new Cm},Vee=Cs.getStatEventTarget=function(){return lm()},M0=Cs.ErrorCode=cm,Bee=Cs.EventType=ZP,Uee=Cs.Event=Ea,VR=Cs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jee=Cs.FetchXmlHttpFactory=uh,Sm=Cs.WebChannel=eR,$ee=Cs.XhrIo=zt;const BR="@firebase/firestore";class An{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let xc="9.6.11";const fo=new Pg("@firebase/firestore");function N0(){return fo.logLevel}function F(n,...e){if(fo.logLevel<=Re.DEBUG){const t=e.map(O0);fo.debug(`Firestore (${xc}): ${n}`,...t)}}function qt(n,...e){if(fo.logLevel<=Re.ERROR){const t=e.map(O0);fo.error(`Firestore (${xc}): ${n}`,...t)}}function gh(n,...e){if(fo.logLevel<=Re.WARN){const t=e.map(O0);fo.warn(`Firestore (${xc}): ${n}`,...t)}}function O0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ee(n="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+n;throw qt(e),new Error(e)}function ye(n,e){n||ee()}function U(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends mc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class UR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class Gee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wee{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(D(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye("string"==typeof r.accessToken),new UR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(null===e||"string"==typeof e),new An(e)}}class Kee{constructor(e,t,r){this.type="FirstParty",this.user=An.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Qee{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Kee(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yee{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye("string"==typeof t.token),this.p=t.token,new jR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Jee(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ar.A=-1;class $R{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Jee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(n,e){return n<e?-1:n>e?1:0}function Ic(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function HR(n){return n+"\0"}class Rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new N(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new N(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new N(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Rt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Rt(0,0))}static max(){return new pe(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function zR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mh{constructor(e,t,r){void 0===t?t=0:t>e.length&&ee(),void 0===r?r=e.length-t:r>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===mh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $e extends mh{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $e(t)}static emptyPath(){return new $e([])}}const Zee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends mh{construct(e,t,r){return new pn(e,t,r)}static isValidIdentifier(e){return Zee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new N(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new N(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new N(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new N(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(t)}static emptyPath(){return new pn([])}}class Mc{constructor(e){this.fields=e,e.sort(pn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new nn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const ete=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(n){if(ye(!!n),"string"==typeof n){let e=0;const t=ete.exec(n);if(ye(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ka(n){return"string"==typeof n?nn.fromBase64String(n):nn.fromUint8Array(n)}function F0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function GR(n){const e=n.mapValue.fields.__previous_value__;return F0(e)?GR(e):e}function yh(n){const e=po(n.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}class tte{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ts{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ts("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ts&&e.projectId===this.projectId&&e.database===this.database}}function xa(n){return null==n}function bh(n){return 0===n&&1/n==-1/0}function WR(n){return"number"==typeof n&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class V{constructor(e){this.path=e}static fromPath(e){return new V($e.fromString(e))}static fromName(e){return new V($e.fromString(e).popFirst(5))}static empty(){return new V($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new $e(e.slice()))}}const KR={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},QR={nullValue:"NULL_VALUE"};function Ia(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?F0(n)?4:XR(n)?9:10:ee()}function ji(n,e){if(n===e)return!0;const t=Ia(n);if(t!==Ia(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yh(n).isEqual(yh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=po(r.timestampValue),o=po(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ka(n.bytesValue).isEqual(ka(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return It(r.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(r.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return It(r.integerValue)===It(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=It(r.doubleValue),o=It(i.doubleValue);return s===o?bh(s)===bh(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ic(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zR(s)!==zR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ji(s[a],o[a])))return!1;return!0}(n,e);default:return ee()}var i}function _h(n,e){return void 0!==(n.values||[]).find(t=>ji(t,e))}function go(n,e){if(n===e)return 0;const t=Ia(n),r=Ia(e);if(t!==r)return Ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=It(i.integerValue||i.doubleValue),a=It(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return YR(n.timestampValue,e.timestampValue);case 4:return YR(yh(n),yh(e));case 5:return Ae(n.stringValue,e.stringValue);case 6:return function(i,s){const o=ka(i),a=ka(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Ae(o[l],a[l]);if(0!==c)return c}return Ae(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ae(It(i.latitude),It(s.latitude));return 0!==o?o:Ae(It(i.longitude),It(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=go(o[l],a[l]);if(c)return c}return Ae(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Ae(a[u],c[u]);if(0!==d)return d;const h=go(o[a[u]],l[c[u]]);if(0!==h)return h}return Ae(a.length,c.length)}(n.mapValue,e.mapValue);default:throw ee()}}function YR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ae(n,e);const t=po(n),r=po(e),i=Ae(t.seconds,r.seconds);return 0!==i?i:Ae(t.nanos,r.nanos)}function Nc(n){return P0(n)}function P0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=po(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ka(n.bytesValue).toBase64():"referenceValue"in n?V.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=P0(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${P0(r.fields[a])}`;return s+"}"}(n.mapValue):ee();var e}function Ma(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function R0(n){return!!n&&"integerValue"in n}function wh(n){return!!n&&"arrayValue"in n}function JR(n){return!!n&&"nullValue"in n}function ZR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dm(n){return!!n&&"mapValue"in n}function vh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function nte(n){return"nullValue"in n?QR:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ma(Ts.empty(),V.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ee()}function rte(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ma(Ts.empty(),V.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?KR:ee()}function eL(n,e){return void 0===n?e:void 0===e||go(n,e)>0?n:e}function tL(n,e){return void 0===n?e:void 0===e||go(n,e)<0?n:e}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vh(t)}setAll(e){let t=pn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=vh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Dm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Aa(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vn(vh(this.value))}}function nL(n){const e=[];return Aa(n.fields,(t,r)=>{const i=new pn([t]);if(Dm(r)){const s=nL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mc(e)}class mt{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new mt(e,0,pe.min(),pe.min(),Vn.empty(),0)}static newFoundDocument(e,t,r){return new mt(e,1,t,pe.min(),r,0)}static newNoDocument(e,t){return new mt(e,2,t,pe.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,pe.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function L0(n){return n.fields.find(e=>2===e.kind)}function Na(n){return n.fields.filter(e=>2!==e.kind)}Tm.UNKNOWN_ID=-1;class Am{constructor(e,t){this.fieldPath=e,this.kind=t}}class Eh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Eh(0,As.min())}}function rL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(1e9===r?new Rt(t+1,0):new Rt(t,r));return new As(i,V.empty(),e)}function ite(n){return new As(n.readTime,n.key,-1)}class As{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new As(pe.min(),V.empty(),-1)}static max(){return new As(pe.max(),V.empty(),-1)}}function ste(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=V.comparator(n.documentKey,e.documentKey),0!==t?t:Ae(n.largestBatchId,e.largestBatchId))}class ote{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function iL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new ote(n,e,t,r,i,s,o)}function Oa(n){const e=U(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Nc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nc(r)).join(",")),e.P=t}return e.P}function Ch(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!gte(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ji(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cL(n.startAt,e.startAt)&&cL(n.endAt,e.endAt)}function km(n){return V.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xm(n,e){return n.filters.filter(t=>t instanceof kn&&t.field.isEqual(e))}function sL(n,e,t){let r,i=!0;for(const s of xm(n,e)){let o,a=!0;switch(s.op){case"<":case"<=":o=nte(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=QR}eL(r,o)===o&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];eL(r,o)===o&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function oL(n,e,t){let r,i=!0;for(const s of xm(n,e)){let o,a=!0;switch(s.op){case">=":case">":o=rte(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=KR}tL(r,o)===o&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];tL(r,o)===o&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class kn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new lte(e,t,r):"array-contains"===t?new dte(e,r):"in"===t?new hte(e,r):"not-in"===t?new fte(e,r):"array-contains-any"===t?new pte(e,r):new kn(e,t,r)}static V(e,t,r){return"in"===t?new cte(e,r):new ute(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(go(t,this.value)):null!==t&&Ia(this.value)===Ia(t)&&this.v(go(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ee()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lte extends kn{constructor(e,t,r){super(e,t,r),this.key=V.fromName(r.referenceValue)}matches(e){const t=V.comparator(e.key,this.key);return this.v(t)}}class cte extends kn{constructor(e,t){super(e,"in",t),this.keys=aL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ute extends kn{constructor(e,t){super(e,"not-in",t),this.keys=aL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>V.fromName(r.referenceValue))}class dte extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wh(t)&&_h(t.arrayValue,this.value)}}class hte extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_h(this.value.arrayValue,t)}}class fte extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_h(this.value.arrayValue,t)}}class pte extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_h(this.value.arrayValue,r))}}class mo{constructor(e,t){this.position=e,this.inclusive=t}}class Oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function gte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function lL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?V.comparator(V.fromName(o.referenceValue),t.key):go(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function cL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}class ks{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null}}function uL(n,e,t,r,i,s,o,a){return new ks(n,e,t,r,i,s,o,a)}function Fc(n){return new ks(n)}function Im(n){return!xa(n.limit)&&"F"===n.limitType}function Mm(n){return!xa(n.limit)&&"L"===n.limitType}function V0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function B0(n){for(const e of n.filters)if(e.S())return e.field;return null}function U0(n){return null!==n.collectionGroup}function Pc(n){const e=U(n);if(null===e.D){e.D=[];const t=B0(e),r=V0(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Oc(t)),e.D.push(new Oc(pn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Oc(pn.keyField(),s))}}}return e.D}function Kr(n){const e=U(n);if(!e.C)if("F"===e.limitType)e.C=iL(e.path,e.collectionGroup,Pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Pc(e))t.push(new Oc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new mo(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new mo(e.startAt.position,!e.startAt.inclusive):null;e.C=iL(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function dL(n,e,t){return new ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return Ch(Kr(n),Kr(e))&&n.limitType===e.limitType}function hL(n){return`${Oa(Kr(n))}|lt:${n.limitType}`}function j0(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Nc(r.value)}`;var r}).join(", ")}]`),xa(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Nc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Nc(t)).join(",")),`Target(${e})`}(Kr(n))}; limitType=${n.limitType})`}function $0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):V.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=lL(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Pc(t),r)||t.endAt&&!function(i,s,o){const a=lL(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Pc(t),r)));var t,r}function fL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pL(n){return(e,t)=>{let r=!1;for(const i of Pc(n)){const s=mte(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function mte(n,e,t){const r=n.field.isKeyField()?V.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?go(a,l):ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}function gL(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function mL(n){return{integerValue:""+n}}function yL(n,e){return WR(e)?mL(e):gL(n,e)}class Nm{constructor(){this._=void 0}}function yte(n,e,t){return n instanceof Rc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Fa?_L(n,e):n instanceof Pa?wL(n,e):function(r,i){const s=bL(r,i),o=vL(s)+vL(r.k);return R0(s)&&R0(r.k)?mL(o):gL(r.M,o)}(n,e)}function bte(n,e,t){return n instanceof Fa?_L(n,e):n instanceof Pa?wL(n,e):t}function bL(n,e){return n instanceof Lc?R0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Rc extends Nm{}class Fa extends Nm{constructor(e){super(),this.elements=e}}function _L(n,e){const t=EL(e);for(const r of n.elements)t.some(i=>ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class Pa extends Nm{constructor(e){super(),this.elements=e}}function wL(n,e){let t=EL(e);for(const r of n.elements)t=t.filter(i=>!ji(i,r));return{arrayValue:{values:t}}}class Lc extends Nm{constructor(e,t){super(),this.M=e,this.k=t}}function vL(n){return It(n.integerValue||n.doubleValue)}function EL(n){return wh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dh{constructor(e,t){this.field=e,this.transform=t}}class wte{constructor(e,t){this.version=e,this.transformResults=t}}class Gt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gt}static exists(e){return new Gt(void 0,e)}static updateTime(e){return new Gt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Om(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fm{}function vte(n,e,t){n instanceof Th?function(r,i,s){const o=r.value.clone(),a=TL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ra?function(r,i,s){if(!Om(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=TL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(DL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function H0(n,e,t){var i;n instanceof Th?function(r,i,s){if(!Om(r.precondition,i))return;const o=r.value.clone(),a=AL(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(SL(i),o).setHasLocalMutations()}(n,e,t):n instanceof Ra?function(r,i,s){if(!Om(r.precondition,i))return;const o=AL(r.fieldTransforms,s,i),a=i.data;a.setAll(DL(r)),a.setAll(o),i.convertToFoundDocument(SL(i),a).setHasLocalMutations()}(n,e,t):Om(n.precondition,i=e)&&i.convertToNoDocument(pe.min())}function Ete(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=bL(r.transform,i||null);null!=s&&(null==t&&(t=Vn.empty()),t.set(r.field,s))}return t||null}function CL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ic(t,r,(i,s)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fa&&r instanceof Fa||t instanceof Pa&&r instanceof Pa?Ic(t.elements,r.elements,ji):t instanceof Lc&&r instanceof Lc?ji(t.k,r.k):t instanceof Rc&&r instanceof Rc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function SL(n){return n.isFoundDocument()?n.version:pe.min()}class Th extends Fm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ra extends Fm{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function DL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function TL(n,e,t){const r=new Map;ye(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bte(o,a,t[i]))}return r}function AL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,yte(s,o,e))}return r}class Ah extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class z0 extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Cte{constructor(e){this.count=e}}var Wt,He;function kL(n){switch(n){default:return ee();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function xL(n){if(void 0===n)return qt("GRPC error has no .code"),C.UNKNOWN;switch(n){case Wt.OK:return C.OK;case Wt.CANCELLED:return C.CANCELLED;case Wt.UNKNOWN:return C.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return C.INTERNAL;case Wt.UNAVAILABLE:return C.UNAVAILABLE;case Wt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Wt.NOT_FOUND:return C.NOT_FOUND;case Wt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Wt.ABORTED:return C.ABORTED;case Wt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Wt.DATA_LOSS:return C.DATA_LOSS;default:return ee()}}(He=Wt||(Wt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";class yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qR(this.inner)}size(){return this.innerSize}}class Lt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new Lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:xn.RED,this.left=null!=i?i:xn.EMPTY,this.right=null!=s?s:xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new xn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1,xn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(n,e,t,r,i){return this}insert(n,e,t){return new xn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IL(this.data.getIterator())}getIteratorFrom(e){return new IL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class IL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vc(n){return n.hasNext()?n.getNext():void 0}const Ste=new Lt(V.comparator);function Qr(){return Ste}const Dte=new Lt(V.comparator);function q0(){return Dte}function kh(){return new yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tte=new Lt(V.comparator),Ate=new yt(V.comparator);function Xe(...n){let e=Ate;for(const t of n)e=e.add(t);return e}const kte=new yt(Ae);function Rm(){return kte}class xh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,t)),new xh(pe.min(),r,Rm(),Qr(),Xe())}}class Ih{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ih(nn.EMPTY_BYTE_STRING,t,Xe(),Xe(),Xe())}}class Lm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class ML{constructor(e,t){this.targetId=e,this.$=t}}class NL{constructor(e,t,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class OL{constructor(){this.B=0,this.L=PL(),this.U=nn.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Xe(),t=Xe(),r=Xe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Ih(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=PL()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class xte{constructor(e){this.nt=e,this.st=new Map,this.it=Qr(),this.rt=FL(),this.ot=new yt(Ae)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(km(s))if(0===r){const o=new V(s.path);this.ct(t,o,mt.newNoDocument(o,pe.min()))}else ye(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&km(a.target)){const l=new V(a.target.path);null!==this.it.get(l)||this.It(o,l)||this.ct(o,l,mt.newNoDocument(l,e))}s.j&&(t.set(o,s.H()),s.J())}});let r=Xe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.wt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new xh(e,t,this.ot,this.it,r);return this.it=Qr(),this.rt=FL(),this.ot=new yt(Ae),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new OL,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new yt(Ae),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||F("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new OL),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function FL(){return new Lt(V.comparator)}function PL(){return new Lt(V.comparator)}const Ite={asc:"ASCENDING",desc:"DESCENDING"},Mte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Nte{constructor(e,t){this.databaseId=e,this.N=t}}function Mh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RL(n,e){return n.N?e.toBase64():e.toUint8Array()}function Ote(n,e){return Mh(n,e.toTimestamp())}function gn(n){return ye(!!n),pe.fromTimestamp(function(e){const t=po(e);return new Rt(t.seconds,t.nanos)}(n))}function G0(n,e){return(t=n,new $e(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function LL(n){const e=$e.fromString(n);return ye(GL(e)),e}function Nh(n,e){return G0(n.databaseId,e.path)}function $i(n,e){const t=LL(e);if(t.get(1)!==n.databaseId.projectId)throw new N(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new N(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new V(BL(t))}function W0(n,e){return G0(n.databaseId,e)}function VL(n){const e=LL(n);return 4===e.length?$e.emptyPath():BL(e)}function Oh(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BL(n){return ye(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function UL(n,e,t){return{name:Nh(n,e),fields:t.value.mapValue.fields}}function jL(n,e,t){const r=$i(n,e.name),i=gn(e.updateTime),s=new Vn({mapValue:{fields:e.fields}}),o=mt.newFoundDocument(r,i,s);return t&&o.setHasCommittedMutations(),t?o.setHasCommittedMutations():o}function Fh(n,e){let t;if(e instanceof Th)t={update:UL(n,e.key,e.value)};else if(e instanceof Ah)t={delete:Nh(n,e.key)};else if(e instanceof Ra)t={update:UL(n,e.key,e.data),updateMask:$te(e.fieldMask)};else{if(!(e instanceof z0))return ee();t={verify:Nh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Pa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Lc)return{fieldPath:s.field.canonicalString(),increment:o.k};throw ee()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ote(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ee()),t;var i}function K0(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Gt.updateTime(gn(i.updateTime)):void 0!==i.exists?Gt.exists(i.exists):Gt.none():Gt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;"setToServerValue"in o?(ye("REQUEST_TIME"===o.setToServerValue),a=new Rc):"appendMissingElements"in o?a=new Fa(o.appendMissingElements.values||[]):"removeAllFromArray"in o?a=new Pa(o.removeAllFromArray.values||[]):"increment"in o?a=new Lc(s,o.increment):ee();const l=pn.fromServerFormat(o.fieldPath);return new Dh(l,a)}(n,i)):[];var i;if(e.update){const i=$i(n,e.update.name),s=new Vn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Mc((e.updateMask.fieldPaths||[]).map(c=>pn.fromServerFormat(c)));return new Ra(i,s,o,t,r)}return new Th(i,s,t,r)}if(e.delete){const i=$i(n,e.delete);return new Ah(i,t)}if(e.verify){const i=$i(n,e.verify);return new z0(i,t)}return ee()}function $L(n,e){return{documents:[W0(n,e.path)]}}function HL(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=W0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=W0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(ZR(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NAN"}};if(JR(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(ZR(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NOT_NAN"}};if(JR(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(d.field),op:Bte(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Bc((u=c).field),direction:Vte(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.N||xa(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function zL(n){let e=VL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ye(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=qL(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Oc(Uc((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,xa(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new mo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new mo(u.values||[],!u.before)}(t.endAt)),uL(e,i,o,s,a,"F",l,c)}function qL(n){return n?void 0!==n.unaryFilter?[jte(n)]:void 0!==n.fieldFilter?[Ute(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>qL(e)).reduce((e,t)=>e.concat(t)):ee():[]}function Vte(n){return Ite[n]}function Bte(n){return Mte[n]}function Bc(n){return{fieldPath:n.canonicalString()}}function Uc(n){return pn.fromServerFormat(n.fieldPath)}function Ute(n){return kn.create(Uc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}function jte(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Uc(n.unaryFilter.field);return kn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Uc(n.unaryFilter.field);return kn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uc(n.unaryFilter.field);return kn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Uc(n.unaryFilter.field);return kn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}function $te(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function tr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=WL(e)),e=Hte(n.get(t),e);return WL(e)}function Hte(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function WL(n){return n+"\x01\x01"}function Hi(n){const e=n.length;if(ye(e>=2),2===e)return ye("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$e.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&ee(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:ee()}s=o+2}return new $e(r)}const KL=["userId","batchId"];function Vm(n,e){return[n,tr(e)]}function QL(n,e,t){return[n,tr(e),t]}const zte={},qte=["prefixPath","collectionGroup","readTime","documentId"],Gte=["prefixPath","collectionGroup","documentId"],Wte=["collectionGroup","readTime","prefixPath","documentId"],Kte=["canonicalId","targetId"],Qte=["targetId","path"],Yte=["path","targetId"],Jte=["collectionId","parent"],Zte=["indexId","uid"],Xte=["uid","sequenceNumber"],ene=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tne=["indexId","uid","orderedDocumentKey"],nne=["userId","collectionPath","documentId"],rne=["userId","collectionPath","largestBatchId"],ine=["userId","collectionGroup","largestBatchId"],YL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sne=[...YL,"documentOverlays"],JL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],one=[...JL,"indexConfiguration","indexState","indexEntries"],ZL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof S?t:S.resolve(t)}catch(t){return S.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):S.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):S.reject(t)}static resolve(e){return new S((t,r)=>{t(e)})}static reject(e){return new S((t,r)=>{r(e)})}static waitFor(e){return new S((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=S.resolve(!1);for(const r of e)t=t.next(i=>i?S.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}class Bm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new fn,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ph(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=Q0(r.target.error);this.At.reject(new Ph(e,i))}}static open(e,t,r,i){try{return new Bm(t,e.transaction(i,r))}catch(s){throw new Ph(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lne(t)}}class wi{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===wi.Vt(sa())&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Va(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!eF())return!1;if(wi.St())return!0;const e=sa(),t=wi.Vt(e),r=0<t&&t<10,i=wi.Dt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return D(function*(){return t.db||(F("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new Ph(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new N(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new N(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Ph(e,a))},s.onupgradeneeded=o=>{F("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.bt.kt(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{F("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return D(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.Nt(e);const l=Bm.open(s.db,e,o?"readonly":"readwrite",r),c=i(l).next(u=>(l.Pt(),u)).catch(u=>(l.abort(u),S.reject(u))).toPromise();return c.catch(()=>{}),yield l.Rt,c}catch(l){const c="FirebaseError"!==l.name&&a<3;if(F("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),!c)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ane{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Va(this.Ft.delete())}}class Ph extends N{constructor(e,t){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function La(n){return"IndexedDbTransactionError"===n.name}class lne{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(F("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Va(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Va(this.store.add(e))}get(e){return Va(this.store.get(e)).next(t=>(void 0===t&&(t=null),F("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Va(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Va(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.Kt(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new S((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new S((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Qt(e,t){F("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(s,o,a)=>a.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new S((r,i)=>{t.onerror=s=>{const o=Q0(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}Kt(e,t){const r=[];return new S((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new ane(a),c=t(a.primaryKey,a.value,l);if(c instanceof S){const u=c.catch(d=>(l.done(),S.reject(d)));r.push(u)}l.isDone?i():null===l.Lt?a.continue():a.continue(l.Lt)}}).next(()=>S.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Va(n){return new S((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Q0(r.target.error);t(i)}})}let eV=!1;function Q0(n){const e=wi.Vt(sa());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eV||(eV=!0,setTimeout(()=>{throw r},0)),r}}return n}class tV extends XL{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function mn(n,e){const t=U(n);return wi.xt(t.Ht,e)}class Y0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vte(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&H0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&H0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(pe.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,(t,r)=>CL(t,r))&&Ic(this.baseMutations,e.baseMutations,(t,r)=>CL(t,r))}}class J0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ye(e.mutations.length===r.length);let i=Tte;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new J0(e,t,r,i)}}class Z0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bo{constructor(e,t,r,i,s=pe.min(),o=pe.min(),a=nn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nV{constructor(e){this.Jt=e}}function rV(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Um(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Nh(i=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Mh(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ba(e.version)};else{if(!e.isUnknownDocument())return ee();r.unknownDocument={path:t.path.toArray(),version:Ba(e.version)}}var i,s;return r}function Um(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ba(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ua(n){const e=new Rt(n.seconds,n.nanoseconds);return pe.fromTimestamp(e)}function jc(n,e){const t=(e.baseMutations||[]).map(s=>K0(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(o.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>K0(n.Jt,s)),i=Rt.fromMillis(e.localWriteTimeMs);return new Y0(e.batchId,i,t,r)}function Rh(n){const e=Ua(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ua(n.lastLimboFreeSnapshotVersion):pe.min();let r;var i;return void 0!==n.query.documents?(ye(1===(i=n.query).documents.length),r=Kr(Fc(VL(i.documents[0])))):r=Kr(zL(n.query)),new bo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,nn.fromBase64String(n.resumeToken))}function iV(n,e){const t=Ba(e.snapshotVersion),r=Ba(e.lastLimboFreeSnapshotVersion);let i;i=km(e.target)?$L(n.Jt,e.target):HL(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function X0(n){const e=zL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dL(e,e.limit,"L"):e}function eC(n,e){return new Z0(e.largestBatchId,K0(n.Jt,e.overlayMutation))}function sV(n,e){const t=e.path.lastSegment();return[n,tr(e.path.popLast()),t]}class une{getBundleMetadata(e,t){return oV(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ua(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return oV(e).put({bundleId:(r=t).id,createTime:Ba(gn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return aV(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:X0(i.bundledQuery),readTime:Ua(i.readTime)};var i})}saveNamedQuery(e,t){return aV(e).put({name:(r=t).name,readTime:Ba(gn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function oV(n){return mn(n,"bundles")}function aV(n){return mn(n,"namedQueries")}class tC{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new tC(e,t.uid||"")}getOverlay(e,t){return Lh(e).get(sV(this.userId,t)).next(r=>r?eC(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new Z0(t,o);i.push(this.Xt(e,a))}),S.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(tr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Lh(e).Qt("collectionPathOverlayIndex",a))}),S.waitFor(s)}getOverlaysForCollection(e,t,r){const i=kh(),s=tr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Lh(e).qt("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=eC(this.M,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=kh();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lh(e).Wt({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=eC(this.M,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}Xt(e,t){return Lh(e).put(function(r,i,s){const[o,a,l]=sV(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Fh(r.Jt,s.mutation)}}(this.M,this.userId,t))}}function Lh(n){return mn(n,"documentOverlays")}class ja{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),bh(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ka(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?XR(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ee()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),V.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function dne(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function lV(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=dne(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}ja.fe=new ja;class hne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=lV(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=lV(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fne{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class pne{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Vh{constructor(){this.De=new hne,this.Ce=new fne(this.De),this.xe=new pne(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class _o{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _o(this.indexId,this.documentKey,this.arrayValue,r)}}function $a(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=cV(n.arrayValue,e.arrayValue),0!==t?t:(t=cV(n.directionalValue,e.directionalValue),0!==t?t:V.comparator(n.documentKey,e.documentKey)))}function cV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class gne{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=L0(e);if(void 0!==t&&!this.Be(t))return!1;const r=Na(e);let i=0,s=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const o=r[i];if(!this.Le(this.Fe,o)||!this.Ue(this.Me[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Me.length||!this.Ue(this.Me[s++],o))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class mne{constructor(){this.qe=new nC}addToCollectionParentIndex(e,t){return this.qe.add(t),S.resolve()}getCollectionParents(e,t){return S.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return S.resolve()}deleteFieldIndex(e,t){return S.resolve()}getDocumentsMatchingTarget(e,t){return S.resolve(null)}getFieldIndex(e,t){return S.resolve(null)}getFieldIndexes(e,t){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}updateCollectionGroup(e,t,r){return S.resolve()}updateIndexEntries(e,t){return S.resolve()}}class nC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yt($e.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt($e.comparator)).toArray()}}const $c=new Uint8Array(0);class yne{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new nC,this.Ge=new yo(r=>Oa(r),(r,i)=>Ch(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:r,parent:tr(i)};return uV(e).put(s)}return S.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[HR(t),""],!1,!0);return uV(e).qt(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Hi(o.parent))}return r})}addFieldIndex(e,t){const r=jm(e),i={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(o=>[o.fieldPath.canonicalString(),o.kind])};var s;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=jm(e),i=$m(e),s=Bh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Bh(e);let i=!0;const s=new Map;return S.forEach(this.Qe(t),o=>this.getFieldIndex(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Xe();const a=[];return S.forEach(s,(l,c)=>{var u;F("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`} to execute ${Oa(t)}`);const d=function(I,P){const K=L0(P);if(void 0===K)return null;for(const ue of xm(I,K.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(c,l),h=function(I,P){const K=new Map;for(const ue of Na(P))for(const Te of xm(I,ue.fieldPath))switch(Te.op){case"==":case"in":K.set(ue.fieldPath.canonicalString(),Te.value);break;case"not-in":case"!=":return K.set(ue.fieldPath.canonicalString(),Te.value),Array.from(K.values())}return null}(c,l),g=function(I,P){const K=[];let ue=!0;for(const Te of Na(P)){const Tt=0===Te.kind?sL(I,Te.fieldPath,I.startAt):oL(I,Te.fieldPath,I.startAt);if(!Tt.value)return null;K.push(Tt.value),ue&&(ue=Tt.inclusive)}return new mo(K,ue)}(c,l),m=function(I,P){const K=[];let ue=!0;for(const Te of Na(P)){const Tt=0===Te.kind?oL(I,Te.fieldPath,I.endAt):sL(I,Te.fieldPath,I.endAt);if(!Tt.value)return null;K.push(Tt.value),ue&&(ue=Tt.inclusive)}return new mo(K,ue)}(c,l),b=this.je(l,c,g),_=this.je(l,c,m),E=this.We(l,c,h),v=this.ze(l.indexId,d,b,!!g&&g.inclusive,_,!!m&&m.inclusive,E);return S.forEach(v,I=>r.Gt(I,t.limit).next(P=>{P.forEach(K=>{const ue=V.fromSegments(K.documentKey);o.has(ue)||(o=o.add(ue),a.push(ue))})}))}).next(()=>a)}return S.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,s,o,a){const l=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=s?s.length:1),c=l/(null!=t?t.length:1),u=[];for(let d=0;d<l;++d){const h=t?this.He(t[d/c]):$c,g=r?this.Je(e,h,r[d%c],i):this.Ye(e),m=s?this.Xe(e,h,s[d%c],o):this.Ye(e+1);u.push(...this.createRange(g,m,a.map(b=>this.Je(e,h,b,!0))))}return u}Je(e,t,r,i){const s=new _o(e,V.empty(),t,r);return i?s:s.ke()}Xe(e,t,r,i){const s=new _o(e,V.empty(),t,r);return i?s.ke():s}Ye(e){return new _o(e,V.empty(),$c,$c)}getFieldIndex(e,t){const r=new gne(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{const o=s.filter(a=>r.$e(a));return o.sort((a,l)=>l.fields.length-a.fields.length),o.length>0?o[0]:null})}Ze(e,t){const r=new Vh;for(const i of Na(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Ne(i.kind);ja.fe.Zt(s,o)}return r.Se()}He(e){const t=new Vh;return ja.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Vh;return ja.fe.Zt(Ma(this.databaseId,t),r.Ne(function(i){const s=Na(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new Vh);let s=0;for(const o of Na(e)){const a=r[s++];for(const l of i)if(this.en(t,o.fieldPath)&&wh(a))i=this.nn(i,o,a);else{const c=l.Ne(o.kind);ja.fe.Zt(a,c)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Vh;l.seed(a.Se()),ja.fe.Zt(o,l.Ne(t.kind)),s.push(l)}return s}en(e,t){return!!e.filters.find(r=>r instanceof kn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=jm(e),i=$m(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(s=>{const o=[];return S.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,u){const d=u?new Eh(u.sequenceNumber,new As(Ua(u.readTime),new V(Hi(u.documentKey)),u.largestBatchId)):Eh.empty(),h=c.fields.map(([g,m])=>new Am(pn.fromServerFormat(g),m));return new Tm(c.indexId,c.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ae(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=jm(e),s=$m(e);return this.rn(e).next(o=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>S.forEach(a,l=>{return s.put({indexId:l.indexId,uid:this.user.uid||"",sequenceNumber:o,readTime:Ba((h=r).readTime),documentKey:tr(h.documentKey.path),largestBatchId:h.largestBatchId});var h})))}updateIndexEntries(e,t){const r=new Map;return S.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?S.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),S.forEach(a,l=>this.on(e,i,l).next(c=>{const u=this.un(s,l);return c.isEqual(u)?S.resolve():this.an(e,s,l,c,u)}))))})}cn(e,t,r,i){return Bh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Bh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Bh(e);let s=new yt($a);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(o,a)=>{s=s.add(new _o(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}un(e,t){let r=new yt($a);const i=this.Ze(t,e);if(null==i)return r;const s=L0(t);if(null!=s){const o=e.data.field(s.fieldPath);if(wh(o))for(const a of o.arrayValue.values||[])r=r.add(new _o(t.indexId,e.key,this.He(a),i))}else r=r.add(new _o(t.indexId,e.key,$c,i));return r}an(e,t,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(a,l,c,u,d){const h=a.getIterator(),g=l.getIterator();let m=Vc(h),b=Vc(g);for(;m||b;){let _=!1,E=!1;if(m&&b){const v=c(m,b);v<0?E=!0:v>0&&(_=!0)}else null!=m?E=!0:_=!0;_?(u(b),b=Vc(g)):E?(d(m),m=Vc(h)):(m=Vc(h),b=Vc(g))}}(i,s,$a,a=>{o.push(this.cn(e,t,r,a))},a=>{o.push(this.hn(e,t,r,a))}),S.waitFor(o)}rn(e){let t=1;return $m(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>$a(o,a)).filter((o,a,l)=>!a||0!==$a(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=$a(o,e),l=$a(o,t);if(0===a)i[0]=e.ke();else if(a>0&&l<0)i.push(o),i.push(o.ke());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,$c,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,$c,[]]));return s}}function uV(n){return mn(n,"collectionParents")}function Bh(n){return mn(n,"indexEntries")}function jm(n){return mn(n,"indexConfiguration")}function $m(n){return mn(n,"indexState")}const dV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.Wt({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ye(1===a)}));const c=[];for(const u of t.mutations){const d=QL(e,u.key.path,t.batchId);s.push(i.delete(d)),c.push(u.key)}return S.waitFor(s).next(()=>c)}function Hm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ee();e=n.noDocument}return JSON.stringify(e).length}dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(41943040,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);class rC{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){ye(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new rC(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).Wt({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Hc(e),o=wo(e);return o.add({}).next(a=>{ye("number"==typeof a);const l=new Y0(a,t,r,i),c=function(h,g,m){const b=m.baseMutations.map(E=>Fh(h.Jt,E)),_=m.mutations.map(E=>Fh(h.Jt,E));return{userId:g,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:b,mutations:_}}(this.M,this.userId,l),u=[];let d=new yt((h,g)=>Ae(h.canonicalString(),g.canonicalString()));for(const h of i){const g=QL(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(g,zte))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.ln[a]=l.keys()}),S.waitFor(u).next(()=>l)})}lookupMutationBatch(e,t){return wo(e).get(t).next(r=>r?(ye(r.userId===this.userId),jc(this.M,r)):null)}fn(e,t){return this.ln[t]?S.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return wo(e).Wt({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ye(a.batchId>=r),s=jc(this.M,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return wo(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).qt("userMutationsIndex",t).next(r=>r.map(i=>jc(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Vm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Hc(e).Wt({range:i},(o,a,l)=>{const[c,u,d]=o,h=Hi(u);if(c===this.userId&&t.path.isEqual(h))return wo(e).get(d).next(g=>{if(!g)throw ee();ye(g.userId===this.userId),s.push(jc(this.M,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(Ae);const i=[];return t.forEach(s=>{const o=Vm(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Hc(e).Wt({range:a},(c,u,d)=>{const[h,g,m]=c,b=Hi(g);h===this.userId&&s.path.isEqual(b)?r=r.add(m):d.done()});i.push(l)}),S.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Vm(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new yt(Ae);return Hc(e).Wt({range:o},(l,c,u)=>{const[d,h,g]=l,m=Hi(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(g)):u.done()}).next(()=>this.dn(e,a))}dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(wo(e).get(s).next(o=>{if(null===o)throw ee();ye(o.userId===this.userId),r.push(jc(this.M,o))}))}),S.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return hV(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),S.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return S.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Hc(e).Wt({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Hi(s[1]);i.push(l)}else a.done()}).next(()=>{ye(0===i.length)})})}containsKey(e,t){return fV(e,this.userId,t)}wn(e){return pV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fV(n,e,t){const r=Vm(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Hc(n).Wt({range:s,jt:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function wo(n){return mn(n,"mutations")}function Hc(n){return mn(n,"documentMutations")}function pV(n){return mn(n,"mutationQueues")}class Ha{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ha(0)}static yn(){return new Ha(-1)}}class bne{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Ha(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>pe.fromTimestamp(new Rt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zc(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(ye(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return zc(e).Wt((o,a)=>{const l=Rh(a);l.sequenceNumber<=t&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>S.waitFor(s)).next(()=>i)}forEachTarget(e,t){return zc(e).Wt((r,i)=>{const s=Rh(i);t(s)})}pn(e){return gV(e).get("targetGlobalKey").next(t=>(ye(null!==t),t))}In(e,t){return gV(e).put("targetGlobalKey",t)}Tn(e,t){return zc(e).put(iV(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Oa(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return zc(e).Wt({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Rh(a);Ch(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=vo(e);return t.forEach(o=>{const a=tr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),S.waitFor(i)}removeMatchingKeys(e,t,r){const i=vo(e);return S.forEach(t,s=>{const o=tr(s.path);return S.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=vo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=vo(e);let s=Xe();return i.Wt({range:r,jt:!0},(o,a,l)=>{const c=Hi(o[1]),u=new V(c);s=s.add(u)}).next(()=>s)}containsKey(e,t){const r=tr(t.path),i=IDBKeyRange.bound([r],[HR(r)],!1,!0);let s=0;return vo(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}Et(e,t){return zc(e).get(t).next(r=>r?Rh(r):null)}}function zc(n){return mn(n,"targets")}function gV(n){return mn(n,"targetGlobal")}function vo(n){return mn(n,"targetDocuments")}function za(n){return iC.apply(this,arguments)}function iC(){return(iC=D(function*(n){if(n.code!==C.FAILED_PRECONDITION||n.message!==ZL)throw n;F("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function mV([n,e],[t,r]){const i=Ae(n,t);return 0===i?Ae(e,r):i}class _ne{constructor(e){this.An=e,this.buffer=new yt(mV),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wne{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;F("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,D(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){La(i)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield za(i)}yield t.Sn(e)}))}}class vne{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return S.resolve(Ar.A);const r=new _ne(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector","Garbage collection skipped; disabled"),S.resolve(dV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dV):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),N0()<=Re.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${d} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),S.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}class Ene{constructor(e,t){this.db=e,this.garbageCollector=new vne(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return zm(e,r)}removeReference(e,t,r){return zm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return zm(e,t)}On(e,t){return function(r,i){let s=!1;return pV(r).zt(o=>fV(r,o,i).next(a=>(a&&(s=!0),S.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Mn(e,(o,a)=>{if(a<=t){const l=this.On(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,pe.min()),vo(e).delete([0,tr(o.path)])))});i.push(l)}}).next(()=>S.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return zm(e,t)}Mn(e,t){const r=vo(e);let i,s=Ar.A;return r.Wt({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==Ar.A&&t(new V(Hi(i)),s),s=c,i=l):s=Ar.A}).next(()=>{s!==Ar.A&&t(new V(Hi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zm(n,e){return vo(n).put((r=n.currentSequenceNumber,{targetId:0,path:tr(e.path),sequenceNumber:r}));var r}class yV{constructor(){this.changes=new yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?S.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cne{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qa(e).put(r)}removeEntry(e,t,r){return qa(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Um(s),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=mt.newInvalidDocument(t);return qa(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Uh(t))},(i,s)=>{r=this.$n(t,s)}).next(()=>r)}Bn(e,t){let r={size:0,document:mt.newInvalidDocument(t)};return qa(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Uh(t))},(i,s)=>{r={document:this.$n(t,s),size:Hm(s)}}).next(()=>r)}getEntries(e,t){let r=Qr();return this.Ln(e,t,(i,s)=>{const o=this.$n(i,s);r=r.insert(i,o)}).next(()=>r)}Un(e,t){let r=Qr(),i=new Lt(V.comparator);return this.Ln(e,t,(s,o)=>{const a=this.$n(s,o);r=r.insert(s,a),i=i.insert(s,Hm(o))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return S.resolve();let i=new yt(wV);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Uh(i.first()),Uh(i.last())),o=i.getIterator();let a=o.getNext();return qa(e).Wt({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=V.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&wV(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.Ut(Uh(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Um(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qa(e).qt(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=Qr();for(const l of o){const c=this.$n(V.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(c.key,c)}return a})}getAllFromCollectionGroup(e,t,r,i){let s=Qr();const o=_V(t,r),a=_V(t,As.max());return qa(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.$n(V.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new Sne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bV(e).get("remoteDocumentGlobalKey").next(t=>(ye(!!t),t))}Fn(e,t){return bV(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function(n,e){let t;if(e.document)t=jL(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=V.fromSegments(e.noDocument.path),i=Ua(e.noDocument.readTime);t=mt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ee();{const r=V.fromSegments(e.unknownDocument.path),i=Ua(e.unknownDocument.version);t=mt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Rt(r[0],r[1]);return pe.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(pe.min()))return r}return mt.newInvalidDocument(e)}}class Sne extends yV{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new yo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new yt((s,o)=>Ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=rV(this.Kn.M,o);i=i.add(s.path.popLast()),r+=Hm(l)-a.size,t.push(this.Kn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=rV(this.Kn.M,o.convertToNoDocument(pe.min()));t.push(this.Kn.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,r)),S.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((s,o)=>{this.Gn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function bV(n){return mn(n,"remoteDocumentGlobal")}function qa(n){return mn(n,"remoteDocumentsV14")}function Uh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _V(n,e){const t=e.documentKey.path.toArray();return[n,Um(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ae(t[s],r[s]),i)return i;return i=Ae(t.length,r.length),i||(i=Ae(t[t.length-2],r[r.length-2]),i||Ae(t[t.length-1],r[r.length-1]))}class Dne{constructor(e){this.M=e}kt(e,t,r,i){const s=new Bm("createOrUpgrade",t);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KL,{unique:!0}),a.createObjectStore("documentMutations"),vV(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=S.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),vV(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pe.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(a,l){return l.store("mutations").qt().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KL,{unique:!0});const u=l.store("mutations"),d=c.map(h=>u.put(h));return S.waitFor(d)})}(e,s))),o=o.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Qn(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),r<7&&i>=7&&(o=o.next(()=>this.Wn(s))),r<8&&i>=8&&(o=o.next(()=>this.zn(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.Hn(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(a){const l=a.createObjectStore("documentOverlays",{keyPath:nne});l.createIndex("collectionPathOverlayIndex",rne,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",ine,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:qte});l.createIndex("documentKeyIndex",Gte),l.createIndex("collectionGroupIndex",Wte)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>{!function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Zte}).createIndex("sequenceNumberIndex",Xte,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:ene}).createIndex("documentKeyIndex",tne,{unique:!1})}(e)})),o}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=Hm(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>S.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",o).next(a=>S.forEach(a,l=>{ye(l.userId===s.userId);const c=jc(this.M,l);return hV(e,s.userId,c).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Wt((o,a)=>{const l=new $e(o),c=[0,tr(l)];s.push(t.get(c).next(u=>u?S.resolve():t.put({targetId:0,path:tr(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>S.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Jte});const r=t.store("collectionParents"),i=new nC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:tr(l)})}};return t.store("remoteDocuments").Wt({jt:!0},(o,a)=>{const l=new $e(o);return s(l.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([o,a,l],c)=>{const u=Hi(a);return s(u.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const s=Rh(i),o=iV(this.M,s);return t.put(o)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(c=o,c.document?new V($e.fromString(c.document.name).popFirst(5)):c.noDocument?V.fromSegments(c.noDocument.path):c.unknownDocument?V.fromSegments(c.unknownDocument.path):ee()).path.toArray();var c;const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>S.waitFor(i))}}function vV(n){n.createObjectStore("targetDocuments",{keyPath:Qte}).createIndex("documentTargetsIndex",Yte,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kte,{unique:!0}),n.createObjectStore("targetGlobal")}const sC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oC{constructor(e,t,r,i,s,o,a,l,c,u,d=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=s,this.window=o,this.document=a,this.Xn=c,this.Zn=u,this.ts=d,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=h=>Promise.resolve(),!oC.vt())throw new N(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ene(this,i),this.hs=t+"main",this.M=new nV(l),this.ls=new wi(this.hs,this.ts,new Dne(this.M)),this.fs=new bne(this.referenceDelegate,this.M),this.ds=new Cne(this.M),this._s=new une,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===u&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new N(C.FAILED_PRECONDITION,sC);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ar(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=D(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=D(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(D(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(La(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return jh(e).get("owner").next(t=>S.resolve(this.bs(t)))}Vs(e){return qm(e).delete(this.clientId)}vs(){var e=this;return D(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=mn(r,"clientMetadata");return i.qt().next(s=>{const o=e.Ds(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return S.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?S.resolve(!0):jh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new N(C.FAILED_PRECONDITION,sC);return!1}}return!(!this.networkEnabled||!this.inForeground)||qm(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&a)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&F("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return D(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new tV(t,Ar.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>qm(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return rC.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new yne(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return tC.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){F("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=14===(o=this.ts)?one:13===o?JL:12===o?sne:11===o?YL:void ee();var o;let a;return this.ls.runTransaction(e,i,s,l=>(a=new tV(l,this.es?this.es.next():Ar.A),"readwrite-primary"===t?this.Es(a).next(c=>!!c||this.As(a)).next(c=>{if(!c)throw qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new N(C.FAILED_PRECONDITION,ZL);return r(a)}).next(c=>this.Ps(a).next(()=>c)):this.$s(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}$s(e){return jh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new N(C.FAILED_PRECONDITION,sC)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jh(e).put("owner",t)}static vt(){return wi.vt()}Rs(e){const t=jh(e);return t.get("owner").next(r=>this.bs(r)?(F("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):S.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(qt(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){qt("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jh(n){return mn(n,"owner")}function qm(n){return mn(n,"clientMetadata")}function aC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Tne{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return V.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):U0(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new V(t)).next(r=>{let i=q0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let s=q0();return this.indexManager.getCollectionParents(e,i).next(o=>S.forEach(o,a=>{const l=(c=t,u=a.child(i),new ks(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.zs(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const o of s)for(const a of o.mutations){const l=a.key;let c=i.get(l);null==c&&(c=mt.newInvalidDocument(l),i=i.insert(l,c)),H0(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(l))}}).next(()=>(i.forEach((s,o)=>{$0(t,o)||(i=i.remove(s))}),i))}}class lC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Xe(),i=Xe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lC(e,t.fromCache,r,i)}}class EV{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(pe.min())?this.ti(e,t):this.Zs.Ks(e,i).next(s=>{const o=this.ei(t,s);return(Im(t)||Mm(t))&&this.ni(t.limitType,o,i,r)?this.ti(e,t):(N0()<=Re.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),j0(t)),this.Zs.Qs(e,t,rL(r,-1)).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))});var s}ei(e,t){let r=new yt(pL(e));return t.forEach((i,s)=>{$0(e,s)&&(r=r.add(s))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ti(e,t){return N0()<=Re.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",j0(t)),this.Zs.Qs(e,t,As.min())}}class Ane{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new Lt(Ae),this.ri=new yo(s=>Oa(s),Ch),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Tne(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function CV(n,e,t,r){return new Ane(n,e,t,r)}function SV(n,e){return cC.apply(this,arguments)}function cC(){return(cC=D(function*(n,e){const t=U(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(s=>(i=s,t.ai(e),t.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Xe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.ci.Ks(r,l).next(c=>({hi:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function kne(n,e){const t=U(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=S.resolve();return d.forEach(g=>{h=h.next(()=>c.getEntry(a,g)).next(m=>{const b=l.docVersions.get(g);ye(null!==b),m.version.compareTo(b)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>o.Bs.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function DV(n){const e=U(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function xne(n,e){const t=U(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const a=[];e.targetChanges.forEach((c,u)=>{const d=i.get(u);if(!d)return;a.push(t.fs.removeMatchingKeys(s,c.removedDocuments,u).next(()=>t.fs.addMatchingKeys(s,c.addedDocuments,u)));let h=d.withSequenceNumber(s.currentSequenceNumber);var g,m,b;e.targetMismatches.has(u)?h=h.withResumeToken(nn.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(u,h),m=h,b=c,(0===(g=d).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.fs.updateTargetData(s,h))});let l=Qr();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(TV(s,o,e.documentUpdates).next(c=>{l=c})),!r.isEqual(pe.min())){const c=t.fs.getLastRemoteSnapshotVersion(s).next(u=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>t.ci.Gs(s,l)).next(()=>l)}).then(s=>(t.ii=i,s))}function TV(n,e,t){let r=Xe();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=Qr();return t.forEach((o,a)=>{const l=i.get(o);a.isNoDocument()&&a.version.isEqual(pe.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||0===a.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):F("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),s})}function Ine(n,e){const t=U(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function qc(n,e){const t=U(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(s=>s?(i=s,S.resolve(i)):t.fs.allocateTargetId(r).next(o=>(i=new bo(e,o,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Gc(n,e,t){return uC.apply(this,arguments)}function uC(){return(uC=D(function*(n,e,t){const r=U(n),i=r.ii.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!La(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)})).apply(this,arguments)}function Gm(n,e,t){const r=U(n);let i=pe.min(),s=Xe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=U(a),d=u.ri.get(c);return void 0!==d?S.resolve(u.ii.get(d)):u.fs.getTargetData(l,c)}(r,o,Kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.si.Qs(o,e,t?i:pe.min(),t?s:Xe())).next(a=>(xV(r,fL(e),a),{documents:a,li:s})))}function AV(n,e){const t=U(n),r=U(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(o=>o?o.target:null))}function kV(n,e){const t=U(n),r=t.oi.get(e)||pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,rL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(xV(t,e,i),i))}function xV(n,e,t){let r=pe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.oi.set(e,r)}function dC(){return(dC=D(function*(n,e,t,r){const i=U(n);let s=Xe(),o=Qr();for(const c of t){const u=e.fi(c.metadata.name);c.document&&(s=s.add(u));const d=e.di(c);d.setReadTime(e._i(c.metadata.readTime)),o=o.insert(u,d)}const a=i.ui.newChangeBuffer({trackRemovals:!0}),l=yield qc(i,(c=r,Kr(Fc($e.fromString(`__bundle__/docs/${c}`)))));var c;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>TV(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.fs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.fs.addMatchingKeys(c,s,l.targetId)).next(()=>i.ci.Gs(c,u)).next(()=>u)))})).apply(this,arguments)}function Nne(n,e){return hC.apply(this,arguments)}function hC(){return(hC=D(function*(n,e,t=Xe()){const r=yield qc(n,Kr(X0(e.bundledQuery))),i=U(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=gn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i._s.saveNamedQuery(s,e);const a=r.withResumeToken(nn.EMPTY_BYTE_STRING,o);return i.ii=i.ii.insert(a.targetId,a),i.fs.updateTargetData(s,a).next(()=>i.fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.fs.addMatchingKeys(s,t,r.targetId)).next(()=>i._s.saveNamedQuery(s,e))})})).apply(this,arguments)}class One{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return S.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:gn(r.createTime)}),S.resolve()}getNamedQuery(e,t){return S.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:X0(r.bundledQuery),readTime:gn(r.readTime)}),S.resolve();var r}}class Fne{constructor(){this.overlays=new Lt(V.comparator),this.gi=new Map}getOverlay(e,t){return S.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),S.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(r)),S.resolve()}getOverlaysForCollection(e,t,r){const i=kh(),s=t.length+1,o=new V(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return S.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Lt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=kh(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=kh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return S.resolve(a)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Z0(t,r));let s=this.gi.get(t);void 0===s&&(s=Xe(),this.gi.set(t,s)),this.gi.set(t,s.add(r.key))}}class fC{constructor(){this.yi=new yt(yn.pi),this.Ii=new yt(yn.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new yn(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new yn(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new V(new $e([])),r=new yn(t,e),i=new yn(t,e+1),s=[];return this.Ii.forEachInRange([r,i],o=>{this.Ai(o),s.push(o.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new V(new $e([])),r=new yn(t,e),i=new yn(t,e+1);let s=Xe();return this.Ii.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new yn(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class yn{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return V.comparator(e.key,t.key)||Ae(e.vi,t.vi)}static Ti(e,t){return Ae(e.vi,t.vi)||V.comparator(e.key,t.key)}}class Pne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new yt(yn.pi)}checkEmpty(e){return S.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const s=this.Si;this.Si++;const o=new Y0(s,t,r,i);this.Bs.push(o);for(const a of i)this.Di=this.Di.add(new yn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,t){return S.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),s=i<0?0:i;return S.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return S.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yn(t,0),i=new yn(t,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([r,i],o=>{const a=this.Ci(o.vi);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(Ae);return t.forEach(i=>{const s=new yn(i,0),o=new yn(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,o],a=>{r=r.add(a.vi)})}),S.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new yn(new V(s),0);let a=new yt(Ae);return this.Di.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.vi)),!0)},o),S.resolve(this.Ni(a))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ye(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return S.forEach(t.mutations,i=>{const s=new yn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new yn(t,0),i=this.Di.firstAfterOrEqual(r);return S.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return S.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Rne{constructor(e){this.Mi=e,this.docs=new Lt(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return S.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mt.newInvalidDocument(i))}),S.resolve(r)}getAllFromCollection(e,t,r){let i=Qr();const s=new V(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||ste(ite(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return S.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ee()}Oi(e,t){return S.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lne(this)}getSize(e){return S.resolve(this.size)}}class Lne extends yV{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),S.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Vne{constructor(e){this.persistence=e,this.Fi=new yo(t=>Oa(t),Ch),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.$i=0,this.Bi=new fC,this.targetCount=0,this.Li=Ha.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),S.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Ha(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,S.resolve()}updateTargetData(e,t){return this.Tn(t),S.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fi.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),S.waitFor(s).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return S.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),S.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),S.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return S.resolve(r)}containsKey(e,t){return S.resolve(this.Bi.containsKey(t))}}class Bne{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ar(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Vne(this),this.indexManager=new mne,this.ds=new Rne(r=>this.referenceDelegate.qi(r)),this.M=new nV(t),this._s=new One(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new Pne(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);const i=new Une(this.es.next());return this.referenceDelegate.Ki(),r(i).next(s=>this.referenceDelegate.Gi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Qi(e,t){return S.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class Une extends XL{constructor(e){super(),this.currentSequenceNumber=e}}class pC{constructor(e){this.persistence=e,this.ji=new fC,this.Wi=null}static zi(e){return new pC(e)}get Hi(){if(this.Wi)return this.Wi;throw ee()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),S.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),S.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Hi,r=>{const i=V.fromPath(r);return this.Ji(e,i).next(s=>{s||t.removeEntry(i,pe.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return S.or([()=>S.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function IV(n,e){return`firestore_clients_${n}_${e}`}function MV(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function gC(n,e){return`firestore_targets_${n}_${e}`}class Wm{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new N(i.error.code,i.error.message))),o?new Wm(e,t,i.state,s):(qt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $h{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new N(r.error.code,r.error.message))),s?new $h(e,r.state,i):(qt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Km{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Rm();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=WR(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Km(e,s):(qt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mC{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mC(t.clientId,t.onlineState):(qt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yC{constructor(){this.activeTargetIds=Rm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bC{constructor(e,t,r,i,s){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Lt(Ae),this.started=!1,this.rr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ur=IV(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new yC),this.cr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return D(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const s=e.getItem(IV(e.persistenceKey,i));if(s){const o=Km.Yi(i,s);o&&(e.ir=e.ir.insert(o.clientId,o))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(gC(this.persistenceKey,e));if(r){const i=$h.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gC(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return F("SharedClientState","READ",e,t),t}setItem(e,t){F("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(F("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(D(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(s){let o=Ar.A;if(null!=s)try{const a=JSON.parse(s);ye("number"==typeof a),o=a}catch(a){qt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(r.newValue);i!==Ar.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.kr(s)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new Wm(this.currentUser,e,t,r),s=MV(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Xi())}Ir(e){const t=MV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=gC(this.persistenceKey,e),s=new $h(e,t,r);this.setItem(i,s.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return Km.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Wm.Yi(new An(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return $h.Yi(i,t)}mr(e){return mC.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return D(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),s=this.yr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fr(o,a).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Rm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class NV{constructor(){this.$r=new yC,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new yC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jne{Lr(e){}shutdown(){}}class OV{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $ne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Hne{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class zne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,s){const o=this.uo(e,t);F("RestConnection","Sending: ",o,r);const a={};return this.ao(a,i,s),this.co(e,o,a,r).then(l=>(F("RestConnection","Received: ",l),l),l=>{throw gh("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}ho(e,t,r,i,s){return this.oo(e,t,r,i,s)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}uo(e,t){return`${this.io}/v1/${t}:${$ne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((s,o)=>{const a=new $ee;a.listenOnce(Bee.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case M0.NO_ERROR:const c=a.getResponseJson();F("Connection","XHR received:",JSON.stringify(c)),s(c);break;case M0.TIMEOUT:F("Connection",'RPC "'+e+'" timed out'),o(new N(C.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const u=a.getStatus();if(F("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(d.status);o(new N(h,d.message))}else o(new N(C.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new N(C.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{F("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lee(),o=Vee(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new jee({})),this.ao(a.initMessageHeaders,t,r),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sa())||"object"==typeof navigator&&"ReactNative"===navigator.product||sa().indexOf("Electron/")>=0||function(){const n=sa();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||sa().indexOf("MSAppHost/")>=0||function(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");F("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new Hne({Wr:m=>{d?F("Connection","Not sending because WebChannel is closed:",m):(u||(F("Connection","Opening WebChannel transport."),c.open(),u=!0),F("Connection","WebChannel sending:",m),c.send(m))},zr:()=>c.close()}),g=(m,b,_)=>{m.listen(b,E=>{try{_(E)}catch(v){setTimeout(()=>{throw v},0)}})};return g(c,Sm.EventType.OPEN,()=>{d||F("Connection","WebChannel transport opened.")}),g(c,Sm.EventType.CLOSE,()=>{d||(d=!0,F("Connection","WebChannel transport closed"),h.no())}),g(c,Sm.EventType.ERROR,m=>{d||(d=!0,gh("Connection","WebChannel transport errored:",m),h.no(new N(C.UNAVAILABLE,"The operation could not be completed")))}),g(c,Sm.EventType.MESSAGE,m=>{var b;if(!d){const _=m.data[0];ye(!!_);const E=_,v=E.error||(null===(b=E[0])||void 0===b?void 0:b.error);if(v){F("Connection","WebChannel received error:",v);const I=v.status;let P=function(ue){const Te=Wt[ue];if(void 0!==Te)return xL(Te)}(I),K=v.message;void 0===P&&(P=C.INTERNAL,K="Unknown error status: "+I+" with message "+v.message),d=!0,h.no(new N(P,K)),c.close()}else F("Connection","WebChannel received:",_),h.so(_)}}),g(o,Uee.STAT_EVENT,m=>{m.stat===VR.PROXY?F("Connection","Detected buffering proxy"):m.stat===VR.NOPROXY&&F("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.eo()},0),h}}function FV(){return"undefined"!=typeof window?window:null}function Qm(){return"undefined"!=typeof document?document:null}function Hh(n){return new Nte(n,!0)}class _C{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class PV{constructor(e,t,r,i,s,o,a,l){this.Yn=e,this.Ro=r,this.Po=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new _C(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return D(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return D(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return D(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(qt(t.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new N(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To(D(function*(){e.state=0,e.start()}))}Ko(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qne extends PV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.M=s}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:ee(),i=e.targetChange.targetIds||[],s=function(l,c){return l.N?(ye(void 0===c||"string"==typeof c),nn.fromBase64String(c||"")):(ye(void 0===c||c instanceof Uint8Array),nn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?C.UNKNOWN:xL(l.code);return new N(c,l.message||"")}(o);t=new NL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=$i(n,r.document.name),s=gn(r.document.updateTime),o=new Vn({mapValue:{fields:r.document.fields}}),a=mt.newFoundDocument(i,s,o);t=new Lm(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=$i(n,r.document),s=r.readTime?gn(r.readTime):pe.min(),o=mt.newNoDocument(i,s);t=new Lm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=$i(n,r.document);t=new Lm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ee();{const r=e.filter,s=new Cte(r.count||0);t=new ML(r.targetId,s)}}var l;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return pe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?gn(s.readTime):pe.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Oh(this.M),t.addTarget=function(i,s){let o;const a=s.target;return o=km(a)?{documents:$L(i,a)}:{query:HL(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=RL(i,s.resumeToken):s.snapshotVersion.compareTo(pe.min())>0&&(o.readTime=Mh(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ee()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Oh(this.M),t.removeTarget=e,this.Fo(t)}}class Gne extends PV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.M=s,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function(n,e){return n&&n.length>0?(ye(void 0!==e),n.map(t=>function(r,i){let s=gn(r.updateTime?r.updateTime:i);return s.isEqual(pe.min())&&(s=gn(i)),new wte(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.Yo(r,t)}return ye(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Oh(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Fh(this.M,r))};this.Fo(t)}}class Wne extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new N(C.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.oo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(C.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ho(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(C.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class Kne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(qt(t),this.iu=!1):F("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Qne{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(a=>{r.enqueueAndForget(D(function*(){var l;Eo(o)&&(F("RemoteStore","Restarting streams for network reachability change."),yield(l=D(function*(c){const u=U(c);u.fu.add(4),yield Wc(u),u.wu.set("Unknown"),u.fu.delete(4),yield zh(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.wu=new Kne(r,i)}}function zh(n){return wC.apply(this,arguments)}function wC(){return(wC=D(function*(n){if(Eo(n))for(const e of n.du)yield e(!0)})).apply(this,arguments)}function Wc(n){return vC.apply(this,arguments)}function vC(){return(vC=D(function*(n){for(const e of n.du)yield e(!1)})).apply(this,arguments)}function Ym(n,e){const t=U(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),SC(t)?CC(t):Qc(t).xo()&&EC(t,e))}function qh(n,e){const t=U(n),r=Qc(t);t.lu.delete(e),r.xo()&&RV(t,e),0===t.lu.size&&(r.xo()?r.Mo():Eo(t)&&t.wu.set("Unknown"))}function EC(n,e){n.mu.Z(e.targetId),Qc(n).jo(e)}function RV(n,e){n.mu.Z(e),Qc(n).Wo(e)}function CC(n){n.mu=new xte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Qc(n).start(),n.wu.ru()}function SC(n){return Eo(n)&&!Qc(n).Co()&&n.lu.size>0}function Eo(n){return 0===U(n).fu.size}function LV(n){n.mu=void 0}function Yne(n){return DC.apply(this,arguments)}function DC(){return(DC=D(function*(n){n.lu.forEach((e,t)=>{EC(n,e)})})).apply(this,arguments)}function Jne(n,e){return TC.apply(this,arguments)}function TC(){return(TC=D(function*(n,e){LV(n),SC(n)?(n.wu.au(e),CC(n)):n.wu.set("Unknown")})).apply(this,arguments)}function Zne(n,e,t){return AC.apply(this,arguments)}function AC(){return(AC=D(function*(n,e,t){if(n.wu.set("Online"),e instanceof NL&&2===e.state&&e.cause)try{yield(r=D(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.lu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.lu.delete(a),i.mu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jm(n,r)}else if(e instanceof Lm?n.mu.ut(e):e instanceof ML?n.mu._t(e):n.mu.ht(e),!t.isEqual(pe.min()))try{const r=yield DV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.mu.yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.lu.get(l);c&&i.lu.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.lu.get(a);if(!l)return;i.lu.set(a,l.withResumeToken(nn.EMPTY_BYTE_STRING,l.snapshotVersion)),RV(i,a);const c=new bo(l.target,a,1,l.sequenceNumber);EC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Jm(n,r)}var r})).apply(this,arguments)}function Jm(n,e,t){return kC.apply(this,arguments)}function kC(){return(kC=D(function*(n,e,t){if(!La(e))throw e;n.fu.add(1),yield Wc(n),n.wu.set("Offline"),t||(t=()=>DV(n.localStore)),n.asyncQueue.enqueueRetryable(D(function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield zh(n)}))})).apply(this,arguments)}function VV(n,e){return e().catch(t=>Jm(n,t,e))}function Kc(n){return xC.apply(this,arguments)}function xC(){return(xC=D(function*(n){const e=U(n),t=Co(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Xne(e);)try{const i=yield Ine(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,ere(e,i)}catch(i){yield Jm(e,i)}BV(e)&&UV(e)})).apply(this,arguments)}function Xne(n){return Eo(n)&&n.hu.length<10}function ere(n,e){n.hu.push(e);const t=Co(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function BV(n){return Eo(n)&&!Co(n).Co()&&n.hu.length>0}function UV(n){Co(n).start()}function tre(n){return IC.apply(this,arguments)}function IC(){return(IC=D(function*(n){Co(n).Zo()})).apply(this,arguments)}function nre(n){return MC.apply(this,arguments)}function MC(){return(MC=D(function*(n){const e=Co(n);for(const t of n.hu)e.Jo(t.mutations)})).apply(this,arguments)}function rre(n,e,t){return NC.apply(this,arguments)}function NC(){return(NC=D(function*(n,e,t){const r=n.hu.shift(),i=J0.from(r,e,t);yield VV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Kc(n)})).apply(this,arguments)}function ire(n,e){return OC.apply(this,arguments)}function OC(){return(OC=D(function*(n,e){var t;e&&Co(n).Ho&&(yield(t=D(function*(r,i){if(kL(s=i.code)&&s!==C.ABORTED){const o=r.hu.shift();Co(r).ko(),yield VV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Kc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),BV(n)&&UV(n)})).apply(this,arguments)}function jV(n,e){return FC.apply(this,arguments)}function FC(){return(FC=D(function*(n,e){const t=U(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=Eo(t);t.fu.add(3),yield Wc(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield zh(t)})).apply(this,arguments)}function PC(n,e){return RC.apply(this,arguments)}function RC(){return(RC=D(function*(n,e){const t=U(n);e?(t.fu.delete(2),yield zh(t)):e||(t.fu.add(2),yield Wc(t),t.wu.set("Unknown"))})).apply(this,arguments)}function Qc(n){return n.gu||(n.gu=function(e,t,r){const i=U(e);return i.eu(),new qne(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:Yne.bind(null,n),Yr:Jne.bind(null,n),Qo:Zne.bind(null,n)}),n.du.push(function(){var e=D(function*(t){t?(n.gu.ko(),SC(n)?CC(n):n.wu.set("Unknown")):(yield n.gu.stop(),LV(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Co(n){return n.yu||(n.yu=function(e,t,r){const i=U(e);return i.eu(),new Gne(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:tre.bind(null,n),Yr:ire.bind(null,n),Xo:nre.bind(null,n),Yo:rre.bind(null,n)}),n.du.push(function(){var e=D(function*(t){t?(n.yu.ko(),yield Kc(n)):(yield n.yu.stop(),n.hu.length>0&&(F("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class LC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new LC(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new N(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yc(n,e){if(qt("AsyncQueue",`${e}: ${n}`),La(n))return new N(C.UNAVAILABLE,`${e}: ${n}`);throw n}class Jc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||V.comparator(t.key,r.key):(t,r)=>V.comparator(t.key,r.key),this.keyedMap=q0(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new Jc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $V{constructor(){this.pu=new Lt(V.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):ee():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zc{constructor(e,t,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Zc(e,t,Jc.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class sre{constructor(){this.Tu=void 0,this.listeners=[]}}class ore{constructor(){this.queries=new yo(e=>hL(e),Sh),this.onlineState="Unknown",this.Eu=new Set}}function VC(n,e){return BC.apply(this,arguments)}function BC(){return(BC=D(function*(n,e){const t=U(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new sre),i)try{s.Tu=yield t.onListen(r)}catch(o){const a=Yc(o,`Initialization of query '${j0(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Au(t.onlineState),s.Tu&&e.Ru(s.Tu)&&$C(t)})).apply(this,arguments)}function UC(n,e){return jC.apply(this,arguments)}function jC(){return(jC=D(function*(n,e){const t=U(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function are(n,e){const t=U(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Ru(i)&&(r=!0);o.Tu=i}}r&&$C(t)}function lre(n,e,t){const r=U(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function $C(n){n.Eu.forEach(e=>{e.next()})}class HC{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class cre{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class HV{constructor(e){this.M=e}fi(e){return $i(this.M,e)}di(e){return e.metadata.exists?jL(this.M,e.document,!1):mt.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return gn(e)}}class ure{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zV(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=$e.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new HV(this.M);for(const i of e)if(i.metadata.queries){const s=r.fi(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||Xe()).add(s);t.set(o,a)}}return t}complete(){var e=this;return D(function*(){const t=yield function(n,e,t,r){return dC.apply(this,arguments)}(e.localStore,new HV(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield Nne(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function zV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class qV{constructor(e){this.key=e}}class GV{constructor(e){this.key=e}}class WV{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Xe(),this.mutatedKeys=Xe(),this.Uu=pL(e),this.qu=new Jc(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new $V,i=t?t.qu:this.qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=Im(this.query)&&i.size===this.query.limit?i.last():null,c=Mm(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),g=$0(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;h&&g?h.data.isEqual(g.data)?m!==b&&(r.track({type:3,doc:g}),_=!0):this.ju(h,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Uu(g,l)>0||c&&this.Uu(g,c)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),_=!0):h&&!g&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),s=b?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),Im(this.query)||Mm(this.query))for(;o.size>this.query.limit;){const u=Im(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{qu:o,Qu:r,ni:a,mutatedKeys:s}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((c,u)=>function(d,h){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return g(d)-g(h)}(c.type,u.type)||this.Uu(c.doc,u.doc)),this.Wu(r);const o=t?this.zu():[],a=0===this.Lu.size&&this.current?1:0,l=a!==this.Bu;return this.Bu=a,0!==s.length||l?{snapshot:new Zc(this.query,e.qu,i,s,e.mutatedKeys,0===a,l,!1),Hu:o}:{Hu:o}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new $V,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Xe(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new GV(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new qV(r))}),t}Yu(e){this.$u=e.li,this.Lu=Xe();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Zc.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class dre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hre{constructor(e){this.key=e,this.Zu=!1}}class fre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new yo(a=>hL(a),Sh),this.na=new Map,this.sa=new Set,this.ia=new Lt(V.comparator),this.ra=new Map,this.oa=new fC,this.ua={},this.aa=new Map,this.ca=Ha.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function pre(n,e){return zC.apply(this,arguments)}function zC(){return(zC=D(function*(n,e){const t=fS(n);let r,i;const s=t.ea.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Xu();else{const o=yield qc(t.localStore,Kr(e));t.isPrimaryClient&&Ym(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield qC(t,e,r,"current"===a)}return i})).apply(this,arguments)}function qC(n,e,t,r){return GC.apply(this,arguments)}function GC(){return(GC=D(function*(n,e,t,r){n.la=(u,d,h)=>{return(g=D(function*(m,b,_,E){let v=b.view.Gu(_);v.ni&&(v=yield Gm(m.localStore,b.query,!1).then(({documents:K})=>b.view.Gu(K,v)));const I=E&&E.targetChanges.get(b.targetId),P=b.view.applyChanges(v,m.isPrimaryClient,I);return nS(m,b.targetId,P.Hu),P.snapshot}),function(m,b,_,E){return g.apply(this,arguments)})(n,u,d,h);var g};const i=yield Gm(n.localStore,e,!0),s=new WV(e,i.li),o=s.Gu(i.documents),a=Ih.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=s.applyChanges(o,n.isPrimaryClient,a);nS(n,t,l.Hu);const c=new dre(e,t,s);return n.ea.set(e,c),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),l.snapshot})).apply(this,arguments)}function gre(n,e){return WC.apply(this,arguments)}function WC(){return(WC=D(function*(n,e){const t=U(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(s=>!Sh(s,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),qh(t.remoteStore,r.targetId),Xc(t,r.targetId)}).catch(za))):(Xc(t,r.targetId),yield Gc(t.localStore,r.targetId,!0))})).apply(this,arguments)}function KC(){return(KC=D(function*(n,e,t){const r=pS(n);try{const i=yield function(s,o){const a=U(s),l=Rt.now(),c=o.reduce((d,h)=>d.add(h.key),Xe());let u;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.ci.Ks(d,c).next(h=>{u=h;const g=[];for(const m of o){const b=Ete(m,u.get(m.key));null!=b&&g.push(new Ra(m.key,b,nL(b.value.mapValue),Gt.exists(!0)))}return a.Bs.addMutationBatch(d,l,g,o)})).then(d=>(d.applyToLocalDocumentSet(u),{batchId:d.batchId,changes:u}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ua[s.currentUser.toKey()];l||(l=new Lt(Ae)),l=l.insert(o,a),s.ua[s.currentUser.toKey()]=l}(r,i.batchId,t),yield xs(r,i.changes),yield Kc(r.remoteStore)}catch(i){const s=Yc(i,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function KV(n,e){return QC.apply(this,arguments)}function QC(){return(QC=D(function*(n,e){const t=U(n);try{const r=yield xne(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ra.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Zu=!0:i.modifiedDocuments.size>0?ye(o.Zu):i.removedDocuments.size>0&&(ye(o.Zu),o.Zu=!1))}),yield xs(t,r,e)}catch(r){yield za(r)}})).apply(this,arguments)}function QV(n,e,t){const r=U(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((s,o)=>{const a=o.view.Au(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=U(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Au(o)&&(l=!0)}),l&&$C(a)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yre(n,e,t){return YC.apply(this,arguments)}function YC(){return(YC=D(function*(n,e,t){const r=U(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),s=i&&i.key;if(s){let o=new Lt(V.comparator);o=o.insert(s,mt.newNoDocument(s,pe.min()));const a=Xe().add(s),l=new xh(pe.min(),new Map,new yt(Ae),o,a);yield KV(r,l),r.ia=r.ia.remove(s),r.ra.delete(e),rS(r)}else yield Gc(r.localStore,e,!1).then(()=>Xc(r,e,t)).catch(za)})).apply(this,arguments)}function bre(n,e){return JC.apply(this,arguments)}function JC(){return(JC=D(function*(n,e){const t=U(n),r=e.batch.batchId;try{const i=yield kne(t.localStore,e);tS(t,r,null),eS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xs(t,i)}catch(i){yield za(i)}})).apply(this,arguments)}function _re(n,e,t){return ZC.apply(this,arguments)}function ZC(){return(ZC=D(function*(n,e,t){const r=U(n);try{const i=yield function(s,o){const a=U(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.Bs.lookupMutationBatch(l,o).next(u=>(ye(null!==u),c=u.keys(),a.Bs.removeMutationBatch(l,u))).next(()=>a.Bs.performConsistencyCheck(l)).next(()=>a.ci.Ks(l,c))})}(r.localStore,e);tS(r,e,t),eS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xs(r,i)}catch(i){yield za(i)}})).apply(this,arguments)}function XC(){return(XC=D(function*(n,e){const t=U(n);Eo(t.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=U(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.Bs.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Yc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function eS(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function tS(n,e,t){const r=U(n);let i=r.ua[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function Xc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||YV(n,r)})}function YV(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(qh(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),rS(n))}function nS(n,e,t){for(const r of t)r instanceof qV?(n.oa.addReference(r.key,e),vre(n,r)):r instanceof GV?(F("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||YV(n,r.key)):ee()}function vre(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(F("SyncEngine","New document in limbo: "+t),n.sa.add(r),rS(n))}function rS(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new V($e.fromString(e)),r=n.ca.next();n.ra.set(r,new hre(t)),n.ia=n.ia.insert(t,r),Ym(n.remoteStore,new bo(Kr(Fc(t.path)),r,2,Ar.A))}}function xs(n,e,t){return iS.apply(this,arguments)}function iS(){return(iS=D(function*(n,e,t){const r=U(n),i=[],s=[],o=[];var a;r.ea.isEmpty()||(r.ea.forEach((a,l)=>{o.push(r.la(l,e,t).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);const u=lC.Ys(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.ta.Qo(i),yield(a=D(function*(l,c){const u=U(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>S.forEach(c,h=>S.forEach(h.Hs,g=>u.persistence.referenceDelegate.addReference(d,h.targetId,g)).next(()=>S.forEach(h.Js,g=>u.persistence.referenceDelegate.removeReference(d,h.targetId,g)))))}catch(d){if(!La(d))throw d;F("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const g=u.ii.get(h),b=g.withLastLimboFreeSnapshotVersion(g.snapshotVersion);u.ii=u.ii.insert(h,b)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function Ere(n,e){return sS.apply(this,arguments)}function sS(){return(sS=D(function*(n,e){const t=U(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=yield SV(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(o=>{o.forEach(a=>{a.reject(new N(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xs(t,r.hi)}var i})).apply(this,arguments)}function Cre(n,e){const t=U(n),r=t.ra.get(e);if(r&&r.Zu)return Xe().add(r.key);{let i=Xe();const s=t.na.get(e);if(!s)return i;for(const o of s){const a=t.ea.get(o);i=i.unionWith(a.view.Ku)}return i}}function Sre(n,e){return oS.apply(this,arguments)}function oS(){return(oS=D(function*(n,e){const t=U(n),r=yield Gm(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&nS(t,e.targetId,i.Hu),i})).apply(this,arguments)}function Dre(n,e){return aS.apply(this,arguments)}function aS(){return(aS=D(function*(n,e){const t=U(n);return kV(t.localStore,e).then(r=>xs(t,r))})).apply(this,arguments)}function Tre(n,e,t,r){return lS.apply(this,arguments)}function lS(){return(lS=D(function*(n,e,t,r){const i=U(n),s=yield function(o,a){const l=U(o),c=U(l.Bs);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.fn(u,a).next(d=>d?l.ci.Ks(u,d):S.resolve(null)))}(i.localStore,e);var a;null!==s?("pending"===t?yield Kc(i.remoteStore):"acknowledged"===t||"rejected"===t?(tS(i,e,r||null),eS(i,e),a=e,U(U(i.localStore).Bs)._n(a)):ee(),yield xs(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function cS(){return(cS=D(function*(n,e){const t=U(n);if(fS(t),pS(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield JV(t,r.toArray());t.ha=!0,yield PC(t.remoteStore,!0);for(const s of i)Ym(t.remoteStore,s)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Xc(t,o),Gc(t.localStore,o,!0))),qh(t.remoteStore,o)}),yield i,yield JV(t,r),function(s){const o=U(s);o.ra.forEach((a,l)=>{qh(o.remoteStore,l)}),o.oa.bi(),o.ra=new Map,o.ia=new Lt(V.comparator)}(t),t.ha=!1,yield PC(t.remoteStore,!1)}})).apply(this,arguments)}function JV(n,e,t){return uS.apply(this,arguments)}function uS(){return(uS=D(function*(n,e,t){const r=U(n),i=[],s=[];for(const o of e){let a;const l=r.na.get(o);if(l&&0!==l.length){a=yield qc(r.localStore,Kr(l[0]));for(const c of l){const u=r.ea.get(c),d=yield Sre(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=yield AV(r.localStore,o);a=yield qc(r.localStore,c),yield qC(r,ZV(c),o,!1)}i.push(a)}return r.ta.Qo(s),i})).apply(this,arguments)}function ZV(n){return uL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kre(n){const e=U(n);return U(U(e.localStore).persistence).Fs()}function xre(n,e,t,r){return dS.apply(this,arguments)}function dS(){return(dS=D(function*(n,e,t,r){const i=U(n);if(i.ha)return void F("SyncEngine","Ignoring unexpected query state notification.");const s=i.na.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield kV(i.localStore,fL(s[0])),a=xh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield xs(i,o,a);break}case"rejected":yield Gc(i.localStore,e,!0),Xc(i,e,r);break;default:ee()}})).apply(this,arguments)}function Ire(n,e,t){return hS.apply(this,arguments)}function hS(){return(hS=D(function*(n,e,t){const r=fS(n);if(r.ha){for(const i of e){if(r.na.has(i)){F("SyncEngine","Adding an already active target "+i);continue}const s=yield AV(r.localStore,i),o=yield qc(r.localStore,s);yield qC(r,ZV(s),o.targetId,!1),Ym(r.remoteStore,o)}for(const i of t)r.na.has(i)&&(yield Gc(r.localStore,i,!1).then(()=>{qh(r.remoteStore,i),Xc(r,i)}).catch(za))}})).apply(this,arguments)}function fS(n){const e=U(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yre.bind(null,e),e.ta.Qo=are.bind(null,e.eventManager),e.ta.fa=lre.bind(null,e.eventManager),e}function pS(n){const e=U(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_re.bind(null,e),e}class XV{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return D(function*(){t.M=Hh(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return CV(this.persistence,new EV,e.initialUser,this.M)}wa(e){return new Bne(pC.zi,this.M)}_a(e){return new NV}terminate(){var e=this;return D(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class e2 extends XV{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return D(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield pS(r.ya.syncEngine),yield Kc(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return CV(this.persistence,new EV,e.initialUser,this.M)}ma(e){return new wne(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=aC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new oC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,FV(),Qm(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new NV}}class Nre extends e2{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return D(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof bC&&(r.sharedClientState.syncEngine={Mr:Tre.bind(null,i),Or:xre.bind(null,i),Fr:Ire.bind(null,i),Fs:kre.bind(null,i),kr:Dre.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var s=D(function*(o){yield function(n,e){return cS.apply(this,arguments)}(r.ya.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):o||r.gcScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}_a(e){const t=FV();if(!bC.vt(t))throw new N(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=aC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gS{initialize(e,t){var r=this;return D(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>QV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ere.bind(null,r.syncEngine),yield PC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ore}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),r=new zne(e.databaseInfo);return new Wne(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>QV(this.syncEngine,a,0),o=OV.vt()?new OV:new jne,new Qne(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new fre(r,i,s,o,a,l);return c&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=D(function*(t){const r=U(t);F("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield Wc(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function t2(n,e=10240){let t=0;return{read:()=>D(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>D(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Zm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ore{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new fn,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return D(function*(){return e.metadata.promise})()}da(){var e=this;return D(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return D(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const s=yield e.ba(i);return new cre(JSON.parse(s),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return D(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return D(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return D(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Fre{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return D(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new N(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=D(function*(s,o){const a=U(s),l=Oh(a.M)+"/documents",c={documents:o.map(g=>Nh(a.M,g))},u=yield a.ho("BatchGetDocuments",l,c),d=new Map;u.forEach(g=>{const m=function(n,e){return"found"in e?function(t,r){ye(!!r.found);const i=$i(t,r.found.name),s=gn(r.found.updateTime),o=new Vn({mapValue:{fields:r.found.fields}});return mt.newFoundDocument(i,s,o)}(n,e):"missing"in e?function(t,r){ye(!!r.missing),ye(!!r.readTime);const i=$i(t,r.missing),s=gn(r.readTime);return mt.newNoDocument(i,s)}(n,e):ee()}(a.M,g);d.set(m.key.toString(),m)});const h=[];return o.forEach(g=>{const m=d.get(g.toString());ye(!!m),h.push(m)}),h}),function(s,o){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return D(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=V.fromPath(i);e.mutations.push(new z0(s,e.precondition(s)))}),yield(r=D(function*(i,s){const o=U(i),a=Oh(o.M)+"/documents",l={writes:s.map(c=>Fh(o.M,c))};yield o.oo("Commit",a,l)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ee();t=pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new N(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Gt.updateTime(t):Gt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pe.min()))throw new N(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gt.updateTime(t)}return Gt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pre{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new _C(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To(D(function*(){const t=new Fre(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.xa(s)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!xa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!kL(t)}return!1}}class Rre{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=$R.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=D(function*(a){F("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return D(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Yc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function n2(n,e){return mS.apply(this,arguments)}function mS(){return(mS=D(function*(n,e){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=D(function*(s){r.isEqual(s)||(yield SV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function r2(n,e){return yS.apply(this,arguments)}function yS(){return(yS=D(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bS(n);F("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>jV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>jV(e.remoteStore,s)),n.onlineComponents=e})).apply(this,arguments)}function bS(n){return _S.apply(this,arguments)}function _S(){return(_S=D(function*(n){return n.offlineComponents||(F("FirestoreClient","Using default OfflineComponentProvider"),yield n2(n,new XV)),n.offlineComponents})).apply(this,arguments)}function Xm(n){return wS.apply(this,arguments)}function wS(){return(wS=D(function*(n){return n.onlineComponents||(F("FirestoreClient","Using default OnlineComponentProvider"),yield r2(n,new gS)),n.onlineComponents})).apply(this,arguments)}function i2(n){return bS(n).then(e=>e.persistence)}function vS(n){return bS(n).then(e=>e.localStore)}function s2(n){return Xm(n).then(e=>e.remoteStore)}function ES(n){return Xm(n).then(e=>e.syncEngine)}function eu(n){return CS.apply(this,arguments)}function CS(){return(CS=D(function*(n){const e=yield Xm(n),t=e.eventManager;return t.onListen=pre.bind(null,e.syncEngine),t.onUnlisten=gre.bind(null,e.syncEngine),t})).apply(this,arguments)}function o2(n,e,t={}){const r=new fn;return n.asyncQueue.enqueueAndForget(D(function*(){return function(i,s,o,a,l){const c=new Zm({next:d=>{s.enqueueAndForget(()=>UC(i,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new N(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new N(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new HC(Fc(o.path),c,{includeMetadataChanges:!0,Cu:!0});return VC(i,u)}(yield eu(n),n.asyncQueue,e,t,r)})),r.promise}function a2(n,e,t={}){const r=new fn;return n.asyncQueue.enqueueAndForget(D(function*(){return function(i,s,o,a,l){const c=new Zm({next:d=>{s.enqueueAndForget(()=>UC(i,u)),d.fromCache&&"server"===a.source?l.reject(new N(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new HC(o,c,{includeMetadataChanges:!0,Cu:!0});return VC(i,u)}(yield eu(n),n.asyncQueue,e,t,r)})),r.promise}const l2=new Map;function SS(n,e,t){if(!t)throw new N(C.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function c2(n,e,t,r){if(!0===e&&!0===r)throw new N(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function u2(n){if(!V.isDocumentKey(n))throw new N(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function d2(n){if(V.isDocumentKey(n))throw new N(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ey(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ee()}function Le(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new N(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ey(n);throw new N(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function h2(n,e){if(e<=0)throw new N(C.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class f2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new N(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new N(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,c2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f2({}),this._settingsFrozen=!1,e instanceof Ts?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new N(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ts(i.options.projectId)}(e))}get app(){if(!this._app)throw new N(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new N(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qee;switch(t.type){case"gapi":const r=t.client;return ye(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Qee(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new N(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=l2.get(e);t&&(F("ComponentProvider","Removing Datastore"),l2.delete(e),t.terminate())}(this),Promise.resolve()}}class bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Bn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bn(this.firestore,e,this._query)}}class zi extends Bn{constructor(e,t,r){super(e,t,Fc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new V(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function p2(n,e,...t){if(n=Ft(n),SS("collection","path",e),n instanceof Gh){const r=$e.fromString(e,...t);return d2(r),new zi(n,null,r)}{if(!(n instanceof bt||n instanceof zi))throw new N(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return d2(r),new zi(n.firestore,null,r)}}function ty(n,e,...t){if(n=Ft(n),1===arguments.length&&(e=$R.R()),SS("doc","path",e),n instanceof Gh){const r=$e.fromString(e,...t);return u2(r),new bt(n,null,new V(r))}{if(!(n instanceof bt||n instanceof zi))throw new N(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return u2(r),new bt(n.firestore,n instanceof zi?n.converter:null,new V(r))}}function g2(n,e){return n=Ft(n),e=Ft(e),(n instanceof bt||n instanceof zi)&&(e instanceof bt||e instanceof zi)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function m2(n,e){return n=Ft(n),e=Ft(e),n instanceof Bn&&e instanceof Bn&&n.firestore===e.firestore&&Sh(n._query,e._query)&&n.converter===e.converter}class Wre{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new _C(this,"async_queue_retry"),this.qa=()=>{const t=Qm();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Qm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Qm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new fn;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return D(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!La(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,qt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=LC.createAndSchedule(this,e,t,r,s=>this.ja(s));return this.Fa.push(i),i}Ka(){this.$a&&ee()}verifyOperationInProgress(){}Wa(){var e=this;return D(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function DS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Kre{constructor(){this._progressObserver={},this._taskCompletionResolver=new fn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ct extends Gh{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Wre,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||y2(this),this._firestoreClient.terminate()}}function Kt(n){return n._firestoreClient||y2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function y2(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tte(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Rre(n._authCredentials,n._appCheckCredentials,n._queue,r)}function b2(n,e,t){const r=new fn;return n.asyncQueue.enqueue(D(function*(){try{yield n2(n,t),yield r2(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(s=i).name?s.code===C.FAILED_PRECONDITION||s.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var s})).then(()=>r.promise)}function _2(n){if(n._initialized||n._terminated)throw new N(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Is{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new N(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(nn.fromBase64String(e))}catch(t){throw new N(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qi(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ga{constructor(e){this._methodName=e}}class ny{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new N(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new N(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}const iie=/^__.*__$/;class sie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new Th(e,this.data,t,this.fieldTransforms)}}class w2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function v2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class ry{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Ya(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return oy(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(v2(this.Xa)&&iie.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class oie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Hh(e)}ac(e,t,r,i=!1){return new ry({Xa:e,methodName:t,uc:r,path:pn.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Wa(n){const e=n._freezeSettings(),t=Hh(n._databaseId);return new oie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iy(n,e,t,r,i,s={}){const o=n.ac(s.merge||s.mergeFields?2:0,e,t,i);xS("Data must be an object, but it was:",o,r);const a=S2(r,o);let l,c;if(s.merge)l=new Mc(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=IS(e,d,t);if(!o.contains(h))throw new N(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);T2(u,h)||u.push(h)}l=new Mc(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new sie(new Vn(a),l,c)}class Wh extends Ga{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function E2(n,e,t){return new ry({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class TS extends Ga{_toFieldTransform(e){return new Dh(e.path,new Rc)}isEqual(e){return e instanceof TS}}class aie extends Ga{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=E2(this,e,!0),r=this.cc.map(s=>Ka(s,t)),i=new Fa(r);return new Dh(e.path,i)}isEqual(e){return this===e}}class lie extends Ga{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=E2(this,e,!0),r=this.cc.map(s=>Ka(s,t)),i=new Pa(r);return new Dh(e.path,i)}isEqual(e){return this===e}}class cie extends Ga{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Lc(e.M,yL(e.M,this.hc));return new Dh(e.path,t)}isEqual(e){return this===e}}function AS(n,e,t,r){const i=n.ac(1,e,t);xS("Data must be an object, but it was:",i,r);const s=[],o=Vn.empty();Aa(r,(l,c)=>{const u=sy(e,l,t);c=Ft(c);const d=i.sc(u);if(c instanceof Wh)s.push(u);else{const h=Ka(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Mc(s);return new w2(o,a,i.fieldTransforms)}function kS(n,e,t,r,i,s){const o=n.ac(1,e,t),a=[IS(e,r,t)],l=[i];if(s.length%2!=0)throw new N(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(IS(e,s[h])),l.push(s[h+1]);const c=[],u=Vn.empty();for(let h=a.length-1;h>=0;--h)if(!T2(c,a[h])){const g=a[h];let m=l[h];m=Ft(m);const b=o.sc(g);if(m instanceof Wh)c.push(g);else{const _=Ka(m,b);null!=_&&(c.push(g),u.set(g,_))}}const d=new Mc(c);return new w2(u,d,o.fieldTransforms)}function C2(n,e,t,r=!1){return Ka(t,n.ac(r?4:3,e))}function Ka(n,e){if(D2(n=Ft(n)))return xS("Unsupported field value:",e,n),S2(n,e);if(n instanceof Ga)return function(t,r){if(!v2(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Ka(o,r.ic(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Ft(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yL(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Rt.fromDate(t);return{timestampValue:Mh(r.M,i)}}if(t instanceof Rt){const i=new Rt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Mh(r.M,i)}}if(t instanceof ny)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qi)return{bytesValue:RL(r.M,t._byteString)};if(t instanceof bt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.rc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:G0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${ey(t)}`)}(n,e)}function S2(n,e){const t={};return qR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(r,i)=>{const s=Ka(i,e.tc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function D2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof ny||n instanceof qi||n instanceof bt||n instanceof Ga)}function xS(n,e,t){if(!D2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ey(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function IS(n,e,t){if((e=Ft(e))instanceof Is)return e._internalPath;if("string"==typeof e)return sy(n,e);throw oy("Field path arguments must be of type string or ",n,!1,void 0,t)}const uie=new RegExp("[~\\*/\\[\\]]");function sy(n,e,t){if(e.search(uie)>=0)throw oy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Is(...e.split("."))._internalPath}catch(r){throw oy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oy(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new N(C.INVALID_ARGUMENT,a+n+l)}function T2(n,e){return n.some(t=>t.isEqual(e))}class Kh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new die(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ay("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class die extends Kh{data(){return super.data()}}function ay(n,e){return"string"==typeof e?sy(n,e):e instanceof Is?e._internalPath:e._delegate._internalPath}class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ms extends Kh{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ay("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qh extends Ms{data(e={}){return super.data(e)}}class So{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qh(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new N(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Qh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Qh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:hie(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function A2(n,e){return n instanceof Ms&&e instanceof Ms?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof So&&e instanceof So&&n._firestore===e._firestore&&m2(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function k2(n){if(Mm(n)&&0===n.explicitOrderBy.length)throw new N(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yh{}function Do(n,...e){for(const t of e)n=t._apply(n);return n}class fie extends Yh{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Wa(e.firestore),r=function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new N(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){F2(u,c);const g=[];for(const m of u)g.push(O2(a,i,m));d={arrayValue:{values:g}}}else d=O2(a,i,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||F2(u,c),d=C2(o,"where",u,"in"===c||"not-in"===c);const h=kn.create(l,c,d);return function(g,m){if(m.S()){const _=B0(g);if(null!==_&&!_.isEqual(m.field))throw new N(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${m.field.toString()}'`);const E=V0(g);null!==E&&P2(0,m.field,E)}const b=function(_,E){for(const v of _.filters)if(E.indexOf(v.op)>=0)return v.op;return null}(g,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(null!==b)throw new N(C.INVALID_ARGUMENT,b===m.op?`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`:`Invalid query. You cannot use '${m.op.toString()}' filters with '${b.toString()}' filters.`)}(i,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Bn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class gie extends Yh{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new N(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new N(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Oc(i,s);return function(a,l){if(null===V0(a)){const c=B0(a);null!==c&&P2(0,c,l.field)}}(r,o),o}(e._query,this.lc,this._c);return new Bn(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ks(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class x2 extends Yh{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Bn(e.firestore,e.converter,dL(e._query,this.wc,this.mc))}}class I2 extends Yh{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=N2(e,this.type,this.gc,this.yc);return new Bn(e.firestore,e.converter,(i=t,new ks((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class M2 extends Yh{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=N2(e,this.type,this.gc,this.yc);return new Bn(e.firestore,e.converter,(i=t,new ks((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function N2(n,e,t,r){if(t[0]=Ft(t[0]),t[0]instanceof Kh)return function(i,s,o,a,l){if(!a)throw new N(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of Pc(i))if(u.field.isKeyField())c.push(Ma(s,a.key));else{const d=a.data.field(u.field);if(F0(d))throw new N(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=u.field.canonicalString();throw new N(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new mo(c,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Wa(n.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new N(C.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let g=0;g<c.length;g++){const m=c[g];if(d[g].field.isKeyField()){if("string"!=typeof m)throw new N(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof m}`);if(!U0(s)&&-1!==m.indexOf("/"))throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${m}' contains a slash.`);const b=s.path.child($e.fromString(m));if(!V.isDocumentKey(b))throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const _=new V(b);h.push(Ma(o,_))}else{const b=C2(a,l,m);h.push(b)}}return new mo(h,u)}(n._query,n.firestore._databaseId,i,e,t,r)}}function O2(n,e,t){if("string"==typeof(t=Ft(t))){if(""===t)throw new N(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U0(e)&&-1!==t.indexOf("/"))throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!V.isDocumentKey(r))throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ma(n,new V(r))}if(t instanceof bt)return Ma(n,t._key);throw new N(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ey(t)}.`)}function F2(n,e){if(!Array.isArray(n)||0===n.length)throw new N(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new N(C.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function P2(n,e,t){if(!t.isEqual(e))throw new N(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class MS{convertValue(e,t="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ee()}}convertObject(e,t){const r={};return Aa(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new ny(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=GR(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const t=po(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);ye(GL(r));const i=new Ts(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(t)||qt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function ly(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Cie extends MS{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}class R2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wa(e)}set(e,t,r){this._verifyNotCommitted();const i=To(e,this._firestore),s=ly(i.converter,t,r),o=iy(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Gt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=To(e,this._firestore);let o;return o="string"==typeof(t=Ft(t))||t instanceof Is?kS(this._dataReader,"WriteBatch.update",s._key,t,r,i):AS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Gt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=To(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(t._key,Gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new N(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function To(n,e){if((n=Ft(n)).firestore!==e)throw new N(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ya extends MS{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function L2(n,e,t){n=Le(n,bt);const r=Le(n.firestore,Ct),i=ly(n.converter,e,t);return tu(r,[iy(Wa(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Gt.none())])}function V2(n,e,t,...r){n=Le(n,bt);const i=Le(n.firestore,Ct),s=Wa(i);let o;return o="string"==typeof(e=Ft(e))||e instanceof Is?kS(s,"updateDoc",n._key,e,t,r):AS(s,"updateDoc",n._key,e),tu(i,[o.toMutation(n._key,Gt.exists(!0))])}function B2(n,...e){var t,r,i;n=Ft(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||DS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(DS(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof bt)c=Le(n.firestore,Ct),u=Fc(n._key.path),l={next:d=>{e[o]&&e[o](NS(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Le(n,Bn);c=Le(d.firestore,Ct),u=d._query;const h=new Ya(c);l={next:g=>{e[o]&&e[o](new So(c,h,d,g))},error:e[o+1],complete:e[o+2]},k2(n._query)}return function(d,h,g,m){const b=new Zm(m),_=new HC(h,b,g);return d.asyncQueue.enqueueAndForget(D(function*(){return VC(yield eu(d),_)})),()=>{b.Ia(),d.asyncQueue.enqueueAndForget(D(function*(){return UC(yield eu(d),_)}))}}(Kt(c),u,a,l)}function tu(n,e){return function(t,r){const i=new fn;return t.asyncQueue.enqueueAndForget(D(function*(){return function(n,e,t){return KC.apply(this,arguments)}(yield ES(t),r,i)})),i.promise}(Kt(n),e)}function NS(n,e,t){const r=t.docs.get(e._key),i=new Ya(n);return new Ms(n,i,e._key,r,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}class Oie extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wa(e)}get(e){const t=To(e,this._firestore),r=new Cie(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ee();const s=i[0];if(s.isFoundDocument())return new Kh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Kh(this._firestore,r,t._key,null,t.converter);throw ee()})}set(e,t,r){const i=To(e,this._firestore),s=ly(i.converter,t,r),o=iy(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=To(e,this._firestore);let o;return o="string"==typeof(t=Ft(t))||t instanceof Is?kS(this._dataReader,"Transaction.update",s._key,t,r,i):AS(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=To(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=To(e,this._firestore),r=new Ya(this._firestore);return super.get(e).then(i=>new Ms(this._firestore,r,t._key,i._document,new Qa(!1,!1),t.converter))}}function OS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new N("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function j2(){if("undefined"==typeof Uint8Array)throw new N("unimplemented","Uint8Arrays are not available in this environment.")}function $2(){if("undefined"==typeof atob)throw new N("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){xc=Lg,la(new so("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Ct(i,new Wee(t.getProvider("auth-internal")),new Yee(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),yi(BR,"3.4.8",n),yi(BR,"3.4.8","esm2017")}();class Jh{constructor(e){this._delegate=e}static fromBase64String(e){return $2(),new Jh(qi.fromBase64String(e))}static fromUint8Array(e){return j2(),new Jh(qi.fromUint8Array(e))}toBase64(){return $2(),this._delegate.toBase64()}toUint8Array(){return j2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FS(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class Hie{enableIndexedDbPersistence(e,t){return function(n,e){_2(n=Le(n,Ct));const t=Kt(n),r=n._freezeSettings(),i=new gS;return b2(t,i,new e2(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){_2(n=Le(n,Ct));const e=Kt(n),t=n._freezeSettings(),r=new gS;return b2(e,r,new Nre(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new N(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fn;return n._queue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{yield(t=D(function*(r){if(!wi.vt())return Promise.resolve();const i=r+"main";yield wi.delete(i)}),function(r){return t.apply(this,arguments)})(aC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class H2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ts||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const s=(n=Le(n,Gh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&gh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=An.MOCK_USER;else{o=function(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ng(JSON.stringify({alg:"none",type:"JWT"})),Ng(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new N(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new An(l)}n._authCredentials=new Gee(new UR(o,a))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue(D(function*(){const e=yield i2(n),t=yield s2(n);return e.setNetworkEnabled(!0),function(r){const i=U(r);return i.fu.delete(0),zh(i)}(t)}))}(Kt(n=Le(n,Ct)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue(D(function*(){const e=yield i2(n),t=yield s2(n);return e.setNetworkEnabled(!1),(r=D(function*(i){const s=U(i);s.fu.add(0),yield Wc(s),s.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Kt(n=Le(n,Ct)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,c2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new fn;return e.asyncQueue.enqueueAndForget(D(function*(){return function(n,e){return XC.apply(this,arguments)}(yield ES(e),t)})),t.promise}(Kt(n=Le(n,Ct)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Zm(e);return n.asyncQueue.enqueueAndForget(D(function*(){return r=yield eu(n),i=t,U(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget(D(function*(){return r=yield eu(n),i=t,void U(r).Eu.delete(i);var r,i}))}}(Kt(n=Le(n,Ct)),DS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new N("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nu(this,p2(this._delegate,e))}catch(t){throw nr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yr(this,ty(this._delegate,e))}catch(t){throw nr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rr(this,function(n,e){if(n=Le(n,Gh),SS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new N(C.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bn(n,null,(t=e,new ks($e.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw nr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new fn;return n.asyncQueue.enqueueAndForget(D(function*(){const r=yield(i=n,Xm(i).then(s=>s.datastore));var i;new Pre(n.asyncQueue,r,e,t).run()})),t.promise}(Kt(n=Le(n,Ct)),t=>e(new Oie(n,t)))}(this._delegate,t=>e(new z2(this,t)))}batch(){return Kt(this._delegate),new q2(new R2(this._delegate,e=>tu(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Kt(n=Le(n,Ct)),r=new Kre;return function(n,e,t,r){const i=function(s,o){let a;return a="string"==typeof s?(new TextEncoder).encode(s):s,l=function(l,c){if(l instanceof Uint8Array)return t2(l,c);if(l instanceof ArrayBuffer)return t2(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),new Ore(l,o);var l}(t,Hh(e));n.asyncQueue.enqueueAndForget(D(function*(){!function(n,e,t){const r=U(n);var i;(i=D(function*(s,o,a){try{const l=yield o.getMetadata();if(yield function(h,g){const m=U(h),b=gn(g.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",_=>m._s.getBundleMetadata(_,g.id)).then(_=>!!_&&_.createTime.compareTo(b)>=0)}(s.localStore,l))return yield o.close(),a._completeWith({taskState:"Success",documentsLoaded:(h=l).totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}),Promise.resolve(new Set);a._updateProgress(zV(l));const c=new ure(l,s.localStore,o.M);let u=yield o.da();for(;u;){const h=yield c.ku(u);h&&a._updateProgress(h),u=yield o.da()}const d=yield c.complete();return yield xs(s,d.Fu,void 0),yield function(h,g){const m=U(h);return m.persistence.runTransaction("Save bundle","readwrite",b=>m._s.saveBundleMetadata(b,g))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.Ou)}catch(l){return gh("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}var h}),function(s,o,a){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ES(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue(D(function*(){return function(t,r){const i=U(t);return i.persistence.runTransaction("Get named query","readonly",s=>i._s.getNamedQuery(s,r))}(yield vS(n),e)}))}(Kt(n=Le(n,Ct)),e).then(t=>t?new Bn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new rr(this,t):null)}}class cy extends MS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jh(new qi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yr.forKey(t,this.firestore,null)}}class z2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cy(e)}get(e){const t=Za(e);return this._delegate.get(t).then(r=>new Zh(this._firestore,new Ms(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Za(e);return r?(OS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Za(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Za(e);return this._delegate.delete(t),this}}class q2{constructor(e){this._delegate=e}set(e,t,r){const i=Za(e);return r?(OS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Za(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Za(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ja{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xh(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ja.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Ja(e,new cy(e),t),i.set(t,s)),s}}Ja.INSTANCES=new WeakMap;class Yr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new N("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yr(t,new bt(t._delegate,r,new V(e)))}static forKey(e,t,r){return new Yr(t,new bt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nu(this.firestore,p2(this._delegate,e))}catch(t){throw nr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Ft(e))instanceof bt&&g2(this._delegate,e)}set(e,t){t=OS("DocumentReference.set",t);try{return t?L2(this._delegate,e,t):L2(this._delegate,e)}catch(r){throw nr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?V2(this._delegate,e):V2(this._delegate,e,t,...r)}catch(i){throw nr(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return tu(Le(n.firestore,Ct),[new Ah(n._key,Gt.none())])}(this._delegate)}onSnapshot(...e){const t=G2(e),r=W2(e,i=>new Zh(this.firestore,new Ms(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return B2(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Le(n,bt);const e=Le(n.firestore,Ct),t=Kt(e),r=new Ya(e);return function(n,e){const t=new fn;return n.asyncQueue.enqueueAndForget(D(function*(){return(r=D(function*(i,s,o){try{const a=yield function(l,c){const u=U(l);return u.persistence.runTransaction("read document","readonly",d=>u.ci.Ls(d,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new N(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Yc(a,`Failed to get document '${s} from cache`);o.reject(l)}}),function(i,s,o){return r.apply(this,arguments)})(yield vS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ms(e,r,n._key,i,new Qa(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Le(n,bt);const e=Le(n.firestore,Ct);return o2(Kt(e),n._key,{source:"server"}).then(t=>NS(e,n,t))}(this._delegate):function(n){n=Le(n,bt);const e=Le(n.firestore,Ct);return o2(Kt(e),n._key).then(t=>NS(e,n,t))}(this._delegate),t.then(r=>new Zh(this.firestore,new Ms(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yr(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}function nr(n,e,t){return n.message=n.message.replace(e,t),n}function G2(n){for(const e of n)if("object"==typeof e&&!FS(e))return e;return{}}function W2(n,e){var t,r;let i;return i=FS(n[0])?n[0]:FS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Zh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return A2(this._delegate,e._delegate)}}class Xh extends Zh{data(e){const t=this._delegate.data(e);return function(n,e){n||ee()}(void 0!==t),t}}class rr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cy(e)}where(e,t,r){try{return new rr(this.firestore,Do(this._delegate,function(n,e,t){const r=e,i=ay("where",n);return new fie(i,r,t)}(e,t,r)))}catch(i){throw nr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rr(this.firestore,Do(this._delegate,function(n,e="asc"){const t=e,r=ay("orderBy",n);return new gie(r,t)}(e,t)))}catch(r){throw nr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rr(this.firestore,Do(this._delegate,function(n){return h2("limit",n),new x2("limit",n,"F")}(e)))}catch(t){throw nr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rr(this.firestore,Do(this._delegate,function(n){return h2("limitToLast",n),new x2("limitToLast",n,"L")}(e)))}catch(t){throw nr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rr(this.firestore,Do(this._delegate,function(...n){return new I2("startAt",n,!0)}(...e)))}catch(t){throw nr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rr(this.firestore,Do(this._delegate,function(...n){return new I2("startAfter",n,!1)}(...e)))}catch(t){throw nr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rr(this.firestore,Do(this._delegate,function(...n){return new M2("endBefore",n,!1)}(...e)))}catch(t){throw nr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rr(this.firestore,Do(this._delegate,function(...n){return new M2("endAt",n,!0)}(...e)))}catch(t){throw nr(t,"endAt()","Query.endAt()")}}isEqual(e){return m2(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Le(n,Bn);const e=Le(n.firestore,Ct),t=Kt(e),r=new Ya(e);return function(n,e){const t=new fn;return n.asyncQueue.enqueueAndForget(D(function*(){return(r=D(function*(i,s,o){try{const a=yield Gm(i,s,!0),l=new WV(s,a.li),c=l.Gu(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=Yc(a,`Failed to execute query '${s} against cache`);o.reject(l)}}),function(i,s,o){return r.apply(this,arguments)})(yield vS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new So(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Le(n,Bn);const e=Le(n.firestore,Ct),t=Kt(e),r=new Ya(e);return a2(t,n._query,{source:"server"}).then(i=>new So(e,r,n,i))}(this._delegate):function(n){n=Le(n,Bn);const e=Le(n.firestore,Ct),t=Kt(e),r=new Ya(e);return k2(n._query),a2(t,n._query).then(i=>new So(e,r,n,i))}(this._delegate),t.then(r=>new PS(this.firestore,new So(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=G2(e),r=W2(e,i=>new PS(this.firestore,new So(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return B2(this._delegate,t,r)}withConverter(e){return new rr(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}class qie{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qie(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Xh(this._firestore,r))})}isEqual(e){return A2(this._delegate,e._delegate)}}class nu extends rr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yr(this.firestore,e):null}doc(e){try{return new Yr(this.firestore,void 0===e?ty(this._delegate):ty(this._delegate,e))}catch(t){throw nr(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Le(n.firestore,Ct),r=ty(n),i=ly(n.converter,e);return tu(t,[iy(Wa(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Gt.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Yr(this.firestore,t))}isEqual(e){return g2(this._delegate,e._delegate)}withConverter(e){return new nu(this.firestore,this._delegate.withConverter(e?Ja.getInstance(this.firestore,e):null))}}function Za(n){return Le(n,bt)}class RS{constructor(...e){this._delegate=new Is(...e)}static documentId(){return new RS(pn.keyField().canonicalString())}isEqual(e){return(e=Ft(e))instanceof Is&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xa{constructor(e){this._delegate=e}static serverTimestamp(){const e=new TS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Xa(e)}static delete(){const e=new Wh("deleteField");return e._methodName="FieldValue.delete",new Xa(e)}static arrayUnion(...e){const t=function(...n){return new aie("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xa(t)}static arrayRemove(...e){const t=function(...n){return new lie("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xa(t)}static increment(e){const t=function(n){return new cie("increment",n)}(e);return t._methodName="FieldValue.increment",new Xa(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Gie={Firestore:H2,GeoPoint:ny,Timestamp:Rt,Blob:Jh,Transaction:z2,WriteBatch:q2,DocumentReference:Yr,DocumentSnapshot:Zh,Query:rr,QueryDocumentSnapshot:Xh,QuerySnapshot:PS,CollectionReference:nu,FieldPath:RS,FieldValue:Xa,setLogLevel:function(n){!function(n){fo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new so("firestore-compat",t=>((e,t)=>new H2(e,t,new Hie))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Gie)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.17")}(PX);let ef=(()=>{class n{constructor(){this.firebaseConfig={apiKey:"AIzaSyCSYHn4OMZfXeoW0TEFTqnwgwuS_I0FqCI",authDomain:"gramulardatabase.firebaseapp.com",databaseURL:"https://gramulardatabase-default-rtdb.firebaseio.com",projectId:"gramulardatabase",storageBucket:"gramulardatabase.appspot.com",messagingSenderId:"765198495430",appId:"1:765198495430:web:c54cd6006c9b84307031c7",measurementId:"G-KGM1GEWG1T"},this.app=Xv(this.firebaseConfig),this.db=function(n=dF()){return Zv(n,"firestore/lite").getImmediate()}(this.app)}static getAcademicStyles(){throw new Error("Method not implemented.")}getAcademicStyles(){return io(this,void 0,void 0,function*(){let t={};const r=_a(pa(this.db,"academicstyle"));return(yield wa(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}getEggcorns(){return io(this,void 0,void 0,function*(){let t={};const r=_a(pa(this.db,"eggcorns"));return(yield wa(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}getGrammar(){return io(this,void 0,void 0,function*(){const t=_a(pa(this.db,"grammar"));(yield wa(t)).forEach(i=>{console.log(i.id," => ",i.data())})})}getNorminlizations(){return io(this,void 0,void 0,function*(){const t=_a(pa(this.db,"norminlizations"));(yield wa(t)).forEach(i=>{console.log(i.id," => ",i.data())})})}getPassiveVoice(){return io(this,void 0,void 0,function*(){const t=_a(pa(this.db,"passivevoice"));(yield wa(t)).forEach(i=>{console.log(i.id," => ",i.data())})})}getTransitions(){return io(this,void 0,void 0,function*(){let t={};const r=_a(pa(this.db,"transitions"));return(yield wa(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}getWordiness(){return io(this,void 0,void 0,function*(){let t={};const r=_a(pa(this.db,"wordiness"));return(yield wa(r)).forEach(s=>{var o=s.data().wrong,a=s.data().fixed;t[o]=a}),t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gi=(()=>{class n{constructor(){this.passiveVoiceAlertColorSource=new oe.BehaviorSubject(" "),this.currentPassiveVoiceAlertColor=this.passiveVoiceAlertColorSource.asObservable(),this.passiveVoiceFeedbackSource=new oe.BehaviorSubject(" "),this.currentPassiveVoiceFeedback=this.passiveVoiceFeedbackSource.asObservable(),this.passiveVoiceScoreSource=new oe.BehaviorSubject(0),this.currentPassiveVoiceScore=this.passiveVoiceScoreSource.asObservable(),this.passiveVoiceNumberSource=new oe.BehaviorSubject(0),this.currentPassiveVoiceNumber=this.passiveVoiceNumberSource.asObservable(),this.passiveVoiceTableSource=new oe.BehaviorSubject({" abode":""," arisen":""," awoken":""," alit":""," babysat":""," been":""," borne":""," beaten":""," become":""," befallen":""," bent":""," begun":""," bereft":""," besought":""," beheld":""," bet":""," bound":""," bidden":""," bitten":""," bled":""," blown":""," broken":""," bred":""," brought":""," broadcast":""," built":""," burnt":""," burst":""," bust":""," bought":""," cast":""," caught":""," chosen":""," cloven":""," cleft":""," clung":""," clad":""," come":""," crept":""," cost":""," cut":""," dealt":""," dug":""," done":""," drawn":""," dreamt":""," drunk":""," dwelt":""," driven":""," eaten":""," fallen":""," fed":""," felt":""," fought":""," found":""," fit":""," fled":""," flung":""," flown":""," forbidden":""," forgotten":""," forecast":""," foretold":""," forsaken":""," forgiven":""," frozen":""," gotten":""," got":""," gainsaid":""," given":""," gone":""," ground":""," grown":""," hung":""," had":""," heard":""," hove":""," hewn":""," hidden":""," hit":""," held":""," hurt":""," kept":""," knit":""," knelt":""," laden":""," known":""," lain":""," led":""," left":""," lent":""," leant":""," learnt":""," let":""," lit":""," lost":""," leapt":""," made":""," meant":""," mistaken":""," mown":""," met":""," offset":""," overtaken":""," paid":""," put":""," quit":""," read":""," ridden":""," redone":""," recast":""," rent":""," rebuilt":""," rung":""," risen":""," rid":""," run":""," said":""," sawn":""," seen":""," sewn":""," sold":""," sent":""," set":""," shaken":""," shit":""," shone":""," shed":""," shot":""," shown":""," shut":""," sung":""," sunk":""," sat":""," slept":""," shaven":""," slid":""," slit":""," spoken":""," spent":""," slain":""," spelt":""," spilt":""," spat":""," sprung":""," spoilt":""," spun":""," sped":""," spread":""," stood":""," slunk":""," smitten":""," stolen":""," slung":""," stuck":""," stung":""," struck":""," strung":""," strewn":""," sworn":""," smelt":""," swept":""," shrunk":""," stridden":""," striven":""," swum":""," sought":""," sweat":""," shorn":""," swung":""," swollen":""," taken":""," taught":""," torn":""," told":""," thought":""," thriven":""," thrown":""," thrust":""," understood":""," undone":""," upset":""," woken":""," worn":""," won":""," withdrawn":""," written":""," trodden":""," waylaid":""," woven":""," wed":""," wept":""," went":""," wet":""," wound":""," wrung":""," abashed":""," abated":""," absorbed":""," accepted":""," accompanied":""," ached":""," achieved":""," acquired":""," acted":""," added":""," addressed":""," adjusted":""," admired":""," admitted":""," advised":""," afforded":""," agreed":""," allowed":""," animated":""," announced":""," answered":""," apologized":""," appeared":""," applauded":""," applied":""," approeached":""," approved":""," argued":""," arranged":""," arrested":""," asked":""," asserted":""," assorted":""," astonished":""," attacked":""," attended":""," attracted":""," audited":""," avoided":""," banged":""," banished":""," bashed":""," batted":""," beautified":""," begged":""," behaved":""," believed":""," belonged":""," betrayed":""," blessed":""," blossomed":""," blurred":""," blushed":""," boarded":""," boasted":""," boiled":""," bowed":""," boxed":""," brayed":""," breathed":""," brushed":""," buried":""," buzzed":""," calculated":""," called":""," canvassed":""," captured":""," caressed":""," carried":""," carved":""," cashed":""," caused":""," ceased":""," celebrated":""," challenged":""," changed":""," charged":""," chased":""," chatted":""," checked":""," cheered":""," chewed":""," chipped":""," choked":""," classified":""," cleaned":""," clicked":""," climbed":""," closed":""," clutched":""," collapsed":""," collected":""," coloured":""," commented":""," compared":""," compelled":""," competed":""," complained":""," completed":""," concluded":""," conducted":""," confessed":""," confined":""," confiscated":""," confused":""," congratulated":""," connected":""," connoted":""," conquered":""," consecrated":""," consented":""," conserved":""," considered":""," consigned":""," consisted":""," consoled":""," consorted":""," conspired":""," constitued":""," constrained":""," constructed":""," construed":""," consulted":""," contained":""," contemned":""," contended":""," contested":""," continued":""," contracted":""," contradicted":""," contrasted":""," contributed":""," contrived":""," controlled":""," convened":""," converged":""," conversed":""," converted":""," conveyed":""," convicted":""," convinced":""," cooed":""," cooked":""," cooled":""," co-operated":""," copied":""," corrected":""," corresponded":""," corroded":""," corrupted":""," coughed":""," counselled":""," counted":""," coursed":""," covered":""," cowered":""," cracked":""," crackled":""," crashed":""," craved":""," created":""," cribbed":""," crossed":""," crowded":""," crushed":""," cried":""," curbed":""," cured":""," curved":""," cycled":""," damaged":""," damped":""," danced":""," dared":""," dashed":""," dazzled":""," decayed":""," decided":""," declared":""," decorated":""," decreased":""," dedicated":""," delayed":""," deleted":""," denied":""," depended":""," deprived":""," derived":""," described":""," desired":""," destroyed":""," detached":""," detected":""," determined":""," developed":""," died":""," differed":""," digested":""," dimmed":""," diminished":""," dined":""," dipped":""," directed":""," disappeared":""," discovered":""," discussed":""," disobeyed":""," distributed":""," disturbed":""," disused":""," dived":""," divided":""," donated":""," downloaded":""," dragged":""," dressed":""," drilled":""," dropped":""," dried":""," dumped":""," dyed":""," earned":""," educated":""," empowered":""," emptied":""," encircled":""," encouraged":""," encroached":""," endangered":""," endorsed":""," endured":""," engraved":""," enjoyed":""," enlarged":""," enlightened":""," entered":""," envied":""," erased":""," escaped":""," evaporated":""," exchanged":""," exclaimed":""," excluded":""," existed":""," expanded":""," expected":""," explained":""," explored":""," expressed":""," extended":""," eyed":""," faced":""," failed":""," fainted":""," fanned":""," fancied":""," favoured":""," faxed":""," ferried":""," fetched":""," filled":""," finished":""," fished":""," fitted":""," fixed":""," fizzed":""," flapped":""," flashed":""," floated":""," flopped":""," folded":""," followed":""," forced":""," formed":""," founded":""," framed":""," freed":""," frightened":""," fried":""," fulfilled":""," gagged":""," gained":""," gashed":""," gazed":""," glanced":""," glittered":""," glowed":""," googled":""," governed":""," grabbed":""," graded":""," granted":""," greeted":""," gripped":""," guarded":""," guessed":""," guided":""," handled":""," happened":""," harmed":""," hatched":""," hated":""," healed":""," helped":""," hindered":""," hissed":""," hoaxed":""," hopped":""," hoped":""," horrified":""," hugged":""," hummedd":""," humiliated":""," hunted":""," hurled":""," hurried":""," hushed":""," hustled":""," hypnotized":""," idealized":""," identified":""," idolized":""," ignited":""," ignored":""," ill-treated":""," illuminated":""," illumined":""," illustrated":""," imagined":""," imbibed":""," imitated":""," immersed":""," immolated":""," immmured":""," impaired":""," imparted":""," impeached":""," impeded":""," impelled":""," impended":""," imperilled":""," impinged":""," implanted":""," implicated":""," imploded":""," implored":""," implied":""," imported":""," imposed":""," impressed":""," imprinted":""," imprisoned":""," improved":""," inaugurated":""," incised":""," included":""," increased":""," inculcaded":""," indented":""," indicated":""," induced":""," indulged":""," infected":""," infested":""," inflamed":""," inflated":""," inflected":""," informed":""," infringed":""," infused":""," ingested":""," inhabited":""," inhaled":""," inherited":""," initialed":""," injected":""," injured":""," inlaid":""," innovated":""," inquired":""," inscribed":""," inserted":""," inspected":""," inspired":""," installed":""," insulted":""," insured":""," integrated":""," introduced":""," invented":""," invited":""," joined":""," jumped":""," justified":""," kicked":""," kidded":""," killed":""," kissed":""," knocked":""," landed":""," lasted":""," latched":""," laughed":""," laid":""," leaked":""," leered":""," licked":""," lied":""," lifted":""," liked":""," limped":""," listened":""," lived":""," looked":""," loved":""," magnified":""," maintained":""," managed":""," marched":""," marked":""," married":""," mashed":""," matched":""," mattered":""," measured":""," melted":""," merged":""," mewed":""," migrated":""," milked":""," minded":""," misled":""," missed":""," misused":""," mixed":""," moaned":""," modified":""," mooed":""," motivated":""," moulded":""," moulted":""," moved":""," multiplied":""," murmured":""," nailed":""," napped":""," needed":""," neglected":""," nipped":""," nodded":""," noted":""," noticed":""," notified":""," nourished":""," nursed":""," obeyed":""," obliged":""," observed":""," obstructed":""," obtained":""," occupied":""," ocurred":""," offered":""," omitted":""," oozed":""," opened":""," operated":""," opined":""," oppressed":""," opted":""," optimized":""," ordered":""," organized":""," originated":""," overflowed":""," owed":""," owned":""," pacified":""," painted":""," pardoned":""," parted":""," partaken":""," participated":""," passed":""," pasted":""," patted":""," patched":""," paused":""," peeped":""," perished":""," permitted":""," persuaded":""," phoned":""," placed":""," planned":""," played":""," pled":""," pleased":""," plodded":""," plotted":""," plucked":""," plied":""," pointed":""," polished":""," polluted":""," pondered":""," poured":""," pouted":""," practised":""," praised":""," prayed":""," preached":""," preferred":""," prepared":""," prescribed":""," presented":""," preserved":""," presided":""," pressed":""," pretended":""," prevented":""," printed":""," proceeded":""," produced":""," progressed":""," prohibited":""," promised":""," proposed":""," prosecuted":""," protected":""," proved":""," provided":""," pulled":""," punished":""," purified":""," pushed":""," qualified":""," quarrelled":""," questioned":""," raced":""," rained":""," rattled":""," reached":""," realized":""," recalled":""," received":""," recited":""," recognized":""," recollected":""," recurred":""," reduced":""," referred":""," reflected":""," refused":""," regarded":""," regretted":""," related":""," relaxed":""," relied":""," remained":""," remade":""," removed":""," renewed":""," renounced":""," repaired":""," repeated":""," replaced":""," replied":""," reported":""," requested":""," resold":""," resembled":""," reset":""," resisted":""," resolved":""," respected":""," rested":""," restrained":""," retained":""," retched":""," retired":""," returned":""," reused":""," reviewed":""," rewound":""," roared":""," robbed":""," rolled":""," rotted":""," rubbed":""," ruled":""," rushed":""," sabotaged":""," sacked":""," sacrificed":""," saddened":""," saddled":""," sagged":""," sailed":""," sallied":""," saluted":""," salvaged":""," salved":""," sampled":""," sanctioned":""," sanctified":""," sapped":""," saponified":""," sashed":""," sashayed":""," sassed":""," sated":""," satiated":""," satirised":""," satisfied":""," saturated":""," sauntered":""," saved":""," savored":""," savvied":""," scabbed":""," scabbled":""," scalded":""," scaled":""," scammed":""," scanned":""," scanted":""," scarred":""," scared":""," scarified":""," scarped":""," scatted":""," scattered":""," scolded":""," scorched":""," scowled":""," scrawled":""," screamed":""," screwed":""," scrubbed":""," searched":""," seated":""," secured":""," seemed":""," seized":""," selected":""," sentenced":""," separated":""," severed":""," shaped":""," shared":""," shattered":""," shirked":""," shipped":""," shivered":""," shocked":""," shortened":""," shouted":""," shunned":""," sighted":""," signalled":""," signified":""," sipped":""," skied":""," skidded":""," slammed":""," slimmed":""," slipped":""," smashed":""," smiled":""," smoothed":""," snapped":""," snatched":""," sneaked":""," sneezed":""," sniffed":""," soared":""," sobbed":""," solicited":""," solved":""," soothed":""," sorted":""," sowed":""," sparkled":""," sprayed":""," sprouted":""," squeezed":""," stared":""," started":""," stated":""," stayed":""," steeped":""," stemmed":""," stepped":""," sterilized":""," stimulated":""," stirred":""," stitched":""," stooped":""," stopped":""," stored":""," strained":""," strayed":""," stressed":""," stretched":""," studied":""," submitted":""," subscribed":""," subtracted":""," succeeded":""," sucked":""," suffered":""," suggested":""," summoned":""," supplied":""," supported":""," supposed":""," surged":""," surmised":""," surpassed":""," surrounded":""," surveyed":""," survived":""," swallowed":""," swayed":""," swotted":""," talked":""," tapped":""," tasted":""," taxed":""," teed":""," tempted":""," tended":""," terminated":""," terrified":""," tested":""," thanked":""," thumped":""," tied":""," tired":""," tossed":""," touched":""," trained":""," trampled":""," transferred":""," transformed":""," translated":""," trapped":""," travelled":""," treasured":""," treated":""," treed":""," trembled":""," triumphed":""," trusted":""," tried":""," turned":""," typed":""," uprooted":""," urged":""," used":""," uttered":""," valued":""," vanished":""," varied":""," verified":""," vexed":""," vied":""," viewed":""," violated":""," vomited":""," walked":""," wandered":""," wanted":""," warned":""," wasted":""," watched":""," watered":""," waved":""," waxed":""," weighed":""," welcomed":""," whipped":""," whispered":""," wished":""," worked":""," worried":""," worshipped":""," yawned":""," yelled":""," yielded":""," zincked":""," zoomed":""}),this.currentPassiveVoiceTable=this.passiveVoiceTableSource.asObservable(),this.passiveVoiceHelperTableSource=new oe.BehaviorSubject({" is":""," isn't":""," is not":""," 's":""," 's not":""," are":""," aren't":""," are not":""," 're":""," 're not":""," was":""," wasn't":""," was not":""," were":""," weren't":""," were not":""," be":""," being":""," having":""," been":""}),this.currentPassiveVoiceHelperTable=this.passiveVoiceHelperTableSource.asObservable(),this.passiveVoiceUserTableSource=new oe.BehaviorSubject({}),this.currentPassiveVoiceUserTable=this.passiveVoiceUserTableSource.asObservable()}changePassiveVoiceAlertColor(t){this.passiveVoiceAlertColorSource.next(t)}changePassiveVoiceFeedback(t){this.passiveVoiceFeedbackSource.next(t)}changePassiveVoiceScore(t){this.passiveVoiceScoreSource.next(t)}changePassiveVoiceNumber(t){this.passiveVoiceNumberSource.next(t)}changePassiveVoiceTable(t){this.passiveVoiceTableSource.next(t)}changePassiveVoiceHelperTable(t){this.passiveVoiceHelperTableSource.next(t)}changePassiveVoiceUserTable(t){this.passiveVoiceUserTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wi=(()=>{class n{constructor(t){this.testFireBase=t,this.wordinessAlertColorSource=new oe.BehaviorSubject(" "),this.currentWordinessAlertColor=this.wordinessAlertColorSource.asObservable(),this.wordinessFeedbackSource=new oe.BehaviorSubject(" "),this.currentWordinessFeedback=this.wordinessFeedbackSource.asObservable(),this.wordinessScoreSource=new oe.BehaviorSubject(0),this.currentWordinessScore=this.wordinessScoreSource.asObservable(),this.wordinessNumberSource=new oe.BehaviorSubject(0),this.currentWordinessNumber=this.wordinessNumberSource.asObservable(),this.wordinessTableSource=new oe.BehaviorSubject(this.testFireBase.getWordiness()),this.currentWordinessTable=this.wordinessTableSource.asObservable(),this.wordinessUserTableSource=new oe.BehaviorSubject({}),this.currentWordinessUserTable=this.wordinessUserTableSource.asObservable()}changeWordinessAlertColor(t){this.wordinessAlertColorSource.next(t)}changeWordinessFeedback(t){this.wordinessFeedbackSource.next(t)}changeWordinessScore(t){this.wordinessScoreSource.next(t)}changeWordinessNumber(t){this.wordinessNumberSource.next(t)}changeWordinessTable(t){this.wordinessTableSource.next(t)}changeWordinessUserTable(t){this.wordinessUserTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(ef))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ki=(()=>{class n{constructor(t){this.testFireBase=t,this.transitionsAlertColor=new oe.BehaviorSubject(" "),this.currentTransitionsAlertColor=this.transitionsAlertColor.asObservable(),this.transitionsFeedback=new oe.BehaviorSubject(" "),this.currentTransitionsFeedback=this.transitionsFeedback.asObservable(),this.transitionsScore=new oe.BehaviorSubject(0),this.currentTransitionsScore=this.transitionsScore.asObservable(),this.totalTransitions=new oe.BehaviorSubject(0),this.currentTotalTransitions=this.totalTransitions.asObservable(),this.transitionsTable=new oe.BehaviorSubject(this.testFireBase.getTransitions()),this.currentTransitionsTable=this.transitionsTable.asObservable(),this.transitionsUserTable=new oe.BehaviorSubject({}),this.currentTransitionsUserTable=this.transitionsUserTable.asObservable()}changeTransitionsScore(t){this.transitionsScore.next(t)}changeTotalTransitions(t){this.totalTransitions.next(t)}changeTable(t){this.transitionsTable.next(t)}changeTransitionsUserTable(t){this.transitionsUserTable.next(t)}changeTransitionsFeedback(t){this.transitionsFeedback.next(t)}changeTransitionsAlertColor(t){this.transitionsAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(ef))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qi=(()=>{class n{constructor(t){this.testFireBase=t,this.grammarAlertColor=new oe.BehaviorSubject(" "),this.currentGrammarAlertColor=this.grammarAlertColor.asObservable(),this.grammarFeedback=new oe.BehaviorSubject(" "),this.currentGrammarFeedback=this.grammarFeedback.asObservable(),this.grammarScore=new oe.BehaviorSubject(0),this.currentGrammarScore=this.grammarScore.asObservable(),this.totalGrammar=new oe.BehaviorSubject(0),this.currentTotalGrammar=this.totalGrammar.asObservable(),this.grammarTable=new oe.BehaviorSubject({"a 100":"100, a hundred, one hundred","a 1000":"1000, a thousand, one thousand","a 11":"an 11","a 11th":"an 11th","a 18":"an 18","a 18th":"an 18th","a 8":"an 8","a 80":"an 80","a 8th":"an 8th","a absolute":"an absolute","a accident":"an accident","a acoustic":"an acoustic","a acronym":"an acronym","a action":"an action","a actual":"an actual","a additional":"an additional","a affair":"an affair","a African":"an African","a album":"an album","a Algerian":"an Algerian","a alien":"an alien","a alternative":"an alternative","a AM":"an AM","a amateur":"an amateur","a American":"an American","a amount":"an amount","Although,":"However,","a analog":"an analog","a analogue":"an analogue","a angle":"an angle","a Angolan":"an Angolan","a annual":"an annual","a another":"another","a antenna":"an antenna","a anti":"an anti","a Arabian":"an Arabian","a Arabic":"an Arabic","a Argentine":"an Argentine","a Armenian":"an Armenian","a Asian":"an Asian","a assistant":"an assistant","a associate":"an associate","a Australian":"an Australian","a Austrian":"an Austrian","a average":"an average","a back up":"a back-up, a backup","a bacteria":"a bacterium [singular], bacteria [plural]","a batsmen":"a batsman [singular]","a businessmen":"a businessman [singular]","a businesswomen":"a businesswoman","a consortia":"a consortium [singular]","a criteria":"a criterion [singular]","a dominate":"a dominant","a early":"an early","a effective":"an effective","a Egyptian":"an Egyptian","a eight":"an eight","a eighth":"an eighth","a eighteen":"an eighteen","a eighteenth":"an eighteenth","a eighty":"an eighty","a electric":"an electric","a electronic":"an electronic","a eleven":"an eleven","a eleventh":"an eleventh","a elite":"an elite","a embedded":"an embedded","a English":"an English","a entire":"an entire","a EP":"an EP","a epic":"an epic","a episode":"an episode","a equal":"an equal","a estimate":"an estimate","a Ethiopian":"an Ethiopian","a ethnic":"an ethnic","a example":"an example","a extra":"an extra","a falling out":"a falling-out [though Wiktionary has both]","a firemen":"a fireman [singular]","a flagella":"a flagellum [singular]","a FM":"an FM","a freshmen":"a freshman [singular]","a fungi":"a fungus [singular]","a gunmen":"a gunman [singular]","a impact":"an impact","a independent":"an independent","a Indian":"an Indian","a individual":"an individual","a Indonesian":"an Indonesian","a indoor":"an indoor","a information":"an information","a initiative":"an initiative","a intelligent":"an intelligent","a interesting":"an interesting","a interim":"an interim","a interior":"an interior","a intermediate":"an intermediate","a international":"an international","a Internet":"an Internet","a intersection":"an intersection","a interview":"an interview","a introduction":"an introduction","a Iranian":"an Iranian","a Iraqi":"an Iraqi","a Irish":"an Irish","a iron":"an iron","a island":"an island","a Israeli":"an Israeli","a issue":"an issue","a Italian":"an Italian","a larvae":"a larva [singular]","a line up":"a line-up, a lineup","a lock out":"a lockout","a lose":"a loss","a match up":"a match-up, a matchup","a media for":"a medium for","a nuclei":"a nucleus [singular]","a ocean":"an ocean","a official":"an official","a Ohio":"an Ohio","a oil":"an oil","a old":"an old","a one of the":"one of the","a online":"an online","a only":"an only, only a","a only a":"only a","a opinion":"an opinion","a organization":"an organization","a original":"an original","a other":"an other","a outbreak":"an outbreak","a outdoor":"an outdoor","a outside":"an outside","a overtime":"an overtime","a owner":"an owner","a paparazzi":"a paparazzo [singular], paparazzi [plural]","a parentheses":"a parenthesis [singular]","a phenomena":"a phenomenon [singular], phenomena [plural]","a protozoa":"a protozoon [singular], protozoa [plural]","a pupae":"a pupa [singular]","a radii":"a radius [singular]","a run in":"a run-in","a set back":"a set-back, a setback","a set up":"a setup","a simple as":"as simple as","a spermatozoa":"a spermatozoon [singular]","a statesmen":"a statesman [singular]","a taxa":"a taxon [singular]","a toss up":"a toss-up, a tossup","a two months":"a two-month","a ultimate":"an ultimate","a undercover":"an undercover","a underground":"an underground","a unfortunate":"an unfortunate","a unusual":"an unusual","a upper":"an upper","a urban":"an urban","a vertebrae":"a vertebra [singular]","a women":"a woman [singular]","a work out":"a workout","Aboriginal decent":"Aboriginal descent","about it's":" about its [possessive]","about they're":" about their [possessive]","about who to":"about whom to","about who's":" about whose [possessive]","above it's":" above its [possessive]","AC current":"AC, alternating current","ACL ligament":"ACL, anterior cruciate ligament","across it's":" across its [possessive]","affect on":"effect on","affect upon":"effect upon","affects of":"effects of","African decent":"African descent","after along time":"after a long time","after awhile":"after a while [noun]","after been":"after being","after it's":" after its [possessive]","after quite awhile":"after quite a while","against it's":" against its [possessive]","against who":"against whom","ago since":"since","agree in principal":"agree in principle","agreement in principal":"agreement in principle","Air Canada Center":"Air Canada Centre","airplane hanger":"airplane hangar","Albanian decent":"Albanian descent","all for not":"all for naught","all it's":" all its","all though":"although","all tolled":"all told","allot of":"a lot of","alma matter":"alma mater","along it's":" along its [possessive]","along side":"alongside","along time":"a long time","alongside it's":" alongside its [possessive]","alongside with":"along with, alongside","also know as":"also known as","also know by":"also known by","also know for":"also known for","alter boy":"altar boy","alter server":"altar server","AM in the morning":"AM, in the morning","am loathe to":"am loath to [adjective]","American decent":"American descent","amid it's":" amid its [possessive]","amidst it's":" amidst its [possessive]","among it's":" among its [possessive]","among others things":"among other things","amongst it's":" amongst its [possessive]","an affect":"an effect","an alumnae of":"an alumna of [singular]","an alumni of":"an alumnus of [singular]","an another":"another","an antennae":"an antenna [singular]","an British":"a British","an Canadian":"a Canadian","an European":"a European","an head":"a head","an hero":"a hero","an new":"a new","an nine":"a nine","an number":"a number","an other":"another","an Scottish":"a Scottish","an seven":"a seven","an six":"a six","an ten":"a ten","an unit":"a unit","an Unix":"a Unix","an USB":"a USB","and etc":"etc","and so fourth":"and so forth","another criteria":"another criterion [singular]","another wise":"an otherwise","another words":"in other words, other words","any where":"anywhere",anyways:"anyway","apart form":"apart from","apart of":"a part of, apart from","are aloud to":"are allowed to","are been":"are being, have been","are build":"are built","are can":"can","are have":"have","are it's":" are its [possessive]","are know as":"are known as","are know by":"are known by","are know for":"are known for","are know to":"are known to","are lain":"are laid","are lead by":"are led by","are loathe to":"are loath to [adjective]","are ran by":"are run by","are renown":"are renowned","are set-up":"are set up","are setup":"are set up","are shutdown":"are shut down","are shutout":"are shut out","are suppose to":"are supposed to","are the dominate":"are the dominant","are use to":"are used to","are were":"are, are where, were","Armenian decent":"Armenian descent","around it's":" around its [possessive]","as a resulted":"as a result","as apposed to":"as opposed to","as back up":"as backup"," as been":"as being, has been","as followed":"as follows","as it's":" as its [possessive]","as oppose to":"as opposed to","Asian decent":"Asian descent","aside it's":" aside its [possessive]","assume the reigns":"assume the reins","assume the roll":"assume the role","at it's":" at its [possessive]","at the alter":"at the altar","at the reigns":"at the reins","ATM machine":"ATM, automated teller machine","away form":"away from","back and fourth":"back and forth","back drop":"backdrop","back fire":"backfire [verb]","back in forth":"back and forth","back peddle":"backpedal","back round":"background","badly effected":"badly affected","baited breath":"bated breath","baled out":"bailed out [though Wiktionary and the COD allow both spellings]","baling out":"bailing out [ditto]","barb wire":"barbed wire","bare in mind":"bear in mind","based off":"based on","based out of":"based in","basic principal":"basic principle","be build":"be built","be cause":"because","be drew":"be drawn","be it's":" be its","be know as":"be known as","be lain":"be laid","be lead by":"be led by","be loathe to":"be loath to","be ran":"be run","be rode":"be ridden","be set-up":"be set up","be setup":"be set up","be use to":"be used to","be ware":"beware","became know":"became known","became to be":"became, came to be","because of it's":" because of its","because of the fact that":"because","been a while":"been awhile","been build":"been built","been it's":" been its","been know":"been known","been lain":"been laid","been lead by":"been led by","been loathe to":"been loath to","been ran":"been run","been rode":"been ridden","been set-up":"been set up [verb]","been setup":"been set up","been show on":"been shown on","been use to":"been used to","before hand":"beforehand","before it's":" before its","behind it's":" behind its","being build":"being built","being giving":"been giving, being given","being it's":" being its","being lain":"being laid","being lead by":"being led by","being loathe to":"being loath to","being ran":"being run","being rode":"being ridden","being set-up":"being set up","being setup":"being set up","being show on":"being shown on","being taking":"been taking, being taken","below it's":" below its","beneath it's":" beneath its","beside it's":" beside its","besides it's":" besides its","better know as":"better known as","better know for":"better known for","better that":"better than","better then":"better than","between he and":"between him and","between I and":"between me and","between it's":" between its","between she and":"between her and","between they and":"between them and","beyond it's":" beyond its","Bogota, Columbia ":"Bogot","both it's":" both its","both of it's":" both of its","both of them is":"both of them are","brake away":"break away","breath fire":"breathe fire","breathe a sign of relief":"breathe a sigh of relief","brew haha":"brouhaha","Brinsley Schwartz":"Brinsley Schwarz","by fisherman":"by fishermen","by it's":" by its","by who's":" by whose","can backup":"can back up","can been":"can be","can blackout":"can black out","can breath":"can breathe","can checkout":"can check out","can playback":"can play back","can setup":"can set up","can tryout":"can try out","can workout":"can work out","can't breath":" can't breathe","card shark":"card sharp","chalk full":"chock-full","chocked full":"chock-full","chomping at the bit":"champing at the bit","close proximity":"closeness, proximity","commonly know as":"commonly known as","commonly know for":"commonly known for","comprise of":"comprise, consist of","comprised almost entirely of":"composed almost entirely of, consisting almost entirely of","comprised chiefly of":"composed chiefly of, comprised chiefly, consisting chiefly of","comprised entirely of":"composed entirely of, consisting entirely of","comprised exclusively of":"composed exclusively of, consisting exclusively of","comprised generally of":"composed generally of, comprised generally, consisting generally of","comprised largely of":"composed largely of, consisting largely of","comprised mainly of":"composed mainly of, comprised mainly, consisting mainly of","comprised mostly of":"composed mostly of, consisting mostly of","comprised of":"composed of, comprised, consisting of","comprised only of":"composed only of, comprised only, consisting only of","comprised primarily of":"composed primarily of","comprised principally of":"composed principally of","comprised totally of":"composed totally of, comprised totally, consisting totally of","comprised wholly of":"composed wholly of, consisting wholly of","comprises entirely of":"comprises entirely, consists entirely of","comprises exclusively of":"comprises exclusively, composed exclusively of","comprises mainly of":"comprises mainly, consists mainly of","comprises mostly of":"comprises mostly, consists mostly of","comprises of":"comprises, consists of","comprises only of":"comprises only, composed only of, consists only of","comprising chiefly of":"comprising chiefly, consisting chiefly of","comprising entirely of":"comprising entirely, consisting entirely of","comprising exclusively of":"comprising exclusively, consisting exclusively of","comprising generally of":"comprising generally, consisting generally of","comprising largely of":"comprising largely, consisting largely of","comprising mainly of":"comprising mainly, consisting mainly of","comprising mostly of":"comprising mostly, consisting mostly of","comprising of":"comprising, consisting of","comprising only of":"comprising only, consisting only of","comprising primarily of":"comprising primarily, consisting primarily of","comprising principally of":"comprising principally, consisting principally of","comprising totally of":"comprising totally, consisting totally of","comprising wholly of":"comprising wholly, consisting wholly of","constellation prize":"consolation prize","constitutes of":"consists of, constitutes","construction sight":"construction site","contains of":"consists of, contains","could backup":"could back up","could breath":"could breathe","could care less":" couldn't care less","could of":"could have","couldn't breath":" couldn't breathe","daily regiment":"daily regimen","DC current":"DC, direct current","de factor":"de facto","different tact":"different tack","diffuse the situation":"defuse the situation","diffuse the tension":"defuse the tension","disc break":"disc brake","dominate player":"dominant player","dominate role":"dominant role}","door jam":"door jamb","down side":"downside","drum breaks":"drum brakes","due to the fact":"because","during in":"during","during it's":" during its","during they're":" during their","each alumni":"each alumnus [singular]","each are":"each is","each criteria":"each criterion [singular]","each has their":"each has its","each phenomena":"each phenomenon [singular]","each vertebrae":"each vertebra [singular]","easier then":"easier than","egg yoke":"egg yolk","either criteria":"either criterion","either phenomena":"either phenomenon","electrical current":"electric current","eluded to":"alluded to","en mass":"en masse","even thought":"even though","even tough":"even though","eye brow":"eyebrow","eye lash":"eyelash","eye lid":"eyelid","eye sight":"eyesight","eye sore":"eyesore","faired as well":"fared as well","faired badly":"fared badly","faired better":"fared better","faired far":"fared far","faired less":"fared less","faired little":"fared little","faired much":"fared much","faired no better":"fared no better","faired poorly":"fared poorly","faired quite":"fared quite","faired rather":"fared rather","faired slightly":"fared slightly","faired somewhat":"fared somewhat","faired well":"fared well","faired worse":"fared worse","farther then":"farther than","faster then":"faster than","figure head":"figurehead","first and foremost":"first, foremost","First Word War":"First World War","flag ship":"flagship","flow of current":"current, flow of charge","flow of electric current":"electric current, flow of electric charge","follow suite":"follow suit","for all intensive purposes":"for all intents and purposes","for along time":"for a long time","for awhile":"for a while","for it's":" for its","for quite awhile":"for quite a while","forgone conclusion":"foregone conclusion","formally know as":"formerly known as - but only if the change can be verified","formerly know as":"formerly known as","forth place":"fourth place","free reign":"free rein","freshman are":"freshman is, freshmen are","full compliment of":"full complement of","get pass":"get past","get setup":"get set up","get use to":"get used to","getting use to":"getting used to","going threw":"going through","got ran":"got run","got setup":"got set up","got shutdown":"got shut down","got shutout":"got shut out","ground work":"groundwork","guest stared":"guest-starred","had arose":"had arisen","had aroke":"had awoken","had became":"had become","had began":"had begun","had being":"had been","had bore":"had borne","had broke":"had broken","had brung":"had brought","had came":"had come","had chose":"had chosen","had comeback":"had come back","had did":"had done","had drank":"had drunk","had drew":"had drawn","had drove":"had driven","had fell":"had fallen","had flew":"had flown","had forbad":"had forbidden","had forbade":"had forbidden","had gave":"had given","had grew":"had grown","had it's":" had its","had lead to":"had led to","had overtook":"had overtaken","had plead":"had pleaded, had pled","had ran":"had run","had rang":"had rung","had rode":"had ridden","had rose":"had risen","had sang":"had sung","had saw":"had seen","had set-up":"had set up","had setup":"had set up","had shook":"had shaken","had sowed":"had sown","had spoke":"had spoken","had sprang":"had sprung","had swam":"had swum","had threw":"had thrown","had throve":"had thriven, had thrived","had thunk":"had thought","had took":"had taken","had trod":"had trodden","had undertook":"had undertaken","had underwent":"had undergone","had went":"had gone","had woke":"had woken","had wrote":"had written","hand the reigns":"hand the reins","has arose":"has arisen","has became":"has become","has began":"began, has begun","has build":"has built","has drank":"has drunk","has it's":" has its","has lead to":"has led to","has ran":"has run","has sang":"has sung","has setup":"has set up","has shook":"has shaken","has spoke":"has spoken","has sprang":"has sprung","has swam":"has swum","has threw":"has thrown","has throve":"has thriven, has thrived","has thunk":"has thought","has took":"has taken","has trod":"has trodden","has undertook":"has undertaken","has underwent":"has undergone","has was":"he was, was","has went":"has gone","has woke":"has woken","has wrote":"has written","have drank":"have drunken","have it's":" have its","have lead to":"have led to","have ran":"have run","have sang":"have sung","have setup":"have set up","have sprang":"have sprung","have swam":"have swum","have took":"have taken","have underwent":"have undergone","have went":"have gone","having being":"having been","having ran":"having run","having sang":"having sung","having setup":"having set up","having swam":"having swum","having took":"having taken","having went":"having gone","hay day":"heyday","he begun":"he began","he garnished":"he garnered","he let's":" he lets","he plead":"he pleaded, he pled","he seen":"he saw","he use to":"he used to","he's drank":" he's drunk","head gear":"headgear","head quarters":"headquarters","head stone":"headstone","head wear":"headwear","held the reigns":"held the reins","help and make":"help to make","higher then":"higher than","hit the breaks":"hit the brakes","hold onto":"hold on to","hold the reigns":"hold the reins","holding the reigns":"holding the reins","holds the reigns":"holds the reins","hone in on":"home in on","how ever":"however","imminent domain":"eminent domain","in affect":"in effect","in along time":"in a long time","in anyway":"in any way","in awhile":"in a while","in close proximity to":"close to, in proximity to","in edition to":"in addition to","in it's":" in its","in January 1":"on January 1, etc.","in masse":"en masse, in massam","in parenthesis":"in parentheses","in placed":"in place","in principal":"in principle","in quite awhile":"in quite a while","in stead of":"instead of","in tact":"intact","in the long-term":"in the long term","in the short-term":"in the short term","in titled":"entitled","in vein":"in vain","incase of":"in case of","inorder to":"in order to","into affect":"into effect","is also know":"is also known","is be ":"is, is to be","is been":"has been, is being","is comprised from":"comprises","is comprised with":"comprises","is contained of":"contains","is front of":"in front of, is in front of","is has":"has, it has","is know to be":"is known to be","is lead by":"is led by","is loathe to":"is loath to","is ran by":"is run by","is renown for":"is renowned for","is setup":"is set up","is use to":"is used to","it begun":"it began","it comprises of":"it comprises","it lead to":"it led to","it lied":"it lay","it self":"itself","it setup":"it set up","it use to":"it used to","it's 10th":" its 10th","it's 4th":" its 4th","it's 5th":" its 5th","it's advantage":" its advantage","it's aim":" its aim","it's annual":" its annual","it's best":" its best","it's class":" its class","it's color":" its color [Amer]","it's colour":" its colour [Brit]","it's contents":" its contents","it's course":" its course","it's current":" its current","it's debut":" its debut","it's doors":" its doors","it's eastern":" its eastern","it's end":" its end","it's entire":" its entire","it's final":" its final","it's first":" its first","it's former":" its former","it's fourth":" its fourth","it's goal":" its goal","it's highest":" its highest","it's history":" its history","it's home":" its home","it's inception":" its inception","it's initial":" its initial","it's junction":" its junction","it's kind":" its kind","it's lack":" its lack","it's last":" its last","it's latest":" its latest","it's lead":" its lead","it's leader":" its leader","it's length":" its length","it's lowest":" its lowest","it's maximum":" its maximum","it's minimum":" its minimum","it's money":" its money","it's name":" its name","it's north":" its north","it's northern":" its northern","it's original":" its original","it's own":" its own","it's peak":" its peak","it's period":" its period","it's previous":" its previous","it's price":" its price","it's primary":" its primary","it's prime":" its prime","it's purpose":" its purpose","it's release":" its release","it's rival":" its rival","it's second":" its second","it's south":" its south","it's southern":" its southern","it's successor":" its successor","it's tail":" its tail","it's target":" its target","it's tenth":" its tenth","it's theme":" its theme","it's third":" its third","it's timeslot":" its timeslot","it's toll":" its toll","it's total":" its total","it's type":" its type","it's way":" its way","it's western":" its western","it's worst":" its worst","its is":"it is","Jimmy Buffet":"Jimmy Buffett","Jimmy Hendrix":"Jimi Hendrix","jive with":"jibe with","key note":"keynote","lack there of":"lack thereof","laid ahead":"lay ahead","laid dormant":"lay dormant","laid empty":"lay empty","laid fallow":"lay fallow","laid in state":"lay in state","larger that":"larger than","larger then":"larger than","laughing stock":"laughingstock","law suite":"lawsuit","lay around":"lie around","lay low":"lie low","laying around":"lying around","laying awake":"lying awake","laying low":"lying low","lays atop":"lies atop","lays beside":"lies beside","lays in":"lies in","lays low":"lies low","lays near":"lies near","lays on":"lies on","lead by":"led by","lead roll":"lead role","leading roll":"leading role","less dominate":"less dominant","less that":"less than","less then":"less than","lesser then":"less than","life time":"lifetime","lighter then":"lighter than","lions share":" lion's share","loose to":"lose to","loosing effort":"losing effort","loosing record":"losing record","loosing season":"losing season","loosing streak":"losing streak","loosing team":"losing team","loosing the":"losing the","loosing to":"losing to","lot's of":"lots of, many, much","lower that":"lower than","lower then":"lower than","made it's":" made its","mainly know as":"mainly known as","mainly know for":"mainly known for","major roll":"major role","make it's":" make its","managerial reigns":"managerial reins","mash potatoes":"mashed potatoes","may been":"may be, may have been","maybe be":"may be","MCL ligament":"MCL, medial collateral ligament","mean while":"meanwhile","might of":"might have","Milwaukee, Oregon ":"Milwaukie, Oregon","minor roll":"minor role","more dominate":"more dominant","more often then":"more often than [comparative]","more optimal":"better","more that":"more than","more then":"more than [comparative]","most dominate":"most dominant","most optimal":"best, optimal","most populace":"most populous","most well-known":"best-known","mostly know as":"mostly known as","mostly know for":"mostly known for","must of":"must have","mute point":"moot point","nation wide":"nationwide","near by":"nearby","neither criteria":"neither criterion","neither phenomena":"neither phenomenon","Netherland Antilles":"Netherlands Antilles","new comer":"newcomer","next store":"next-door","no where to":"nowhere to","note worthy":"noteworthy","now a days":"nowadays","of been":"have been, of being","of it's own":" of its own","of who to":"of whom to","oil barron":"oil baron","on going":"ongoing","on it's own":" on its own","on-going":"ongoing","one in the same":"one and the same","one criteria":"one criterion","one phenomena":"one phenomenon","originally born in":"born in","originally know as":"originally known as","other then":"other than","out grow":"outgrow","out of sink":"out of sync","out side":"outside","over a 100":"over 100, over a hundred, over one hundred","over a 1000":"over 1000, over a thousand, over one thousand","over hear":"overhear","over heard":"overheard","over look":"overlook","over looked":"overlooked","over looking":"overlooking","over rated":"overrated","over seas":"overseas","over see":"oversee","over who to":"over whom to","parent's house":" parents' house","past away":"passed away, died","past down":"passed down","peak his interest":"pique his interest","per say":"per se","Phillips Arena":"Philips Arena","player's union":" players' union","playoff birth":"playoff berth","Portland Trailblazers":"Portland Trail Blazers","premier episode":"premiere episode","principle action":"principal action","principle activity":"principal activity","principle actor":"principal actor","principle advantage":"principal advantage","principle advocate":"principal advocate","principle agent":"principal agent","principle aim":"principal aim","principle area":"principal area","principle artist":"principal artist","principle assistant":"principal assistant","principle attraction":"principal attraction","principle author":"principal author","principle branch":"principal branch","principle cast":"principal cast","principle caste":"principal caste","principle cause":"principal cause","principle character":"principal character","principle church":"principal church","principle city":"principal city","principle component":"principal component","principle composer":"principal composer","principle goal":"principal goal","principle group":"principal group","principle method":"principal method","principle office":"principal office","principle officer":"principal officer","principle owner":"principal owner","principle photography":"principal photography","principle source":"principal source","principle student":"principal student","principle town":"principal town","put fourth":"put forth","rather then":"rather than","reek havoc":"wreak havoc","reign in":"rein in","reigned in":"reined in","reigns of power":"reins of power","reticence to":"reluctance to","reticent to":"reluctant to","role call":"roll call","roll player":"role player","runner up":"runner-up","saddle up to":"sidle up to","Second Word War":"Second World War","set backs":"setbacks","she begun":"she began","she let's":" she lets","she seen":"she saw","she weighted":"she waited, she weighed","short coming":"shortcoming","shorter then":"shorter than","shortly there after":"shortly thereafter","should backup":"should back up","should been":"should be, should have been","should not of":"should not have","should of":"should have","should've went":" should have gone","side affect":"side effect","side kick":"sidekick [person]","simply know as":"simply known as","since it's":" since its","since many years":"for many years","since years":"for years","single handily":"single-handedly","site lines":"sight lines","slight of hand":"sleight of hand","slue of":"slew of","smaller then":"smaller than","smarter then":"smarter than","sneak peak":"sneak peek","some how":"somehow","some one":"someone","some what":"somewhat","some where":"somewhere","sometimes know as":"sometimes known as","soon there after":"soon thereafter","sooner then":"sooner than","sophomore album":"second album","sophomore single":"second single","spilt among":"split among","spilt between":"split between","spilt into":"split into","spilt up":"split up","spinal chord":"spinal cord","spitting image":"spit and image","split in to":"split into","sq ft":"ft","sq in":"in","sq km":"km","sq mi":"mi","squared feet":"square feet","squared inches":"square inches","squared kilometers":"square kilometers","squared meters":"square meters","squared miles":"square miles","stale mate":"stalemate","staring role":"starring role","starring roll":"starring role","stay a while":"stay awhile","Stevie Ray Vaughn":"Stevie Ray Vaughan","Straight of":"Strait of [geography]","strike outs":"strikeouts","stronger then":"stronger than","suppose to":"supposed to","take affect":"take effect","take over the reigns":"take over the reins","take the reigns":"take the reins","taken the reigns":"taken the reins","taking the reigns":"taking the reins","teacher's union":" teachers' union","ten times less than":"one tenth as much as","than it's":" than its","that maybe":"that may be","the 1st of January":"1 January etc","the are":"they are","the break down":"the breakdown","the break up":"the breakup","the clamp down":"the clampdown","the follow up":"they follow-up","the had":"they had","the much of the":"much of the","the one of the":"one of the","the were":"they were","their are":"there are","their had":"there had","their has":"there has","their have":"there have","their is":"there is","their was":"there was","their were":"there were","their would":"there would","them selves":"themselves","there after":"thereafter","there by":"thereby","there maybe":"there may be","there of":"thereof","there own":"their own","there where":"there were","these maybe":"these may be","these where":"these were","they garnished":"they garnered","they maybe":"they may be","they way":"the way","they where":"they were","this criteria":"these criteria [plural], this criterion [singular]","this lead to":"this led to","this maybe":"this may be","this phenomena":"this phenomenon [singular]","those maybe":"those may be","through it's":" through its","through out":"threw out, throughout","through the ringer":"through the wringer","throughout it's":" throughout its","time outs":"timeouts","to back fire":"to backfire","to back-off":"to back off","to back-up":"to back up [verb]","to backoff":"to back off","to backout":"to back out","to backup":"to back up [verb]","to bailout":"to bail out","to bath":"to bathe","to be build":"to be built","to be setup":"to be set up","to blackout":"to black out","to blastoff":"to blast off [verb]","to blowout":"to blow out [verb]","to blowup":"to blow up [verb]","to breakdown":"to break down [verb]","to breath":"to breathe","to buildup":"to build up","to built":"to build","to buyout":"to buy out [verb]","to chose":"to choose","to comeback":"to come back [verb]","to crackdown":"to crack down [verb]","to cutback":"to cut back [verb]","to dropout":"to drop out [verb]","to forego":"to forgo","to grown":"to grow","to have lead to":"to have led to","to holdout":"to hold out [verb]","to kickoff":"to kick off [verb]","to lit":"to light","to loath":"to loathe [verb]","to lockout":"to lock out [verb]","to markup":"to mark up [verb]","to pickup":"to pick up [verb]","to playback":"to play back [verb]","to rollback":"to roll back [verb]","to runaway":"to run away [verb]","to setup":"to set up [verb]","to shut-down":"to shut down","to shutdown":"to shut down","to spin-off":"to spin off","to spinoff":"to spin off","to takeover":"to take over [verb]","to that affect":"to that effect","to they're":" to their","to together":"together","to try and":"to try to","to tryout":"to try out [verb]","to turnaround":"to turn around","to turnoff":"to turn off","to turnout":"to turn out","to turnover":"to turn over","to wakeup":"to wake up","to walkout":"to walk out","to workaround":"to work around","to workout":"to work out","too also":"also, to also, too","too be":"to be","took affect":"took effect","took and interest":"took an interest","took over the reigns":"took over the reins","took the reigns":"took the reins","tot he":"to the","tried to used":"tried to use","try and achieve":"try to achieve","try and add":"try to add","try and answer":"try to answer","try and attract":"try to attract","try and avoid":"try to avoid","try and be":"try to be","try and beat":"try to beat","try and become":"try to become","try and bring":"try to bring","try and build":"try to build","try and catch":"try to catch","try and change":"try to change","try and come":"try to come","try and decide":"try to decide","try and do":"try to do","try and eat":"try to eat","try and escape":"try to escape","try and figure":"try to figure","try and find":"try to find","try and fix":"try to fix","try and gain":"try to gain","try and get":"try to get","try and give":"try to give","try and go":"try to go","try and help":"try to help","try and hide":"try to hide","try and hit":"try to hit","try and hold":"try to hold","try and keep":"try to keep","try and locate":"try to locate","try and make":"try to make","try and move":"try to move","try and obtain":"try to obtain","try and play":"try to play","try and prevent":"try to prevent","try and protect":"try to prove","try and prove":"try to prove","try and see":"try to see","try and show":"try to show","try and slow":"try to slow","try and solve":"try to solve","try and spare":"try to spare","try and start":"try to start","try and stay":"try to stay","try and stop":"try to stop","try and support":"try to support","try and take":"try to take","try and talk":"try to talk","try and tell":"try to tell","try and understand":"try to understand","try and use":"try to use","try and win":"try to win","turn for the worst":"turn for the worse","twice as much than":"twice as much as","two in a half":"two and a half","two times less than":"half as much as","under go":"undergo","under going":"undergoing","under gone":"undergone","under it's":" under its","under rated":"underrated","under take":"undertake","under wear":"underwear","under went":"underwent","underneath it's":" underneath its","United State's":" United States'","United Stats":"United States","Unites States":"United States","unlike it's":" unlike its","until it's":" until its","up field":"upfield","up it's":" up its","up side":"upside","up until":"until","upon it's":" upon its","USD dollars":"US dollars, USD",USD$:"US dollars, US$","use to":"used to, commonly","use to be":"used to be","use to have":"used to have","usually know as":"usually known as","usually know by":"usually known by","usually know for":"usually known for","very minimal":"minimal, very little, very small","very optimal":"optimal, very good","very unique":"unique, very unusual","via it's":" via its","VIN number":"vehicle identification number, VIN","vise versa":"vice versa","vocal chords":"vocal cords, vocal folds","waived off":"waved off","warn out":"worn out","was aloud":"was allowed","was be ":"was, was being, was to be","was been":"has been, was being","was began":"was begun","was build":"was built","was comprised from":"comprised, was composed from","was comprised with":"comprised","was do to":"was due to","was drew":"was drawn","was knew":"was known","was lain":"was laid","was laying on":"was lying on","was lead by":"was led by","was loathe to":"was loath to","was meet by":"was met by","was meet with":"was met with","was ran":"was run","was release":"was released","was reran":"was rerun","was rode":"was ridden","was sang":"was sung","was setup":"was set up","was shook":"was shaken","was show on":"was shown on","was showed":"was shown","was shutdown":"was shut down","was shutout":"was shut out","was sold-out":"was sold out","was suppose to":"was supposed to","was though that":"was thought that","was took":"was taken","was tore":"was torn","was wrote":"was written","was use to":"was used to","way side":"wayside","weather or not":"whether or not","went threw":"went through","were aloud":"were allowed","were been":"have been, were being","were began":"were begun","were build":"were built","were comprised with":"comprised","were drew":"were drawn","were lain":"were laid","were lead by":"were led by","were loathe to":"were loath to","were meet by":"were met by","were meet with":"were met with","were ran":"were run","were rode":"were ridden","were sang":"were sung","were setup":"were set up","were showed":"were shown","were shutdown":"were shut down","were shutout":"were shut out","were suppose to":"were supposed to","were took":"were taken","were tore":"were torn","were use to":"were used to","were wrote":"were written","wether or not":"whether or not","when into":"went into","when on to":"went on to","where abouts":"whereabouts","where as":"whereas","where being":"were being","where by":"whereby","where made":"were made","where taken":"were taken","where upon":"whereupon","which breakdown":"which break down","which had lead":"which had led","which has lead":"which has led","which have lead":"which have led","which maybe":"which may be","which where":"which were","who had lead":"who had led","who has lead":"who has led","who have lead":"who have led","who he led":"whom he led","who he married":"whom he married","who he met":"whom he met","who he took":"whom he took","who lead":"who led","who maybe":"who may be","who setup":"who set up","who to believe":"whom to believe","who to blame":"whom to blame","who to call":"whom to call","who to invite":"whom to invite","who to send":"whom to send","who use to":"who used to","who where":"who were","who's actual":" whose actual","who's brother":" whose brother","who's father":" whose father","who's first":" whose first","who's last":" whose last","who's mother":" whose mother","who's name":" whose name","who's own":" whose own","who's previous":" whose previous","whom also":"who also","whom is":"who is","whom was":"who was","will backup":"will back up","will comprise of":"will be composed of, will comprise, will consist of","will likely":"will probably","will workout":"will work out","with he":"with him, with the","with in":"within","with it's":" with its","with out":"without","with who":"with whom","within it's":" within its","within site of":"within sight of","without it's":" without its","Word War I":"World War I","Word War II":"World War II","working progress":"work in progress","world wide":"worldwide","worse that":"worse than","worse then":"worse than","worse-case scenario":"worst-case scenario","worst comes to worst":"worse comes to worst","worst than":"worse than","worth while":"worthwhile","would been":"would be, would have been","would comeback":"would come back","would comprise of":"would comprise, would consist of","would of":"would have","would workout":"would work out","wreck havoc":"wreak havoc","younger that":"younger than","younger then":"younger than","%er then":"than","base on":"based on ('base on' may be acceptable, depending on context)","its an":"it's an"}),this.currentGrammarTable=this.grammarTable.asObservable(),this.grammarUserTable=new oe.BehaviorSubject({}),this.currentGrammarUserTable=this.grammarUserTable.asObservable()}changeTotalGrammar(t){this.totalGrammar.next(t)}changeGrammarTable(t){this.grammarTable.next(t)}changeGrammarUserTable(t){this.grammarUserTable.next(t)}changeGrammarFeedback(t){this.grammarFeedback.next(t)}changeGrammarAlertColor(t){this.grammarAlertColor.next(t)}changeGrammarScore(t){this.grammarScore.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(ef))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yi=(()=>{class n{constructor(){this.eggcornsAlertColor=new oe.BehaviorSubject(" "),this.currentEggcornsAlertColor=this.eggcornsAlertColor.asObservable(),this.eggcornsFeedback=new oe.BehaviorSubject(" "),this.currentEggcornsFeedback=this.eggcornsFeedback.asObservable(),this.eggcornsScore=new oe.BehaviorSubject(0),this.currentEggcornsScore=this.eggcornsScore.asObservable(),this.totalEggcorns=new oe.BehaviorSubject(0),this.currentTotalEggcorns=this.totalEggcorns.asObservable(),this.eggcornsTable=new oe.BehaviorSubject({"all intensive purposes":"all intents and purposes","per say":"per se","another thing coming":"another think coming",ascared:"afraid","as dust fell":"as dusk fell","biting my time":"biding my time","biting your time":"biding your time","best thing since life's bread":"best thing since sliced bread",bondfire:"bonfire",callapitter:"caterpillar",chesterdraws:"chest of drawers",civilware:"silverware",consinct:"concise","curly roads":"curvy roads","daring-do":"derring-do","doggy-dog-world":"dog-eat-dog","duck tape":"duct tape","escape goat":"scape goat",expresso:"espresso",eyebulbs:"eyeballs",facetube:"youtube","flush out":"flesh out",flustrated:"frustrated",flutterby:"butterfly","free examples":"free samples","genetic brands":"generic brands","growth sprout":"growth spurt","guilt trap":"guilt trip","handy-downs":"hand-me-downs","handy downs":"hand-me-downs","happy as a clown":"happy as a clam",hearbuds:"earbuds","hell in a handbag":"hell in a handbasket","ice tea":"iced tea","illicit a response":"elicit a response","in other worlds":"in other words","junk start":"jump start","just deserves":"just deserts",labtop:"laptop",lapkin:"napkin","last stitch effort":"last ditch effort","lesser of two equals":"lesser of two evils",magnaphone:"megaphone","mist of things":"midst of things","mute point":"moot point","nerve-wrecking":"nerve-wracking","nerve wrecking":"nerve-wracking","nip it in the butt":"nip it in the bud","nip in the butt":"nip in the bud","nip this in the butt":"nip this in the bud","old timers disease":"Alzheimer's disease","old-timers disease":"Alzheimer's disease","old wise tale":"old wives tale","on the lamb":"on the lam","optical delusion":"optical illusion","out of bounce":"out of bounds",overfloating:"overflowing","pass mustard":"pass muster",platemats:"placemats","rebel rouser":"rabble rouser","real goal-getter":"real go-getter","rot iron fences":"wrought-iron fences","scandally clad":"scantily clad","self of steam":"self esteem",skyscratcher:"skyscraper","stand at a tension":"stand at attention","take it for granite":"take it for granted","took it for granite":"took it for granted","takes two to tangle":"takes two to tango","towing the line":"toeing the line",tremblor:"temblor","very close veins":"Varicose veins","vim and vinegar":"vim and vigor","wet your appetite":"whet your appetite","wet my appetite":"whet my appetite","wet the appetite":"whet the appetite",wheelbarrel:"wheelbarrow","wild variety":"wide variety","wind charms":"wind chimes","windshield factor":"windchill factor",wonderlust:"wanderlust","world wind romance":"whirlwind romance","world wind tour":"whirlwind tour","worth ethic":"work ethic"}),this.currentEggcornsTable=this.eggcornsTable.asObservable(),this.eggcornsUserTable=new oe.BehaviorSubject({}),this.currentEggcornsUserTable=this.eggcornsUserTable.asObservable()}changeEggcornsScore(t){this.eggcornsScore.next(t)}changeTotalEggcorns(t){this.totalEggcorns.next(t)}changeTable(t){this.eggcornsTable.next(t)}changeEggcornsUserTable(t){this.eggcornsUserTable.next(t)}changeEggcornsFeedback(t){this.eggcornsFeedback.next(t)}changeEggcornsAlertColor(t){this.eggcornsAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ji=(()=>{class n{constructor(t){this.testFireBase=t,this.academicStyleAlertColor=new oe.BehaviorSubject(" "),this.currentAcademicStyleAlertColor=this.academicStyleAlertColor.asObservable(),this.academicStyleFeedback=new oe.BehaviorSubject(" "),this.currentAcademicStyleFeedback=this.academicStyleFeedback.asObservable(),this.academicStyleScore=new oe.BehaviorSubject(0),this.currentAcademicStyleScore=this.academicStyleScore.asObservable(),this.totalNonAcademic=new oe.BehaviorSubject(0),this.currentTotalNonAcademic=this.totalNonAcademic.asObservable(),this.academicStyleTableSource=new oe.BehaviorSubject(this.testFireBase.getAcademicStyles()),this.currentAcademicStyleTable=this.academicStyleTableSource.asObservable(),this.academicStyleUserTableSource=new oe.BehaviorSubject({}),this.currentAcademicStyleUserTable=this.academicStyleUserTableSource.asObservable()}changeAcademicStyleScore(t){this.academicStyleScore.next(t)}changeTotalNonAcademic(t){this.totalNonAcademic.next(t)}changeAcademicStyleTable(t){this.academicStyleTableSource.next(t)}changeAcademicStyleUserTable(t){this.academicStyleUserTableSource.next(t)}changeAcademicStyleFeedback(t){this.academicStyleFeedback.next(t)}changeAcademicStyleAlertColor(t){this.academicStyleAlertColor.next(t)}}return n.\u0275fac=function(t){return new(t||n)(T(ef))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zi=(()=>{class n{constructor(){this.nominalizationsAlertColorSource=new oe.BehaviorSubject(""),this.currentNominalizationsAlertColor=this.nominalizationsAlertColorSource.asObservable(),this.nominalizationsFeedbackSource=new oe.BehaviorSubject(""),this.currentNominalizationsFeedback=this.nominalizationsFeedbackSource.asObservable(),this.nominalizationsScoreSource=new oe.BehaviorSubject(0),this.currentNominalizationsScore=this.nominalizationsScoreSource.asObservable(),this.nominalizationsNumberSource=new oe.BehaviorSubject(0),this.currentNominalizationsNumber=this.nominalizationsNumberSource.asObservable(),this.nominalizationsUserTableSource=new oe.BehaviorSubject({}),this.currentNominalizationsUserTable=this.nominalizationsUserTableSource.asObservable(),this.nominalizationsTableSource=new oe.BehaviorSubject({ization:7,izations:8,ing:3,ings:4,ism:3,isms:4,ation:5,ations:6,ition:5,itions:6,ment:4,ments:5,ability:7,abilities:9,ness:4,nesses:6,ity:3,ities:5,ence:4,ences:5}),this.currentNominalizationsTable=this.nominalizationsTableSource.asObservable()}changeNominalizationsAlertColor(t){this.nominalizationsAlertColorSource.next(t)}changeNominalizationsFeedback(t){this.nominalizationsFeedbackSource.next(t)}changeNominalizationsScore(t){this.nominalizationsScoreSource.next(t)}changeNominalizationsNumber(t){this.nominalizationsNumberSource.next(t)}changeNominalizationsUserTable(t){this.nominalizationsUserTableSource.next(t)}changeNominalizationsTable(t){this.nominalizationsTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xi=(()=>{class n{constructor(){this.sentencesAlertColorSource=new oe.BehaviorSubject(""),this.currentSentencesAlertColor=this.sentencesAlertColorSource.asObservable(),this.sentencesFeedbackSource=new oe.BehaviorSubject(""),this.currentSentencesFeedback=this.sentencesFeedbackSource.asObservable(),this.sentencesScoreSource=new oe.BehaviorSubject(0),this.currentSentencesScore=this.sentencesScoreSource.asObservable(),this.sentencesNumberSource=new oe.BehaviorSubject(0),this.currentSentencesNumber=this.sentencesNumberSource.asObservable(),this.sentencesUserTableSource=new oe.BehaviorSubject({}),this.currentSentencesUserTable=this.sentencesUserTableSource.asObservable(),this.sentencesTableSource=new oe.BehaviorSubject({And:"",But:"",Or:""}),this.currentSentencesTable=this.sentencesTableSource.asObservable()}changeSentencesAlertColor(t){this.sentencesAlertColorSource.next(t)}changeSentencesFeedback(t){this.sentencesFeedbackSource.next(t)}changeSentencesScore(t){this.sentencesScoreSource.next(t)}changeSentencesNumber(t){this.sentencesNumberSource.next(t)}changeSentencesUserTable(t){this.sentencesUserTableSource.next(t)}changeSentencesTable(t){this.sentencesTableSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qie=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.router=t,this.data=r,this.testFireBase=i,this.passivevoice=s,this.wordiness=o,this.transitions=a,this.grammar=l,this.eggcorns=c,this.academic=u,this.nominalizations=d,this.sentences=h,this.title="OverView",this.wordinessFeedback=" ",this.wordinessAlertColor=" ",this.academicStyleFeedback=" ",this.transitionsFeedback=" ",this.grammarFeedback=" ",this.eggcornsFeedback=" ",this.sentencesFeedback=" "}submitClick(){return io(this,void 0,void 0,function*(){this.data.changeTotalSentences(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.passiveVoiceUserTable={find:[],suggestion:[]},this.wordinessUserTable={find:[],suggestion:[]},this.transitionsUserTable={find:[],suggestion:[]},this.grammarUserTable={find:[],suggestion:[]},this.eggcornsUserTable={find:[],suggestion:[]},this.academicStyleUserTable={find:[],suggestion:[]},this.nominalizationsUserTable={find:[],suggestion:[]},this.sentencesUserTable={find:[],suggestion:[]};var t=document.getElementById("userinput").value;let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t),this.router.navigate(["/home/overview"]);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);console.log("Fixes"),this.passiveVoiceFix(t),this.wordinessFix(t),this.transitionsFix(t),this.grammarFix(t),this.eggcornsFix(t),this.academicStyleFix(t),this.nominalizationsFix(t),this.sentencesFix(t),this.calculateGrade(),this.calculateErrors()}})}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentGrade.subscribe(t=>this.grade=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalErrors.subscribe(t=>this.totalErrors=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.passiveVoiceService(),this.wordinessService(),this.transitionsService(),this.academicStyleService(),this.grammarService(),this.eggcornsService(),this.nominalizationsService(),this.sentencesService()}calculateErrors(){let t=0;t=this.passiveVoiceNumber+this.wordinessNumber+this.totalNonAcademic+this.totalGrammar+this.nominalizationsNumber+this.sentencesNumber+this.totalEggcorns+this.totalTransitions,this.totalErrors=t>0?"Potential Problems: "+t:"Nice! This Writing Looks Pretty Snazzy.",this.data.changeTotalErrors(this.totalErrors)}calculateGrade(){let t=0;t=this.transitionsScore>=10?0:10-this.transitionsScore,this.grade=100-(Math.round(this.passiveVoiceScore/10*10)/10+Math.round(this.wordinessScore/2*10)/10+Math.round(this.academicStyleScore/1*10)/10+Math.round(this.grammarScore/1*10)/10+Math.round(this.nominalizationsScore/6*10)/10+Math.round(this.sentencesScore/2*10)/10+Math.round(this.eggcornsScore/1*10)/10+Math.round(10*t)/10),this.totalSentences<=4?(this.grade=0,this.gradeFeedback="You must enter at least 5 sentences to get a grade",this.gradeAlertColor="red"):this.grade<70?(this.gradeFeedback="Your writing seems to have many grammar errors",this.gradeAlertColor="red"):this.grade<80?(this.gradeFeedback="Your writing seems to have a lot of grammar errors",this.gradeAlertColor="orange"):this.grade<90?(this.gradeFeedback="Good Job! The number of grammar errors seems low",this.gradeAlertColor="orange"):(this.gradeFeedback="Great Job!",this.gradeAlertColor="green"),this.data.changeGrade(this.grade),this.data.changeGradeAlertColor(this.gradeAlertColor),this.data.changeGradeFeedback(this.gradeFeedback)}wordinessFix(t){for(const r in this.wordinessTable)t.includes(r)&&(this.wordiness.changeWordinessNumber(this.wordinessNumber+1),this.wordinessUserTable.find.push("\u2022 "+r+" \u27f6 "+this.wordinessTable[r]),this.wordiness.changeWordinessUserTable(this.wordinessUserTable));this.wordinessScore=this.wordinessNumber/this.totalSentences*100,(isNaN(this.wordinessScore)||this.wordinessScore===1/0)&&(this.wordinessScore=0);try{if(this.wordinessScore>2?(this.wordinessFeedback="Your writing seems too wordy. Why use 3 words when you can say it with 1?",this.wordinessAlertColor="red"):(this.wordinessFeedback="Woohoo! Your writing seems concise, precise, and snappy. George Orwell would be proud.",this.wordinessAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.wordinessFeedback="Make sure you enter at least one sentence.",this.wordinessAlertColor="orange",this.wordinessScore=0}this.wordiness.changeWordinessFeedback(this.wordinessFeedback),this.wordiness.changeWordinessScore(Math.round(10*this.wordinessScore)/10),this.wordiness.changeWordinessAlertColor(this.wordinessAlertColor)}wordinessService(){this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessTable.subscribe(t=>this.wordinessTable=t),this.wordiness.currentWordinessUserTable.subscribe(t=>this.wordinessUserTable=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.wordiness.currentWordinessFeedback.subscribe(t=>this.wordinessFeedback=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t)}passiveVoiceFix(t){for(const r in this.passiveVoiceTable)for(const i in this.passiveVoiceHelperTable){const s=i+r;t.includes(s)&&(this.passivevoice.changePassiveVoiceNumber(this.passiveVoiceNumber+1),this.passiveVoiceUserTable.find.push("\u2022 "+s+" \u27f6 "+this.passiveVoiceTable[r]),this.passivevoice.changePassiveVoiceUserTable(this.passiveVoiceUserTable))}this.passiveVoiceScore=this.passiveVoiceNumber/this.totalSentences*100,(isNaN(this.passiveVoiceScore)||this.passiveVoiceScore===1/0)&&(this.passiveVoiceScore=0);try{if(this.passiveVoiceScore>10?(this.passiveVoiceFeedback="Generally, writing is clearer in active voice.",this.passiveVoiceAlertColor="red"):(this.passiveVoiceFeedback="Your writing passed the criterion for passive sentences. Congrats!",this.passiveVoiceAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.passiveVoiceFeedback="Make sure you enter at least one sentence.",this.passiveVoiceAlertColor="orange",this.passiveVoiceScore=0}this.passivevoice.changePassiveVoiceFeedback(this.passiveVoiceFeedback),this.passivevoice.changePassiveVoiceScore(Math.round(10*this.passiveVoiceScore)/10),this.passivevoice.changePassiveVoiceAlertColor(this.passiveVoiceAlertColor)}passiveVoiceService(){this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceTable.subscribe(t=>this.passiveVoiceTable=t),this.passivevoice.currentPassiveVoiceHelperTable.subscribe(t=>this.passiveVoiceHelperTable=t),this.passivevoice.currentPassiveVoiceUserTable.subscribe(t=>this.passiveVoiceUserTable=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.passivevoice.currentPassiveVoiceFeedback.subscribe(t=>this.passiveVoiceFeedback=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t)}transitionsFix(t){for(const r in this.transitionsTable)t.toLocaleLowerCase().includes(r)&&(this.transitions.changeTotalTransitions(this.totalTransitions+1),this.transitionsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.transitionsTable[r]),this.transitions.changeTransitionsUserTable(this.transitionsUserTable));this.transitionsScore=this.totalTransitions/this.totalSentences*100,(isNaN(this.transitionsScore)||this.transitionsScore===1/0)&&(this.transitionsScore=0);try{if(0==this.transitionsScore?(this.transitionsAlertColor="red",this.transitionsFeedback="Your writing seems to have no transition word"):this.transitionsScore<=10?(this.transitionsFeedback="The number of transition words in your writing seems low",this.transitionsAlertColor="orange"):this.transitionsScore<=80?(this.transitionsFeedback="Woot! Your writing seems to have a good proportion of transitions",this.transitionsAlertColor="green"):(this.transitionsFeedback="Woot! Your writing seems to have a lot of transitions. Make sure you're not overusing transition words",this.transitionsAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.transitionsFeedback="Make sure you enter at least one sentence.",this.transitionsAlertColor="orange",this.transitionsScore=0}this.transitions.changeTransitionsScore(Math.round(10*this.transitionsScore)/10),this.transitions.changeTransitionsFeedback(this.transitionsFeedback),this.transitions.changeTransitionsAlertColor(this.transitionsAlertColor)}transitionsService(){this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.transitions.currentTransitionsFeedback.subscribe(t=>this.transitionsFeedback=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsTable.subscribe(t=>this.transitionsTable=t),console.log(),this.transitions.currentTransitionsUserTable.subscribe(t=>{this.transitionsUserTable=t.__zone_symbol__value,console.log("[transition fix] Arrived"+t)})}academicStyleFix(t){for(const s in this.academicStyleTable)t.includes(s)&&(this.academic.changeTotalNonAcademic(this.totalNonAcademic+1),this.academicStyleUserTable.find.push("\u2022 "+s+" \u27f6 "+this.academicStyleTable[s]),this.academic.changeAcademicStyleUserTable(this.academicStyleUserTable));let r;r="";var i=0;for(let s=0;s<t.length;s++)/[a-zA-Z]/.test(t[s])||"\u2019"===t[s]||"'"===t[s]?r+=t[s]:(r="",i++);this.academicStyleScore=this.totalNonAcademic/i*100,(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0);try{if(this.academicStyleScore>1?(this.academicStyleAlertColor="red",this.academicStyleFeedback="Your writing may contain language that is either too casual or too extreme for academic discourse."):(this.academicStyleAlertColor="green",this.academicStyleFeedback="Your writing has a low percentage of casual and/or extreme language. This makes it more acceptable for academic style."),0===this.totalSentences)throw new Error("")}catch(s){this.academicStyleFeedback="Make sure you enter at least one sentence.",this.academicStyleAlertColor="orange",this.academicStyleScore=0}(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0),this.academic.changeAcademicStyleScore(Math.round(10*this.academicStyleScore)/10),this.academic.changeAcademicStyleFeedback(this.academicStyleFeedback),this.academic.changeAcademicStyleAlertColor(this.academicStyleAlertColor)}academicStyleService(){this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.academic.currentAcademicStyleFeedback.subscribe(t=>this.academicStyleFeedback=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleTable.subscribe(t=>{this.academicStyleTable=t.__zone_symbol__value,console.log("[academicStyle fix] Arrived")})}grammarFix(t){for(const r in this.grammarTable)t.toLocaleLowerCase().includes(r)&&(this.grammar.changeTotalGrammar(this.totalGrammar+1),this.grammarUserTable.find.push("\u2022 "+r+" \u27f6 "+this.grammarTable[r]),this.grammar.changeGrammarUserTable(this.grammarUserTable));this.grammarScore=this.totalGrammar/this.totalSentences*100,(isNaN(this.grammarScore)||this.grammarScore===1/0)&&(this.grammarScore=0);try{if(0==this.grammarScore?(this.grammarAlertColor="green",this.grammarFeedback="Woohoo! We didn't find any obvious grammark errors. However, beware: Grammark does not check for fragments, comma splices, subject-verb errors, number and pronoun problems. What's the best way to find grammar errors? Read your writing aloud."):this.grammarScore>0&&(this.grammarAlertColor="red",this.grammarFeedback="Your writing includes words or phrases usually considered to be grammar errors"),0===this.totalSentences)throw new Error("")}catch(r){this.grammarFeedback="Make sure you enter at least one sentence.",this.grammarAlertColor="orange",this.grammarScore=0}this.grammar.changeGrammarScore(Math.round(10*this.grammarScore)/10),this.grammar.changeGrammarFeedback(this.grammarFeedback),this.grammar.changeGrammarAlertColor(this.grammarAlertColor)}grammarService(){this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.grammar.currentGrammarFeedback.subscribe(t=>this.grammarFeedback=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarTable.subscribe(t=>this.grammarTable=t),this.grammar.currentGrammarUserTable.subscribe(t=>this.grammarUserTable=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t)}eggcornsFix(t){for(const r in this.eggcornsTable)t.toLocaleLowerCase().includes(r)&&(this.eggcorns.changeTotalEggcorns(this.totalEggcorns+1),this.eggcornsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.eggcornsTable[r]),this.eggcorns.changeEggcornsUserTable(this.eggcornsUserTable));this.eggcornsScore=this.totalEggcorns/this.totalSentences*100,(isNaN(this.eggcornsScore)||this.eggcornsScore===1/0)&&(this.eggcornsScore=0);try{if(0==this.eggcornsScore?(this.eggcornsAlertColor="green",this.eggcornsFeedback="Great job Your writing seems to have no Eggcorns."):this.eggcornsScore<=5?(this.eggcornsFeedback=" Good job the number of Eggcorns words in your writing seems low.",this.eggcornsAlertColor="orange"):this.eggcornsScore<=10?(this.eggcornsFeedback="Your writing seems to have a lot of eggcorns.",this.eggcornsAlertColor="red"):(this.eggcornsFeedback="Your writing seems to have many eggcorns. Make sure you're not using eggcorns.",this.eggcornsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(r){this.eggcornsFeedback="Make sure you enter at least one sentence.",this.eggcornsAlertColor="orange",this.eggcornsScore=0}this.eggcorns.changeEggcornsScore(Math.round(10*this.eggcornsScore)/10),this.eggcorns.changeEggcornsFeedback(this.eggcornsFeedback),this.eggcorns.changeEggcornsAlertColor(this.eggcornsAlertColor)}eggcornsService(){this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.eggcorns.currentEggcornsFeedback.subscribe(t=>this.eggcornsFeedback=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsTable.subscribe(t=>this.eggcornsTable=t),this.eggcorns.currentEggcornsUserTable.subscribe(t=>this.eggcornsUserTable=t)}nominalizationsFix(t){let r;r="";let i=0;for(let s=0;s<t.length;s++)if(/[a-zA-Z]/.test(t[s])||"\u2019"===t[s]||"'"===t[s])r+=t[s];else{for(const o in this.nominalizationsTable)r.length>7&&r.includes(o)&&(this.nominalizationsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.nominalizationsTable[o]),this.nominalizations.changeNominalizationsNumber(this.nominalizationsNumber+1),this.nominalizations.changeNominalizationsUserTable(this.nominalizationsUserTable));r="",i++}this.nominalizationsScore=this.nominalizationsNumber/i*100,(isNaN(this.nominalizationsScore)||this.nominalizationsScore===1/0)&&(this.nominalizationsScore=0);try{if(this.nominalizationsScore<=6?(this.nominalizationsFeedback='Rock on. Your writing has a reasonable number of "nominalized" word forms, highlighted below. You probably don\'t need to reduce these any further.',this.nominalizationsAlertColor="green"):(this.nominalizationsFeedback='Most of the words below are perfectly acceptable. However, you use many of these "nominalized" (non root-form) words. They bog down writing and decrease readability.',this.nominalizationsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(s){this.nominalizationsFeedback="Make sure you enter at least one sentence.",this.nominalizationsAlertColor="orange",this.nominalizationsScore=0}this.nominalizations.changeNominalizationsFeedback(this.nominalizationsFeedback),this.nominalizations.changeNominalizationsScore(Math.round(10*this.nominalizationsScore)/10),this.nominalizations.changeNominalizationsAlertColor(this.nominalizationsAlertColor)}nominalizationsService(){this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.nominalizations.currentNominalizationsFeedback.subscribe(t=>this.nominalizationsFeedback=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsUserTable.subscribe(t=>this.nominalizationsUserTable=t),this.nominalizations.currentNominalizationsTable.subscribe(t=>this.nominalizationsTable=t)}sentencesFix(t){let r,i,s;r="",i="",s="";let o=!1,a=0;for(let l=0;l<t.length;l++){if(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l])r+=t[l];else{for(const c in this.sentencesTable)r.includes(c)&&(i+=r,o=!0);r="",a++}!0===o&&(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l]||" "===t[l]?i+=t[l]:(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Potential Fragment \u2192 "'+i+'..."'),this.sentences.changeSentencesUserTable(this.sentencesUserTable),o=!1,i="")),"!"===t[l]||"?"===t[l]||"."===t[l]?(a>50&&(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Long Sentence \u2192 "'+s+'..."'),this.sentences.changeSentencesUserTable(this.sentencesUserTable)),s="",a=0):s+=t[l]}this.sentencesScore=this.sentencesNumber/this.totalSentences*100,(NaN===this.sentencesScore||this.sentencesScore===1/0)&&(this.sentencesScore=0);try{if(this.sentencesScore>2?(this.sentencesFeedback="Hmmm. Your writing may have some sentence-level issues. Check the list below for potential fragments or run-ons.",this.sentencesAlertColor="red"):(this.sentencesFeedback="Bueno! Your sentences don't show any glaring errors.",this.sentencesAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(l){this.sentencesFeedback="Make sure you enter at least one sentence.",this.sentencesAlertColor="orange",this.sentencesScore=0}this.sentences.changeSentencesFeedback(this.sentencesFeedback),this.sentences.changeSentencesScore(Math.round(10*this.sentencesScore)/10),this.sentences.changeSentencesAlertColor(this.sentencesAlertColor)}sentencesService(){this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesTable.subscribe(t=>this.sentencesTable=t),this.sentences.currentSentencesUserTable.subscribe(t=>this.sentencesUserTable=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t),this.sentences.currentSentencesFeedback.subscribe(t=>this.sentencesFeedback=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t)}}return n.\u0275fac=function(t){return new(t||n)(w(Rn),w(Bi),w(ef),w(Gi),w(Wi),w(Ki),w(Qi),w(Yi),w(Ji),w(Zi),w(Xi))},n.\u0275cmp=pt({type:n,selectors:[["app-home"]],decls:26,vars:2,consts:[["id","textboxBackground"],[1,"column"],["id","userinput","name","userinput","placeholder","Type or paste your writing here. It will not be stored or reused in any way.",3,"ngModel","ngModelChange"],["id","submitbutton",3,"click"],["id","attentionGrabber"],[1,"column1"],[1,"homedescription"]],template:function(t,r){1&t&&(f(0,"body"),f(1,"div",0),f(2,"div",1),f(3,"textarea",2),Ue("ngModelChange",function(s){return r.message=s}),y(4),p(),Jt(5,"br"),f(6,"button",3),Ue("click",function(){return r.submitClick()}),y(7,"SUBMIT"),p(),p(),p(),Jt(8,"br"),Jt(9,"br"),Jt(10,"br"),f(11,"h1",4),y(12,"HOW IS GRAMMARK HELPFUL?"),p(),f(13,"div",5),f(14,"div",6),f(15,"h3"),y(16,"It takes a teacher "),f(17,"b"),y(18,"15-30 minutes"),p(),y(19," to correct 1 paper"),p(),f(20,"h3"),y(21,"It takes Grammark "),f(22,"b"),y(23,"0.14 seconds"),p(),y(24," to locate 6,239 errors"),p(),p(),Jt(25,"br"),p(),p()),2&t&&(x(3),We("ngModel",r.message),x(1),Me(r.message))},directives:[rg,fN,dv],styles:['@import"https://fonts.googleapis.com/css2?family=Work+Sans&display=swap";body[_ngcontent-%COMP%]{background-color:#00704a;font-family:"Work Sans",sans-serif}.column[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto}#textboxBackground[_ngcontent-%COMP%]{width:100%;background:url(bookpageBackground.a57f79a94e154495b4a8.jpg);margin-top:0%;background-position:center;background-repeat:no-repeat;background-size:cover;padding-top:35px;padding-bottom:50px}#attentionGrabber[_ngcontent-%COMP%]{font-size:90px;font-weight:900;-webkit-text-stroke-width:.25px;-webkit-text-stroke-color:#ffffff;text-align:center;margin-bottom:100px}.column2[_ngcontent-%COMP%]{float:left;width:300px;padding-right:20px}.c2[_ngcontent-%COMP%]{background-color:#b1b1bd;border-color:#000;border:groove;padding-left:20px;margin-bottom:19px}.c2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:5px}.c2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-bottom:10px}.c2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:5px}.homecolumns[_ngcontent-%COMP%]{padding:20px}.homedescription[_ngcontent-%COMP%]{color:#fff;text-align:center}.homedescription[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:50px;line-height:1}#userinput[_ngcontent-%COMP%]{height:400px;min-height:100px;width:95%;resize:none;border-width:thick;padding:5px;font-size:14px;border-color:#000}#submitbutton[_ngcontent-%COMP%]{background-color:#a5acb0;color:#00704a;width:250px;height:75px;font-size:35px;font-weight:bold;margin-left:35%;display:table-cell;vertical-align:middle;border:5px solid black}#submitbutton[_ngcontent-%COMP%]:hover{background-color:#8f9599;border-color:#000;color:#065339;cursor:pointer}ul[_ngcontent-%COMP%]{padding-left:20px;font-size:20px}.selfimage[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px}']}),n})(),Yie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-about"]],decls:78,vars:0,consts:[[1,"aboutcolumn"],[1,"column1"],[1,"title"],[1,"column2"],[1,"c"],["href","https://markfullmer.com/"],["href","https://github.com/ngatrann"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"div",0),f(2,"div",1),f(3,"div"),f(4,"h1",2),f(5,"b"),y(6,"About"),p(),p(),f(7,"p"),f(8,"b"),y(9,"Grammark Version 3.0 CLAWS (Concise Language and Academic Writing Suggestions)"),p(),y(10," is a writing tool intended to assist students with their academic writing\u2014specifically persuasive essays common to first-year writing courses and introductory courses in other subject areas. The system points out potential problems with wording, style, grammar, et cetera, and provides suggestions for improvement. By evaluating each specific suggestion generated by Grammark, students can improve their writing by implementing those suggestions they find to be accurate and helpful. "),p(),f(11,"p"),y(12,"Due to the nature of both written language and language checking software tools, the Grammark system cannot always differentiate between proper and improper uses of certain words and phrases, resulting in \u201cfalse positive\u201d flags for words and phrases that may be used correctly. However, instead of viewing these false positives as a shortcoming of the Grammark system, writers should simply view these checks as opportunities to further evaluate their language choices and move forward with confidence when a suggestion does not apply. "),Jt(13,"br"),y(14," These are the basic premises the program follows, in plain language:"),p(),f(15,"ol"),f(16,"li"),f(17,"b"),f(18,"mark"),y(19,"Passive voice"),p(),p(),y(20," is harder to read and sometimes obscures meaning. Active voice is clearer and punchier. Grammark highlights all instances of passive voice and suggests how to rewrite them actively."),p(),f(21,"li"),f(22,"b"),f(23,"mark"),y(24,"Wordiness."),p(),p(),y(25," Don't use 3 words when you can say the same thing with 1. Grammark has a database of 973 wordy phrases, like with respect to, a considerable amount of, and as a matter of fact. It finds these and offers concise alternatives (concerning, many, in fact)."),p(),f(26,"li"),f(27,"b"),f(28,"mark"),y(29,"Sentence length"),p(),p(),y(30," correlates with sophistication of thought. Writing with many short sentences is usually simplistic, while preponderantly long sentences suggest convoluted thought, and if sentences are all about the same length, writing sounds soporific. Grammark provides a sentence variety score (using standard deviation) and average words per sentence."),p(),f(31,"li"),f(32,"b"),f(33,"mark"),y(34,"Transitions"),p(),p(),y(35," help organize ideas. Text with few transitions is hard to follow. Based on analysis, writing that has less than 1 transition per every 4 sentences may be confusing. Grammark checks your document for 188 common transition words."),p(),f(36,"li"),f(37,"b"),f(38,"mark"),y(39,"Academic Style."),p(),p(),y(40,' As a college writing teacher, I often find myself scribbling "be more specific" or "be more tentative" on student essays. Grammark checks your document against for casual or extreme language.'),p(),f(41,"li"),f(42,"b"),f(43,"mark"),y(44,"Nominalizations."),p(),p(),y(45,' Non-root form words (e.g., improvement or improving instead of improve), when overused, can bog down writing. Grammark highlights words with common nominalized endings ("-ization", "-ability", etc.) so you can pinpoint unnecessarily dense sentences.'),p(),f(46,"li"),f(47,"b"),y(48,"Grammar"),p(),y(49," is, quite simply, a bunch of rules writers follow. As a teacher, I've spent many a Saturday correcting grammar. Grammark searches for 6,239 errors in about 0.144 seconds."),p(),p(),f(50,"p"),y(51,"There are many more rules of grammar thumb: prepositions at the ends of phrases should be dealt with, to usually avoid split infinitives, and following parallel structure. But many of these have exceptions, and I felt including checks for them would make the tool less efficient and consequently less useful."),p(),f(52,"h2"),y(53,"Make the Project Better"),p(),f(54,"p"),y(55,"The grammark database has 7,060 grammar rules currently, not including algorithms for identifying passive voice and analyzing sentences. Help improve the comprehensiveness of this tool by adding more grammar rules. Go to the submission form and enter a grammar error. If it doesn't yet exist, it will be added to the database after approval."),p(),p(),p(),f(56,"div",3),f(57,"div",4),f(58,"p"),y(59,"The original Grammark open-source web application was created by software developer and former English teacher "),f(60,"a",5),y(61,"Mark Fullmer"),p(),y(62,". This original version can still be found at grammark.org."),p(),f(63,"p"),y(64,"In the fall of 2021 Jason Palmer (English Instructor, Georgia Gwinnett College) sought to adapt and add to the Grammark tool for his composition students. He and a team of software development students at GGC, were able to add dozens of specific checks to the system and update the user interface, creating Grammark Version 2.0. They also updated the tool from Angular1 to Angular 10. In the spring of 2022, Palmer and a new team of GGC students created the current version of the tool, adding more checks, refining the identification of existing checks, and further improving both aesthetics and user experience."),p(),p(),f(65,"div",4),f(66,"p"),y(67,"Team CtrlAltSpri4ng(Fawhn Hanlon, Francisco Pomaya Ramos, "),f(68,"a",6),y(69,"Nga Tran"),p(),y(70,", Josue Mayorga)."),p(),f(71,"p"),y(72,"They updated Grammark from Angular1 to Angular10, and add additional Academic Style Checks."),p(),p(),f(73,"div",4),f(74,"p"),y(75,"Team Gramular(Jawwad Quereshi, Wilmer Batista, Joseph Ongchangco, Chris Hernandez, Sydney Harrell)."),p(),f(76,"p"),y(77,"They updated Grammark by changing the design of the page and updating the 'Dictionary' by adding more checks."),p(),p(),p(),p(),p())},styles:["html[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{cursor:default}.title[_ngcontent-%COMP%]{font-size:40px;padding:10px 0;margin-right:-55px}.aboutcolumn[_ngcontent-%COMP%]{padding-left:5%;padding-top:20px;display:flex;justify-content:center;cursor:default}.column1[_ngcontent-%COMP%]{float:left;width:60%;padding:20px;max-width:750px;border:2.5px dashed lightblue;border-radius:8px}.column2[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.c[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}ol[_ngcontent-%COMP%]{padding:10px 30px 20px 20px}p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{font-size:17px;line-height:1.5}h2[_ngcontent-%COMP%]{font-size:35px;padding:10px 0}a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}"]}),n})(),Jie=(()=>{class n{constructor(){this.fileName="downloadabletext"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-download"]],decls:89,vars:0,consts:[[1,"downloadinformation"],[1,"row"],[1,"large-12","small-6","columns"],[1,"panel"],["href","https://github.com/markfullmer/grammark/archive/angular.zip",1,"button","right"],[1,"shell-wrap"],[1,"shell-top-bar"],[1,"shell-body"],["href","https://github.com/markfullmer/grammark/archive/master.zip",1,"button","right"],["href","https://github.com/markfullmer/grammark/archive/Version-2.zip",1,"button","right"]],template:function(t,r){1&t&&(f(0,"div",0),f(1,"h1"),y(2,"Download"),p(),f(3,"p"),y(4,"I advocate open-source philosophy: things (tools, art, knowledge) should be available for other people to adapt and improve. This includes educational web-tools like grammar checkers. So this website is both free to use and to modify, so long as you allow others to do the same with whatever you create."),p(),f(5,"p"),y(6,'Grammark comes in a variety of flavors. The angularJS version is "real-time" and requires nothing more than a web browser to run. There is also a SQL-based PHP version and a No-SQL version.'),p(),f(7,"div",1),f(8,"div",2),f(9,"div",3),f(10,"a",4),y(11,"Download as zip"),p(),f(12,"h3"),y(13,"AngularJS (Version 4)"),p(),f(14,"ul"),f(15,"li"),f(16,"b"),y(17,"Language:"),p(),y(18," Javascript"),p(),f(19,"li"),f(20,"b"),y(21,"Dependencies:"),p(),y(22," none (angular libraries bundled)"),p(),f(23,"li"),f(24,"b"),y(25,"Features:"),p(),y(26,' "Real-time" monitoring & scoring'),p(),p(),f(27,"div",5),f(28,"p",6),y(29,"Clone from github"),p(),f(30,"ul",7),f(31,"li"),y(32,"git clone https://github.com/markfullmer/grammark.git"),p(),f(33,"li"),y(34,"get fetch && git checkout angular"),p(),p(),p(),p(),p(),f(35,"div",2),f(36,"div",3),f(37,"a",8),y(38,"Download as zip"),p(),f(39,"h3"),y(40,"PHP, No-SQL (Version 3)"),p(),f(41,"ul"),f(42,"li"),f(43,"b"),y(44,"Language:"),p(),y(45," PHP, Twig"),p(),f(46,"li"),f(47,"b"),y(48,"Dependencies:"),p(),y(49," PHP 5.3+"),p(),f(50,"li"),f(51,"b"),y(52,"Features:"),p(),y(53,' Data in file storage; no need for a database connection. Uses "Twig" templating engine'),p(),p(),f(54,"div",5),f(55,"p",6),y(56,"Clone from github"),p(),f(57,"ul",7),f(58,"li"),y(59,"git clone https://github.com/markfullmer/grammark.git"),p(),f(60,"li"),y(61,"get fetch && git checkout Version-3"),p(),p(),p(),p(),p(),f(62,"div",2),f(63,"div",3),f(64,"a",9),y(65,"Download as zip"),p(),f(66,"h3"),y(67,"PHP, with SQL storage (Version 2)"),p(),f(68,"ul"),f(69,"li"),f(70,"b"),y(71,"Language:"),p(),y(72," PHP, SQL, Twig"),p(),f(73,"li"),f(74,"b"),y(75,"Dependencies:"),p(),y(76," PHP 5.3+, MySQL 5.0+ "),p(),f(77,"li"),f(78,"b"),y(79,"Features:"),p(),y(80,' Custom ORM SQL mapping for easy database manipulation; uses "Twig" templating engine'),p(),p(),f(81,"div",5),f(82,"p",6),y(83,"Clone from github"),p(),f(84,"ul",7),f(85,"li"),y(86,"git clone https://github.com/markfullmer/grammark.git"),p(),f(87,"li"),y(88,"get fetch && git checkout Version-2"),p(),p(),p(),p(),p(),p(),p())},styles:[".downloadinformation[_ngcontent-%COMP%]{padding:40px;font-size:large}"]}),n})(),Zie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-resources"]],decls:22,vars:0,consts:[[1,"resources"],[1,"description"],["routerLink","wordiness",1,"linkedpages"],["routerLink","transitions",1,"linkedpages"],["routerLink","grammar",1,"linkedpages"],["routerLink","eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div",0),f(1,"h1"),f(2,"b"),y(3,"Resources"),p(),p(),f(4,"p",1),y(5,"View existing database records for wordiness, grammar errors, and transitions."),p(),f(6,"p"),f(7,"a",2),y(8,"Wordiness"),p(),y(9," (987 records)"),p(),f(10,"p"),f(11,"a",3),y(12,"Transitions"),p(),y(13," (134 records)"),p(),f(14,"p"),f(15,"a",4),y(16,"Grammar"),p(),y(17," (1,323 records)"),p(),f(18,"p"),f(19,"a",5),y(20,"Eggcorns"),p(),y(21," (100 records)"),p(),p())},directives:[cn],styles:[".resources[_ngcontent-%COMP%]{padding-left:22%;padding-top:30px}h1[_ngcontent-%COMP%]{font-size:40px}.description[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{padding:10px 0;font-size:30px}.linkedpages[_ngcontent-%COMP%]{text-decoration:none;color:#00f}"]}),n})();function Xie(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function ese(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}let tse=(()=>{class n{constructor(){this.title="Wordiness",this.values={"absolutely essential":"essential",aforementioned:"DELETE","a bigger degree of":"more","a greater degree of":"more","a higher degree of":"more","a larger degree of":"more","a considerable amount of":"DELETE OR BE SPECIFIC","a decreased number of":"fewer","a distance of":"just state the distance","a lesser degree of":"less","a smaller degree of":"fewer","a lot of":"many, much","a majority of":"most, much of, many","a person who is":"a xxx person","a total of":"just state the number","added bonus":"bonus","advance notice":"notice","advance reservations":"reservations","advance warning":"warning","advance planning":"planning","after all is said and done":"DELETE","all across":"across","all of":"all","all of a sudden":"suddenly","all of these":"these","all-time record":"record","almost never":"seldom","along the lines of":"like","any and all":"all","are such that":"DELETE","is such that":"DELETE","are able to":"can, OR DELETE","was able to":'could, OR remove and change the verb after "to" into past tense',"were able to":'could, OR remove and change the verb after "to" into past tense',"armed gunman":"gunman","assemble together":"assemble","attach together":"attach","as a matter of fact":"in fact OR DELETE","as a means to":"to","as a result of":"because of","as a whole":"DELETE","as a way to":"to","as being a":"as OR DELETE","as it truly is":"DELETE","as of the moment":"DELETE","as the case may be":"DELETE","at a later date":"later","at the conclusion of":"after","at all times":"always OR DELETE","at first glance":"DELETE","at the present time":"currently, now","at the same time that":"while","at this point in time":"now OR DELETE","autobiography of his [or her] life":"autobiography","bald-headed":"bald","based in large part on":"based on","based on the fact that":"since/because","basic necessity":"necessity","basic fundamentals":"basics OR fundamentals","because of the fact of":"because of",being:"DELETE","being that":"because","best ever":"best","beyond a shadow of a doubt":"DELETE","blend together":"blend","both of these":"both","both of them":"both","both of the":"both","brings to mind":"recalls/suggests","brief moment":"moment","brief summary":"summary","but yet":"but OR yet","burning embers":"embers","by and large":"DELETE","by definition":"DELETE","by leaps and bounds":"DELETE","by means of":"by","by the same token":"DELETE OR similarly/likewise","by the use of":"using","came to a realization":"realized/recognized","came to an abrupt end":"end[ed] abruptly","careful scrutiny":"scrutiny","can be seen as":"is OR DELETE","classify into groups":"classify","clearly articulate":"articulate","close scrutiny":"scrutiny","close down":"close","close up":"close","collaborate together":"collaborate","combine together":"combine","come to the understanding":"understand","common similarities":"similarities","comparatively larger than":"larger than/smaller than","comparatatively smaller than":"smaller than","compare and contrast":"compare","compete with each other":"compete","complete stranger":"stranger",completely:"DELETE","concerning the matter of":"about/regarding","conduct an investigation into":"investigate","connected together":"connected","continue into the future":"continue OR DELETE","continue on":"continue","consensus of opinion":"consensus","consider to be":"DELETE","considered to be":"DELETE","core essence":"DELETE","correctional facility":"jail","crisis situation":"crisis","dates back to":"dates to","depreciate in value":"depreciate","great pleasure from":"enjoy, appreciate, etc.","despite the fact that":"although","did not succeed":"failed","disappear from sight":"disappear","doomed to perish":"doomed","due to the effects":"because","due to the fact that":"because","dull in appearance":"dull","during the course of":"during, while","each and every":"each, every","each individual":"DELETE OR everyone","each of":"each","early on in the":"early in the","each separate incident":"each incident","economically deprived":"poor","eliminate altogether":"eliminate","emergency situation":"emergency","enclosed herewith":"enclosed","end result":"result","engaged in":"DELETE","enter into":"enter OR DELETE","epic quest":"quest OR epic","equal to one another":"equal","equally as good":"equally good OR equal","erode away":"erode","every single one":"each one, all, each","exactly identical":"identical","exactly the same":"the same   For Jack, every well was exactly the same","fair amount":"DELETE [or be specific]","fall down":"fall","few and far between":"rare, unusual OR DELETE","few in number":"few","filled to capacity":"filled [full]","final outcome":"final OR DELETE","first priority":"priority","first and foremost":"first","fly through the air":"fly","foreign imports":"imports","for all intents and purposes":"DELETE","for that which is":"for the","for the manner in which":"the way","for the purpose of":"to, for","foreseeable future":"[when exactly?]","free gift":"gift","frozen ice":"ice","future plans":"plans OR prospects","gain entry into":"enter","general consensus":"consensus","general public":"public","give an indication of":"indicate","give consideration to":"consider","grave crisis":"crisis","grow in size":"grow","hand in hand":"together","has the ability to":"can","a tendency to":"often OR DELETE","been found to be":"is/was/are","the ability to":"can/could","the capacity for":"can/could","the effect of":"DELETE","the opportunity to":"can/could","an effect upon":"influenced","hear the sound of":"hear","heat up":"heat","I myself":"I","clear and concise":"[concisely] concise","a situation in which":"eperienced","in a very real sense":"DELETE","in a way that is clear":"clearly OR clear way","in actuality":"DELETE","in all probability":"probably/likely","in close proximity":"near","in light of the fact that":"because","in itself":"DELETE","in nature":"DELETE","in order to":"to","in reality":"DELETE","in reference to":"about/regarding","in the event that":"if","in the neighborhood of":"about","in the vicinity of":"near","in today's society":"today","in spite of":"despite","in spite of the fact that":"although","in such a way":"in a way","in terms of":"DELETE","in the area of":"in OR around","in the course of":"during, while","in the final analysis":"finally OR DELETE","in light of":"considering OR DELETE","in a majority of instances":"usually","in the midst of":"during, amid","the nature of":"DELETE","in the near future":"soon OR DELETE","in the not too distant future":"soon OR DELETE","in their own right":"DELETE","in this day and age":"currently, now, today","in view of the fact that":"because","in which":"DELETE","inadvertent error":"error","inner feelings":"feelings","interestingly enough":"DELETE","intertwined together":"intertwined","intertwine together":"intertwine",irregardless:"DELETE","is a reflection of":"reflects","is able to":"can OR DELETE","is an important factor in":"DELETE","is aware of the fact that":"knows","is described as being":"is OR is described as","is found to be":"is","is going to":"will","is helpful in understanding":"clarifies","is in conflict with":"conflicts with/is against","is in contrast to":"contrasts with","is of significant importance":"is significant OR is important","is scared of":"fears","is seen as":"is","is something that is":"is","is well aware that":"understands","is when":"is OR DELETE","is where":"DELETE","appears as though":"appears OR DELETE","seems as though":"seems","can be seen that":"DELETE","could happen that":"could/may/might","goes to show that":"DELETE","clear that":"DELETE","evident that":"DELETE","apparent that":"DELETE","it is crucial that":"must/should OR DELETE","it is important that":"must/should OR DELETE",interesting:"BE MORE SPECIFIC","necessary that":"must/should OR DELETE","it is possible that":"DELETE","it is rarely the case that":"[X] rarely happens","should be noted that":"DELETE OR note that","should be pointed out that":"note that","would seem that":"DELETE","would appear that":"DELETE","gather together":"join/gather","join together":"gather/join","joint collaboration":"collaboration","joyous celebration":"celebration","kind of":"DELETE","kneel down":"kneel","lag behind":"lag","last but not least":"finally","last but not the least":"finally","later on":"later","lift up":"lift","local residents":"residents","longer/shorter in length":"longer/shorter","look ahead to the future":"look ahead, plan OR DELETE","made out of":"made from, made of","mainly focuses on":"focuses on","major breakthrough":"breakthrough","make a decision":"decide","make a determination":"decide","make an assumption":"assume","make an effort":"try","made an effort":"try","make contact with":"contact","with reference to":"about","manner in which":"way","many different kinds of":"many","many different ways":"many ways","meet together":"meet","mental attitude":"attitude","merge together":"merge","mix together":"mix","more or less":"be specific","more preferable":"preferable","mutual agreement":"agreement","mutual respect for":"respect","nape of the neck":"nape","native habitat":"habitat","natural instinct":"instinct","necessary prerequisite":"prerequisite","never before":"never","new invention":"invention/innovation","new innovation":"innovation/invention","new record":"record","new recruit":"recruit","none at all":"none","nostalgia for the past":"nostalgia","not the least of them being":"AVOID","of great importance":"DELETE OR is important","off of":"off OR from","old custom":"custom/adage","on a daily basis":"daily","on account of the fact that":"because","on the basis of":"because, based on","the grounds that":"because","the occasion of":"on/preparing for","the situation of":"about","the subject of":"about OR DELETE","surface level":"surface","on the whole":"DELETE","on top of this":"moreover OR DELETE","on top of that":"moreover","one of the more":"DELETE","one of the most":"DELETE","only serves to":"DELETE","open up":"open","over again":"repeatedly","over exaggerate":"exaggerate","overall goal":"goal","overall structure":"structure",overexaggerate:"exaggerate","owing to the fact that":"because","particular type of":"DELETE","past experience":"experience","past history":"history","past memories":"memories","the amount of":"DELETE","penetrate into":"penetrate","period of time":"period, time, or DELETE","personal friend":"friend","personal opinion":"opinion",personally:"DELETE","pick and choose":"choose","plan ahead":"plan","plan in advance":"plan","play an important role":"DELETE [be specific]","plays an important role":"DELETE [be specific]","polar opposites":"opposites","possible course of action":"choice","possible courses of action":"choices","previous/prior to":"before","proceed ahead":"proceed","prior to":"before","protest against":"protest","providing that":"provided","put to use":"use","puzzling in nature":"puzzling","quite clearly":"DELETE","readily apparent":"apparent","real life":"TRUE","reconsider again":"reconsider","refer back":"refer","reply back":"reply","reflect back":"reflect","regardless of the fact that":"although",respective:"DELETE",respectively:"DELETE","right up to the":"to the","rise up":"rise","in shape":"DELETE","safe haven":"haven","exactly the same thing":"repeat","scrutinize carefully":"scrutinize","prefer to have":"prefer","serious danger":"danger","serve the purpose of":"DELETE","serves to show":"shows","serve to show":"show","set a new record":"set a record","shout loudly":"shout","in size":"DELETE","some kind of":"DELETE","sort of":"DELETE","spell out in detail":"spell out OR DELETE","state of affairs":"DELETE [vague]   Their accident was a terrible state","still has yet":"has yet","study in depth":"study","subsequent to":"after","subsequent to the use of":"after using","sudden impulse":"impulse","sum total":"total OR sum","summarize briefly":"summarize","surrounded on all sides":"surrounded","sworn affidavit":"affidavit","symbolically represents":"represents OR symbolizes","take action":"act","take into account":"consider","taken the time":"DELETE","in height":"DELETE","terrible tragedy":"tragedy","this being said":"DELETE","that being said":"DELETE","that exists":"DELETE","that exists between":"between/with/among","that exists among":"between/with/among","that exists with":"between/with/among","that is":"DELETE when possible","that are":"DELETE when possible","that were":"DELETE when possible","that is to say":"DELETE","the color":"just state the name of the color","complete opposite of":"the opposite of","final result":"result","human race":"humanity OR people","the fact that":"that OR DELETE","the fact remains":"DELETE","final conclusion":"conclusion","majority of":"most/many","means by which":"how","manner by which":"how","the month of":"DELETE","overall plan":"plan","possibility exists":"may/might/could","is to illustrate":"wordy","is to show":"wordy","is to determine":"wordy","is to demonstrate":"wordy","the reason is because":"the reason/because","the reason why":"the reason, why, because","type of":"DELETE","a tendency":"DELETE OR BE SPECIFIC","there is":"DELETE","there are":"DELETE","there was":"DELETE","there were":"DELETE","total destruction":"destruction","to a certain extent":"DELETE OR BE SPECIFIC","to be in a position to":"to","to make a plan":"to plan","to make a decision":"to decide","to make an acquisition":"to acquire","to make an arrangement":"to arrange","true fact":"fact","in the afternoon":"p.m.","in the morning":"a.m.","ultimate fate":"fate","ultimate objective OR goal":"objective OR goal","unexpected emergency":"emergency","unexpected surprise":"surprise","unintentional mistake":"mistake","unique in his own way":"DELETE","united as one":"united","until such time as":"until","useless in function":"useless","utmost perfection":"perfection","vacillate back and forth":"vacillate","valuable asset":"asset","various different":"various","very unique":"unique","violent explosion":"explosion",virtually:"DELETE","visible to the eye":"visible","warn in advance":"warn","of the opinion that":"believe","as a society":"society","can see that":"AVOID","we were found to be in agreement":"we agreed","well aware of":"aware","in attendance":"attend[ed]","what is important is":"DELETE","when all is said and done":"DELETE","whether or not":"whether/if OR DELETE","which have been found to be":"are OR DELETE","which is":"DELETE when possible","which are":"DELETE when possible","which were":"DELETE when possible","will come in the future":"will come","will have an effect on":"will effect","with the possible exception of":"except for","who are":"DELETE","who was":"DELETE","who were":"DELETE","the way it does":"that way","with regard to":"about/regarding","with the exception of":"except for","witnessed first hand":"witnessed","young in age":"young","at the risk of":"risking","at / by one":"near","at / for a fraction of":"discounted","at / from the outset":"initially","at / in the end":"finally","at / on sight":"immediately","at / on the double":"quickly","at one time":"once","at a disadvantage":"disadvantaged","at a discount":"discounted","at a distance":"far","at a glance":"immediately","at a guess":"estimate","at a loss":"unable","at a moment":"instantly","at a price":"costing","at a rate of":"at","at a speed of":"travelling","at a standstill":"stopped","at all events":"regardless","at an advantage":"advantaged","at breakfast":"breakfasting/ed","at ease with":"peaceful","at fault":"responsible","at hand":"near","at home with":"accepting","at issue":"disputing","at large":"roaming","at length":"eventually","at liberty":"free","at odds with":"disputing","at once":"immediately","at peace with":"accept","at play":"playing","at present":"now","at random":"randomly","in front of":"before","at the age of":"X years old","at the beginning":"initially","at the expense of":"costing","at the foot of":"beneath","at the hands of":"subservient to","at the height of":"peaking","at the latest":"most recent","at the peak of":"cresting","at the same time":"simultaneously","at the thought of":"thinking","at the time of":"during","at the top of":"topping","at this juncture":"now","at times":"sometimes","at war with":"fighting","at work":"working","behind the scenes":"incognito","by chance":"possibly","by the name of":"named","with luck":"luckily","by accident":"accidentally","by all means":"certainly","by coincidence":"coincidentally","by courtesy of":"thanks to","by degrees":"gradually","by design":"intentional","by far":"clearly","by force":"forcefully","by hand":"manually","by heart":"memorized","by mistake":"mistakenly","by nature":"innately","by rights":"deserve(d)","by sight":"immediately","by surprise":"surprised","by the side of":"aside","by virtue of":"by","by way of":"via","for a good cause":"philathropically","for the benefit":"for","for a good reason":"justly","for certain":"certainly","for fear of":"fearing","for good":"completely","for granted":"assume(d)","for lack of":"lacking","for my part":"DELETE","for his part":"DELETE","for her part":"DELETE","for real":"truly","for the good of":"benefitting","for the sake of":"for","for want of":"lacking","in no time":"quickly","at the forefront of":"leading","in the forefront of":"leading","in demand":"demanded/wanted","on demand":"demanded/wanted","out of focus":"unclear","in focus":"clear","in one's element":"familiar","out of season":"not current","in season":"current","in stock":"available","out of touch with":"unfamiliar with","in touch with":"familiar with","out of use":"obsolete/unused/old","in use":"current/used/relevant","with difficulty":"not easily","in difficulty":"challenged","within sight of":"near","in sight of":"near","in a deep sleep":"slumbering/sleeping","in a flash":"quickly","in a heap":"heaped","in a hurry":"rushing","in a mess":"scattered/messy","in a pile":"piled","in a sense":"somewhat","in a temper":"angry","in abeyance":"receding/abeying/waning","in abundance":"frequent/abundant","in accordance with":"DELETE","in action":"active","in addition to":"and","in advance":"before/previous","in agony":"agonizing","in agreement with":"agreeing","in aid of":"helping","in all likelihood":"likely","in an instant":"instantly","in an uproar":"furious/upset/crazed","in answer to":"answering","in anticipation of":"anticipating","in arrears":"late","in awe of":"awed by","in blossom":"blooming","in brief":"briefly","in character":"DELETE","in charge of":"leading","in collaboration with":"with","in combination with":"with","in command of":"controlling/commanding","in common":"sharing","in comparison with":"and","in compensation for":"for","in conclusion":"DELETE","in confidence":"confidentially","in confinement":"confined","in confusion":"confused","in conjunction with":"with","in connection with":"with","in consequence of":"resulting in","in contact with":"known/knowing","in contrast to":"and/unlike/or","in contrast with":"and/unlike/or","in control of":"controlling/leading","in debt":"owing","in decline":"declining","in defense of":"defending","in detail":"specifically/detailed","in disgrace":"disgracefully","in disguise":"disguised","in disorder":"disordered","in dispute":"disputing","in distress":"distressed","in doubt":"doubting","in due course":"DELETE or eventually","in duplicate":"twice/repeated/doubled","in earnest":"earnestly","in effect":"DELETE","in error":"wrong","in essence":"essentially","in excess of":"exceeding","in exchange for":"for","in existence":"existing/exists","in fact":"DELETE","in fairness to":"acknowledging","in favor of":"favoring","in fear of":"fearing","in flames":"flaming/burning","in flower":"blooming","in full":"fully","in the future":"next/soon/ahead","in gear":"moving","in general":"generally","in good condition":"pristine/well-maintained","in bad condition":"wrecked/worn down","in good faith":"sincere(ly)","in hand":"holding","in harmony with":"agreeing/harmonizing with","in haste":"quickly","in hiding":"secretly/incognito","in high spirits":"upbeat","in honor of":"honoring","in horror of":"abhorring","in isolation":"isolated","in its infancy":"beginning/inception","in jeopardy":"risking","in keeping with":"maintaining","in labor":"laboring/giving birth","in league with":"allied","in length":"DELETE","in line with":"follows","in love with":"loves","in memory of":"remembering/honoring","in mid-air":"mid-air","in mind":"thinking","in moderation":"moderately","in mourning":"mourning","in name only":"artificial/sinecure","in office":"elected/representing","in operation":"using/used","in opposition to":"opposing","in origin":"originally","in other words":"basically","in pain":"hurting","in particular":"specifically","in person":"DELETE","in pieces":"broken","in place of":"replacing","in possession of":"owning/possessing","in poverty":"impoverished","in practice":"traditionally","in preference to":"preferring","in preparation for":"for/preparing for","in principle":"theoretically","in private":"privately","in progress":"progressing","in proportion to":"proportionally/proportionately","in proportion with":"proportionately/proportionally","in public":"publically","in pursuit of":"pursuing","in quantity":"amount","in question":"DELETE","in recognition of":"recognizing","in relation to":"relates/relating (to)","in reply to":"replying","in reserve":"reserved","in residence":"residing","in respect of":"respecting","in response to":"responding to","in revenge for":"to avenge","in reverse":"backwards/reverse","in ruins":"ruined","in safety":"safe","best interest":"DELETE","her opinion":"DELETE or thinks","my opinion":"DELETE or think","his opinion":"DELETE or thinks","in search of":"searching for","in secret":"secretly/incognito","in self-defense":"defensively","in settlement of":"DELETE","in silence":"silently","in store":"expecting/imminent","in succession":"succeeding","in support of":"supporting","in sympathy with":"sympathizing with","in tears":"crying","in terror":"terrified","in the absence of":"lacking/without","in the aftermath":"resulting in","in the balance":"DELETE","in the case of":"for","in the distance":"distantly","in the event of":"if","in the extreme":"extremely","in the eyes of":"according to","in the flesh":"DELETE","in the form of":"DELETE","in the habit of":"usually","in the interests of":"for","in the lead":"leading","in the long run":"eventually","in the making":"forming OR REWRITE","in the meantime":"meanwhile/simultaneously","in the mood for":"desiring/wanting","in the name of":"for","in the night":"at night","in the open":"openly","in the process of":"beginning to/starting to","in the right":"correct","in the seclusion of":"secluded by","in the shade":"shaded","in the space of":"within","in the wake of":"after","in the way of":"like","in the wrong":"wrong","in theory":"theoretically","in times of":"during","in town":"here/there","in trouble":"troubled/embattled","in tune with":"agreeing with","in turmoil":"disagreeing","in turn":"DELETE","in unison":"together","in vain":"vainly","in view of":"considering","in vogue":"hip/fashionable/chic","of the opinion":"thinks or DELETE","on duty":"working","off duty":"off","off their rocker":"crazy","on the watch for":"waiting for/expecting",behind:"late","on schedule":"punctual","off the record":"private(ly)","on the record":"public(ly)","on the road":"travelling","under oath":"sworn","under pain of":"DELETE","on the air":"playing","off the air":"discontinued","off balance":"unbalanced","on a diet":"dieting","on a large scale":"generally","on a small scale":"specifically","on a regular basis":"regularly","on account of":"due to/because of","on average":"generally","on behalf of":"for","on condition that":"assuming/if","on credit":"borrowing/lending","on display":"displayed","on edge":"worried","on end":"DELETE","on file":"recorded","on fire":"burning","on foot":"walking","on good terms":"amicable/friendly","on guard":"guarding","on hand":"DELETE","on horseback":"horseriding","on impulse":"impulsively","on leave":"absent/vacationing/travelling","on no account":"never","on occasion":"occasionally","own terms":"DELETE","on your own":"individually","on her own":"individually","on his own":"individually","on their own":"individually","on one":"individually","on paper":"recorded","on patrol":"patroling","on purpose":"intentionally","upon reflection":"DELETE","on reflection":"DELETE","on sale":"discounted","on second thought":"however","on show":"displayed","on strike":"striking","on suspicion of":"suspecting","on the agenda":"planned","on the assumption":"assuming/if","on the brink of":"nearly/almost","on the dot":"exactly","on the edge of":"nearly/almost","on the eve of":"near","on the grounds of":"because of","on the horizon":"near/soon","on the hour":"prompt","on the increase":"increasing","on the job":"working","on the move":"moving","on the off-chance":"if","on the outskirts":"nearby/near","on the part of":"for","on the phone":"talking","on the point of":"near/close to","on the run":"running","on the strength of":"based on","on the stroke of":"DELETE","on the tip of":"near to","on the top of":"leading","on the understanding that":"given/assuming","on the verge of":"almost","on the way to":"heading to/toward","on time":"prompt","on vacation":"vacationing","in fashion":"fashionable","out of fashion":"unfashionable","in print":"current","out of print":"discontinued","in step":"following","out of step":"not following","out of breath":"winded/exhausted/tired","out of control":"uncontrollable","out of curiosity":"DELETE","out of date":"outdated","out of doors":"outside","out of order":"broken","out of pity":"sympathizing/pitying","out of place":"improper","out of reach":"unreachable","out of respect for":"honoring","out of sight":"unattainable","out of spite":"spiteing","out of stock":"unavailable","out of the ordinary":"unusual","out of the question":"impossible","out of work":"unemployed","through no fault of":"innocently","on the contrary":"instead","to an extent":"DELETE","to date":"DELETE","to excess":"excessively","to one":"surprisingly","to his face":"directly","to her face":"directly","to my face":"directly","to this day":"until now","to the best of":"DELETE","to the detriment of":"harming","to the exclusion of":"excluding","to the full":"fully","under age":"a minor","under arrest":"arrested","under consideration":"X is considering","under construction":"X is constructing","under discussion":"discussing","under lock and key":"protected/safeguarded","under pressure":"pressured","under regulations":"expected","under repair":"X is repairing","under strain":"straining to","under stress":"stressed","under suspicion":"suspected of","under the command of":"commanded by","under the impression that":"thinking/believing that","under the influence":"intoxicated/high/drunk","under the misapprehension":"assuming","without success":"unsuccessfully","with success":"successfully","with a view to":"DELETE or to","with an eye to":"DELETE or to","with regret":"regretfully","with respect to":"regarding","with the aid of":"with","with the compliments of":"thanks to","with the help of":"thanks to","with the intention of":"intending to","within reason":"reasonably","within grasp":"near","within reach of":"attainable/can attain","within walking distance":"nearby/near","without a doubt":"undoubtedly","without doubt":"undoubtedly","without a break":"unceasingly","without a hitch":"easily","without delay":"directly","without exception":"universally","without fail":"dependably","without foundation":"baseless","without precedent":"unprecedented","without question":"unquestionably","without warning":"unexpected","whole different":"different","do not like":"dislike"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-wordiness"]],decls:37,vars:3,consts:[[1,"wordinessTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ct(14,Xie,2,1,"tr",1),p(),f(15,"td"),ct(16,ese,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(x(2),Me(r.title),x(12),We("ngForOf",r.table.find),x(2),We("ngForOf",r.table.suggestion))},directives:[Er,cn],styles:[".wordinessTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function nse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function rse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}let ise=(()=>{class n{constructor(){this.title="Transitions",this.values={"above all":"",accordingly:"",additionally:"","after all":"",afterward:"",albeit:"","all in all":"","all of a sudden":"","all things considered":"",also:"",although:"",altogether:"","another key point":"","as a matter of fact":"","as a result":"","as an illustration":"","as can be seen":"","as has been noted":"","as shown above":"","as soon as":"","as well as":"","at the present time":"","at the same time":"","at this instant":"",basically:"","be that as it may":"","because of":"",besides:"","by all means":"","by and large":"","by the same token":"",certainly:"",chiefly:"",comparatively:"",consequently:"",conversely:"",correspondingly:"",despite:"","different from":"","due to":"",equally:"","equally important":"",especially:"","even so":"",eventually:"",expressively:"",finally:"",firstly:"","first thing to remember":"",following:"","for example":"","for fear that":"","for instance":"","for one thing":"","for the most part":"","for the purpose of":"","for this reason":"",formerly:"",forthwith:"",frequently:"","from time to time":"",further:"",furthermore:"","generally speaking":"","given that":"","given these points":"",hence:"",henceforth:"",however:"",identically:"",immediately:"","important to realize":"","in a moment":"","in a word":"","in addition":"","in any event":"","in brief":"","in case":"","in conclusion":"","in contrast":"","in detail":"","in due time":"","in either case":"","in essence":"","in fact":"","in general":"","in light of":"","in like manner":"","in order to":"","in other words":"","in particular":"","in reality":"","in short":"","in spite of":"","in summary":"","in that case":"","in the event that":"","in the final analysis":"","in the first place":"","in the hope that":"","in the long run":"","in the meantime":"","in the same way":"","in this case":"","in time":"","in view of":"","inasmuch as":"",indeed:""," lest ":"",likewise:"",markedly:"",meanwhile:"",moreover:"","most compelling evidence":"","must be remembered":"",namely:"",nevertheless:"",next:"","not only":"","not to mention":"",notably:"",notwithstanding:"","of course":"","on balance":"","on the condition that":"","on the contrary":"","on the other hand":"","on the positive / negative side":"","on the whole":"",ordinarily:"",otherwise:"",overall:"","owing to":"","point often overlooked":"","prior to":"","provided that":"",quickly:"",rather:"",regardless:"",secondly:"",significantly:"",similarly:"",since:"","so as to":"","so long as":"","so that":"","sooner or later":"",specifically:"",straightaway:"",subsequently:"","such as":"",surely:"",surprisingly:"","that is to say":"","then again":"",therefore:"",thereupon:"",thirdly:"",thus:"","to be sure":"","to begin with":"","to clarify":"","to demonstrate":"","to emphasize":"","to enumerate":"","to explain":"","to point out":"","to put it another way":"","to put it differently":"","to repeat":"","to say nothing of":"","to sum up":"","to summarize":"","to the end that":"","together with":"",truly:"","under those circumstances":"",uniquely:"",unless:"","until now":"","up to the present time":"",usually:"",whenever:"",whereas:"","with attention to":"","with this in mind":"","with this intention":"","without delay":""},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-transitions"]],decls:37,vars:3,consts:[[1,"transitionsTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ct(14,nse,2,1,"tr",1),p(),f(15,"td"),ct(16,rse,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(x(2),Me(r.title),x(12),We("ngForOf",r.table.find),x(2),We("ngForOf",r.table.suggestion))},directives:[Er,cn],styles:[".transitionsTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function sse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function ose(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}let ase=(()=>{class n{constructor(){this.title="Grammar",this.values={"a 100":"100, a hundred, one hundred","a 1000":"1000, a thousand, one thousand","a 11":"an 11","a 11th":"an 11th","a 18":"an 18","a 18th":"an 18th","a 8":"an 8","a 80":"an 80","a 8th":"an 8th","a absolute":"an absolute","a accident":"an accident","a acoustic":"an acoustic","a acronym":"an acronym","a action":"an action","a actual":"an actual","a additional":"an additional","a affair":"an affair","a African":"an African","a album":"an album","a Algerian":"an Algerian","a alien":"an alien","a alternative":"an alternative","a AM":"an AM","a amateur":"an amateur","a American":"an American","a amount":"an amount","Although,":"However,","a analog":"an analog","a analogue":"an analogue","a angle":"an angle","a Angolan":"an Angolan","a annual":"an annual","a another":"another","a antenna":"an antenna","a anti":"an anti","a Arabian":"an Arabian","a Arabic":"an Arabic","a Argentine":"an Argentine","a Armenian":"an Armenian","a Asian":"an Asian","a assistant":"an assistant","a associate":"an associate","a Australian":"an Australian","a Austrian":"an Austrian","a average":"an average","a back up":"a back-up, a backup","a bacteria":"a bacterium [singular], bacteria [plural]","a batsmen":"a batsman [singular]","a businessmen":"a businessman [singular]","a businesswomen":"a businesswoman","a consortia":"a consortium [singular]","a criteria":"a criterion [singular]","a dominate":"a dominant","a early":"an early","a effective":"an effective","a Egyptian":"an Egyptian","a eight":"an eight","a eighth":"an eighth","a eighteen":"an eighteen","a eighteenth":"an eighteenth","a eighty":"an eighty","a electric":"an electric","a electronic":"an electronic","a eleven":"an eleven","a eleventh":"an eleventh","a elite":"an elite","a embedded":"an embedded","a English":"an English","a entire":"an entire","a EP":"an EP","a epic":"an epic","a episode":"an episode","a equal":"an equal","a estimate":"an estimate","a Ethiopian":"an Ethiopian","a ethnic":"an ethnic","a example":"an example","a extra":"an extra","a falling out":"a falling-out [though Wiktionary has both]","a firemen":"a fireman [singular]","a flagella":"a flagellum [singular]","a FM":"an FM","a freshmen":"a freshman [singular]","a fungi":"a fungus [singular]","a gunmen":"a gunman [singular]","a impact":"an impact","a independent":"an independent","a Indian":"an Indian","a individual":"an individual","a Indonesian":"an Indonesian","a indoor":"an indoor","a information":"an information","a initiative":"an initiative","a intelligent":"an intelligent","a interesting":"an interesting","a interim":"an interim","a interior":"an interior","a intermediate":"an intermediate","a international":"an international","a Internet":"an Internet","a intersection":"an intersection","a interview":"an interview","a introduction":"an introduction","a Iranian":"an Iranian","a Iraqi":"an Iraqi","a Irish":"an Irish","a iron":"an iron","a island":"an island","a Israeli":"an Israeli","a issue":"an issue","a Italian":"an Italian","a larvae":"a larva [singular]","a line up":"a line-up, a lineup","a lock out":"a lockout","a lose":"a loss","a match up":"a match-up, a matchup","a media for":"a medium for","a nuclei":"a nucleus [singular]","a ocean":"an ocean","a official":"an official","a Ohio":"an Ohio","a oil":"an oil","a old":"an old","a one of the":"one of the","a online":"an online","a only":"an only, only a","a only a":"only a","a opinion":"an opinion","a organization":"an organization","a original":"an original","a other":"an other","a outbreak":"an outbreak","a outdoor":"an outdoor","a outside":"an outside","a overtime":"an overtime","a owner":"an owner","a paparazzi":"a paparazzo [singular], paparazzi [plural]","a parentheses":"a parenthesis [singular]","a phenomena":"a phenomenon [singular], phenomena [plural]","a protozoa":"a protozoon [singular], protozoa [plural]","a pupae":"a pupa [singular]","a radii":"a radius [singular]","a run in":"a run-in","a set back":"a set-back, a setback","a set up":"a setup","a simple as":"as simple as","a spermatozoa":"a spermatozoon [singular]","a statesmen":"a statesman [singular]","a taxa":"a taxon [singular]","a toss up":"a toss-up, a tossup","a two months":"a two-month","a ultimate":"an ultimate","a undercover":"an undercover","a underground":"an underground","a unfortunate":"an unfortunate","a unusual":"an unusual","a upper":"an upper","a urban":"an urban","a vertebrae":"a vertebra [singular]","a women":"a woman [singular]","a work out":"a workout","Aboriginal decent":"Aboriginal descent","about it's":" about its [possessive]","about they're":" about their [possessive]","about who to":"about whom to","about who's":" about whose [possessive]","above it's":" above its [possessive]","AC current":"AC, alternating current","ACL ligament":"ACL, anterior cruciate ligament","across it's":" across its [possessive]","affect on":"effect on","affect upon":"effect upon","affects of":"effects of","African decent":"African descent","after along time":"after a long time","after awhile":"after a while [noun]","after been":"after being","after it's":" after its [possessive]","after quite awhile":"after quite a while","against it's":" against its [possessive]","against who":"against whom","ago since":"since","agree in principal":"agree in principle","agreement in principal":"agreement in principle","Air Canada Center":"Air Canada Centre","airplane hanger":"airplane hangar","Albanian decent":"Albanian descent","all for not":"all for naught","all it's":" all its","all though":"although","all tolled":"all told","allot of":"a lot of","alma matter":"alma mater","along it's":" along its [possessive]","along side":"alongside","along time":"a long time","alongside it's":" alongside its [possessive]","alongside with":"along with, alongside","also know as":"also known as","also know by":"also known by","also know for":"also known for","alter boy":"altar boy","alter server":"altar server","AM in the morning":"AM, in the morning","am loathe to":"am loath to [adjective]","American decent":"American descent","amid it's":" amid its [possessive]","amidst it's":" amidst its [possessive]","among it's":" among its [possessive]","among others things":"among other things","amongst it's":" amongst its [possessive]","an affect":"an effect","an alumnae of":"an alumna of [singular]","an alumni of":"an alumnus of [singular]","an another":"another","an antennae":"an antenna [singular]","an British":"a British","an Canadian":"a Canadian","an European":"a European","an head":"a head","an hero":"a hero","an new":"a new","an nine":"a nine","an number":"a number","an other":"another","an Scottish":"a Scottish","an seven":"a seven","an six":"a six","an ten":"a ten","an unit":"a unit","an Unix":"a Unix","an USB":"a USB","and etc":"etc","and so fourth":"and so forth","another criteria":"another criterion [singular]","another wise":"an otherwise","another words":"in other words, other words","any where":"anywhere",anyways:"anyway","apart form":"apart from","apart of":"a part of, apart from","are aloud to":"are allowed to","are been":"are being, have been","are build":"are built","are can":"can","are have":"have","are it's":" are its [possessive]","are know as":"are known as","are know by":"are known by","are know for":"are known for","are know to":"are known to","are lain":"are laid","are lead by":"are led by","are loathe to":"are loath to [adjective]","are ran by":"are run by","are renown":"are renowned","are set-up":"are set up","are setup":"are set up","are shutdown":"are shut down","are shutout":"are shut out","are suppose to":"are supposed to","are the dominate":"are the dominant","are use to":"are used to","are were":"are, are where, were","Armenian decent":"Armenian descent","around it's":" around its [possessive]","as a resulted":"as a result","as apposed to":"as opposed to","as back up":"as backup","as been":"as being, has been","as followed":"as follows","as it's":" as its [possessive]","as oppose to":"as opposed to","Asian decent":"Asian descent","aside it's":" aside its [possessive]","assume the reigns":"assume the reins","assume the roll":"assume the role","at it's":" at its [possessive]","at the alter":"at the altar","at the reigns":"at the reins","ATM machine":"ATM, automated teller machine","away form":"away from","back and fourth":"back and forth","back drop":"backdrop","back fire":"backfire [verb]","back in forth":"back and forth","back peddle":"backpedal","back round":"background","badly effected":"badly affected","baited breath":"bated breath","baled out":"bailed out [though Wiktionary and the COD allow both spellings]","baling out":"bailing out [ditto]","barb wire":"barbed wire","bare in mind":"bear in mind","based off":"based on","based out of":"based in","basic principal":"basic principle","be build":"be built","be cause":"because","be drew":"be drawn","be it's":" be its","be know as":"be known as","be lain":"be laid","be lead by":"be led by","be loathe to":"be loath to","be ran":"be run","be rode":"be ridden","be set-up":"be set up","be setup":"be set up","be use to":"be used to","be ware":"beware","became know":"became known","became to be":"became, came to be","because of it's":" because of its","because of the fact that":"because","been a while":"been awhile","been build":"been built","been it's":" been its","been know":"been known","been lain":"been laid","been lead by":"been led by","been loathe to":"been loath to","been ran":"been run","been rode":"been ridden","been set-up":"been set up [verb]","been setup":"been set up","been show on":"been shown on","been use to":"been used to","before hand":"beforehand","before it's":" before its","behind it's":" behind its","being build":"being built","being giving":"been giving, being given","being it's":" being its","being lain":"being laid","being lead by":"being led by","being loathe to":"being loath to","being ran":"being run","being rode":"being ridden","being set-up":"being set up","being setup":"being set up","being show on":"being shown on","being taking":"been taking, being taken","below it's":" below its","beneath it's":" beneath its","beside it's":" beside its","besides it's":" besides its","better know as":"better known as","better know for":"better known for","better that":"better than","better then":"better than","between he and":"between him and","between I and":"between me and","between it's":" between its","between she and":"between her and","between they and":"between them and","beyond it's":" beyond its","Bogota, Columbia ":"Bogot","both it's":" both its","both of it's":" both of its","both of them is":"both of them are","brake away":"break away","breath fire":"breathe fire","breathe a sign of relief":"breathe a sigh of relief","brew haha":"brouhaha","Brinsley Schwartz":"Brinsley Schwarz","by fisherman":"by fishermen","by it's":" by its","by who's":" by whose","can backup":"can back up","can been":"can be","can blackout":"can black out","can breath":"can breathe","can checkout":"can check out","can playback":"can play back","can setup":"can set up","can tryout":"can try out","can workout":"can work out","can't breath":" can't breathe","card shark":"card sharp","chalk full":"chock-full","chocked full":"chock-full","chomping at the bit":"champing at the bit","close proximity":"closeness, proximity","commonly know as":"commonly known as","commonly know for":"commonly known for","comprise of":"comprise, consist of","comprised almost entirely of":"composed almost entirely of, consisting almost entirely of","comprised chiefly of":"composed chiefly of, comprised chiefly, consisting chiefly of","comprised entirely of":"composed entirely of, consisting entirely of","comprised exclusively of":"composed exclusively of, consisting exclusively of","comprised generally of":"composed generally of, comprised generally, consisting generally of","comprised largely of":"composed largely of, consisting largely of","comprised mainly of":"composed mainly of, comprised mainly, consisting mainly of","comprised mostly of":"composed mostly of, consisting mostly of","comprised of":"composed of, comprised, consisting of","comprised only of":"composed only of, comprised only, consisting only of","comprised primarily of":"composed primarily of","comprised principally of":"composed principally of","comprised totally of":"composed totally of, comprised totally, consisting totally of","comprised wholly of":"composed wholly of, consisting wholly of","comprises entirely of":"comprises entirely, consists entirely of","comprises exclusively of":"comprises exclusively, composed exclusively of","comprises mainly of":"comprises mainly, consists mainly of","comprises mostly of":"comprises mostly, consists mostly of","comprises of":"comprises, consists of","comprises only of":"comprises only, composed only of, consists only of","comprising chiefly of":"comprising chiefly, consisting chiefly of","comprising entirely of":"comprising entirely, consisting entirely of","comprising exclusively of":"comprising exclusively, consisting exclusively of","comprising generally of":"comprising generally, consisting generally of","comprising largely of":"comprising largely, consisting largely of","comprising mainly of":"comprising mainly, consisting mainly of","comprising mostly of":"comprising mostly, consisting mostly of","comprising of":"comprising, consisting of","comprising only of":"comprising only, consisting only of","comprising primarily of":"comprising primarily, consisting primarily of","comprising principally of":"comprising principally, consisting principally of","comprising totally of":"comprising totally, consisting totally of","comprising wholly of":"comprising wholly, consisting wholly of","constellation prize":"consolation prize","constitutes of":"consists of, constitutes","construction sight":"construction site","contains of":"consists of, contains","could backup":"could back up","could breath":"could breathe","could care less":" couldn't care less","could of":"could have","couldn't breath":" couldn't breathe","daily regiment":"daily regimen","DC current":"DC, direct current","de factor":"de facto","different tact":"different tack","diffuse the situation":"defuse the situation","diffuse the tension":"defuse the tension","disc break":"disc brake","dominate player":"dominant player","dominate role":"dominant role}","door jam":"door jamb","down side":"downside","drum breaks":"drum brakes","due to the fact":"because","during in":"during","during it's":" during its","during they're":" during their","each alumni":"each alumnus [singular]","each are":"each is","each criteria":"each criterion [singular]","each has their":"each has its","each phenomena":"each phenomenon [singular]","each vertebrae":"each vertebra [singular]","easier then":"easier than","egg yoke":"egg yolk","either criteria":"either criterion","either phenomena":"either phenomenon","electrical current":"electric current","eluded to":"alluded to","en mass":"en masse","even thought":"even though","even tough":"even though","eye brow":"eyebrow","eye lash":"eyelash","eye lid":"eyelid","eye sight":"eyesight","eye sore":"eyesore","faired as well":"fared as well","faired badly":"fared badly","faired better":"fared better","faired far":"fared far","faired less":"fared less","faired little":"fared little","faired much":"fared much","faired no better":"fared no better","faired poorly":"fared poorly","faired quite":"fared quite","faired rather":"fared rather","faired slightly":"fared slightly","faired somewhat":"fared somewhat","faired well":"fared well","faired worse":"fared worse","farther then":"farther than","faster then":"faster than","figure head":"figurehead","first and foremost":"first, foremost","First Word War":"First World War","flag ship":"flagship","flow of current":"current, flow of charge","flow of electric current":"electric current, flow of electric charge","follow suite":"follow suit","for all intensive purposes":"for all intents and purposes","for along time":"for a long time","for awhile":"for a while","for it's":" for its","for quite awhile":"for quite a while","forgone conclusion":"foregone conclusion","formally know as":"formerly known as - but only if the change can be verified","formerly know as":"formerly known as","forth place":"fourth place","free reign":"free rein","freshman are":"freshman is, freshmen are","full compliment of":"full complement of","get pass":"get past","get setup":"get set up","get use to":"get used to","getting use to":"getting used to","going threw":"going through","got ran":"got run","got setup":"got set up","got shutdown":"got shut down","got shutout":"got shut out","ground work":"groundwork","guest stared":"guest-starred","had arose":"had arisen","had aroke":"had awoken","had became":"had become","had began":"had begun","had being":"had been","had bore":"had borne","had broke":"had broken","had brung":"had brought","had came":"had come","had chose":"had chosen","had comeback":"had come back","had did":"had done","had drank":"had drunk","had drew":"had drawn","had drove":"had driven","had fell":"had fallen","had flew":"had flown","had forbad":"had forbidden","had forbade":"had forbidden","had gave":"had given","had grew":"had grown","had it's":" had its","had lead to":"had led to","had overtook":"had overtaken","had plead":"had pleaded, had pled","had ran":"had run","had rang":"had rung","had rode":"had ridden","had rose":"had risen","had sang":"had sung","had saw":"had seen","had set-up":"had set up","had setup":"had set up","had shook":"had shaken","had sowed":"had sown","had spoke":"had spoken","had sprang":"had sprung","had swam":"had swum","had threw":"had thrown","had throve":"had thriven, had thrived","had thunk":"had thought","had took":"had taken","had trod":"had trodden","had undertook":"had undertaken","had underwent":"had undergone","had went":"had gone","had woke":"had woken","had wrote":"had written","hand the reigns":"hand the reins","has arose":"has arisen","has became":"has become","has began":"began, has begun","has build":"has built","has drank":"has drunk","has it's":" has its","has lead to":"has led to","has ran":"has run","has sang":"has sung","has setup":"has set up","has shook":"has shaken","has spoke":"has spoken","has sprang":"has sprung","has swam":"has swum","has threw":"has thrown","has throve":"has thriven, has thrived","has thunk":"has thought","has took":"has taken","has trod":"has trodden","has undertook":"has undertaken","has underwent":"has undergone","has was":"he was, was","has went":"has gone","has woke":"has woken","has wrote":"has written","have drank":"have drunken","have it's":" have its","have lead to":"have led to","have ran":"have run","have sang":"have sung","have setup":"have set up","have sprang":"have sprung","have swam":"have swum","have took":"have taken","have underwent":"have undergone","have went":"have gone","having being":"having been","having ran":"having run","having sang":"having sung","having setup":"having set up","having swam":"having swum","having took":"having taken","having went":"having gone","hay day":"heyday","he begun":"he began","he garnished":"he garnered","he let's":" he lets","he plead":"he pleaded, he pled","he seen":"he saw","he use to":"he used to","he's drank":" he's drunk","head gear":"headgear","head quarters":"headquarters","head stone":"headstone","head wear":"headwear","held the reigns":"held the reins","help and make":"help to make","higher then":"higher than","hit the breaks":"hit the brakes","hold onto":"hold on to","hold the reigns":"hold the reins","holding the reigns":"holding the reins","holds the reigns":"holds the reins","hone in on":"home in on","how ever":"however","imminent domain":"eminent domain","in affect":"in effect","in along time":"in a long time","in anyway":"in any way","in awhile":"in a while","in close proximity to":"close to, in proximity to","in edition to":"in addition to","in it's":" in its","in January 1":"on January 1, etc.","in masse":"en masse, in massam","in parenthesis":"in parentheses","in placed":"in place","in principal":"in principle","in quite awhile":"in quite a while","in stead of":"instead of","in tact":"intact","in the long-term":"in the long term","in the short-term":"in the short term","in titled":"entitled","in vein":"in vain","incase of":"in case of","inorder to":"in order to","into affect":"into effect","is also know":"is also known","is be ":"is, is to be","is been":"has been, is being","is comprised from":"comprises","is comprised with":"comprises","is contained of":"contains","is front of":"in front of, is in front of","is has":"has, it has","is know to be":"is known to be","is lead by":"is led by","is loathe to":"is loath to","is ran by":"is run by","is renown for":"is renowned for","is setup":"is set up","is use to":"is used to","it begun":"it began","it comprises of":"it comprises","it lead to":"it led to","it lied":"it lay","it self":"itself","it setup":"it set up","it use to":"it used to","it's 10th":" its 10th","it's 4th":" its 4th","it's 5th":" its 5th","it's advantage":" its advantage","it's aim":" its aim","it's annual":" its annual","it's best":" its best","it's class":" its class","it's color":" its color [Amer]","it's colour":" its colour [Brit]","it's contents":" its contents","it's course":" its course","it's current":" its current","it's debut":" its debut","it's doors":" its doors","it's eastern":" its eastern","it's end":" its end","it's entire":" its entire","it's final":" its final","it's first":" its first","it's former":" its former","it's fourth":" its fourth","it's goal":" its goal","it's highest":" its highest","it's history":" its history","it's home":" its home","it's inception":" its inception","it's initial":" its initial","it's junction":" its junction","it's kind":" its kind","it's lack":" its lack","it's last":" its last","it's latest":" its latest","it's lead":" its lead","it's leader":" its leader","it's length":" its length","it's lowest":" its lowest","it's maximum":" its maximum","it's minimum":" its minimum","it's money":" its money","it's name":" its name","it's north":" its north","it's northern":" its northern","it's original":" its original","it's own":" its own","it's peak":" its peak","it's period":" its period","it's previous":" its previous","it's price":" its price","it's primary":" its primary","it's prime":" its prime","it's purpose":" its purpose","it's release":" its release","it's rival":" its rival","it's second":" its second","it's south":" its south","it's southern":" its southern","it's successor":" its successor","it's tail":" its tail","it's target":" its target","it's tenth":" its tenth","it's theme":" its theme","it's third":" its third","it's timeslot":" its timeslot","it's toll":" its toll","it's total":" its total","it's type":" its type","it's way":" its way","it's western":" its western","it's worst":" its worst","its is":"it is","Jimmy Buffet":"Jimmy Buffett","Jimmy Hendrix":"Jimi Hendrix","jive with":"jibe with","key note":"keynote","lack there of":"lack thereof","laid ahead":"lay ahead","laid dormant":"lay dormant","laid empty":"lay empty","laid fallow":"lay fallow","laid in state":"lay in state","larger that":"larger than","larger then":"larger than","laughing stock":"laughingstock","law suite":"lawsuit","lay around":"lie around","lay low":"lie low","laying around":"lying around","laying awake":"lying awake","laying low":"lying low","lays atop":"lies atop","lays beside":"lies beside","lays in":"lies in","lays low":"lies low","lays near":"lies near","lays on":"lies on","lead by":"led by","lead roll":"lead role","leading roll":"leading role","less dominate":"less dominant","less that":"less than","less then":"less than","lesser then":"less than","life time":"lifetime","lighter then":"lighter than","lions share":" lion's share","loose to":"lose to","loosing effort":"losing effort","loosing record":"losing record","loosing season":"losing season","loosing streak":"losing streak","loosing team":"losing team","loosing the":"losing the","loosing to":"losing to","lot's of":"lots of, many, much","lower that":"lower than","lower then":"lower than","made it's":" made its","mainly know as":"mainly known as","mainly know for":"mainly known for","major roll":"major role","make it's":" make its","managerial reigns":"managerial reins","mash potatoes":"mashed potatoes","may been":"may be, may have been","maybe be":"may be","MCL ligament":"MCL, medial collateral ligament","mean while":"meanwhile","might of":"might have","Milwaukee, Oregon ":"Milwaukie, Oregon","minor roll":"minor role","more dominate":"more dominant","more often then":"more often than [comparative]","more optimal":"better","more that":"more than","more then":"more than [comparative]","most dominate":"most dominant","most optimal":"best, optimal","most populace":"most populous","most well-known":"best-known","mostly know as":"mostly known as","mostly know for":"mostly known for","must of":"must have","mute point":"moot point","nation wide":"nationwide","near by":"nearby","neither criteria":"neither criterion","neither phenomena":"neither phenomenon","Netherland Antilles":"Netherlands Antilles","new comer":"newcomer","next store":"next-door","no where to":"nowhere to","note worthy":"noteworthy","now a days":"nowadays","of been":"have been, of being","of it's own":" of its own","of who to":"of whom to","oil barron":"oil baron","on going":"ongoing","on it's own":" on its own","on-going":"ongoing","one in the same":"one and the same","one criteria":"one criterion","one phenomena":"one phenomenon","originally born in":"born in","originally know as":"originally known as","other then":"other than","out grow":"outgrow","out of sink":"out of sync","out side":"outside","over a 100":"over 100, over a hundred, over one hundred","over a 1000":"over 1000, over a thousand, over one thousand","over hear":"overhear","over heard":"overheard","over look":"overlook","over looked":"overlooked","over looking":"overlooking","over rated":"overrated","over seas":"overseas","over see":"oversee","over who to":"over whom to","parent's house":" parents' house","past away":"passed away, died","past down":"passed down","peak his interest":"pique his interest","per say":"per se","Phillips Arena":"Philips Arena","player's union":" players' union","playoff birth":"playoff berth","Portland Trailblazers":"Portland Trail Blazers","premier episode":"premiere episode","principle action":"principal action","principle activity":"principal activity","principle actor":"principal actor","principle advantage":"principal advantage","principle advocate":"principal advocate","principle agent":"principal agent","principle aim":"principal aim","principle area":"principal area","principle artist":"principal artist","principle assistant":"principal assistant","principle attraction":"principal attraction","principle author":"principal author","principle branch":"principal branch","principle cast":"principal cast","principle caste":"principal caste","principle cause":"principal cause","principle character":"principal character","principle church":"principal church","principle city":"principal city","principle component":"principal component","principle composer":"principal composer","principle goal":"principal goal","principle group":"principal group","principle method":"principal method","principle office":"principal office","principle officer":"principal officer","principle owner":"principal owner","principle photography":"principal photography","principle source":"principal source","principle student":"principal student","principle town":"principal town","put fourth":"put forth","rather then":"rather than","reek havoc":"wreak havoc","reign in":"rein in","reigned in":"reined in","reigns of power":"reins of power","reticence to":"reluctance to","reticent to":"reluctant to","role call":"roll call","roll player":"role player","runner up":"runner-up","saddle up to":"sidle up to","Second Word War":"Second World War","set backs":"setbacks","she begun":"she began","she let's":" she lets","she seen":"she saw","she weighted":"she waited, she weighed","short coming":"shortcoming","shorter then":"shorter than","shortly there after":"shortly thereafter","should backup":"should back up","should been":"should be, should have been","should not of":"should not have","should of":"should have","should've went":" should have gone","side affect":"side effect","side kick":"sidekick [person]","simply know as":"simply known as","since it's":" since its","since many years":"for many years","since years":"for years","single handily":"single-handedly","site lines":"sight lines","slight of hand":"sleight of hand","slue of":"slew of","smaller then":"smaller than","smarter then":"smarter than","sneak peak":"sneak peek","some how":"somehow","some one":"someone","some what":"somewhat","some where":"somewhere","sometimes know as":"sometimes known as","soon there after":"soon thereafter","sooner then":"sooner than","sophomore album":"second album","sophomore single":"second single","spilt among":"split among","spilt between":"split between","spilt into":"split into","spilt up":"split up","spinal chord":"spinal cord","spitting image":"spit and image","split in to":"split into","sq ft":"ft","sq in":"in","sq km":"km","sq mi":"mi","squared feet":"square feet","squared inches":"square inches","squared kilometers":"square kilometers","squared meters":"square meters","squared miles":"square miles","stale mate":"stalemate","staring role":"starring role","starring roll":"starring role","stay a while":"stay awhile","Stevie Ray Vaughn":"Stevie Ray Vaughan","Straight of":"Strait of [geography]","strike outs":"strikeouts","stronger then":"stronger than","suppose to":"supposed to","take affect":"take effect","take over the reigns":"take over the reins","take the reigns":"take the reins","taken the reigns":"taken the reins","taking the reigns":"taking the reins","teacher's union":" teachers' union","ten times less than":"one tenth as much as","than it's":" than its","that maybe":"that may be","the 1st of January":"1 January etc","the are":"they are","the break down":"the breakdown","the break up":"the breakup","the clamp down":"the clampdown","the follow up":"they follow-up","the had":"they had","the much of the":"much of the","the one of the":"one of the","the were":"they were","their are":"there are","their had":"there had","their has":"there has","their have":"there have","their is":"there is","their was":"there was","their were":"there were","their would":"there would","them selves":"themselves","there after":"thereafter","there by":"thereby","there maybe":"there may be","there of":"thereof","there own":"their own","there where":"there were","these maybe":"these may be","these where":"these were","they garnished":"they garnered","they maybe":"they may be","they way":"the way","they where":"they were","this criteria":"these criteria [plural], this criterion [singular]","this lead to":"this led to","this maybe":"this may be","this phenomena":"this phenomenon [singular]","those maybe":"those may be","through it's":" through its","through out":"threw out, throughout","through the ringer":"through the wringer","throughout it's":" throughout its","time outs":"timeouts","to back fire":"to backfire","to back-off":"to back off","to back-up":"to back up [verb]","to backoff":"to back off","to backout":"to back out","to backup":"to back up [verb]","to bailout":"to bail out","to bath":"to bathe","to be build":"to be built","to be setup":"to be set up","to blackout":"to black out","to blastoff":"to blast off [verb]","to blowout":"to blow out [verb]","to blowup":"to blow up [verb]","to breakdown":"to break down [verb]","to breath":"to breathe","to buildup":"to build up","to built":"to build","to buyout":"to buy out [verb]","to chose":"to choose","to comeback":"to come back [verb]","to crackdown":"to crack down [verb]","to cutback":"to cut back [verb]","to dropout":"to drop out [verb]","to forego":"to forgo","to grown":"to grow","to have lead to":"to have led to","to holdout":"to hold out [verb]","to kickoff":"to kick off [verb]","to lit":"to light","to loath":"to loathe [verb]","to lockout":"to lock out [verb]","to markup":"to mark up [verb]","to pickup":"to pick up [verb]","to playback":"to play back [verb]","to rollback":"to roll back [verb]","to runaway":"to run away [verb]","to setup":"to set up [verb]","to shut-down":"to shut down","to shutdown":"to shut down","to spin-off":"to spin off","to spinoff":"to spin off","to takeover":"to take over [verb]","to that affect":"to that effect","to they're":" to their","to together":"together","to try and":"to try to","to tryout":"to try out [verb]","to turnaround":"to turn around","to turnoff":"to turn off","to turnout":"to turn out","to turnover":"to turn over","to wakeup":"to wake up","to walkout":"to walk out","to workaround":"to work around","to workout":"to work out","too also":"also, to also, too","too be":"to be","took affect":"took effect","took and interest":"took an interest","took over the reigns":"took over the reins","took the reigns":"took the reins","tot he":"to the","tried to used":"tried to use","try and achieve":"try to achieve","try and add":"try to add","try and answer":"try to answer","try and attract":"try to attract","try and avoid":"try to avoid","try and be":"try to be","try and beat":"try to beat","try and become":"try to become","try and bring":"try to bring","try and build":"try to build","try and catch":"try to catch","try and change":"try to change","try and come":"try to come","try and decide":"try to decide","try and do":"try to do","try and eat":"try to eat","try and escape":"try to escape","try and figure":"try to figure","try and find":"try to find","try and fix":"try to fix","try and gain":"try to gain","try and get":"try to get","try and give":"try to give","try and go":"try to go","try and help":"try to help","try and hide":"try to hide","try and hit":"try to hit","try and hold":"try to hold","try and keep":"try to keep","try and locate":"try to locate","try and make":"try to make","try and move":"try to move","try and obtain":"try to obtain","try and play":"try to play","try and prevent":"try to prevent","try and protect":"try to prove","try and prove":"try to prove","try and see":"try to see","try and show":"try to show","try and slow":"try to slow","try and solve":"try to solve","try and spare":"try to spare","try and start":"try to start","try and stay":"try to stay","try and stop":"try to stop","try and support":"try to support","try and take":"try to take","try and talk":"try to talk","try and tell":"try to tell","try and understand":"try to understand","try and use":"try to use","try and win":"try to win","turn for the worst":"turn for the worse","twice as much than":"twice as much as","two in a half":"two and a half","two times less than":"half as much as","under go":"undergo","under going":"undergoing","under gone":"undergone","under it's":" under its","under rated":"underrated","under take":"undertake","under wear":"underwear","under went":"underwent","underneath it's":" underneath its","United State's":" United States'","United Stats":"United States","Unites States":"United States","unlike it's":" unlike its","until it's":" until its","up field":"upfield","up it's":" up its","up side":"upside","up until":"until","upon it's":" upon its","USD dollars":"US dollars, USD",USD$:"US dollars, US$","use to":"used to, commonly","use to be":"used to be","use to have":"used to have","usually know as":"usually known as","usually know by":"usually known by","usually know for":"usually known for","very minimal":"minimal, very little, very small","very optimal":"optimal, very good","very unique":"unique, very unusual","via it's":" via its","VIN number":"vehicle identification number, VIN","vise versa":"vice versa","vocal chords":"vocal cords, vocal folds","waived off":"waved off","warn out":"worn out","was aloud":"was allowed","was be ":"was, was being, was to be","was been":"has been, was being","was began":"was begun","was build":"was built","was comprised from":"comprised, was composed from","was comprised with":"comprised","was do to":"was due to","was drew":"was drawn","was knew":"was known","was lain":"was laid","was laying on":"was lying on","was lead by":"was led by","was loathe to":"was loath to","was meet by":"was met by","was meet with":"was met with","was ran":"was run","was release":"was released","was reran":"was rerun","was rode":"was ridden","was sang":"was sung","was setup":"was set up","was shook":"was shaken","was show on":"was shown on","was showed":"was shown","was shutdown":"was shut down","was shutout":"was shut out","was sold-out":"was sold out","was suppose to":"was supposed to","was though that":"was thought that","was took":"was taken","was tore":"was torn","was wrote":"was written","was use to":"was used to","way side":"wayside","weather or not":"whether or not","went threw":"went through","were aloud":"were allowed","were been":"have been, were being","were began":"were begun","were build":"were built","were comprised with":"comprised","were drew":"were drawn","were lain":"were laid","were lead by":"were led by","were loathe to":"were loath to","were meet by":"were met by","were meet with":"were met with","were ran":"were run","were rode":"were ridden","were sang":"were sung","were setup":"were set up","were showed":"were shown","were shutdown":"were shut down","were shutout":"were shut out","were suppose to":"were supposed to","were took":"were taken","were tore":"were torn","were use to":"were used to","were wrote":"were written","wether or not":"whether or not","when into":"went into","when on to":"went on to","where abouts":"whereabouts","where as":"whereas","where being":"were being","where by":"whereby","where made":"were made","where taken":"were taken","where upon":"whereupon","which breakdown":"which break down","which had lead":"which had led","which has lead":"which has led","which have lead":"which have led","which maybe":"which may be","which where":"which were","who had lead":"who had led","who has lead":"who has led","who have lead":"who have led","who he led":"whom he led","who he married":"whom he married","who he met":"whom he met","who he took":"whom he took","who lead":"who led","who maybe":"who may be","who setup":"who set up","who to believe":"whom to believe","who to blame":"whom to blame","who to call":"whom to call","who to invite":"whom to invite","who to send":"whom to send","who use to":"who used to","who where":"who were","who's actual":" whose actual","who's brother":" whose brother","who's father":" whose father","who's first":" whose first","who's last":" whose last","who's mother":" whose mother","who's name":" whose name","who's own":" whose own","who's previous":" whose previous","whom also":"who also","whom is":"who is","whom was":"who was","will backup":"will back up","will comprise of":"will be composed of, will comprise, will consist of","will likely":"will probably","will workout":"will work out","with he":"with him, with the","with in":"within","with it's":" with its","with out":"without","with who":"with whom","within it's":" within its","within site of":"within sight of","without it's":" without its","Word War I":"World War I","Word War II":"World War II","working progress":"work in progress","world wide":"worldwide","worse that":"worse than","worse then":"worse than","worse-case scenario":"worst-case scenario","worst comes to worst":"worse comes to worst","worst than":"worse than","worth while":"worthwhile","would been":"would be, would have been","would comeback":"would come back","would comprise of":"would comprise, would consist of","would of":"would have","would workout":"would work out","wreck havoc":"wreak havoc","younger that":"younger than","younger then":"younger than","%er then":"than","base on":"based on ('base on' may be acceptable, depending on context)","its an":"it's an"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-grammar"]],decls:37,vars:3,consts:[[1,"grammarTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ct(14,sse,2,1,"tr",1),p(),f(15,"td"),ct(16,ose,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(x(2),Me(r.title),x(12),We("ngForOf",r.table.find),x(2),We("ngForOf",r.table.suggestion))},directives:[Er,cn],styles:[".grammarTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();function lse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function cse(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}let LS,use=(()=>{class n{constructor(){this.title="Eggcorns",this.values={"all intensive purposes":"all intents and purposes","per say":"per se","another thing coming":"another think coming",ascared:"afraid","as dust fell":"as dusk fell","biting my time":"biding my time","biting your time":"biding your time","best thing since life's bread":"best thing since sliced bread",bondfire:"bonfire",callapitter:"caterpillar",chesterdraws:"chest of drawers",civilware:"silverware",consinct:"concise","curly roads":"curvy roads","daring-do":"derring-do","doggy-dog-world":"dog-eat-dog","duck tape":"duct tape","escape goat":"scape goat",expresso:"espresso",eyebulbs:"eyeballs",facetube:"youtube","flush out":"flesh out",flustrated:"frustrated",flutterby:"butterfly","free examples":"free samples","genetic brands":"generic brands","growth sprout":"growth spurt","guilt trap":"guilt trip","handy-downs":"hand-me-downs","handy downs":"hand-me-downs","happy as a clown":"happy as a clam",hearbuds:"earbuds","hell in a handbag":"hell in a handbasket","ice tea":"iced tea","illicit a response":"elicit a response","in other worlds":"in other words","junk start":"jump start","just deserves":"just deserts",labtop:"laptop",lapkin:"napkin","last stitch effort":"last ditch effort","lesser of two equals":"lesser of two evils",magnaphone:"megaphone","mist of things":"midst of things","mute point":"moot point","nerve-wrecking":"nerve-wracking","nerve wrecking":"nerve-wracking","nip it in the butt":"nip it in the bud","nip in the butt":"nip in the bud","nip this in the butt":"nip this in the bud","old timers disease":"Alzheimer's disease","old-timers disease":"Alzheimer's disease","old wise tale":"old wives tale","on the lamb":"on the lam","optical delusion":"optical illusion","out of bounce":"out of bounds",overfloating:"overflowing","pass mustard":"pass muster",platemats:"placemats","rebel rouser":"rabble rouser","real goal-getter":"real go-getter","rot iron fences":"wrought-iron fences","scandally clad":"scantily clad","self of steam":"self esteem",skyscratcher:"skyscraper","stand at a tension":"stand at attention","take it for granite":"take it for granted","took it for granite":"took it for granted","takes two to tangle":"takes two to tango","towing the line":"toeing the line",tremblor:"temblor","very close veins":"Varicose veins","vim and vinegar":"vim and vigor","wet your appetite":"whet your appetite","wet my appetite":"whet my appetite","wet the appetite":"whet the appetite",wheelbarrel:"wheelbarrow","wild variety":"wide variety","wind charms":"wind chimes","windshield factor":"windchill factor",wonderlust:"wanderlust","world wind romance":"whirlwind romance","world wind tour":"whirlwind tour","worth ethic":"work ethic"},this.table={find:[],suggestion:[]}}ngOnInit(){for(var t in this.values)this.table.find.push(t),this.table.suggestion.push(this.values[t])}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-eggcorns"]],decls:37,vars:3,consts:[[1,"eggcornsTable"],[4,"ngFor","ngForOf"],[1,"databaseListings"],[1,"r"],["routerLink","../wordiness",1,"linkedpages"],["routerLink","../transitions",1,"linkedpages"],["routerLink","../grammar",1,"linkedpages"],["routerLink","../eggcorns",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"div"),f(1,"h1"),y(2),p(),f(3,"div",0),f(4,"table"),f(5,"thead"),f(6,"tr"),f(7,"td"),f(8,"b"),y(9,"Flag"),p(),p(),f(10,"td"),f(11,"b"),y(12,"Suggestion"),p(),p(),p(),p(),f(13,"td"),ct(14,lse,2,1,"tr",1),p(),f(15,"td"),ct(16,cse,2,1,"tr",1),p(),p(),p(),f(17,"div",2),f(18,"div",3),f(19,"h2"),y(20,"Database Listings"),p(),f(21,"p"),f(22,"a",4),y(23,"Wordiness"),p(),y(24," (987 records)"),p(),f(25,"p"),f(26,"a",5),y(27,"Transitions"),p(),y(28," (134 records)"),p(),f(29,"p"),f(30,"a",6),y(31,"Grammar"),p(),y(32," (1,323 records)"),p(),f(33,"p"),f(34,"a",7),y(35,"Eggcorns"),p(),y(36," (100 records)"),p(),p(),p(),p()),2&t&&(x(2),Me(r.title),x(12),We("ngForOf",r.table.find),x(2),We("ngForOf",r.table.suggestion))},directives:[Er,cn],styles:[".eggcornsTable[_ngcontent-%COMP%]{float:left;width:40%;padding-right:20px;max-width:750px;border:2.5px solid lightblue;border-radius:8px}.databaseListings[_ngcontent-%COMP%]{float:left;width:35%;max-width:350px;padding-top:65px;padding-left:5px}.r[_ngcontent-%COMP%]{background-color:#f8f8ff;border-color:#000;border:groove;padding:20px;margin-bottom:19px}"]}),n})();try{LS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){LS=!1}let Ns=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===AM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(T(hd))},n.\u0275prov=X({factory:function(){return new n(T(hd))},token:n,providedIn:"root"}),n})();class mse extends R{constructor(e,t){super()}schedule(e,t=0){return this}}let Y2=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class Ao extends Y2{constructor(e,t=Y2.now){super(e,()=>Ao.delegate&&Ao.delegate!==this?Ao.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return Ao.delegate&&Ao.delegate!==this?Ao.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new Ao(class extends mse{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}),"undefined"!=typeof Element&&Element;const aB="cdk-high-contrast-black-on-white",lB="cdk-high-contrast-white-on-black",jS="cdk-high-contrast-active";let cB=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(jS),t.remove(aB),t.remove(lB);const r=this.getHighContrastMode();1===r?(t.add(jS),t.add(aB)):2===r&&(t.add(jS),t.add(lB))}}}return n.\u0275fac=function(t){return new(t||n)(T(Ns),T(Qe))},n.\u0275prov=X({factory:function(){return new n(T(Ns),T(Qe))},token:n,providedIn:"root"}),n})(),dB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({}),n})();const hB=new Ws("10.2.3");class fB{}const Os="*";function pB(n,e=null){return{type:2,steps:n,options:e}}function gB(n){return{type:6,styles:n,offset:null}}function mB(n){Promise.resolve(null).then(n)}class ou{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?mB(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function bB(){return"undefined"!=typeof window&&void 0!==window.document}function HS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ko(n){switch(n.length){case 0:return new ou;case 1:return n[0];default:return new yB(n)}}function _B(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,g=h&&c||{};Object.keys(u).forEach(m=>{let b=m,_=u[m];if("offset"!==m)switch(b=e.normalizePropertyName(b,o),_){case"!":_=i[m];break;case Os:_=s[m];break;default:_=e.normalizeStyleValue(m,b,_,o)}g[b]=_}),h||a.push(g),c=g,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function zS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&qS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&qS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&qS(t,"destroy",n)))}}function qS(n,e,t){const r=t.totalTime,s=GS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function GS(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function kr(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function wB(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let WS=(n,e)=>!1,KS=(n,e)=>!1,vB=(n,e,t)=>[];const EB=HS();(EB||"undefined"!=typeof Element)&&(WS=bB()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),KS=(()=>{if(EB||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):KS}})(),vB=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let el=null,CB=!1;function QS(n){el||(el=("undefined"!=typeof document?document.body:null)||{},CB=!!el.style&&"WebkitAppearance"in el.style);let e=!0;return el.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in el.style,!e&&CB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in el.style)),e}const YS=KS,JS=WS,ZS=vB;function SB(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let DB=(()=>{class n{validateStyleProperty(t){return QS(t)}matchesElement(t,r){return YS(t,r)}containsElement(t,r){return JS(t,r)}query(t,r,i){return ZS(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new ou(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),XS=(()=>{class n{}return n.NOOP=new DB,n})();const eD="ng-enter",hy="ng-leave",fy="ng-trigger",py=".ng-trigger",AB="ng-animating",tD=".ng-animating";function tl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nD(parseFloat(e[1]),e[2])}function nD(n,e){switch(e){case"s":return 1e3*n;default:return n}}function gy(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=nD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=nD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function au(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function xo(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else au(n,t);return t}function xB(n,e,t){return t?e+":"+t+";":""}function IB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=xB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xB(0,eoe(t),n.style[t]));n.setAttribute("style",e)}function ts(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=iD(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),HS()&&IB(n))}function nl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=iD(t);n.style[r]=""}),HS()&&IB(n))}function rf(n){return Array.isArray(n)?1==n.length?n[0]:pB(n):n}const rD=new RegExp("{{\\s*(.+?)\\s*}}","g");function MB(n){let e=[];if("string"==typeof n){let t;for(;t=rD.exec(n);)e.push(t[1]);rD.lastIndex=0}return e}function my(n,e,t){const r=n.toString(),i=r.replace(rD,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function yy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Xse=/-+([a-z0-9])/g;function iD(n){return n.replace(Xse,(...e)=>e[1].toUpperCase())}function eoe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function NB(n,e){return 0===n||0===e}function OB(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=sD(n,l)})}}return e}function xr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function sD(n,e){return window.getComputedStyle(n)[e]}function toe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(FB(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(FB(o,i))}(r,t,e)):t.push(n),t}const _y=new Set(["true","1"]),wy=new Set(["false","0"]);function FB(n,e){const t=_y.has(n)||wy.has(n),r=_y.has(e)||wy.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?_y.has(n):wy.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?_y.has(e):wy.has(e)),o&&a}}const ioe=new RegExp("s*:selfs*,?","g");function oD(n,e,t){return new soe(n).build(e,t)}class soe{constructor(e){this._driver=e}build(e,t){const r=new loe(t);return this._resetContextStyleTimingState(r),xr(this,rf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(vy(a)){const l=a;Object.keys(l).forEach(c=>{MB(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=yy(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=xr(this,rf(e.animation),t);return{type:1,matchers:toe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>xr(this,r,t)),options:rl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=xr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:rl(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return aD(gy(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=aD(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||gy(r,e),aD(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:gB({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=gB(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Os?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(vy(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=MB(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(E=>{const v=this._makeStyleAst(E,t);let I=null!=v.offset?v.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(vy(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(vy(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(v.styles),P=0;return null!=I&&(s++,P=v.offset=I),l=l||P<0||P>1,a=a||P<c,c=P,o.push(P),v});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const g=d-1,m=t.currentTime,b=t.currentAnimateTimings,_=b.duration;return u.forEach((E,v)=>{const I=h>0?v==g?1:h*v:o[v],P=I*_;t.currentTime=m+b.delay+P,b.duration=P,this._validateStyleAst(E,t),E.offset=I,r.styles.push(E)}),r}visitReference(e,t){return{type:8,animation:xr(this,rf(e.animation),t),options:rl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ioe,"")),[n=n.replace(/@\*/g,py).replace(/@\w+/g,t=>py+"-"+t.substr(1)).replace(/:animating/g,tD),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,kr(t.collectedStyles,t.currentQuerySelector,{});const a=xr(this,rf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:rl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gy(e.timings,t.errors,!0);return{type:12,animation:xr(this,rf(e.animation),t),timings:r,options:null}}}class loe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vy(n){return!Array.isArray(n)&&"object"==typeof n}function rl(n){return n?(n=au(n)).params&&(n.params=function(n){return n?au(n):null}(n.params)):n={},n}function aD(n,e,t){return{duration:n,delay:e,easing:t}}function lD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ey{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const foe=new RegExp(":enter","g"),goe=new RegExp(":leave","g");function cD(n,e,t,r,i,s={},o={},a,l,c=[]){return(new moe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class moe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Ey;const d=new uD(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),xr(this,r,d);const h=d.timelines.filter(g=>g.containsAnimation());if(h.length&&Object.keys(a).length){const g=h[h.length-1];g.allowOnlyTimelineStyles()||g.setStyles([a],null,d.errors,l)}return h.length?h.map(g=>g.buildKeyframes()):[lD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?tl(r.duration):null,a=null!=r.delay?tl(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),xr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cy);const o=tl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>xr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?tl(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),xr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gy(t.params?my(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?tl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Cy);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),xr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;xr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Cy={};class uD{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Sy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=tl(r.duration)),null!=r.delay&&(i.delay=tl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=my(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new uD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Cy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new yoe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(foe,"."+this._enterClassName)).replace(goe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Sy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Sy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Os,this._currentKeyframe[t]=Os}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Os})):xo(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=my(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Os),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=xo(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Os&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?yy(e.values()):[],o=t.size?yy(t.values()):[];if(r){const a=i[0],l=au(a);a.offset=0,l.offset=1,i=[a,l]}return lD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class yoe extends Sy{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=xo(e[0],!1);l.offset=0,s.push(l);const c=xo(e[0],!1);c.offset=LB(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=xo(e[d],!1);h.offset=LB((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return lD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class dD{}class _oe extends dD{normalizePropertyName(e,t){return iD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(woe[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const woe=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VB(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const hD={};class BB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||hD,m=this.buildStyles(r,a&&a.params||hD,d),b=l&&l.params||hD,_=this.buildStyles(i,b,d),E=new Set,v=new Map,I=new Map,P="void"===i,K={params:Object.assign(Object.assign({},h),b)},ue=u?[]:cD(e,t,this.ast.animation,s,o,m,_,K,c,d);let Te=0;if(ue.forEach(Un=>{Te=Math.max(Un.duration+Un.delay,Te)}),d.length)return VB(t,this._triggerName,r,i,P,m,_,[],[],v,I,Te,d);ue.forEach(Un=>{const jn=Un.element,Ps=kr(v,jn,{});Un.preStyleProps.forEach(vi=>Ps[vi]=!0);const Rs=kr(I,jn,{});Un.postStyleProps.forEach(vi=>Rs[vi]=!0),jn!==t&&E.add(jn)});const Tt=yy(E.values());return VB(t,this._triggerName,r,i,P,m,_,ue,Tt,v,I,Te)}}class Coe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=au(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=my(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class Doe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Coe(i.style,i.options&&i.options.params||{},r)}),UB(this.states,"true","1"),UB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BB(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new BB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function UB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Aoe=new Ey;class koe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=oD(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=_B(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=cD(this._driver,t,s,eD,hy,{},{},r,Aoe,i),o.forEach(u=>{const d=kr(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Os)})});const c=ko(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=GS(t,"","","");return zS(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jB="ng-animate-queued",$B="ng-animate-disabled",HB=".ng-animate-disabled",Noe=[],zB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ooe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jr="__ng_removed";class fD{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const s=au(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const sf="void",pD=new fD(sf);class Foe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const s=kr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=kr(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Zr(e,fy),Zr(e,fy+"-"+t),a[t]=pD),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new gD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Zr(e,fy),Zr(e,fy+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new fD(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=pD),c.value!==sf&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const b=[],_=s.matchStyles(l.value,l.params,b),E=s.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{nl(e,_),ts(e,E)})}return}const h=kr(this._engine.playersByElement,e,[]);h.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let g=s.matchTransition(l.value,c.value,e,c.params),m=!1;if(!g){if(!i)return;g=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:m}),m||(Zr(e,jB),o.onStart(()=>{lu(e,jB)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);const _=this._engine.playersByElement.get(e);if(_){let E=_.indexOf(o);E>=0&&_.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,py,!0);r.forEach(i=>{if(i[Jr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,sf,i);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&ko(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||pD,u=new fD(sf),d=new gD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Jr];(!s||s===zB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Zr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=GS(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,zS(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Poe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Foe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Dy(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Dy(t))return;const s=t[Jr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zr(e,$B)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lu(e,$B))}removeNode(e,t,r,i){if(Dy(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[Jr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return Dy(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,py,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,tD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ko(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jr];if(t&&t.setForRemoval){if(e[Jr]=zB,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,HB)&&this.markElementAsDisabled(e,!1),this.driver.query(e,HB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ko(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Ey,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Q=>{u.add(Q);const le=this.driver.query(Q,".ng-animate-queued",!0);for(let Ce=0;Ce<le.length;Ce++)u.add(le[Ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=WB(h,this.collectedEnterElements),m=new Map;let b=0;g.forEach((Q,le)=>{const Ce=eD+b++;m.set(le,Ce),Q.forEach(qe=>Zr(qe,Ce))});const _=[],E=new Set,v=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){const le=this.collectedLeaveElements[Q],Ce=le[Jr];Ce&&Ce.setForRemoval&&(_.push(le),E.add(le),Ce.hasAnimation?this.driver.query(le,".ng-star-inserted",!0).forEach(qe=>E.add(qe)):v.add(le))}const I=new Map,P=WB(h,Array.from(E));P.forEach((Q,le)=>{const Ce=hy+b++;I.set(le,Ce),Q.forEach(qe=>Zr(qe,Ce))}),e.push(()=>{g.forEach((Q,le)=>{const Ce=m.get(le);Q.forEach(qe=>lu(qe,Ce))}),P.forEach((Q,le)=>{const Ce=I.get(le);Q.forEach(qe=>lu(qe,Ce))}),_.forEach(Q=>{this.processLeaveNode(Q)})});const K=[],ue=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(Ce=>{const qe=Ce.player,bn=Ce.element;if(K.push(qe),this.collectedEnterElements.length){const is=bn[Jr];if(is&&is.setForMove)return void qe.destroy()}const rs=!d||!this.driver.containsElement(d,bn),Ir=I.get(bn),Io=m.get(bn),Mt=this._buildInstruction(Ce,r,Io,Ir,rs);if(Mt.errors&&Mt.errors.length)ue.push(Mt);else{if(rs)return qe.onStart(()=>nl(bn,Mt.fromStyles)),qe.onDestroy(()=>ts(bn,Mt.toStyles)),void i.push(qe);if(Ce.isFallbackTransition)return qe.onStart(()=>nl(bn,Mt.fromStyles)),qe.onDestroy(()=>ts(bn,Mt.toStyles)),void i.push(qe);Mt.timelines.forEach(is=>is.stretchStartingKeyframe=!0),r.append(bn,Mt.timelines),o.push({instruction:Mt,player:qe,element:bn}),Mt.queriedElements.forEach(is=>kr(a,is,[]).push(qe)),Mt.preStyleProps.forEach((is,af)=>{const Ny=Object.keys(is);if(Ny.length){let sl=l.get(af);sl||l.set(af,sl=new Set),Ny.forEach(wD=>sl.add(wD))}}),Mt.postStyleProps.forEach((is,af)=>{const Ny=Object.keys(is);let sl=c.get(af);sl||c.set(af,sl=new Set),Ny.forEach(wD=>sl.add(wD))})}});if(ue.length){const Q=[];ue.forEach(le=>{Q.push(`@${le.triggerName} has failed due to:\n`),le.errors.forEach(Ce=>Q.push(`- ${Ce}\n`))}),K.forEach(le=>le.destroy()),this.reportError(Q)}const Te=new Map,Tt=new Map;o.forEach(Q=>{const le=Q.element;r.has(le)&&(Tt.set(le,le),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,Te))}),i.forEach(Q=>{const le=Q.element;this._getPreviousPlayers(le,!1,Q.namespaceId,Q.triggerName,null).forEach(qe=>{kr(Te,le,[]).push(qe),qe.destroy()})});const Un=_.filter(Q=>QB(Q,l,c)),jn=new Map;GB(jn,this.driver,v,c,Os).forEach(Q=>{QB(Q,l,c)&&Un.push(Q)});const Rs=new Map;g.forEach((Q,le)=>{GB(Rs,this.driver,new Set(Q),l,"!")}),Un.forEach(Q=>{const le=jn.get(Q),Ce=Rs.get(Q);jn.set(Q,Object.assign(Object.assign({},le),Ce))});const vi=[],uu=[],du={};o.forEach(Q=>{const{element:le,player:Ce,instruction:qe}=Q;if(r.has(le)){if(u.has(le))return Ce.onDestroy(()=>ts(le,qe.toStyles)),Ce.disabled=!0,Ce.overrideTotalTime(qe.totalTime),void i.push(Ce);let bn=du;if(Tt.size>1){let Ir=le;const Io=[];for(;Ir=Ir.parentNode;){const Mt=Tt.get(Ir);if(Mt){bn=Mt;break}Io.push(Ir)}Io.forEach(Mt=>Tt.set(Mt,bn))}const rs=this._buildAnimation(Ce.namespaceId,qe,Te,s,Rs,jn);if(Ce.setRealPlayer(rs),bn===du)vi.push(Ce);else{const Ir=this.playersByElement.get(bn);Ir&&Ir.length&&(Ce.parentPlayer=ko(Ir)),i.push(Ce)}}else nl(le,qe.fromStyles),Ce.onDestroy(()=>ts(le,qe.toStyles)),uu.push(Ce),u.has(le)&&i.push(Ce)}),uu.forEach(Q=>{const le=s.get(Q.element);if(le&&le.length){const Ce=ko(le);Q.setRealPlayer(Ce)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<_.length;Q++){const le=_[Q],Ce=le[Jr];if(lu(le,hy),Ce&&Ce.hasAnimation)continue;let qe=[];if(a.size){let rs=a.get(le);rs&&rs.length&&qe.push(...rs);let Ir=this.driver.query(le,tD,!0);for(let Io=0;Io<Ir.length;Io++){let Mt=a.get(Ir[Io]);Mt&&Mt.length&&qe.push(...Mt)}}const bn=qe.filter(rs=>!rs.destroyed);bn.length?Boe(this,le,bn):this.processLeaveNode(le)}return _.length=0,vi.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();const le=this.players.indexOf(Q);this.players.splice(le,1)}),Q.play()}),vi}elementContainsData(e,t){let r=!1;const i=t[Jr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==sf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=kr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(g=>{const m=g.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),g.destroy(),d.push(g)})}nl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(m=>{const b=m.element;u.add(b);const _=b[Jr];if(_&&_.removedBeforeQueried)return new ou(m.duration,m.delay);const E=b!==l,v=function(n){const e=[];return KB(n,e),e}((r.get(b)||Noe).map(Te=>Te.getRealPlayer())).filter(Te=>!!Te.element&&Te.element===b),I=s.get(b),P=o.get(b),K=_B(0,this._normalizer,0,m.keyframes,I,P),ue=this._buildPlayer(m,K,v);if(m.subTimeline&&i&&d.add(b),E){const Te=new gD(e,a,b);Te.setRealPlayer(ue),c.push(Te)}return ue});c.forEach(m=>{kr(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Zr(m,AB));const g=ko(h);return g.onDestroy(()=>{u.forEach(m=>lu(m,AB)),ts(l,t.toStyles)}),d.forEach(m=>{kr(i,m,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ou(e.duration,e.delay)}}class gD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ou,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>zS(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){kr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Dy(n){return n&&1===n.nodeType}function qB(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function GB(n,e,t,r,i){const s=[];t.forEach(l=>s.push(qB(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[Jr]=Ooe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>qB(l,s[a++])),o}function WB(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const Ty="$$classes";function Zr(n,e){if(n.classList)n.classList.add(e);else{let t=n[Ty];t||(t=n[Ty]={}),t[e]=!0}}function lu(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Ty];t&&delete t[e]}}function Boe(n,e,t){ko(t).onDone(()=>n.processLeaveNode(e))}function KB(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yB?KB(r.players,e):e.push(r)}}function QB(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ay{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Poe(e,t,r),this._timelineEngine=new koe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=oD(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new Doe(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=wB(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=wB(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function YB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=mD(e[0]),e.length>1&&(r=mD(e[e.length-1]))):e&&(t=mD(e)),t||r?new $oe(n,t,r):null}let $oe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ts(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ts(this._element,this._initialStyles),this._endStyles&&(ts(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nl(this._element,this._endStyles),this._endStyles=null),ts(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mD(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Hoe(i)&&(e=e||{},e[i]=n[i])}return e}function Hoe(n){return"display"===n||"position"===n}const JB="animation",ZB="animationend";class Goe{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=bD(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),ky(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tU(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){XB(this._element,this._name,"paused")}resume(){XB(this._element,this._name,"running")}setPosition(e){const t=eU(this._element,this._name);this._position=e*this._duration,ky(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tU(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=bD(n,"").split(","),i=yD(r,e);i>=0&&(r.splice(i,1),ky(n,"",r.join(",")))}(this._element,this._name))}}function XB(n,e,t){ky(n,"PlayState",t,eU(n,e))}function eU(n,e){const t=bD(n,"");return t.indexOf(",")>0?yD(t.split(","),e):yD([t],e)}function yD(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function tU(n,e,t){t?n.removeEventListener(ZB,e):n.addEventListener(ZB,e)}function ky(n,e,t,r){const i=JB+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function bD(n,e){return n.style[JB+e]||""}class nU{constructor(e,t,r,i,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Goe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:sD(this.element,r))})}this.currentSnapshot=e}}class Zoe extends ou{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=SB(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class iU{constructor(){this._count=0}validateStyleProperty(e){return QS(e)}matchesElement(e,t){return YS(e,t)}containsElement(e,t){return JS(e,t)}query(e,t,r){return ZS(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>SB(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const l=parseFloat(a.offset);i+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(i+=`${s}animation-timing-function: ${u};\n`));default:return void(i+=`${s}${c}: ${u};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const l=o.filter(_=>_ instanceof nU),c={};NB(r,i)&&l.forEach(_=>{let E=_.currentSnapshot;Object.keys(E).forEach(v=>c[v]=E[v])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=OB(e,t,c));if(0==r)return new Zoe(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const m=YB(e,t),b=new nU(e,t,d,r,i,s,u,m);return b.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),b}}class oU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:sD(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rae{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(aU().toString()),this._cssKeyframesDriver=new iU}validateStyleProperty(e){return QS(e)}matchesElement(e,t){return YS(e,t)}containsElement(e,t){return JS(e,t)}query(e,t,r){return ZS(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(m=>m instanceof oU);NB(r,i)&&h.forEach(m=>{let b=m.currentSnapshot;Object.keys(b).forEach(_=>d[_]=b[_])});const g=YB(e,t=OB(e,t=t.map(m=>xo(m,!1)),d));return new oU(e,t,u,g)}}function aU(){return bB()&&Element.prototype.animate||{}}let sae=(()=>{class n extends fB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Vt.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?pB(t):t;return lU(this._renderer,null,r,"register",[i]),new oae(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(T(Go),T(Qe))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class oae extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new aae(this._id,e,t||{},this._renderer)}}class aae{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return lU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function lU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const cU="@.disabled";let lae=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new uU("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new cae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(T(Go),T(Ay),T(Ke))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class uU{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==cU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cae extends uU{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let hae=(()=>{class n extends Ay{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(T(Qe),T(XS),T(dD))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Iy=new fe("AnimationModuleType"),dU=[{provide:fB,useClass:sae},{provide:dD,useFactory:function(){return new _oe}},{provide:Ay,useClass:hae},{provide:Go,useFactory:function(n,e,t){return new lae(n,e,t)},deps:[tg,Ay,Ke]}],hU=[{provide:XS,useFactory:function(){return"function"==typeof aU()?new rae:new iU}},{provide:Iy,useValue:"BrowserAnimations"},...dU],fU=[{provide:XS,useClass:DB},{provide:Iy,useValue:"NoopAnimations"},...dU];let mae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fU:hU}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({providers:hU,imports:[Qw]}),n})();const pU=new Ws("10.2.3"),Dae=new fe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let il,cu=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),r=(null==t?void 0:t.defaultView)||window;return"object"==typeof r&&r?r:null}_checksAreEnabled(){return cw()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),r=this._getDocument();t&&r&&!r.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,r=this._getDocument();if(t||!r||!r.body||"function"!=typeof getComputedStyle)return;const i=r.createElement("div");i.classList.add("mat-theme-loaded-marker"),r.body.appendChild(i);const s=getComputedStyle(i);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),r.body.removeChild(i)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&pU.full!==hB.full&&console.warn("The Angular Material version ("+pU.full+") does not match the Angular CDK version ("+hB.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(T(cB),T(Dae,8),T(Qe,8))},n.\u0275mod=gt({type:n}),n.\u0275inj=it({imports:[[dB],dB]}),n})();function Aae(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}try{il="undefined"!=typeof Intl}catch(n){il=!1}const nle=["*",[["mat-toolbar-row"]]],rle=["*","mat-toolbar-row"];class ile{constructor(e){this._elementRef=e}}const sle=Aae(ile);let Fs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=te({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),ns=(()=>{class n extends sle{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(w(ot),w(Ns),w(Qe))},n.\u0275cmp=pt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Cp(i,Fs,5),2&t){let s;Ep(s=function(n,e){return n[19].queries[e].queryList}(M(),eT()))&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&fs("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[tt],ngContentSelectors:rle,decls:2,vars:0,template:function(t,r){1&t&&(function(n){const e=M()[16][6];if(!e.projection){const r=e.projection=Hs(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?jz(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(nle),ql(0),ql(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),ole=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({imports:[[cu],cu]}),n})();function lle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function cle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function dle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}function hle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}function ple(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}function gle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}function yle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function ble(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function wle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function vle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function Cle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}function Sle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}function Tle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function Ale(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Me(t)}}function xle(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}function Ile(n,e){if(1&n&&(f(0,"tr"),y(1),p()),2&n){const t=e.$implicit;x(1),Ut(" ",t," ")}}const Mle=[{path:"",pathMatch:"full",component:Qie},{path:"about",component:Yie},{path:"download",component:Jie},{path:"resources",component:Zie},{path:"resources/wordiness",component:tse},{path:"resources/transitions",component:ise},{path:"resources/grammar",component:ase},{path:"resources/eggcorns",component:use},{path:"home/overview",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this.router=t,this.data=r,this.passivevoice=i,this.wordiness=s,this.transitions=o,this.grammar=a,this.academic=l,this.eggcorns=c,this.nominalizations=u,this.sentences=d}startOverClick(){this.data.changeMessage("")}startOverClickButton(){this.data.changeMessage(""),this.router.navigate([""])}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentGrade.subscribe(t=>this.grade=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalErrors.subscribe(t=>this.totalErrors=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t),this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t),this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t),this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t)}}return n.\u0275fac=function(t){return new(t||n)(w(Rn),w(Bi),w(Gi),w(Wi),w(Ki),w(Qi),w(Ji),w(Yi),w(Zi),w(Xi))},n.\u0275cmp=pt({type:n,selectors:[["app-overview"]],decls:85,vars:33,consts:[["color","white",1,"navbar"],["routerLink","../overview",1,"linkedpages"],["routerLink","../fixes/passive-voice-fix",1,"linkedpages"],["routerLink","../fixes/wordiness-fix",1,"linkedpages"],["routerLink","../fixes/academic-style-fix",1,"linkedpages"],["routerLink","../fixes/grammar-fix",1,"linkedpages"],["routerLink","../fixes/nominalizations-fix",1,"linkedpages"],["routerLink","../fixes/sentences-fix",1,"linkedpages"],["routerLink","../fixes/eggcorns-fix",1,"linkedpages"],["routerLink","../fixes/transitions-fix",1,"linkedpages"],["routerLink","../../",1,"linkedpages",3,"click"],[1,"columns"],[1,"column1"],[1,"resultdescription"],[1,"tablediv"],[1,"tablehead"],[1,"odd"],["routerLink","../fixes/passive-voice-fix",1,"tablerow"],[1,"even"],["routerLink","../fixes/wordiness-fix",1,"tablerow"],["routerLink","../fixes/academic-style-fix",1,"tablerow"],["routerLink","../fixes/grammar-fix",1,"tablerow"],["routerLink","../fixes/nominalizations-fix",1,"tablerow"],["routerLink","../fixes/sentences-fix",1,"tablerow"],["routerLink","../fixes/eggcorns-fix",1,"tablerow"],["routerLink","../fixes/transitions-fix",1,"tablerow"],[1,"startoverbutton",3,"click"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"div",12),f(23,"h1",13),f(24,"b"),y(25),p(),p(),f(26,"div",14),f(27,"table"),f(28,"thead"),f(29,"tr"),f(30,"th",15),y(31,"Category"),p(),f(32,"th",15),y(33,"Results"),p(),p(),p(),f(34,"tbody"),f(35,"tr",16),f(36,"td"),f(37,"a",17),y(38,"Passive Voice"),p(),p(),f(39,"td"),y(40),p(),p(),f(41,"tr",18),f(42,"td"),f(43,"a",19),y(44,"Wordiness"),p(),p(),f(45,"td"),y(46),p(),p(),f(47,"tr",16),f(48,"td"),f(49,"a",20),y(50,"Academic Style"),p(),p(),f(51,"td"),y(52),p(),p(),f(53,"tr",18),f(54,"td"),f(55,"a",21),y(56,"Grammar"),p(),p(),f(57,"td"),y(58),p(),p(),f(59,"tr",16),f(60,"td"),f(61,"a",22),y(62,"Nominalizations"),p(),p(),f(63,"td"),y(64),p(),p(),f(65,"tr",18),f(66,"td"),f(67,"a",23),y(68,"Sentences"),p(),p(),f(69,"td"),y(70),p(),p(),f(71,"tr",16),f(72,"td"),f(73,"a",24),y(74,"Eggcorns"),p(),p(),f(75,"td"),y(76),p(),p(),f(77,"tr",18),f(78,"td"),f(79,"a",25),y(80,"Transitions"),p(),p(),f(81,"td"),y(82),p(),p(),p(),p(),p(),f(83,"button",26),Ue("click",function(){return r.startOverClickButton()}),y(84,"Clear & Start Over"),p(),p(),p()),2&t&&(x(25),Me(r.totalErrors),x(10),sn("background-color",r.passiveVoiceAlertColor),x(5),on("",r.passiveVoiceNumber,"(",r.passiveVoiceScore,"%)"),x(1),sn("background-color",r.wordinessAlertColor),x(5),on("",r.wordinessNumber,"(",r.wordinessScore,"%)"),x(1),sn("background-color",r.academicStyleAlertColor),x(5),on("",r.totalNonAcademic,"(",r.academicStyleScore,"%)"),x(1),sn("background-color",r.grammarAlertColor),x(5),on("",r.totalGrammar,"(",r.grammarScore,"%)"),x(1),sn("background-color",r.nominalizationsAlertColor),x(5),on("",r.nominalizationsNumber,"(",r.nominalizationsScore,"%)"),x(1),sn("background-color",r.sentencesAlertColor),x(5),on("",r.sentencesNumber,"(",r.sentencesScore,"%)"),x(1),sn("background-color",r.eggcornsAlertColor),x(5),on("",r.totalEggcorns,"(",r.eggcornsScore,"%)"),x(1),sn("background-color",r.transitionsAlertColor),x(5),on("",r.totalTransitions,"(",r.transitionsScore,"%)"))},directives:[ns,cn],styles:[".linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.resultdescription[_ngcontent-%COMP%]{font-size:36px;padding:10px 0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;padding:20px}.odd[_ngcontent-%COMP%]{background-color:#87cefa}.even[_ngcontent-%COMP%]{background-color:#00ced1}.tablehead[_ngcontent-%COMP%]{font-size:32px;background-color:#fff}.tablerow[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:24px}.tablecss[_ngcontent-%COMP%]{background-color:#fff}.startoverbutton[_ngcontent-%COMP%]{margin-top:20px;background-color:#a5acb0;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;margin-left:25%;font-style:oblique;display:table-cell;vertical-align:middle}.tablediv[_ngcontent-%COMP%]{padding-left:18%}.columns[_ngcontent-%COMP%]{padding:20px 30px}.column1[_ngcontent-%COMP%]{float:left;width:50%;padding-bottom:40px}.column2[_ngcontent-%COMP%]{float:left;width:49%;padding:20px 0}.tinybutton[_ngcontent-%COMP%]{padding:10px;margin-right:5px;background-color:#87cefa;width:100px;height:50px;border-radius:14px;font-size:17px;font-weight:bold}.tinygroup[_ngcontent-%COMP%]{padding-bottom:20px}.c2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .c2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tinygroup[_ngcontent-%COMP%]{padding-left:80px}h3[_ngcontent-%COMP%]{font-size:24px}p[_ngcontent-%COMP%]{font-size:16px}.c2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:auto}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.gradeCircle[_ngcontent-%COMP%]{height:150px;width:100px;padding:30px;text-align:center;display:inline-block}.gradeFeedback[_ngcontent-%COMP%]{padding:10px;text-align:center;vertical-align:middle;display:inline-block}.gradeFeedbackText[_ngcontent-%COMP%]{padding-top:120px;font-size:20px}.passiveVoiceCircle[_ngcontent-%COMP%], .wordinessCircle[_ngcontent-%COMP%], .academicStyleCircle[_ngcontent-%COMP%], .grammarCircle[_ngcontent-%COMP%]{height:100px;width:100px;padding:30px;text-align:center;display:table-cell;vertical-align:middle}.transitionsCircle[_ngcontent-%COMP%], .eggcornsCircle[_ngcontent-%COMP%], .nominalizationsCircle[_ngcontent-%COMP%], .sentencesCircle[_ngcontent-%COMP%]{height:100px;width:100px;padding:30px;text-align:center;display:inline-block}.circular[_ngcontent-%COMP%]{height:100px;width:100px;position:relative}.circular[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%], .circular[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%], .circular[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{position:absolute;z-index:6;height:100%;width:100%;border-radius:100%;box-shadow:inset 0 1px #0003}.circular[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{top:50%;left:50%;height:80px;width:80px;margin:-40px 0 0 -40px;background-color:#dde6f0;border-radius:100%;box-shadow:0 1px #0003}.circular[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{z-index:1;box-shadow:none}.circular[_ngcontent-%COMP%]   .numb[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10;font-size:18px;font-weight:500;color:#4158d0}.circular[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background:#fff;border-radius:100%;clip:rect(0px,100px,100px,50px)}.circle[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;border-radius:100%;clip:rect(0px,50px,100px,0px)}.circle[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#4158d0}.circle[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{z-index:1;animation:left 4s linear both}@keyframes left{to{transform:rotate(180deg)}}.circle[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{z-index:3;transform:rotate(180deg)}.circle[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{animation:right 4s linear both;animation-delay:4s}@keyframes right{to{transform:rotate(180deg)}}.circle[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{z-index:2;position:absolute;left:50%;top:50%;width:50%;height:10px;margin-top:-5px;animation:dot 8s linear both;transform-origin:0% 50%}.circle[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:0;width:10px;height:10px;border-radius:100%}@keyframes dot{0%{transform:rotate(-90deg)}50%{transform:rotate(90deg);z-index:4}to{transform:rotate(270deg);z-index:4}}"]}),n})()},{path:"home/fixes/passive-voice-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Passive-Voice-Fix"}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.passiveVoiceUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,"");console.log(t);let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.passiveVoiceFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.passiveVoiceService()}passiveVoiceFix(t){for(const r in this.passiveVoiceTable)for(const i in this.passiveVoiceHelperTable){const s=i+r;t.includes(s)&&(this.passivevoice.changePassiveVoiceNumber(this.passiveVoiceNumber+1),this.passiveVoiceUserTable.find.push("\u2022 "+s+" \u27f6 "+this.passiveVoiceTable[r]),this.passivevoice.changePassiveVoiceUserTable(this.passiveVoiceUserTable),this.highlight(r))}this.passiveVoiceScore=this.passiveVoiceNumber/this.totalSentences*100,(isNaN(this.passiveVoiceScore)||this.passiveVoiceScore===1/0)&&(this.passiveVoiceScore=0);try{if(this.passiveVoiceScore>10?(this.passiveVoiceFeedback="Generally, writing is clearer in active voice.",this.passiveVoiceAlertColor="red"):(this.passiveVoiceFeedback="Your writing passed the criterion for passive sentences. Congrats!",this.passiveVoiceAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.passiveVoiceFeedback="Make sure you enter at least one sentence.",this.passiveVoiceAlertColor="orange",this.passiveVoiceScore=0}this.passivevoice.changePassiveVoiceFeedback(this.passiveVoiceFeedback),this.passivevoice.changePassiveVoiceScore(Math.round(10*this.passiveVoiceScore)/10),this.passivevoice.changePassiveVoiceAlertColor(this.passiveVoiceAlertColor)}passiveVoiceService(){this.passivevoice.currentPassiveVoiceNumber.subscribe(t=>this.passiveVoiceNumber=t),this.passivevoice.currentPassiveVoiceTable.subscribe(t=>this.passiveVoiceTable=t),this.passivevoice.currentPassiveVoiceHelperTable.subscribe(t=>this.passiveVoiceHelperTable=t),this.passivevoice.currentPassiveVoiceUserTable.subscribe(t=>this.passiveVoiceUserTable=t),this.passivevoice.currentPassiveVoiceAlertColor.subscribe(t=>this.passiveVoiceAlertColor=t),this.passivevoice.currentPassiveVoiceFeedback.subscribe(t=>this.passiveVoiceFeedback=t),this.passivevoice.currentPassiveVoiceScore.subscribe(t=>this.passiveVoiceScore=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span style="background-color: #FF6363; font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Ji),w(Yi),w(Qi),w(Zi),w(Gi),w(Wi),w(Xi),w(Ki))},n.\u0275cmp=pt({type:n,selectors:[["app-passive-voice-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25,"Goal: 10% or less "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Passive Voice"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35,"Highlight Errors"),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,lle,2,1,"tr",21),p(),f(46,"td"),ct(47,cle,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.passiveVoiceAlertColor),x(2),on("",r.passiveVoiceNumber," instances (",r.passiveVoiceScore,"% of sentences)"),x(8),Me(r.passiveVoiceFeedback),x(6),Me(r.message),x(5),Ut("Passive Voice Found - ",r.passiveVoiceNumber," error(s)"),x(3),We("ngForOf",r.passiveVoiceUserTable.find),x(2),We("ngForOf",r.passiveVoiceUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:[".linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title[_ngcontent-%COMP%]{font-size:36px}.feedback[_ngcontent-%COMP%]{font-size:30px}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}"]}),n})()},{path:"home/fixes/wordiness-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.wordiness=r,this.passivevoice=i,this.academic=s,this.eggcorns=o,this.grammar=a,this.nominalizations=l,this.sentences=c,this.transitions=u,this.title="Wordiness-Fix",this.wordinessFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.wordinessUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.wordinessFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.wordinessService()}wordinessFix(t){for(const r in this.wordinessTable.__zone_symbol__value)t.includes(r)&&(this.wordiness.changeWordinessNumber(this.wordinessNumber+1),this.wordinessUserTable.find.push("\u2022 "+r+" \u27f6 "+this.wordinessTable.__zone_symbol__value[r]),this.wordiness.changeWordinessUserTable(this.wordinessUserTable),this.highlight(r));this.wordinessScore=this.wordinessNumber/this.totalSentences*100,(isNaN(this.wordinessScore)||this.wordinessScore===1/0)&&(this.wordinessScore=0);try{if(this.wordinessScore>2?(this.wordinessFeedback="Your writing seems too wordy. Why use 3 words when you can say it with 1?",this.wordinessAlertColor="red"):(this.wordinessFeedback="Woohoo! Your writing seems concise, precise, and snappy. George Orwell would be proud.",this.wordinessAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.wordinessFeedback="Make sure you enter at least one sentence.",this.wordinessAlertColor="orange",this.wordinessScore=0}this.wordiness.changeWordinessFeedback(this.wordinessFeedback),this.wordiness.changeWordinessScore(Math.round(10*this.wordinessScore)/10),this.wordiness.changeWordinessAlertColor(this.wordinessAlertColor)}wordinessService(){this.wordiness.currentWordinessNumber.subscribe(t=>this.wordinessNumber=t),this.wordiness.currentWordinessTable.subscribe(t=>this.wordinessTable=t),this.wordiness.currentWordinessUserTable.subscribe(t=>this.wordinessUserTable=t),this.wordiness.currentWordinessAlertColor.subscribe(t=>this.wordinessAlertColor=t),this.wordiness.currentWordinessFeedback.subscribe(t=>this.wordinessFeedback=t),this.wordiness.currentWordinessScore.subscribe(t=>this.wordinessScore=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span style="background-color: #FF6363; font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Wi),w(Gi),w(Ji),w(Yi),w(Qi),w(Zi),w(Xi),w(Ki))},n.\u0275cmp=pt({type:n,selectors:[["app-wordiness-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25,"Goal: 2% or less "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Wordiness"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35," Highlight Errors "),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,dle,2,1,"tr",21),p(),f(46,"td"),ct(47,hle,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.wordinessAlertColor),x(2),on(" ",r.wordinessNumber," instances (",r.wordinessScore,"% of sentences) "),x(8),Me(r.wordinessFeedback),x(6),Me(r.message),x(5),Ut("Instances of Wordiness Found - ",r.wordinessNumber," error(s)"),x(3),We("ngForOf",r.wordinessUserTable.find),x(2),We("ngForOf",r.wordinessUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:[".linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title[_ngcontent-%COMP%]{font-size:36px}.feedback[_ngcontent-%COMP%]{font-size:30px}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}"]}),n})()},{path:"home/fixes/academic-style-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Academic-Style-Fix",this.academicStyleFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.academicStyleUserTable=[];let t=this.message.replace(/<\/?span[^>]*>/g,"");console.log(t);let r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);console.log("Fixing academic style"),this.academicStyleFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.academicStyleService()}academicStyleFix(t){const r=new Map;for(const a in this.academicStyleTable.__zone_symbol__value)if(t.includes(a)){let l=t.indexOf(a);for(r.set(l,"\u2022 "+a+" \u27f6 "+this.academicStyleTable.__zone_symbol__value[a]),this.academic.changeTotalNonAcademic(this.totalNonAcademic+1),this.highlight(a);t.indexOf(a,l+1)>l;)l=t.indexOf(a,l+1),r.set(l,"\u2022 "+a+" \u27f6 "+this.academicStyleTable.__zone_symbol__value[a]),this.academic.changeTotalNonAcademic(this.totalNonAcademic+1)}const i=Array.from(new Map([...r.entries()].sort(([a],[l])=>a-l)).values());let s;this.academicStyleUserTable=i,this.academicStyleUserTable.find=this.academicStyleUserTable,this.academic.changeAcademicStyleUserTable(this.academicStyleUserTable.find),s="";let o=0;for(let a=0;a<t.length;a++)/[a-zA-Z]/.test(t[a])||"\u2019"===t[a]||"'"===t[a]?s+=t[a]:(s="",o++);this.academicStyleScore=this.totalNonAcademic/o*100,(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0);try{if(this.academicStyleScore>1?(this.academicStyleAlertColor="red",this.academicStyleFeedback="Your writing may contain language that is either too casual or too extreme for academic discourse."):(this.academicStyleAlertColor="green",this.academicStyleFeedback="Your writing has a low percentage of casual and/or extreme language. This makes it more acceptable for academic style."),0===this.totalSentences)throw new Error("")}catch(a){this.academicStyleFeedback="Make sure you enter at least one sentence.",this.academicStyleAlertColor="orange",this.academicStyleScore=0}(isNaN(this.academicStyleScore)||this.academicStyleScore===1/0)&&(this.academicStyleScore=0),this.academic.changeAcademicStyleScore(Math.round(10*this.academicStyleScore)/10),this.academic.changeAcademicStyleFeedback(this.academicStyleFeedback),this.academic.changeAcademicStyleAlertColor(this.academicStyleAlertColor)}academicStyleService(){this.academic.currentAcademicStyleAlertColor.subscribe(t=>this.academicStyleAlertColor=t),this.academic.currentAcademicStyleFeedback.subscribe(t=>this.academicStyleFeedback=t),this.academic.currentTotalNonAcademic.subscribe(t=>this.totalNonAcademic=t),this.academic.currentAcademicStyleTable.subscribe(t=>this.academicStyleTable=t),this.academic.currentAcademicStyleUserTable.subscribe(t=>this.academicStyleUserTable=t),this.academic.currentAcademicStyleScore.subscribe(t=>this.academicStyleScore=t)}highlight(t){var r=document.getElementById("userinput");console.log("Highighting now");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span style="background-color: #FF6363; padding: 0.1em, 0.2em ;font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Ji),w(Yi),w(Qi),w(Zi),w(Gi),w(Wi),w(Xi),w(Ki))},n.\u0275cmp=pt({type:n,selectors:[["app-academic-style-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25," Goal: 1% or less "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Academic Style"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35," Highlight Errors "),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,ple,2,1,"tr",21),p(),f(46,"td"),ct(47,gle,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.academicStyleAlertColor),x(2),on(" ",r.totalNonAcademic," instances (",r.academicStyleScore,"% of sentences) "),x(8),Me(r.academicStyleFeedback),x(6),Me(r.message),x(5),Ut("Non Academic Style Found - ",r.totalNonAcademic," instance(s)"),x(3),We("ngForOf",r.academicStyleUserTable.find),x(2),We("ngForOf",r.academicStyleUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:['.linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:20px;font-family:"Times New Roman",Times,serif}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title[_ngcontent-%COMP%]{font-size:36px}.feedback[_ngcontent-%COMP%]{font-size:30px}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}']}),n})()},{path:"home/fixes/grammar-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.grammar=r,this.academic=i,this.eggcorns=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Grammar-Fix",this.grammarFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.grammar.changeTotalGrammar(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.grammarUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.grammarFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.grammarService()}grammarFix(t){for(const r in this.grammarTable)t.toLocaleLowerCase().includes(r)&&(this.grammar.changeTotalGrammar(this.totalGrammar+1),this.grammarUserTable.find.push("\u2022 "+r+" \u27f6 "+this.grammarTable[r]),this.highlight(r),this.grammar.changeGrammarUserTable(this.grammarUserTable));this.grammarScore=this.totalGrammar/this.totalSentences*100,(isNaN(this.grammarScore)||this.grammarScore===1/0)&&(this.grammarScore=0);try{if(0==this.totalGrammar?(this.grammarAlertColor="green",this.grammarFeedback="Woohoo! We didn't find any obvious grammark errors. However, beware: Grammark does not check for fragments, comma splices, subject-verb errors, number and pronoun problems. What's the best way to find grammar errors? Read your writing aloud."):this.totalGrammar>0&&(this.grammarAlertColor="red",this.grammarFeedback="Your writing includes words or phrases usually considered to be grammar errors."),0===this.totalSentences)throw new Error("")}catch(r){this.grammarFeedback="Make sure you enter at least one sentence.",this.grammarAlertColor="orange",this.grammarScore=0}this.grammar.changeGrammarScore(Math.round(10*this.grammarScore)/10),this.grammar.changeGrammarFeedback(this.grammarFeedback),this.grammar.changeGrammarAlertColor(this.grammarAlertColor)}grammarService(){this.grammar.currentGrammarAlertColor.subscribe(t=>this.grammarAlertColor=t),this.grammar.currentGrammarFeedback.subscribe(t=>this.grammarFeedback=t),this.grammar.currentTotalGrammar.subscribe(t=>this.totalGrammar=t),this.grammar.currentGrammarTable.subscribe(t=>this.grammarTable=t),this.grammar.currentGrammarUserTable.subscribe(t=>this.grammarUserTable=t),this.grammar.currentGrammarScore.subscribe(t=>this.grammarScore=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span style="background-color: #FF6363; font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Qi),w(Ji),w(Yi),w(Zi),w(Gi),w(Wi),w(Xi),w(Ki))},n.\u0275cmp=pt({type:n,selectors:[["app-grammar-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25,"Goal: 0 errors "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Grammar"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35,"Highlight Errors"),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,yle,2,1,"tr",21),p(),f(46,"td"),ct(47,ble,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.grammarAlertColor),x(2),on("",r.totalGrammar," instances (",r.grammarScore,"% of sentences)"),x(8),Me(r.grammarFeedback),x(6),Me(r.message),x(5),Ut("Grammar Traps Found - ",r.totalGrammar," instance(s)"),x(3),We("ngForOf",r.grammarUserTable.find),x(2),We("ngForOf",r.grammarUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:[".linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.title[_ngcontent-%COMP%]{font-size:36px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.feedback[_ngcontent-%COMP%]{font-size:30px}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}"]}),n})()},{path:"home/fixes/nominalizations-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.nominalizations=r,this.academic=i,this.eggcorns=s,this.grammar=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Nominalizations-Fix"}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.nominalizationsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.nominalizationsFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.nominalizationsService()}nominalizationsFix(t){let r;r="";let i=0;for(let s=0;s<t.length;s++)if(/[a-zA-Z]/.test(t[s])||"\u2019"===t[s]||"'"===t[s])r+=t[s];else{for(const o in this.nominalizationsTable)r.length>7&&r.includes(o)&&(this.nominalizationsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.nominalizationsTable[o]),this.nominalizations.changeNominalizationsNumber(this.nominalizationsNumber+1),this.nominalizations.changeNominalizationsUserTable(this.nominalizationsUserTable),this.highlight(r));r="",i++}this.nominalizationsScore=this.nominalizationsNumber/i*100,(isNaN(this.nominalizationsScore)||this.nominalizationsScore===1/0)&&(this.nominalizationsScore=0);try{if(this.nominalizationsScore<=6?(this.nominalizationsFeedback='Rock on. Your writing has a reasonable number of "nominalized" word forms, highlighted below. You probably don\'t need to reduce these any further.',this.nominalizationsAlertColor="green"):(this.nominalizationsFeedback='Most of the words below are perfectly acceptable. However, you use many of these "nominalized" (non root-form) words. They bog down writing and decrease readability.',this.nominalizationsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(s){this.nominalizationsFeedback="Make sure you enter at least one sentence.",this.nominalizationsAlertColor="orange",this.nominalizationsScore=0}this.nominalizations.changeNominalizationsFeedback(this.nominalizationsFeedback),this.nominalizations.changeNominalizationsScore(Math.round(10*this.nominalizationsScore)/10),this.nominalizations.changeNominalizationsAlertColor(this.nominalizationsAlertColor)}nominalizationsService(){this.nominalizations.currentNominalizationsAlertColor.subscribe(t=>this.nominalizationsAlertColor=t),this.nominalizations.currentNominalizationsFeedback.subscribe(t=>this.nominalizationsFeedback=t),this.nominalizations.currentNominalizationsScore.subscribe(t=>this.nominalizationsScore=t),this.nominalizations.currentNominalizationsNumber.subscribe(t=>this.nominalizationsNumber=t),this.nominalizations.currentNominalizationsUserTable.subscribe(t=>this.nominalizationsUserTable=t),this.nominalizations.currentNominalizationsTable.subscribe(t=>this.nominalizationsTable=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span style="background-color: #FF6363; font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Zi),w(Ji),w(Yi),w(Qi),w(Gi),w(Wi),w(Xi),w(Ki))},n.\u0275cmp=pt({type:n,selectors:[["app-nominalizations-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25,"Goal: 6% or less "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Nominalizations"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35,"Highlight Errors"),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,wle,2,1,"tr",21),p(),f(46,"td"),ct(47,vle,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.nominalizationsAlertColor),x(2),on("",r.nominalizationsNumber," instances (",r.nominalizationsScore,"% of words)"),x(8),Me(r.nominalizationsFeedback),x(6),Me(r.message),x(5),Ut("Nominalizations Found - ",r.nominalizationsNumber," error(s)"),x(3),We("ngForOf",r.nominalizationsUserTable.find),x(2),We("ngForOf",r.nominalizationsUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:[".linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title[_ngcontent-%COMP%]{font-size:36px}.feedback[_ngcontent-%COMP%]{font-size:30px}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}"]}),n})()},{path:"home/fixes/sentences-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.academic=r,this.eggcorns=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Sentences-Fix",this.sentencesFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.sentencesUserTable={find:[],suggestion:[]};let t=this.getContent(),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.sentencesFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.sentencesService()}sentencesFix(t){let r,i,s;r="",i="",s="";let o=!1,a=0;for(let l=0;l<t.length;l++){if(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l])r+=t[l];else{for(const c in this.sentencesTable)r.includes(c)&&(i+=r,o=!0);r="",a++}!0===o&&(/[a-zA-Z]/.test(t[l])||"\u2019"===t[l]||"'"===t[l]||" "===t[l]?i+=t[l]:(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Potential Fragment \u27f6 "'+i+'..."'),this.highlight(i),this.sentences.changeSentencesUserTable(this.sentencesUserTable),o=!1,i="")),"!"===t[l]||"?"===t[l]||"."===t[l]?(a>50&&(this.sentences.changeSentencesNumber(this.sentencesNumber+1),this.sentencesUserTable.find.push('\u2022 Long Sentence \u27f6 "'+s+'..."'),this.highlight(s),this.sentences.changeSentencesUserTable(this.sentencesUserTable)),s="",a=0):s+=t[l]}this.sentencesScore=this.sentencesNumber/this.totalSentences*100,(NaN===this.sentencesScore||this.sentencesScore===1/0)&&(this.sentencesScore=0);try{if(this.sentencesScore>2?(this.sentencesFeedback="Hmmm. Your writing may have some sentence-level issues. Check the list below for potential fragments or run-ons.",this.sentencesAlertColor="red"):(this.sentencesFeedback="Bueno! Your sentences don't show any glaring errors.",this.sentencesAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(l){this.sentencesFeedback="Make sure you enter at least one sentence.",this.sentencesAlertColor="orange",this.sentencesScore=0}this.sentences.changeSentencesFeedback(this.sentencesFeedback),this.sentences.changeSentencesScore(Math.round(10*this.sentencesScore)/10),this.sentences.changeSentencesAlertColor(this.sentencesAlertColor)}sentencesService(){this.sentences.currentSentencesNumber.subscribe(t=>this.sentencesNumber=t),this.sentences.currentSentencesTable.subscribe(t=>this.sentencesTable=t),this.sentences.currentSentencesUserTable.subscribe(t=>this.sentencesUserTable=t),this.sentences.currentSentencesAlertColor.subscribe(t=>this.sentencesAlertColor=t),this.sentences.currentSentencesFeedback.subscribe(t=>this.sentencesFeedback=t),this.sentences.currentSentencesScore.subscribe(t=>this.sentencesScore=t)}highlight(t){var r=document.getElementById("userinput");r.innerHTML=r.innerHTML.replace(t,'<span style="background-color: #FF6363; font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Ji),w(Yi),w(Qi),w(Zi),w(Gi),w(Wi),w(Xi),w(Ki))},n.\u0275cmp=pt({type:n,selectors:[["app-sentences-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25,"Goal: 2% or less "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Sentences"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35," Highlight Errors "),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,Cle,2,1,"tr",21),p(),f(46,"td"),ct(47,Sle,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.sentencesAlertColor),x(2),on(" ",r.sentencesNumber," instances (",r.sentencesScore,"% of sentences) "),x(8),Me(r.sentencesFeedback),x(6),Me(r.message),x(5),Ut("Instances of Sentences Found - ",r.sentencesNumber," error(s)"),x(3),We("ngForOf",r.sentencesUserTable.find),x(2),We("ngForOf",r.sentencesUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:[".linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title[_ngcontent-%COMP%]{font-size:36px}.feedback[_ngcontent-%COMP%]{font-size:30px}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}"]}),n})()},{path:"home/fixes/eggcorns-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.eggcorns=r,this.academic=i,this.grammar=s,this.nominalizations=o,this.passivevoice=a,this.wordiness=l,this.sentences=c,this.transitions=u,this.title="Eggcorns-Fix",this.eggcornsFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.eggcorns.changeTotalEggcorns(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.eggcornsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.eggcornsFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.eggcornnsService()}eggcornsFix(t){console.log("eggcorns");for(const r in this.eggcornsTable)t.toLocaleLowerCase().includes(r)&&(this.eggcorns.changeTotalEggcorns(this.totalEggcorns+1),this.eggcornsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.eggcornsTable[r]),this.highlight(r),this.eggcorns.changeEggcornsUserTable(this.eggcornsUserTable));this.eggcornsScore=this.totalEggcorns/this.totalSentences*100;try{if(0==this.eggcornsScore?(this.eggcornsAlertColor="green",this.eggcornsFeedback="Great job! Your writing seems to have no Eggcorns."):this.eggcornsScore<=5?(this.eggcornsFeedback=" Good job, the number of Eggcorns words in your writing seems low",this.eggcornsAlertColor="orange"):this.eggcornsScore<=10?(this.eggcornsFeedback="Your writing seems to have a lot of eggcorns",this.eggcornsAlertColor="red"):(this.eggcornsFeedback="Your writing seems to have a many eggcorns. Make sure you're not using eggcorns",this.eggcornsAlertColor="red"),0===this.totalSentences)throw new Error("")}catch(r){this.eggcornsFeedback="Make sure you enter at least one sentence.",this.eggcornsAlertColor="orange",this.eggcornsScore=0}this.eggcorns.changeEggcornsScore(Math.round(this.eggcornsScore)),this.eggcorns.changeEggcornsFeedback(this.eggcornsFeedback),this.eggcorns.changeEggcornsAlertColor(this.eggcornsAlertColor)}eggcornnsService(){this.eggcorns.currentEggcornsAlertColor.subscribe(t=>this.eggcornsAlertColor=t),this.eggcorns.currentEggcornsFeedback.subscribe(t=>this.eggcornsFeedback=t),this.eggcorns.currentEggcornsScore.subscribe(t=>this.eggcornsScore=t),this.eggcorns.currentTotalEggcorns.subscribe(t=>this.totalEggcorns=t),this.eggcorns.currentEggcornsTable.subscribe(t=>this.eggcornsTable=t),this.eggcorns.currentEggcornsUserTable.subscribe(t=>this.eggcornsUserTable=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span style="background-color: #FF6363; font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Yi),w(Ji),w(Qi),w(Zi),w(Gi),w(Wi),w(Xi),w(Ki))},n.\u0275cmp=pt({type:n,selectors:[["app-eggcorns-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25,"Goal: 0 errors "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Eggcorns"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35,"Highlight Errors"),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,Tle,2,1,"tr",21),p(),f(46,"td"),ct(47,Ale,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.eggcornsAlertColor),x(2),on("",r.totalEggcorns," instances (",r.eggcornsScore,"% of sentences)"),x(8),Me(r.eggcornsFeedback),x(6),Me(r.message),x(5),Ut("Eggcorns Found - ",r.totalEggcorns," instance(s)"),x(3),We("ngForOf",r.eggcornsUserTable.find),x(2),We("ngForOf",r.eggcornsUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:['.linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:20px;font-family:"Times New Roman",Times,serif}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.title[_ngcontent-%COMP%]{font-size:36px}.feedback[_ngcontent-%COMP%]{font-size:30px}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}']}),n})()},{path:"home/fixes/transitions-fix",component:(()=>{class n{constructor(t,r,i,s,o,a,l,c,u){this.data=t,this.transitions=r,this.academic=i,this.eggcorns=s,this.grammar=o,this.nominalizations=a,this.passivevoice=l,this.wordiness=c,this.sentences=u,this.title="Tranistions-Fix",this.transitionsFeedback=" "}startOverClick(){this.data.changeMessage("")}getContent(){return document.getElementById("userinput").innerHTML}reHighlight(){this.data.changeTotalSentences(0),this.data.changeGrade(0),this.passivevoice.changePassiveVoiceNumber(0),this.wordiness.changeWordinessNumber(0),this.transitions.changeTotalTransitions(0),this.academic.changeTotalNonAcademic(0),this.grammar.changeTotalGrammar(0),this.eggcorns.changeTotalEggcorns(0),this.nominalizations.changeNominalizationsNumber(0),this.sentences.changeSentencesNumber(0),this.transitionsUserTable={find:[],suggestion:[]};let t=this.message.replace(/<\/?span[^>]*>/g,""),r=!1;if(/[a-zA-Z]/.test(t)&&(r=!0),""===t)alert("Please fill out the text area");else if(!1===r)alert("Please enter at least one letter");else{this.data.changeMessage(t);for(let s=0;s<t.length;s++)("."===t.charAt(s)||"!"===t.charAt(s)||"?"===t.charAt(s))&&this.data.changeTotalSentences(this.totalSentences+1);this.transitionsFix(t)}}ngOnInit(){this.data.currentMessage.subscribe(t=>this.message=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentTotalSentences.subscribe(t=>this.totalSentences=t),this.data.currentGradeAlertColor.subscribe(t=>this.gradeAlertColor=t),this.data.currentGradeFeedback.subscribe(t=>this.gradeFeedback=t),this.transitionsService()}transitionsFix(t){for(const r in this.transitionsTable.__zone_symbol__value)t.toLocaleLowerCase().includes(r)&&(this.transitions.changeTotalTransitions(this.totalTransitions+1),this.transitionsUserTable.find.push("\u2022 "+r+" \u27f6 "+this.transitionsTable.__zone_symbol__value[r]),this.transitions.changeTransitionsUserTable(this.transitionsUserTable),this.highlight(r));this.transitionsScore=this.totalTransitions/this.totalSentences*100,(isNaN(this.transitionsScore)||this.transitionsScore===1/0)&&(this.transitionsScore=0);try{if(0==this.transitionsScore?(this.transitionsAlertColor="red",this.transitionsFeedback="Your writing seems to have no transition word"):this.transitionsScore<=10?(this.transitionsFeedback="The number of transition words in your writing seems low",this.transitionsAlertColor="orange"):this.transitionsScore<=80?(this.transitionsFeedback="Woot! Your writing seems to have a good proportion of transitions",this.transitionsAlertColor="green"):(this.transitionsFeedback="Woot! Your writing seems to have a lot of transitions. Make sure you're not overusing transition words",this.transitionsAlertColor="green"),0===this.totalSentences)throw new Error("")}catch(r){this.transitionsFeedback="Make sure you enter at least one sentence.",this.transitionsAlertColor="orange",this.transitionsScore=0}this.transitions.changeTransitionsScore(Math.round(10*this.transitionsScore)/10),this.transitions.changeTransitionsFeedback(this.transitionsFeedback),this.transitions.changeTransitionsAlertColor(this.transitionsAlertColor)}transitionsService(){this.transitions.currentTransitionsAlertColor.subscribe(t=>this.transitionsAlertColor=t),this.transitions.currentTransitionsFeedback.subscribe(t=>this.transitionsFeedback=t),this.transitions.currentTotalTransitions.subscribe(t=>this.totalTransitions=t),this.transitions.currentTransitionsTable.subscribe(t=>this.transitionsTable=t),this.transitions.currentTransitionsUserTable.subscribe(t=>this.transitionsUserTable=t),this.transitions.currentTransitionsScore.subscribe(t=>this.transitionsScore=t)}highlight(t){var r=document.getElementById("userinput");let i=new RegExp(`\\b${t}\\b`,"gi");r.innerHTML=r.innerHTML.replace(i,'<span style="background-color: #FF6363; padding: 0.1em, 0.2em ;font-family: Georgia;" >'+t+" </span>")}}return n.\u0275fac=function(t){return new(t||n)(w(Bi),w(Ki),w(Ji),w(Yi),w(Qi),w(Zi),w(Gi),w(Wi),w(Xi))},n.\u0275cmp=pt({type:n,selectors:[["app-transitions-fix"]],decls:48,vars:9,consts:[["color","white",1,"navbar"],["routerLink","../../overview",1,"linkedpages"],["routerLink","../passive-voice-fix",1,"linkedpages"],["routerLink","../wordiness-fix",1,"linkedpages"],["routerLink","../academic-style-fix",1,"linkedpages"],["routerLink","../grammar-fix",1,"linkedpages"],["routerLink","../nominalizations-fix",1,"linkedpages"],["routerLink","../sentences-fix",1,"linkedpages"],["routerLink","../eggcorns-fix",1,"linkedpages"],["routerLink","../transitions-fix",1,"linkedpages"],["routerLink","",1,"linkedpages",3,"click"],[1,"alert-box"],[1,"box"],["color","white",1,"category"],[1,"title"],[1,"description"],[1,"column1"],[1,"rehighlight",3,"click"],["id","userinput","name","userinput"],[1,"column2"],[1,"feedback"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"a",1),y(2,"Overview"),p(),f(3,"a",2),y(4,"Passive Voice"),p(),f(5,"a",3),y(6,"Wordiness"),p(),f(7,"a",4),y(8,"Academic Style"),p(),f(9,"a",5),y(10,"Grammar"),p(),f(11,"a",6),y(12,"Nominalizations"),p(),f(13,"a",7),y(14,"Sentences"),p(),f(15,"a",8),y(16,"Eggcorns"),p(),f(17,"a",9),y(18,"Transitions"),p(),f(19,"a",10),Ue("click",function(){return r.startOverClick()}),y(20,"Start Over"),p(),p(),f(21,"div",11),f(22,"h5",12),y(23),p(),f(24,"b",12),y(25,"Goal: 10% or more "),p(),p(),f(26,"mat-toolbar",13),f(27,"mat-toolbar-row",14),f(28,"b"),y(29,"Transitions"),p(),p(),f(30,"mat-toolbar-row",15),y(31),p(),p(),f(32,"div"),f(33,"div",16),f(34,"button",17),Ue("click",function(){return r.reHighlight()}),y(35," Highlight Errors "),p(),f(36,"p",18),y(37),p(),Jt(38,"br"),p(),f(39,"div",19),f(40,"h1",20),f(41,"b"),y(42),p(),p(),f(43,"table"),f(44,"td"),ct(45,xle,2,1,"tr",21),p(),f(46,"td"),ct(47,Ile,2,1,"tr",21),p(),p(),p(),p()),2&t&&(x(21),sn("background-color",r.transitionsAlertColor),x(2),on(" ",r.totalTransitions," instances (",r.transitionsScore,"% of sentences) "),x(8),Me(r.transitionsFeedback),x(6),Me(r.message),x(5),Ut("Transitions Found - ",r.totalTransitions," instance(s)"),x(3),We("ngForOf",r.transitionsUserTable.find),x(2),We("ngForOf",r.transitionsUserTable.suggestion))},directives:[ns,cn,Fs,Er],styles:[".linkedpages[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;border-left:black groove;border-right:black groove;width:10%;text-align:center;color:#000;font-size:16px}.navbar[_ngcontent-%COMP%]{margin:0;padding:0}.category[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px}.title[_ngcontent-%COMP%]{font-size:36px}.description[_ngcontent-%COMP%]{font-size:20px}.column1[_ngcontent-%COMP%]{float:left;width:65%;padding-left:20px}.column2[_ngcontent-%COMP%]{float:left;width:30.5%;background-color:#fff;padding:20px}#userinput[_ngcontent-%COMP%]{height:300px;min-height:100px;width:96.5%;resize:none;border-width:thick;padding:5px;font-size:14px}.rehighlight[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#409e7f;color:#000;width:300px;height:50px;border-radius:14px;font-size:17px;font-weight:bold;display:table-cell}.rehighlight[_ngcontent-%COMP%]:hover{background-color:#00704a;border-color:#fff;color:#fff}.feedback[_ngcontent-%COMP%]{font-size:30px}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#9ca6a6;border-radius:10px;color:#fff}.alert-box[_ngcontent-%COMP%]{background-color:#e72121;min-width:300px;margin-left:850px;text-align:left;margin-bottom:-92px;padding:10px;position:relative;border-radius:10px;margin-top:20px}td[_ngcontent-%COMP%]{padding-right:10px}.box[_ngcontent-%COMP%]{font-size:20px}"]}),n})()}];let Nle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n}),n.\u0275inj=it({imports:[[zO.forRoot(Mle,{relativeLinkResolution:"legacy"})],zO]}),n})(),Ole=(()=>{class n{constructor(){this.title="Grammark"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pt({type:n,selectors:[["app-root"]],decls:19,vars:0,consts:[["color","primary",1,"navbar"],["routerLink","",1,"grammark"],[1,"linksHighlight"],["routerLink","",1,"linkedpages"],["routerLink","about",1,"linkedpages"],["href","https://github.com/markfullmer/grammark",1,"linkedpages"],["routerLink","download",1,"linkedpages"],["routerLink","resources",1,"linkedpages"]],template:function(t,r){1&t&&(f(0,"mat-toolbar",0),f(1,"div"),f(2,"a",1),f(3,"h1"),y(4,"Grammark 3.0 Project CLAWS:"),p(),f(5,"h3"),y(6,"Concise Language and Academic Writing Suggestions"),p(),p(),p(),f(7,"div",2),f(8,"a",3),y(9,"Home"),p(),f(10,"a",4),y(11,"About"),p(),f(12,"a",5),y(13,"Source Code"),p(),f(14,"a",6),y(15,"Download"),p(),f(16,"a",7),y(17,"Resources"),p(),p(),p(),Jt(18,"router-outlet"))},directives:[ns,cn,Uv],styles:[".mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#00704a;color:#fff;border-left:black groove;border-right:black groove;height:85px}.navbar[_ngcontent-%COMP%]{justify-content:space-between}.highlight[_ngcontent-%COMP%]{background-color:#eef43b}.grammark[_ngcontent-%COMP%]{font-size:90px;font-weight:900;color:#85c446;-webkit-text-stroke-width:.25px;-webkit-text-stroke-color:#000000}.grammark[_ngcontent-%COMP%]:hover{color:#409e7f}.grammark[_ngcontent-%COMP%]:active{text-decoration:none}.linkedpages[_ngcontent-%COMP%]{color:#000;text-decoration:none;border-left:black groove;display:inline-block;width:135px;text-align:center}.linkedpages[_ngcontent-%COMP%]:hover{background-color:#409e7f;border-radius:10px;color:#fff}.linksHighlight[_ngcontent-%COMP%]{-webkit-text-stroke-width:.25px;-webkit-text-stroke-color:#ffffff}a[_ngcontent-%COMP%]:active{color:#00f}"]}),n})();const Fle=[ole];let Ple=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=gt({type:n,bootstrap:[Ole]}),n.\u0275inj=it({providers:[],imports:[[Qw,Nle,g9,Fle,mae]]}),n})();(function(){if(xI)throw new Error("Cannot enable prod mode after platform setup.");kI=!1})(),fK().bootstrapModule(Ple).catch(n=>console.error(n))}},ht=>{ht(ht.s=36)}]);